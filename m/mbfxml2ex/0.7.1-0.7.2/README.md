# Comparing `tmp/mbfxml2ex-0.7.1-py3-none-any.whl.zip` & `tmp/mbfxml2ex-0.7.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,17 @@
-Zip file size: 19804 bytes, number of entries: 15
--rw-r--r--  2.0 unx       22 b- defN 24-Mar-08 04:41 mbfxml2ex/__init__.py
--rw-r--r--  2.0 unx     4582 b- defN 24-Mar-08 04:41 mbfxml2ex/app.py
--rw-r--r--  2.0 unx    14678 b- defN 24-Mar-08 04:41 mbfxml2ex/classes.py
--rw-r--r--  2.0 unx      396 b- defN 24-Mar-08 04:41 mbfxml2ex/conversions.py
--rw-r--r--  2.0 unx      279 b- defN 24-Mar-08 04:41 mbfxml2ex/exceptions.py
--rw-r--r--  2.0 unx    13103 b- defN 24-Mar-08 04:41 mbfxml2ex/parsers.py
--rw-r--r--  2.0 unx     4528 b- defN 24-Mar-08 04:41 mbfxml2ex/templates.py
--rw-r--r--  2.0 unx      967 b- defN 24-Mar-08 04:41 mbfxml2ex/utilities.py
--rw-r--r--  2.0 unx    18163 b- defN 24-Mar-08 04:41 mbfxml2ex/zinc.py
--rw-r--r--  2.0 unx    11357 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     1689 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       58 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       10 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1190 b- defN 24-Mar-08 04:41 mbfxml2ex-0.7.1.dist-info/RECORD
-15 files, 71114 bytes uncompressed, 17850 bytes compressed:  74.9%
+Zip file size: 19902 bytes, number of entries: 15
+-rw-r--r--  2.0 unx       22 b- defN 24-May-22 02:45 mbfxml2ex/__init__.py
+-rw-r--r--  2.0 unx     4582 b- defN 24-May-22 02:45 mbfxml2ex/app.py
+-rw-r--r--  2.0 unx    14819 b- defN 24-May-22 02:45 mbfxml2ex/classes.py
+-rw-r--r--  2.0 unx      396 b- defN 24-May-22 02:45 mbfxml2ex/conversions.py
+-rw-r--r--  2.0 unx      279 b- defN 24-May-22 02:45 mbfxml2ex/exceptions.py
+-rw-r--r--  2.0 unx    13233 b- defN 24-May-22 02:45 mbfxml2ex/parsers.py
+-rw-r--r--  2.0 unx     4528 b- defN 24-May-22 02:45 mbfxml2ex/templates.py
+-rw-r--r--  2.0 unx      967 b- defN 24-May-22 02:45 mbfxml2ex/utilities.py
+-rw-r--r--  2.0 unx    18508 b- defN 24-May-22 02:45 mbfxml2ex/zinc.py
+-rw-r--r--  2.0 unx    11357 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1689 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       58 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       10 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1190 b- defN 24-May-22 02:45 mbfxml2ex-0.7.2.dist-info/RECORD
+15 files, 71730 bytes uncompressed, 17948 bytes compressed:  75.0%
```

## zipnote {}

```diff
@@ -21,26 +21,26 @@
 
 Filename: mbfxml2ex/utilities.py
 Comment: 
 
 Filename: mbfxml2ex/zinc.py
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/LICENSE
+Filename: mbfxml2ex-0.7.2.dist-info/LICENSE
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/METADATA
+Filename: mbfxml2ex-0.7.2.dist-info/METADATA
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/WHEEL
+Filename: mbfxml2ex-0.7.2.dist-info/WHEEL
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/entry_points.txt
+Filename: mbfxml2ex-0.7.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/top_level.txt
+Filename: mbfxml2ex-0.7.2.dist-info/top_level.txt
 Comment: 
 
-Filename: mbfxml2ex-0.7.1.dist-info/RECORD
+Filename: mbfxml2ex-0.7.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mbfxml2ex/__init__.py

```diff
@@ -1 +1 @@
-__version__ = "0.7.1"
+__version__ = "0.7.2"
```

## mbfxml2ex/classes.py

```diff
@@ -189,21 +189,25 @@
         super(MBFPropertyText, self).__init__(version)
         self._label = label
 
     def label(self):
         return self._label
 
 
-class MBFPropertySet(MBFPropertyText):
+class MBFPropertySet(MBFProperty):
 
-    def __init__(self, label):
-        super(MBFPropertySet, self).__init__(label)
+    def __init__(self, items):
+        super(MBFPropertySet, self).__init__(-1.0)
+        self._items = items
+
+    def items(self):
+        return self._items
 
     def __repr__(self):
-        return 'Set "{0}"'.format(self._label)
+        return 'Set: "{0}"'.format(', '.join(self._items))
 
 
 class MBFPropertyTraceAssociation(MBFPropertyText):
 
     def __init__(self, label):
         super(MBFPropertyTraceAssociation, self).__init__(label)
 
@@ -326,15 +330,14 @@
 
     def point_properties(self):
         return _determine_point_properties(self._structure)
 
 
 def _determine_point_properties(structure, inherited_properties=None):
 
-    print('determine point properties')
     properties = []
     current_properties = []
     current_inherited_properties = [] if inherited_properties is None else inherited_properties[:]
     if 'properties' in structure:
         current_inherited_properties.extend(_get_inherited_properties(structure['properties']))
         current_properties = get_text_properties(structure['properties'])
 
@@ -344,15 +347,14 @@
 
     for item in structure['points']:
         if type(item) is dict:
             properties.extend(_determine_point_properties(item, current_inherited_properties))
         else:
             properties.append(current_properties)
 
-    print('end properties:', properties)
     return properties
 
 
 def _retrieve_points(structure):
     points = []
     for item in structure['points']:
         if type(item) is dict:
@@ -490,18 +492,20 @@
 
 
 def get_text_properties(properties):
     text_properties = []
     for property_ in properties:
         if isinstance(property_, MBFPropertyText) and property_.label():
             text_properties.append(property_.label())
+        elif isinstance(property_, MBFPropertySet) and len(property_.items()):
+            text_properties.extend(property_.items())
 
     return text_properties
 
 
 def _get_inherited_properties(properties):
     inherited_properties = []
     for property_ in properties:
-        if isinstance(property_, MBFPropertySet) and property_.label():
-            inherited_properties.append(property_.label())
+        if isinstance(property_, MBFPropertySet) and len(property_.items()):
+            inherited_properties.extend(property_.items())
 
     return inherited_properties
```

## mbfxml2ex/parsers.py

```diff
@@ -24,20 +24,18 @@
 
 def parse_tree(tree_root):
     colour = tree_root.attrib['color']
     type_ = tree_root.attrib['type']
     leaf = tree_root.attrib['leaf']
     structure = _parse_tree_structure(tree_root)
     properties = []
-    print('parse tree.')
     for child in tree_root:
         raw_tag = get_raw_tag(child)
         if raw_tag == "property":
             properties.append(parse_property(child))
-            print(properties)
 
     return MBFTree(colour, type_, leaf, structure, properties)
 
 
 def parse_contour(contour_root):
     contour = {'colour': contour_root.attrib['color'],
                'rgb': hex_to_rgb(contour_root.attrib['color']),
@@ -90,25 +88,25 @@
     flag_2d = float("".join(children[5].itertext()))
     volume = float("".join(children[6].itertext()))
     # type_ = float("".join(children[7].itertext()))
     location = float("".join(children[8].itertext()))
     colocalized_fraction = float("".join(children[9].itertext()))
     proximal_fraction = float("".join(children[10].itertext()))
     return spread, mean_luminance, surface_area, voxel_count, flag_2d, \
-           volume, location, colocalized_fraction, proximal_fraction
+        volume, location, colocalized_fraction, proximal_fraction
 
 
 def parse_punctum_property(property_root):
     children = list(property_root)
     if len(children) > 0:
         version_element = children[0]
         version = float("".join(version_element.itertext()))
         if version == 4:
             spread, mean_luminance, surface_area, voxel_count, flag_2d, \
-            volume, location, colocalized_fraction, proximal_fraction = parse_punctum_property_version_4(children)
+                volume, location, colocalized_fraction, proximal_fraction = parse_punctum_property_version_4(children)
         else:
             raise MBFXMLException("XML format violation punctum property has unknown version '{0}'.".format(version))
     else:
         raise MBFXMLException("XML format violation punctum property has no children.")
 
     return MBFPropertyPunctum(version, spread, mean_luminance, surface_area, voxel_count, flag_2d,
                               volume, location, colocalized_fraction, proximal_fraction)
@@ -146,15 +144,19 @@
     else:
         raise MBFXMLException("XML format violation text property has no children.")
 
     return text
 
 
 def parse_set_property(property_root):
-    return MBFPropertySet(_property_text(property_root))
+    items = []
+    for child in property_root:
+        items.append(child.text)
+
+    return MBFPropertySet(items)
 
 
 def parse_trace_association_property(property_root):
     return MBFPropertyTraceAssociation(_property_text(property_root))
 
 
 def parse_guid_property(property_root):
@@ -348,30 +350,35 @@
             raise MBFXMLException("XML format violation unknown tag '{0}'.".format(raw_tag))
 
     return edgelists
 
 
 def parse_vessel(vessel_root):
     version = int(vessel_root.attrib['version'])
-    vessel = {'version': version,
-              'colour': vessel_root.attrib['color'],
-              'rgb': hex_to_rgb(vessel_root.attrib['color']),
-              'type': vessel_root.attrib['type'],
-              'name': vessel_root.attrib['name'] if version < 4 else vessel_root.attrib['class'], }
+    vessel = {
+        'version': version,
+        'colour': vessel_root.attrib['color'],
+        'rgb': hex_to_rgb(vessel_root.attrib['color']),
+        'type': vessel_root.attrib['type'],
+        'properties': [],
+        'name': vessel_root.attrib['name'] if version < 4 else vessel_root.attrib['class'],
+    }
 
     for child in vessel_root:
         raw_tag = get_raw_tag(child)
         if raw_tag == "nodes":
             vessel['nodes'] = parse_nodes(child)
         elif raw_tag == "edges":
             vessel['edges'] = parse_edges(child)
         elif raw_tag == "edgelists":
             vessel['edgelists'] = parse_edgelists(child)
+        elif raw_tag == "property":
+            vessel['properties'].append(parse_property(child))
         else:
-            print('Unhandled tag: ', raw_tag)
+            print(f"Unhandled tag in vessel: '{raw_tag}'")
 
     return vessel
 
 
 def _create_mbf_point(child):
     return MBFPoint(float(child.attrib['x']),
                     float(child.attrib['y']),
```

## mbfxml2ex/zinc.py

```diff
@@ -209,15 +209,17 @@
                     elif missing_values > 0:
                         field_values.extend([0.0] * missing_values)
 
                     punctum_datum = {"dimension": 3, "voxel_counts": voxel_counts, "total_voxels": total_voxels,
                                      "origin": volume_rle.origin(), "values": field_values,
                                      "corners": volume_rle.corner_coordinates()}
                     if set_name is not None:
-                        punctum_datum["set_name"] = set_name.label()
+                        items = set_name.items()
+                        if len(items) == 1:
+                           punctum_datum["set_name"] = items[0]
 
                     punctum_data.append(punctum_datum)
             else:
                 raise MBFDataException("Missing at least some of the required data for outputting punctum.")
         else:
             node_identifiers = create_nodes(field_module, marker['data'], node_set_name='datapoints')
             field_info = {'rgb': marker['rgb']}
@@ -243,14 +245,20 @@
         connectivity, associated_groups, groups = determine_vessel_connectivity(vessel)
         node_locations = extract_vessel_node_locations(vessel)
         node_identifiers = create_nodes(field_module, node_locations)
         field_info = {'rgb': vessel['rgb']}
         merge_fields_with_nodes(field_module, node_identifiers, field_info)
         element_ids = create_elements(field_module, connectivity, field_names=['coordinates', 'radius', 'rgb'])
 
+        groups.append({})
+        for property_ in vessel['properties']:
+            if type(property_) is MBFPropertyTraceAssociation:
+                groups[-1]['TraceAssociation'] = property_.label()
+                groups[-1]['elements'] = element_ids
+
         for index, associated_group in enumerate(associated_groups):
             element_id = element_ids[index]
             current_group = groups[associated_group]
             if 'elements' in current_group:
                 current_group['elements'].append(element_id)
             else:
                 current_group['elements'] = [element_id]
```

## Comparing `mbfxml2ex-0.7.1.dist-info/LICENSE` & `mbfxml2ex-0.7.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mbfxml2ex-0.7.1.dist-info/METADATA` & `mbfxml2ex-0.7.2.dist-info/METADATA`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mbfxml2ex
-Version: 0.7.1
+Version: 0.7.2
 Summary: Python client for generating Ex format model descriptions from MBF XML.
 Home-page: https://github.com/ABI-Software/mbfxml2ex
 Download-URL: 
 Author: Auckland Bioengineering Institute
 Author-email: h.sorby@auckland.ac.nz
 License: Apache Software License
 Keywords: MBF CMLibs Zinc
```

