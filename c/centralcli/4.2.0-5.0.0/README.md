# Comparing `tmp/centralcli-4.2.0.tar.gz` & `tmp/centralcli-5.0.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "centralcli-4.2.0.tar", max compression
+gzip compressed data, was "centralcli-5.0.0.tar", max compression
```

## Comparing `centralcli-4.2.0.tar` & `centralcli-5.0.0.tar`

### file list

```diff
@@ -1,57 +1,58 @@
--rw-r--r--   0        0        0     1067 2023-08-30 16:01:18.948011 centralcli-4.2.0/LICENSE
--rw-r--r--   0        0        0    12115 2023-08-30 16:01:34.228021 centralcli-4.2.0/README.md
--rw-r--r--   0        0        0     5728 2024-05-09 16:23:40.007449 centralcli-4.2.0/centralcli/__init__.py
--rw-r--r--   0        0        0     1265 2023-09-08 18:43:03.749878 centralcli-4.2.0/centralcli/boilerplate/README.md
--rw-r--r--   0        0        0  1156267 2024-04-29 18:10:27.449618 centralcli-4.2.0/centralcli/boilerplate/allcalls.py
--rw-r--r--   0        0        0    11951 2024-05-05 02:42:27.903512 centralcli-4.2.0/centralcli/caas.py
--rw-r--r--   0        0        0   109717 2024-05-09 20:13:14.955572 centralcli-4.2.0/centralcli/cache.py
--rw-r--r--   0        0        0   211209 2024-05-09 20:00:17.513249 centralcli-4.2.0/centralcli/central.py
--rw-r--r--   0        0        0    51812 2024-05-08 17:23:52.995416 centralcli-4.2.0/centralcli/cleaner.py
--rw-r--r--   0        0        0    46648 2024-05-09 16:32:11.607393 centralcli-4.2.0/centralcli/cli.py
--rw-r--r--   0        0        0    28918 2024-05-09 15:55:08.805441 centralcli-4.2.0/centralcli/cliadd.py
--rw-r--r--   0        0        0     5388 2024-04-29 15:32:55.074272 centralcli-4.2.0/centralcli/cliassign.py
--rw-r--r--   0        0        0    98341 2024-05-09 21:38:30.883622 centralcli-4.2.0/centralcli/clibatch.py
--rw-r--r--   0        0        0    17190 2024-04-30 19:53:43.301938 centralcli-4.2.0/centralcli/clicaas.py
--rw-r--r--   0        0        0     2995 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/cliclone.py
--rw-r--r--   0        0        0    26643 2024-05-09 15:07:59.062950 centralcli-4.2.0/centralcli/clicommon.py
--rw-r--r--   0        0        0    25379 2024-05-09 15:50:25.995104 centralcli-4.2.0/centralcli/clidel.py
--rw-r--r--   0        0        0     3249 2024-04-23 01:56:25.646381 centralcli-4.2.0/centralcli/clidelfirmware.py
--rw-r--r--   0        0        0     1800 2024-05-09 15:55:27.695458 centralcli-4.2.0/centralcli/cliexport.py
--rw-r--r--   0        0        0     4765 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/clikick.py
--rw-r--r--   0        0        0      453 2024-05-01 03:52:02.285371 centralcli-4.2.0/centralcli/clioptions.py
--rw-r--r--   0        0        0     5608 2024-04-29 16:14:15.397597 centralcli-4.2.0/centralcli/clirefresh.py
--rw-r--r--   0        0        0     5316 2024-04-30 21:44:22.507322 centralcli-4.2.0/centralcli/clirename.py
--rw-r--r--   0        0        0      712 2024-04-22 23:50:21.991969 centralcli-4.2.0/centralcli/cliset.py
--rw-r--r--   0        0        0     3624 2024-04-23 01:57:48.666559 centralcli-4.2.0/centralcli/clisetfirmware.py
--rw-r--r--   0        0        0   148227 2024-05-09 20:16:09.516084 centralcli-4.2.0/centralcli/clishow.py
--rw-r--r--   0        0        0     8253 2024-05-01 05:18:45.977716 centralcli-4.2.0/centralcli/clishowaudit.py
--rw-r--r--   0        0        0     3943 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/clishowbranch.py
--rw-r--r--   0        0        0     3156 2024-05-08 18:17:55.345631 centralcli-4.2.0/centralcli/clishowcloudauth.py
--rw-r--r--   0        0        0     7334 2024-04-23 02:03:29.597164 centralcli-4.2.0/centralcli/clishowfirmware.py
--rw-r--r--   0        0        0    12980 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/clishowospf.py
--rw-r--r--   0        0        0    10809 2024-04-22 23:42:36.251725 centralcli-4.2.0/centralcli/clishowoverlay.py
--rw-r--r--   0        0        0     4956 2024-04-24 18:44:09.045709 centralcli-4.2.0/centralcli/clishowtshoot.py
--rw-r--r--   0        0        0    21550 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/clishowwids.py
--rw-r--r--   0        0        0     8451 2024-04-29 13:56:13.138575 centralcli-4.2.0/centralcli/clitest.py
--rw-r--r--   0        0        0    21332 2024-05-01 15:09:36.722859 centralcli-4.2.0/centralcli/clitshoot.py
--rw-r--r--   0        0        0     5888 2023-10-17 20:00:18.020614 centralcli-4.2.0/centralcli/cliunassign.py
--rw-r--r--   0        0        0    24517 2024-05-09 15:12:16.482928 centralcli-4.2.0/centralcli/cliupdate.py
--rw-r--r--   0        0        0     8998 2024-02-07 17:51:24.043436 centralcli-4.2.0/centralcli/cliupgrade.py
--rw-r--r--   0        0        0    26571 2024-05-02 03:49:32.619229 centralcli-4.2.0/centralcli/config.py
--rw-r--r--   0        0        0    40102 2024-05-08 18:04:16.194277 centralcli-4.2.0/centralcli/constants.py
--rw-r--r--   0        0        0      487 2024-04-23 00:38:18.706030 centralcli-4.2.0/centralcli/exceptions.py
--rw-r--r--   0        0        0     7184 2024-05-08 20:35:20.947405 centralcli-4.2.0/centralcli/logger.py
--rw-r--r--   0        0        0    18398 2024-05-08 21:08:19.211607 centralcli-4.2.0/centralcli/models.py
--rw-r--r--   0        0        0     3488 2023-10-26 00:01:09.236218 centralcli-4.2.0/centralcli/objects.py
--rw-r--r--   0        0        0    17560 2024-04-30 20:29:48.706127 centralcli-4.2.0/centralcli/render.py
--rw-r--r--   0        0        0    42257 2024-05-08 17:34:46.637129 centralcli-4.2.0/centralcli/response.py
--rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-4.2.0/centralcli/setup.py
--rw-r--r--   0        0        0     1150 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/static/favicon.ico
--rw-r--r--   0        0        0    14655 2023-10-10 17:46:32.627231 centralcli-4.2.0/centralcli/strings.py
--rw-r--r--   0        0        0    31087 2024-04-29 16:57:02.014690 centralcli-4.2.0/centralcli/utils.py
--rw-r--r--   0        0        0     5407 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/vscodeargs.py
--rw-r--r--   0        0        0    15335 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/wh2snow.py
--rw-r--r--   0        0        0    16108 2023-11-17 17:52:25.095728 centralcli-4.2.0/centralcli/wh_proxy.py
--rw-r--r--   0        0        0      393 2023-08-30 16:01:18.958011 centralcli-4.2.0/centralcli/wh_proxy_service.py
--rw-r--r--   0        0        0     2256 2024-05-09 21:41:34.326606 centralcli-4.2.0/pyproject.toml
--rw-r--r--   0        0        0    14176 1970-01-01 00:00:00.000000 centralcli-4.2.0/PKG-INFO
+-rw-r--r--   0        0        0     1067 2023-08-30 16:01:18.948011 centralcli-5.0.0/LICENSE
+-rw-r--r--   0        0        0    12115 2023-08-30 16:01:34.228021 centralcli-5.0.0/README.md
+-rw-r--r--   0        0        0     5728 2024-05-09 16:23:40.007449 centralcli-5.0.0/centralcli/__init__.py
+-rw-r--r--   0        0        0     1265 2023-09-08 18:43:03.749878 centralcli-5.0.0/centralcli/boilerplate/README.md
+-rw-r--r--   0        0        0  1156267 2024-05-14 22:05:46.978274 centralcli-5.0.0/centralcli/boilerplate/allcalls.py
+-rw-r--r--   0        0        0    11951 2024-05-05 02:42:27.903512 centralcli-5.0.0/centralcli/caas.py
+-rw-r--r--   0        0        0   119848 2024-05-22 05:46:59.633976 centralcli-5.0.0/centralcli/cache.py
+-rw-r--r--   0        0        0   223765 2024-05-21 15:57:32.608161 centralcli-5.0.0/centralcli/central.py
+-rw-r--r--   0        0        0    60186 2024-05-21 21:30:40.222990 centralcli-5.0.0/centralcli/cleaner.py
+-rw-r--r--   0        0        0    47378 2024-05-16 22:07:24.060368 centralcli-5.0.0/centralcli/cli.py
+-rw-r--r--   0        0        0    29011 2024-05-13 14:28:13.658447 centralcli-5.0.0/centralcli/cliadd.py
+-rw-r--r--   0        0        0     5388 2024-04-29 15:32:55.074272 centralcli-5.0.0/centralcli/cliassign.py
+-rw-r--r--   0        0        0   100595 2024-05-21 03:28:12.531138 centralcli-5.0.0/centralcli/clibatch.py
+-rw-r--r--   0        0        0    17190 2024-04-30 19:53:43.301938 centralcli-5.0.0/centralcli/clicaas.py
+-rw-r--r--   0        0        0     2995 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/cliclone.py
+-rw-r--r--   0        0        0    27093 2024-05-17 03:06:34.436222 centralcli-5.0.0/centralcli/clicommon.py
+-rw-r--r--   0        0        0    25379 2024-05-09 15:50:25.995104 centralcli-5.0.0/centralcli/clidel.py
+-rw-r--r--   0        0        0     3249 2024-04-23 01:56:25.646381 centralcli-5.0.0/centralcli/clidelfirmware.py
+-rw-r--r--   0        0        0     1800 2024-05-21 03:46:04.962340 centralcli-5.0.0/centralcli/cliexport.py
+-rw-r--r--   0        0        0     4765 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/clikick.py
+-rw-r--r--   0        0        0      453 2024-05-01 03:52:02.285371 centralcli-5.0.0/centralcli/clioptions.py
+-rw-r--r--   0        0        0     5608 2024-04-29 16:14:15.397597 centralcli-5.0.0/centralcli/clirefresh.py
+-rw-r--r--   0        0        0     5316 2024-04-30 21:44:22.507322 centralcli-5.0.0/centralcli/clirename.py
+-rw-r--r--   0        0        0      712 2024-04-22 23:50:21.991969 centralcli-5.0.0/centralcli/cliset.py
+-rw-r--r--   0        0        0     3624 2024-04-23 01:57:48.666559 centralcli-5.0.0/centralcli/clisetfirmware.py
+-rw-r--r--   0        0        0   161485 2024-05-22 05:44:01.033732 centralcli-5.0.0/centralcli/clishow.py
+-rw-r--r--   0        0        0     8253 2024-05-01 05:18:45.977716 centralcli-5.0.0/centralcli/clishowaudit.py
+-rw-r--r--   0        0        0     3943 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/clishowbranch.py
+-rw-r--r--   0        0        0     5377 2024-05-21 02:55:20.859375 centralcli-5.0.0/centralcli/clishowcloudauth.py
+-rw-r--r--   0        0        0     7356 2024-05-16 00:21:38.288411 centralcli-5.0.0/centralcli/clishowfirmware.py
+-rw-r--r--   0        0        0     6273 2024-05-21 16:39:45.228432 centralcli-5.0.0/centralcli/clishowmpsk.py
+-rw-r--r--   0        0        0    12980 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/clishowospf.py
+-rw-r--r--   0        0        0    10809 2024-04-22 23:42:36.251725 centralcli-5.0.0/centralcli/clishowoverlay.py
+-rw-r--r--   0        0        0     4956 2024-04-24 18:44:09.045709 centralcli-5.0.0/centralcli/clishowtshoot.py
+-rw-r--r--   0        0        0    21550 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/clishowwids.py
+-rw-r--r--   0        0        0     8451 2024-04-29 13:56:13.138575 centralcli-5.0.0/centralcli/clitest.py
+-rw-r--r--   0        0        0    21213 2024-05-22 05:12:36.481093 centralcli-5.0.0/centralcli/clitshoot.py
+-rw-r--r--   0        0        0     5888 2023-10-17 20:00:18.020614 centralcli-5.0.0/centralcli/cliunassign.py
+-rw-r--r--   0        0        0    24517 2024-05-09 15:12:16.482928 centralcli-5.0.0/centralcli/cliupdate.py
+-rw-r--r--   0        0        0     9005 2024-05-16 00:24:57.059018 centralcli-5.0.0/centralcli/cliupgrade.py
+-rw-r--r--   0        0        0    26011 2024-05-22 00:32:11.959887 centralcli-5.0.0/centralcli/config.py
+-rw-r--r--   0        0        0    41189 2024-05-21 15:42:11.777045 centralcli-5.0.0/centralcli/constants.py
+-rw-r--r--   0        0        0      487 2024-04-23 00:38:18.706030 centralcli-5.0.0/centralcli/exceptions.py
+-rw-r--r--   0        0        0     7253 2024-05-11 04:41:47.617937 centralcli-5.0.0/centralcli/logger.py
+-rw-r--r--   0        0        0    19371 2024-05-21 14:06:48.814985 centralcli-5.0.0/centralcli/models.py
+-rw-r--r--   0        0        0     3488 2023-10-26 00:01:09.236218 centralcli-5.0.0/centralcli/objects.py
+-rw-r--r--   0        0        0    18371 2024-05-21 21:57:27.529879 centralcli-5.0.0/centralcli/render.py
+-rw-r--r--   0        0        0    42257 2024-05-20 21:53:27.311619 centralcli-5.0.0/centralcli/response.py
+-rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-5.0.0/centralcli/setup.py
+-rw-r--r--   0        0        0     1150 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/static/favicon.ico
+-rw-r--r--   0        0        0    15720 2024-05-21 03:27:38.321124 centralcli-5.0.0/centralcli/strings.py
+-rw-r--r--   0        0        0    32263 2024-05-16 22:03:20.378955 centralcli-5.0.0/centralcli/utils.py
+-rw-r--r--   0        0        0     5407 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/vscodeargs.py
+-rw-r--r--   0        0        0    15335 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/wh2snow.py
+-rw-r--r--   0        0        0    16108 2023-11-17 17:52:25.095728 centralcli-5.0.0/centralcli/wh_proxy.py
+-rw-r--r--   0        0        0      393 2023-08-30 16:01:18.958011 centralcli-5.0.0/centralcli/wh_proxy_service.py
+-rw-r--r--   0        0        0     2256 2024-05-22 05:51:33.224382 centralcli-5.0.0/pyproject.toml
+-rw-r--r--   0        0        0    14176 1970-01-01 00:00:00.000000 centralcli-5.0.0/PKG-INFO
```

### Comparing `centralcli-4.2.0/LICENSE` & `centralcli-5.0.0/LICENSE`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/README.md` & `centralcli-5.0.0/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/__init__.py` & `centralcli-5.0.0/centralcli/__init__.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/boilerplate/README.md` & `centralcli-5.0.0/centralcli/boilerplate/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/boilerplate/allcalls.py` & `centralcli-5.0.0/centralcli/boilerplate/allcalls.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/caas.py` & `centralcli-5.0.0/centralcli/caas.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cache.py` & `centralcli-5.0.0/centralcli/cache.py`

 * *Files 3% similar despite different names*

```diff
@@ -10,14 +10,15 @@
 from typing import Any, Dict, Iterable, List, Literal, Sequence, Set, Union, Generator, Tuple
 
 import typer
 from rich import print
 from rich.console import Console
 from tinydb import Query, TinyDB
 from tinydb.table import Table
+from copy import deepcopy
 
 from centralcli import CentralApi, Response, cleaner, config, constants, log, models, render, utils
 
 try:
     import readline  # noqa imported for backspace support during prompt.
 except Exception:
     pass
@@ -303,14 +304,15 @@
             # log db is used to provide simple index to get details for logs
             # vs the actual log id in form 'audit_trail_2021_2,...'
             # it is updated anytime show logs is ran.
             self.LogDB: Table = self.DevDB.table("logs")
             self.EventDB: Table = self.DevDB.table("events")
             self.HookConfigDB: Table = self.DevDB.table("wh_config")
             self.HookDataDB: Table = self.DevDB.table("wh_data")
+            self.MpskDB: Table = self.DevDB.table("mpsk")  # Only updated when show mpsk networks is ran or as needed when show named-mpsk <SSID> is ran
             self._tables = [self.DevDB, self.InvDB, self.SiteDB, self.GroupDB, self.TemplateDB, self.LabelDB, self.LicenseDB, self.ClientDB]
             self.Q = Query()
             if data:
                 self.insert(data)
             if central:
                 self.check_fresh(refresh)
 
@@ -369,14 +371,18 @@
             return constants.LicenseTypes
 
     @property
     def clients(self) -> list:
         return self.ClientDB.all()
 
     @property
+    def mpsk(self) -> list:
+        return self.MpskDB.all()
+
+    @property
     def logs(self) -> list:
         return self.LogDB.all()
 
     @property
     def events(self) -> list:
         return self.EventDB.all()
 
@@ -440,16 +446,22 @@
         }
         if any(kwargs.values()) and not no_refresh:
             res = self.check_fresh(**kwargs)
         else:
             res = [self.responses.dev or Response()]
 
         _inv_by_ser = self.inventory_by_serial
-        _dev_by_ser = self.devices_by_serial
-        _all_serials = set([*_inv_by_ser.keys(), *_dev_by_ser.keys()])
+        # Need to use the resp value not what was just stored in cache as we don't store all fields
+        dev_res = list(filter(lambda r: r.url.path.startswith("/monitoring"), res))
+        if dev_res:
+            _dev_by_ser = {d["serial"]: d for d in dev_res[0].output}
+        else:
+            _dev_by_ser = self.devices_by_serial
+
+        _all_serials = set([*_inv_by_ser.keys(), *_dev_by_ser.keys()])  # TODO need to add clients
         combined = [
             {**_inv_by_ser.get(serial, {}), **_dev_by_ser.get(serial, {})}
             for serial in _all_serials
 
         ]
         res[-1].output = combined  # TODO this may be an issue if check_fresh has a failure, don't think it returns Response object
         return res[-1]
@@ -613,47 +625,126 @@
                 tuple([m.name, m.help_text]) for m in sorted(match, key=lambda i: i.name)
                 if m.name not in args
                 ]
 
         for m in out:
             yield m
 
-    # TODO this is not used until get_dev_identifier is refactored to support type vs generic_type
-    # TODO Also args is not being sent by typer, would need to use ctx.params.values()
-    # def dev_cx_completion(
-    #     self,
-    #     incomplete: str,
-    #     args: List[str] = [],
-    # ) -> Generator[Tuple[str, str], None, None] | None:
-    #     """Device completion for returning matches that are CX switches
-
-    #     Args:
-    #         incomplete (str): The last partial or full command before completion invoked.
-    #         args (List[str], optional): The previous arguments/commands on CLI. Defaults to [].
-
-    #     Yields:
-    #         Generator[Tuple[str, str], None, None]: Name and help_text for the device, or
-    #             Returns None if config is invalid
-    #     """
-    #     # Prevents exception during completion when config missing or invalid
-    #     if not config.valid:
-    #         err_console.print(":warning:  Invalid config")
-    #         return
-
-    #     match = self.get_dev_identifier(incomplete, dev_type=["cx"], completion=True)
-
-    #     out = []
-    #     if match:
-    #         out = [
-    #             tuple([m.name, m.help_text]) for m in sorted(match, key=lambda i: i.name)
-    #             if m.name not in args
-    #             ]
+    def dev_switch_by_type_completion(
+        self,
+        incomplete: str,
+        args: List[str] = [],
+        dev_type: Literal["cx", "sw"] = "cx",
+    ) -> Generator[Tuple[str, str], None, None] | None:
+        """Device completion for returning matches that are of specific switch type (cx by default)
+
+        Args:
+            incomplete (str): The last partial or full command before completion invoked.
+            args (List[str], optional): The previous arguments/commands on CLI. Defaults to [].
+
+        Yields:
+            Generator[Tuple[str, str], None, None]: Name and help_text for the device, or
+                Returns None if config is invalid
+        """
+        # Prevents exception during completion when config missing or invalid
+        if not config.valid:
+            err_console.print(":warning:  Invalid config")
+            return
+
+        match = self.get_dev_identifier(incomplete, dev_type=[dev_type], completion=True)
+
+        out = []
+        if match:
+            out = [
+                tuple([m.name, m.help_text]) for m in sorted(match, key=lambda i: i.name)
+                if m.name not in args
+                ]
+
+        for m in out:
+            yield m
+
+    def dev_cx_completion(
+            self,
+            incomplete: str,
+            args: List[str] = [],
+    ) -> Generator[Tuple[str, str], None, None] | None:
+        for match in self.dev_switch_by_type_completion(incomplete=incomplete, args=args, dev_type="cx"):
+            yield match
+
+    def dev_sw_completion(
+            self,
+            incomplete: str,
+            args: List[str] = [],
+    ) -> Generator[Tuple[str, str], None, None] | None:
+        for match in self.dev_switch_by_type_completion(incomplete=incomplete, args=args, dev_type="sw"):
+            yield match
+
+    def dev_ap_gw_sw_completion(
+        self,
+        incomplete: str,
+        args: List[str] = [],
+    ) -> Generator[Tuple[str, str], None, None] | None:
+        """Device completion for returning matches that are ap, gw, or AOS-SW
+
+        Args:
+            incomplete (str): The last partial or full command before completion invoked.
+            args (List[str], optional): The previous arguments/commands on CLI. Defaults to [].
+
+        Yields:
+            Generator[Tuple[str, str], None, None]: Name and help_text for the device, or
+                Returns None if config is invalid
+        """
+        # Prevents exception during completion when config missing or invalid
+        if not config.valid:
+            err_console.print(":warning:  Invalid config")
+            return
+
+        match: List[CentralObject] = self.get_dev_identifier(incomplete, dev_type=["ap", "gw", "sw"], completion=True)
+
+        out = []
+        if match:
+            out = [
+                tuple([m.name, m.help_text]) for m in sorted(match, key=lambda i: i.name)
+                if m.name not in args
+                ]
+
+        for m in out:
+            yield m
+
+    def mpsk_completion(
+        self,
+        ctx: typer.Context,
+        incomplete: str,
+        args: List[str] = None,
+    ):
+        # Prevents exception during completion when config missing or invalid
+        if not config.valid:
+            err_console.print(":warning:  Invalid config")
+            return
+
+        match = self.get_mpsk_identifier(
+            incomplete,
+            completion=True,
+        )
+        out = []
+        args = args or ctx.params.values()  # HACK as args stopped working
+        if match:
+            # remove devices that are already on the command line
+            match = [m for m in match if m.name not in args]
+            for m in sorted(match, key=lambda i: i.name):
+                if m.name.startswith(incomplete):
+                    out += [tuple([m.name, m.id])]
+                elif m.id.startswith(incomplete):
+                    out += [tuple([m.id, m.name])]
+                else:
+                    out += [tuple([m.name, m.help_text])]  # failsafe, shouldn't hit
+
+        for m in out:
+            yield m
 
-    #     for m in out:
-    #         yield m
 
     def dev_kwarg_completion(
         self,
         ctx: typer.Context,
         incomplete: str,
         args: List[str] = None,
     ) -> Generator[Tuple[str, str], None, None] | None:
@@ -855,14 +946,17 @@
             args (List[str], optional): The previous arguments/commands on CLI. Defaults to None.
 
         Yields:
             Generator[Tuple[str, str], None, None]: Yields Tuple with completion and help text, or
                 Returns None if config is invalid
         """
         # Prevents exception during completion when config missing or invalid
+        from rich import inspect
+        inspect(ctx, console=err_console)
+        inspect(ctx.params)
         if not config.valid:
             err_console.print(":warning:  Invalid config")
             return
 
         # Prevents device completion for cencli show config cencli
         if ctx.command_path == "cencli show config" and ctx.params.get("group_dev", "") == "cencli":
             return
@@ -1477,32 +1571,18 @@
             table = self.SiteDB
 
         data = data if isinstance(data, list) else [data]
         ret = table.insert_multiple(data)
 
         return len(ret) == len(data)
 
-    async def get_swack_ids(self, resp: Response, update_data: List[dict]) -> List[dict]:
-        # TODO these likely cause more delay on large accounts as it's pulling from raw, make more efficient or loop for both aps/switches in the same loop
-        # add swarm_ids for APs to cache (AOS 8 IAP and AP individual Upgrade)
-        if "aps" in resp.raw.get("aps", [{}])[0]:
-            _swarm_ids = {d["serial"]: d["swarm_id"] or d["serial"] for d in resp.raw["aps"][0]["aps"]}
-            update_data = [d if not d["type"] == "ap" or d["serial"] not in _swarm_ids else {**d, **{"swack_id": _swarm_ids[d["serial"]]}} for d in update_data]
-
-        # add stack_ids for switches to cache
-        if "switches" in resp.raw.get("switches", [{}])[0]:
-            _stack_ids = {d["serial"]: d["stack_id"] for d in resp.raw["switches"][0]["switches"]}
-            update_data = [d if d["type"] not in  ["cx", "sw"] or d["serial"] not in _stack_ids else {**d, **{"swack_id": _stack_ids[d["serial"]]}} for d in update_data]
-        # FIXME need to update everything that uses AP swarm_id to use swack_id (swarm/stack id)
-
-        return update_data
 
     # FIXME handle no devices in Central yet exception 837 --> cleaner.py 498
     # TODO if we are updating inventory we only need to get those devices types
-    async def update_dev_db(self,  data: Union[str, List[str], List[dict]] = None, remove: bool = False) -> Union[List[int], Response]:
+    async def update_dev_db(self,  data: Union[str, List[str], List[dict]] = None, remove: bool = False, **kwargs) -> Union[List[int], Response]:
         """Update Device Database (local cache).
 
         Args:
             data (Union[str, List[str]], List[dict] optional): serial number or list of serials numbers to add or remove. Defaults to None.
             remove (bool, optional): Determines if update is to add or remove from cache. Defaults to False (add devices).
 
         Raises:
@@ -1547,25 +1627,25 @@
                     )
 
                 db_res = self.DevDB.remove(doc_ids=doc_ids)
                 if False in db_res:
                     log.error(f"Tiny DB returned an error during DevDB update {db_res}", show=True)
         else:
             # TODO update device inventory first then only get details for device types in inventory
-            resp = await self.central.get_all_devicesv2()
+            resp = await self.central.get_all_devicesv2(cache=True, **kwargs)
             if resp.ok:
                 if resp.output:
-                    _update_data = utils.listify(resp.output)
+                    _update_data = utils.listify(deepcopy(resp.output))
                     _update_data = cleaner.get_devices(_update_data, cache=True)
-                    _update_data = await self.get_swack_ids(resp, _update_data)
 
+                    # Cache update  # TODO make own function
                     self.DevDB.truncate()
                     update_res = self.DevDB.insert_multiple(_update_data)
                     if False in update_res:
-                        log.error("Tiny DB returned an error during dev db update")
+                        log.error("Tiny DB returned an error during dev db update", caption=True)
 
                 # TODO change updated from  list of funcs to class with bool attributes or something
                 self.updated.append(self.central.get_all_devicesv2)
                 self.responses.dev = resp
             return resp
 
     async def update_inv_db(
@@ -1710,15 +1790,15 @@
                 resp.output = cleaner.get_all_groups(resp.output)
                 resp.output = utils.listify(resp.output)
                 self.responses.group = resp
                 self.updated.append(self.central.get_all_groups)
                 self.GroupDB.truncate()
                 update_res = self.GroupDB.insert_multiple(resp.output)
                 if False in update_res:
-                    log.error("Tiny DB returned an error during group db update")
+                    log.error("Tiny DB returned an error during group db update", caption=True)
             return resp
 
     async def update_label_db(self, data: Union[list, dict] = None, remove: bool = False) -> Union[List[int], Response]:
         if data:
             data = utils.listify(data)
             if not remove:
                 return self.LabelDB.insert_multiple(data)
@@ -1794,49 +1874,51 @@
         This is only updates when the user does a show clients
 
         It returns the raw data from the API with whatever filters were provided by the user
         then updates the db with the data returned
 
         Past users are always retained, unless truncate=True
         """
-        if self.central.get_clients not in self.updated:
-            client_resp = await self.central.get_clients(*args, **kwargs)
-            if not client_resp.ok:
-                return client_resp
-            else:
-                if len(client_resp) > 0:
-                    client_resp.output = utils.listify(client_resp.output)
-                    self.updated.append(self.central.get_clients)
-                    data = [
-                        {
-                            "mac": c.get("macaddr"),
-                            "name": c.get("name", c.get("macaddr")),
-                            "ip": c.get("ip_address", ""),
-                            "type": c["client_type"],
-                            "connected_port": c.get("network", c.get("interface_port", "!!ERROR!!")),
-                            "connected_serial": c.get("associated_device"),
-                            "connected_name": c.get("associated_device_name"),
-                            "site": c.get("site"),
-                            "group": c.get("group_name"),
-                            "last_connected": c.get("last_connection_time")
-                        }
-                        for c in client_resp.output
-                    ]
-                    if truncate:
-                        self.ClientDB.truncate()
-                        cache_update_res = self.ClientDB.insert_multiple(data)
-                    else:
-                        Client = Query()
-                        cache_update_res = [
-                            self.ClientDB.upsert(c, Client.mac == c.get("mac", "--"))
-                            for c in data
-                        ]
-                    if False in cache_update_res:
-                        log.error("Tiny DB returned an error during client db update")
+        # TODO running pytest on subsequent tests of show clients this would eval True and return None
+        # if self.central.get_clients not in self.updated:
+        client_resp = await self.central.get_clients(*args, **kwargs)
+        if not client_resp.ok:
             return client_resp
+        else:
+            if len(client_resp) > 0:
+                client_resp.output = utils.listify(client_resp.output)
+                self.updated.append(self.central.get_clients)
+                data = [
+                    {
+                        "mac": c.get("macaddr"),
+                        "name": c.get("name", c.get("macaddr")),
+                        "ip": c.get("ip_address", ""),
+                        "type": c["client_type"],
+                        "connected_port": c.get("network", c.get("interface_port", "!!ERROR!!")),
+                        "connected_serial": c.get("associated_device"),
+                        "connected_name": c.get("associated_device_name"),
+                        "site": c.get("site"),
+                        "group": c.get("group_name"),
+                        "last_connected": c.get("last_connection_time")
+                    }
+                    for c in client_resp.output
+                ]
+                if truncate:
+                    self.ClientDB.truncate()
+                    cache_update_res = self.ClientDB.insert_multiple(data)
+                else:
+                    Client = Query()
+                    cache_update_res = [
+                        self.ClientDB.upsert(c, Client.mac == c.get("mac", "--"))
+                        for c in data
+                    ]
+                if False in cache_update_res:
+                    log.error("Tiny DB returned an error during client db update")
+        return client_resp
+
 
     def update_log_db(self, log_data: List[Dict[str, Any]]) -> bool:
         self.LogDB.truncate()
         return self.LogDB.insert_multiple(log_data)
 
     def update_event_db(self, log_data: List[Dict[str, Any]]) -> bool:
         self.EventDB.truncate()
@@ -1870,14 +1952,38 @@
             self.HookDataDB.truncate()
             return self.HookDataDB.insert_multiple(data)
         else:
             data = [*self.hook_active, *data]
             self.HookDataDB.truncate()
             return self.HookDataDB.insert_multiple(data)
 
+    async def update_mpsk_db(self, data: List[Dict[str, Any]] = None) -> bool:
+        if data:
+            data = models.CacheMpskNetworks(data)
+            data = data.dict()
+            self.MpskDB.truncate()
+            return self.MpskDB.insert_multiple(data)
+        else:
+            resp = await self.central.cloudauth_get_mpsk_networks()
+            if resp.ok:
+                if resp.output:
+                    _update_data = utils.listify(deepcopy(resp.output))
+                    _update_data = models.CacheMpskNetworks(**resp.raw)
+                    _update_data = _update_data.dict()["items"]
+
+                    self.MpskDB.truncate()
+                    update_res = self.MpskDB.insert_multiple(_update_data)
+                    if False in update_res:
+                        log.error("Tiny DB returned an error during MPSK db update", caption=True)
+
+                # TODO change updated from  list of funcs to class with bool attributes or something
+                self.updated.append(self.central.cloudauth_get_mpsk_networks)
+                self.responses.dev = resp
+            return resp
+
     # TODO cache.groups cache.devices etc change to Response object with data in output.  So they can be leveraged in commands with all attributes
     async def _check_fresh(
         self,
         dev_db: bool = False,
         inv_db: bool = False,
         site_db: bool = False,
         template_db: bool = False,
@@ -2015,25 +2121,31 @@
         return [match.pop(int(selection) - 1)]
 
     def get_identifier(
         self,
         qry_str: str,
         qry_funcs: Sequence[str],
         device_type: Union[str, List[str]] = None,
+        swack: bool = False,
+        conductor_only: bool = False,
         group: str = None,
         all: bool = False,
         completion: bool = False,
     ) -> Union[CentralObject, List[CentralObject]]:
         """Get Identifier when iden type could be one of multiple types.  i.e. device or group
 
         Args:
             qry_str (str): The query string provided by user.
             qry_funcs (Sequence[str]): Sequence of strings "dev", "group", "site", "template"
             device_type (Union[str, List[str]], optional): Restrict matches to specific dev type(s).
                 Defaults to None.
+            swack (bool, optional): Restrict matches to only the stack commanders matching query (filter member switches).
+                Defaults to False.
+            conductor_only (bool, optional): Similar to swack, but only filters member switches of stacks, but will also return any standalone switches that match.
+                Does not filter non stacks, the way swack option does. Defaults to False.
             group (str, optional): applies to get_template_identifier, Only match if template is in this group.
                 Defaults to None.
             all (bool, optional): For use in completion, adds keyword "all" to valid completion.
             completion (bool, optional): If function is being called for AutoCompletion purposes. Defaults to False.
                 When called for completion it will fail silently and will return multiple when multiple matches are found.
 
         Raises:
@@ -2050,14 +2162,16 @@
 
         match: List[CentralObject] = []
         for _ in range(0, 2):
             for q in qry_funcs:
                 kwargs = default_kwargs.copy()
                 if q == "dev":
                     kwargs["dev_type"] = device_type
+                    kwargs["swack"] = swack
+                    kwargs["conductor_only"] = conductor_only
                 elif q == "template":
                     kwargs["group"] = group
                 this_match = getattr(self, f"get_{q}_identifier")(qry_str, **kwargs) or []
                 match = [*match, *utils.listify(this_match)]
 
                 if match and not completion:
                     # user selects which device if multiple matches returned
@@ -2085,21 +2199,46 @@
         if not match:
             emoji_console.print(f":warning:  [bright_red]Unable to find a matching identifier[/] for [cyan]{qry_str}[/], tried: [cyan]{qry_funcs}[/]")
             raise typer.Exit(1)
 
     def get_dev_identifier(
         self,
         query_str: str | Iterable[str],
-        dev_type: constants.GenericDevTypes | List[constants.GenericDevTypes] = None,
+        dev_type: constants.AllDevTypes | List[constants.AllDevTypes] = None,
+        swack: bool = False,
+        conductor_only: bool = False,
         retry: bool = True,
         completion: bool = False,
         silent: bool = False,
         include_inventory: bool = False,
         exit_on_fail: bool = True,
     ) -> CentralObject | List[CentralObject] | None:
+        """Get Devices from local cache, starting with most exact match, and progressively getting less exact.
+
+        If multiple matches are found user is promted to select device.
+
+        Args:
+            query_str (str | Iterable[str]): The query string or list of strings to attempt to match.
+            dev_type (constants.AllDevTypes | List[constants.AllDevTypes], optional): Limit matches to specific device type. Defaults to None (all device types).
+            swack (bool, optional): For switches only return the conductor switch that matches. For APs only return the VC of the swarm the match belongs to. Defaults to False.
+                If swack=True devices that lack a swack_id (swarm_id | stack_id) are filtered (even if they match).
+            conductor_only (bool, optional): Similar to swack, but only filters member switches of stacks, but will also return any standalone switches that match.
+                Does not filter non stacks, the way swack option does. Defaults to False.
+            retry (bool, optional): If failure to match should result in a cache update and retry. Defaults to True.
+            completion (bool, optional): If this is being called for tab completion (Allows multiple matches, implies retry=False, silent=True, exit_on_fail=False). Defaults to False.
+            silent (bool, optional): Do not display errors / output, simply returns match if match is found. Defaults to False.
+            include_inventory (bool, optional): Whether match attempt should also include Inventory DB (devices in GLCP that have yet to connect to Central). Defaults to False.
+            exit_on_fail (bool, optional): Whether a failure to match exits the program. Defaults to True.
+
+        Raises:
+            typer.Exit: Exit CLI / command, occurs if there is no match unless exit_on_fail is set to False.
+
+        Returns:
+            CentralObject | List[CentralObject] | None: List of matching CentralObjects (devices, sites, groups ...) that match query_str
+        """
 
         retry = False if completion else retry
         # TODO dev_type currently not passed in or handled identifier for show switches would also
         # try to match APs ...  & (self.Q.type == dev_type)
         # TODO refactor to single test function usable by all identifier methods 1 search with a more involved test
         if isinstance(query_str, (list, tuple)):
             query_str = " ".join(query_str)
@@ -2170,17 +2309,29 @@
                 match = [CentralObject("dev", dev) for dev in match]
                 break
 
         all_match = None
         if dev_type:
             all_match = match.copy()
             dev_type = utils.listify(dev_type)
-            match = []
-            for _dev_type in dev_type:
-                match += [d for d in all_match if d.generic_type.lower() in "".join(_dev_type[0:len(d.generic_type)]).lower()]
+            if "switch" in dev_type:
+                dev_type = set(filter(lambda t: t != "switch", [*dev_type, "cx", "sw"]))
+
+            match = [d for d in all_match if d.type in dev_type]
+
+        # swack is swarm/stack id.  We filter out all but the commander for a stack and all but the VC for a swarm
+        # For a stack a multi-match is expected when they are using hostname as all members have the same hostname.
+        # This param returns only the commander matching the name.
+        if len(match) > 1 and (swack or conductor_only):
+            unique_swack_ids = set([d.swack_id for d in match if d.swack_id])
+            stacks = [d for d in match if d.swack_id in unique_swack_ids and d.ip or (d.switch_role and d.switch_role == 2)]
+            if swack:
+                match = stacks
+            elif conductor_only:
+                match = [*stacks, *[d for d in match if not d.swack_id]]
 
         if completion:
             return match or []
 
         if match:
             # user selects which device if multiple matches returned
             if len(match) > 1:
@@ -2678,7 +2829,88 @@
                 return match[-1]["details"]
 
         except ValueError as e:
             log.error(f"Exception in get_event_identifier {e.__class__.__name__}", show=True)
             log.exception(e)
             # print(f"[bright_red]Exception[/] in get_event_identifier [dark_orange4]{e.__class__.__name__}[/]")
             raise typer.Exit(1)
+
+    def get_mpsk_identifier(
+        self,
+        query_str: str,
+        retry: bool = True,
+        completion: bool = False,
+        silent: bool = False,
+    ) -> CentralObject | List[CentralObject]:
+        """Allows Case insensitive ssid match"""
+        retry = False if completion else retry
+        for _ in range(0, 2):
+            if query_str == "":
+                match = self.mpsk
+            else:
+                match = self.MpskDB.search((self.Q.name == query_str))
+
+            # case insensitive
+            if not match:
+                match = self.MpskDB.search(
+                    self.Q.name.test(lambda v: v.lower() == query_str.lower())
+                )
+
+            # case insensitive startswith
+            if not match:
+                match = self.MpskDB.search(
+                    self.Q.name.test(lambda v: v.lower().startswith(query_str.lower()))
+                )
+
+            # case insensitive ignore -_
+            if not match:
+                if "_" in query_str or "-" in query_str:
+                    match = self.MpskDB.search(
+                        self.Q.name.test(
+                            lambda v: v.lower().strip("-_") == query_str.lower().strip("_-")
+                        )
+                    )
+
+            # case insensitive startswith search for mspk id
+            if not match:
+                match = self.MpskDB.search(
+                    self.Q.id.test(
+                        lambda v: v.lower().startswith(query_str.lower())
+                    )
+                )
+
+            if not match and retry and self.central.cloudauth_get_mpsk_networks not in self.updated:
+                if FUZZ:
+                    fuzz_resp = process.extract(query_str, [mpsk["name"] for mpsk in self.mpsk], limit=1)
+                    if fuzz_resp:
+                        fuzz_match, fuzz_confidence = fuzz_resp[0]
+                        confirm_str = render.rich_capture(f"[bright_red]{query_str}[/] not found in cache.  Did you mean [green3]{fuzz_match}[/]?")
+                        if fuzz_confidence >= 70 and typer.confirm(confirm_str):
+                            match = self.MpskDB.search(self.Q.name == fuzz_match)
+                if not match:
+                    err_console.print(f":warning:  [bright_red]No Match found for[/] [cyan]{query_str}[/].  Updating mpsk Cache")
+                    asyncio.run(self.update_mpsk_db())
+                _ += 1
+            if match:
+                match = [CentralObject("mpsk", g) for g in match]
+                break
+
+        if completion:
+            return match or []
+
+        if match:
+            if len(match) > 1:
+                match = self.handle_multi_match(match, query_str=query_str, query_type="mpsk",)
+
+            return match[0]
+
+        elif retry:
+            log.error(f"Central API CLI Cache unable to gather label data from provided identifier {query_str}", show=True)
+            valid_mpsk = "\n".join([f'[cyan]{m["name"]}[/]' for m in self.mpsk])
+            print(f":warning:  [cyan]{query_str}[/] appears to be invalid")
+            print(f"\n[bright_green]Valid MPSK Networks[/]:\n--\n{valid_mpsk}\n--\n")
+            raise typer.Exit(1)
+        else:
+            if not completion:
+                log.error(
+                    f"Central API CLI Cache unable to gather label data from provided identifier {query_str}", show=not silent
+                )
```

### Comparing `centralcli-4.2.0/centralcli/central.py` & `centralcli-5.0.0/centralcli/central.py`

 * *Files 2% similar despite different names*

```diff
@@ -17,13185 +17,13970 @@
 00000100: 656e 756d 2069 6d70 6f72 7420 456e 756d  enum import Enum
 00000110: 0a66 726f 6d20 6675 6e63 746f 6f6c 7320  .from functools 
 00000120: 696d 706f 7274 2077 7261 7073 0a66 726f  import wraps.fro
 00000130: 6d20 7061 7468 6c69 6220 696d 706f 7274  m pathlib import
 00000140: 2050 6174 680a 6672 6f6d 2074 7970 696e   Path.from typin
 00000150: 6720 696d 706f 7274 2044 6963 742c 204c  g import Dict, L
 00000160: 6973 742c 204c 6974 6572 616c 2c20 5475  ist, Literal, Tu
-00000170: 706c 652c 2055 6e69 6f6e 0a0a 2320 6672  ple, Union..# fr
-00000180: 6f6d 2061 696f 6874 7470 2069 6d70 6f72  om aiohttp impor
-00000190: 7420 436c 6965 6e74 5365 7373 696f 6e0a  t ClientSession.
-000001a0: 696d 706f 7274 2061 696f 6874 7470 0a66  import aiohttp.f
-000001b0: 726f 6d20 7079 6365 6e74 7261 6c2e 6261  rom pycentral.ba
-000001c0: 7365 5f75 7469 6c73 2069 6d70 6f72 7420  se_utils import 
-000001d0: 746f 6b65 6e4c 6f63 616c 5374 6f72 6555  tokenLocalStoreU
-000001e0: 7469 6c0a 0a66 726f 6d20 2e20 696d 706f  til..from . impo
-000001f0: 7274 2028 4172 7562 6143 656e 7472 616c  rt (ArubaCentral
-00000200: 4261 7365 2c20 4d79 4c6f 6767 6572 2c20  Base, MyLogger, 
-00000210: 636c 6561 6e65 722c 2063 6f6e 6669 672c  cleaner, config,
-00000220: 2063 6f6e 7374 616e 7473 2c20 6c6f 672c   constants, log,
-00000230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000240: 6d6f 6465 6c73 2c20 7574 696c 7329 0a66  models, utils).f
-00000250: 726f 6d20 2e75 7469 6c73 2069 6d70 6f72  rom .utils impor
-00000260: 7420 4d61 630a 6672 6f6d 202e 7265 7370  t Mac.from .resp
-00000270: 6f6e 7365 2069 6d70 6f72 7420 5265 7370  onse import Resp
-00000280: 6f6e 7365 2c20 5365 7373 696f 6e0a 2320  onse, Session.# 
-00000290: 6275 7269 6564 2069 6d70 6f72 743a 2072  buried import: r
-000002a0: 6571 7565 7374 7320 6973 2069 6d70 6f72  equests is impor
-000002b0: 7465 6420 696e 2061 6464 5f74 656d 706c  ted in add_templ
-000002c0: 6174 6520 6173 2061 2077 6f72 6b61 726f  ate as a workaro
-000002d0: 756e 6420 756e 7469 6c20 6669 6775 7265  und until figure
-000002e0: 206f 7574 2061 696f 6874 7470 2066 6f72   out aiohttp for
-000002f0: 6d20 6461 7461 0a0a 0a0a 0a63 6f6c 6f72  m data.....color
-00000300: 203d 2075 7469 6c73 2e63 6f6c 6f72 0a0a   = utils.color..
-00000310: 0a23 2068 7474 7073 3a2f 2f67 6974 6875  .# https://githu
-00000320: 622e 636f 6d2f 6169 6f2d 6c69 6273 2f61  b.com/aio-libs/a
-00000330: 696f 6874 7470 2f69 7373 7565 732f 3433  iohttp/issues/43
-00000340: 3234 0a64 6566 2073 696c 656e 6365 5f65  24.def silence_e
-00000350: 7665 6e74 5f6c 6f6f 705f 636c 6f73 6564  vent_loop_closed
-00000360: 2866 756e 6329 3a0a 2020 2020 4077 7261  (func):.    @wra
-00000370: 7073 2866 756e 6329 0a20 2020 2064 6566  ps(func).    def
-00000380: 2077 7261 7070 6572 2873 656c 662c 202a   wrapper(self, *
-00000390: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
-000003a0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-000003b0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000003c0: 2066 756e 6328 7365 6c66 2c20 2a61 7267   func(self, *arg
-000003d0: 732c 202a 2a6b 7761 7267 7329 0a20 2020  s, **kwargs).   
-000003e0: 2020 2020 2065 7863 6570 7420 5275 6e74       except Runt
-000003f0: 696d 6545 7272 6f72 2061 7320 653a 0a20  imeError as e:. 
-00000400: 2020 2020 2020 2020 2020 2069 6620 7374             if st
-00000410: 7228 6529 2021 3d20 2245 7665 6e74 206c  r(e) != "Event l
-00000420: 6f6f 7020 6973 2063 6c6f 7365 6422 3a0a  oop is closed":.
-00000430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000440: 7261 6973 650a 0a20 2020 2072 6574 7572  raise..    retur
-00000450: 6e20 7772 6170 7065 720a 0a0a 5f50 726f  n wrapper..._Pro
-00000460: 6163 746f 7242 6173 6550 6970 6554 7261  actorBasePipeTra
-00000470: 6e73 706f 7274 2e5f 5f64 656c 5f5f 203d  nsport.__del__ =
-00000480: 2073 696c 656e 6365 5f65 7665 6e74 5f6c   silence_event_l
-00000490: 6f6f 705f 636c 6f73 6564 285f 5072 6f61  oop_closed(_Proa
-000004a0: 6374 6f72 4261 7365 5069 7065 5472 616e  ctorBasePipeTran
-000004b0: 7370 6f72 742e 5f5f 6465 6c5f 5f29 0a0a  sport.__del__)..
-000004c0: 0a44 4546 4155 4c54 5f54 4f4b 454e 5f53  .DEFAULT_TOKEN_S
-000004d0: 544f 5245 203d 207b 2274 7970 6522 3a20  TORE = {"type": 
-000004e0: 226c 6f63 616c 222c 2022 7061 7468 223a  "local", "path":
-000004f0: 2066 227b 636f 6e66 6967 2e64 6972 2e6a   f"{config.dir.j
-00000500: 6f69 6e70 6174 6828 272e 6361 6368 6527  oinpath('.cache'
-00000510: 297d 227d 0a44 4546 4155 4c54 5f41 4343  )}"}.DEFAULT_ACC
-00000520: 4553 535f 5255 4c45 5320 3d20 7b0a 2020  ESS_RULES = {.  
-00000530: 2020 2241 4c4c 4f57 5f41 4c4c 223a 205b    "ALLOW_ALL": [
-00000540: 0a20 2020 2020 2020 207b 0a20 2020 2020  .        {.     
-00000550: 2020 2020 2020 2022 6163 7469 6f6e 223a         "action":
-00000560: 2022 616c 6c6f 7722 2c0a 2020 2020 2020   "allow",.      
-00000570: 2020 2020 2020 2265 706f 7274 223a 2022        "eport": "
-00000580: 616e 7922 2c0a 2020 2020 2020 2020 2020  any",.          
-00000590: 2020 2269 7061 6464 7222 3a20 2261 6e79    "ipaddr": "any
-000005a0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-000005b0: 6d61 7463 6822 3a20 226d 6174 6368 222c  match": "match",
-000005c0: 0a20 2020 2020 2020 2020 2020 2022 6e65  .            "ne
-000005d0: 746d 6173 6b22 3a20 2261 6e79 222c 0a20  tmask": "any",. 
-000005e0: 2020 2020 2020 2020 2020 2022 7072 6f74             "prot
-000005f0: 6f63 6f6c 223a 2022 616e 7922 2c0a 2020  ocol": "any",.  
-00000600: 2020 2020 2020 2020 2020 2273 6572 7669            "servi
-00000610: 6365 5f6e 616d 6522 3a20 2222 2c0a 2020  ce_name": "",.  
-00000620: 2020 2020 2020 2020 2020 2273 6572 7669            "servi
-00000630: 6365 5f74 7970 6522 3a20 226e 6574 776f  ce_type": "netwo
-00000640: 726b 222c 0a20 2020 2020 2020 2020 2020  rk",.           
-00000650: 2022 7370 6f72 7422 3a20 2261 6e79 222c   "sport": "any",
-00000660: 0a20 2020 2020 2020 2020 2020 2022 7468  .            "th
-00000670: 726f 7474 6c65 5f64 6f77 6e73 7472 6561  rottle_downstrea
-00000680: 6d22 3a20 2222 2c0a 2020 2020 2020 2020  m": "",.        
-00000690: 2020 2020 2274 6872 6f74 746c 655f 7570      "throttle_up
-000006a0: 7374 7265 616d 223a 2022 220a 2020 2020  stream": "".    
-000006b0: 2020 2020 7d0a 2020 2020 5d2c 0a7d 0a0a      }.    ],.}..
-000006c0: 5354 4152 5420 3d20 7469 6d65 2e6d 6f6e  START = time.mon
-000006d0: 6f74 6f6e 6963 2829 0a0a 636c 6173 7320  otonic()..class 
-000006e0: 576c 616e 5479 7065 2873 7472 2c20 456e  WlanType(str, En
-000006f0: 756d 293a 0a20 2020 2065 6d70 6c6f 7965  um):.    employe
-00000700: 6520 3d20 2265 6d70 6c6f 7965 6522 0a20  e = "employee". 
-00000710: 2020 2067 7565 7374 203d 2022 6775 6573     guest = "gues
-00000720: 7422 0a0a 0a64 6566 206d 756c 7469 7061  t"...def multipa
-00000730: 7274 6966 7928 6461 7461 2c20 7061 7265  rtify(data, pare
-00000740: 6e74 5f6b 6579 3d4e 6f6e 652c 2066 6f72  nt_key=None, for
-00000750: 6d61 7474 6572 3a20 6361 6c6c 6162 6c65  matter: callable
-00000760: 203d 204e 6f6e 6529 202d 3e20 6469 6374   = None) -> dict
-00000770: 3a0a 2020 2020 6966 2066 6f72 6d61 7474  :.    if formatt
-00000780: 6572 2069 7320 4e6f 6e65 3a0a 2020 2020  er is None:.    
-00000790: 2020 2020 666f 726d 6174 7465 7220 3d20      formatter = 
-000007a0: 6c61 6d62 6461 2076 3a20 284e 6f6e 652c  lambda v: (None,
-000007b0: 2076 2920 2023 206e 6f71 6120 4d75 6c74   v)  # noqa Mult
-000007c0: 6970 6172 7420 7265 7072 6573 656e 7461  ipart representa
-000007d0: 7469 6f6e 206f 6620 7661 6c75 650a 0a20  tion of value.. 
-000007e0: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
-000007f0: 616e 6365 2864 6174 612c 2064 6963 7429  ance(data, dict)
-00000800: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00000810: 207b 7061 7265 6e74 5f6b 6579 3a20 666f   {parent_key: fo
-00000820: 726d 6174 7465 7228 6461 7461 297d 0a0a  rmatter(data)}..
-00000830: 2020 2020 636f 6e76 6572 7465 6420 3d20      converted = 
-00000840: 5b5d 0a0a 2020 2020 666f 7220 6b65 792c  []..    for key,
-00000850: 2076 616c 7565 2069 6e20 6461 7461 2e69   value in data.i
-00000860: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
-00000870: 6375 7272 656e 745f 6b65 7920 3d20 6b65  current_key = ke
-00000880: 7920 6966 2070 6172 656e 745f 6b65 7920  y if parent_key 
-00000890: 6973 204e 6f6e 6520 656c 7365 2066 227b  is None else f"{
-000008a0: 7061 7265 6e74 5f6b 6579 7d5b 7b6b 6579  parent_key}[{key
-000008b0: 7d5d 220a 2020 2020 2020 2020 6966 2069  }]".        if i
-000008c0: 7369 6e73 7461 6e63 6528 7661 6c75 652c  sinstance(value,
-000008d0: 2064 6963 7429 3a0a 2020 2020 2020 2020   dict):.        
-000008e0: 2020 2020 636f 6e76 6572 7465 642e 6578      converted.ex
-000008f0: 7465 6e64 286d 756c 7469 7061 7274 6966  tend(multipartif
-00000900: 7928 7661 6c75 652c 2063 7572 7265 6e74  y(value, current
-00000910: 5f6b 6579 2c20 666f 726d 6174 7465 7229  _key, formatter)
-00000920: 2e69 7465 6d73 2829 290a 2020 2020 2020  .items()).      
-00000930: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
-00000940: 6528 7661 6c75 652c 206c 6973 7429 3a0a  e(value, list):.
-00000950: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00000960: 696e 642c 206c 6973 745f 7661 6c75 6520  ind, list_value 
-00000970: 696e 2065 6e75 6d65 7261 7465 2876 616c  in enumerate(val
-00000980: 7565 293a 0a20 2020 2020 2020 2020 2020  ue):.           
-00000990: 2020 2020 2069 7465 725f 6b65 7920 3d20       iter_key = 
-000009a0: 6622 7b63 7572 7265 6e74 5f6b 6579 7d5b  f"{current_key}[
-000009b0: 7b69 6e64 7d5d 220a 2020 2020 2020 2020  {ind}]".        
-000009c0: 2020 2020 2020 2020 636f 6e76 6572 7465          converte
-000009d0: 642e 6578 7465 6e64 286d 756c 7469 7061  d.extend(multipa
-000009e0: 7274 6966 7928 6c69 7374 5f76 616c 7565  rtify(list_value
-000009f0: 2c20 6974 6572 5f6b 6579 2c20 666f 726d  , iter_key, form
-00000a00: 6174 7465 7229 2e69 7465 6d73 2829 290a  atter).items()).
-00000a10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00000a20: 2020 2020 2020 2020 2020 636f 6e76 6572            conver
-00000a30: 7465 642e 6170 7065 6e64 2828 6375 7272  ted.append((curr
-00000a40: 656e 745f 6b65 792c 2066 6f72 6d61 7474  ent_key, formatt
-00000a50: 6572 2876 616c 7565 2929 290a 0a20 2020  er(value)))..   
-00000a60: 2072 6574 7572 6e20 6469 6374 2863 6f6e   return dict(con
-00000a70: 7665 7274 6564 290a 0a0a 6465 6620 6765  verted)...def ge
-00000a80: 745f 636f 6e6e 5f66 726f 6d5f 6669 6c65  t_conn_from_file
-00000a90: 2861 6363 6f75 6e74 5f6e 616d 652c 206c  (account_name, l
-00000aa0: 6f67 6765 723a 204d 794c 6f67 6765 7220  ogger: MyLogger 
-00000ab0: 3d20 6c6f 6729 3a0a 2020 2020 2222 2243  = log):.    """C
-00000ac0: 7265 6174 6573 2061 6e20 696e 7374 616e  reates an instan
-00000ad0: 6365 206f 6620 636c 6173 7360 7079 6365  ce of class`pyce
-00000ae0: 6e74 7261 6c2e 4172 7562 6143 656e 7472  ntral.ArubaCentr
-00000af0: 616c 4261 7365 6020 6261 7365 6420 6f6e  alBase` based on
-00000b00: 2063 6f6e 6669 6720 6669 6c65 2e0a 0a20   config file... 
-00000b10: 2020 2070 726f 7669 6465 6420 696e 2074     provided in t
-00000b20: 6865 2059 414d 4c2f 4a53 4f4e 2063 6f6e  he YAML/JSON con
-00000b30: 6669 6720 6669 6c65 3a0a 2020 2020 2020  fig file:.      
-00000b40: 2020 2a20 6b65 7977 6f72 6420 6365 6e74    * keyword cent
-00000b50: 7261 6c5f 696e 666f 3a20 4120 6469 6374  ral_info: A dict
-00000b60: 2063 6f6e 7461 696e 696e 6720 6172 6775   containing argu
-00000b70: 6d65 6e74 7320 6173 2061 6363 6570 7465  ments as accepte
-00000b80: 6420 6279 2063 6c61 7373 6070 7963 656e  d by class`pycen
-00000b90: 7472 616c 2e41 7275 6261 4365 6e74 7261  tral.ArubaCentra
-00000ba0: 6c42 6173 6560 0a20 2020 2020 2020 202a  lBase`.        *
-00000bb0: 206b 6579 776f 7264 2073 736c 5f76 6572   keyword ssl_ver
-00000bc0: 6966 793a 2041 2062 6f6f 6c65 616e 2077  ify: A boolean w
-00000bd0: 6865 6e20 7365 7420 746f 2054 7275 652c  hen set to True,
-00000be0: 2074 6865 2070 7974 686f 6e20 636c 6965   the python clie
-00000bf0: 6e74 2076 616c 6964 6174 6573 2041 7275  nt validates Aru
-00000c00: 6261 2043 656e 7472 616c 2773 2053 534c  ba Central's SSL
-00000c10: 2063 6572 7473 2e0a 2020 2020 2020 2020   certs..        
-00000c20: 2a20 6b65 7977 6f72 6420 746f 6b65 6e5f  * keyword token_
-00000c30: 7374 6f72 653a 204f 7074 696f 6e61 6c2e  store: Optional.
-00000c40: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00000c50: 652e 0a0a 2020 2020 4172 6773 3a0a 2020  e...    Args:.  
-00000c60: 2020 2020 2020 6163 636f 756e 745f 6e61        account_na
-00000c70: 6d65 2028 7374 7229 3a20 4163 636f 756e  me (str): Accoun
-00000c80: 7420 6e61 6d65 2064 6566 696e 6564 2069  t name defined i
-00000c90: 6e20 7468 6520 636f 6e66 6967 2066 696c  n the config fil
-00000ca0: 652e 0a20 2020 2020 2020 206c 6f67 6765  e..        logge
-00000cb0: 7220 284d 794c 6f67 6765 722c 206f 7074  r (MyLogger, opt
-00000cc0: 696f 6e61 6c29 3a20 6c6f 6720 6d65 7468  ional): log meth
-00000cd0: 6f64 2e20 4465 6661 756c 7473 2074 6f20  od. Defaults to 
-00000ce0: 6c6f 672e 0a0a 2020 2020 5265 7475 726e  log...    Return
-00000cf0: 733a 0a20 2020 2020 2020 205b 7079 6365  s:.        [pyce
-00000d00: 6e74 7261 6c2e 4172 7562 6143 656e 7472  ntral.ArubaCentr
-00000d10: 616c 4261 7365 5d3a 2041 6e20 696e 7374  alBase]: An inst
-00000d20: 616e 6365 206f 6620 636c 6173 733a 6070  ance of class:`p
-00000d30: 7963 656e 7472 616c 2e41 7275 6261 4365  ycentral.ArubaCe
-00000d40: 6e74 7261 6c42 6173 6560 2c0a 2020 2020  ntralBase`,.    
-00000d50: 2020 2020 2020 2020 5573 6564 2074 6f20          Used to 
-00000d60: 6d61 6e61 6765 2041 7574 6820 616e 6420  manage Auth and 
-00000d70: 546f 6b65 6e73 2e0a 2020 2020 2222 220a  Tokens..    """.
-00000d80: 2020 2020 6966 2061 6363 6f75 6e74 5f6e      if account_n
-00000d90: 616d 6520 696e 2063 6f6e 6669 672e 6461  ame in config.da
-00000da0: 7461 3a0a 2020 2020 2020 2020 6365 6e74  ta:.        cent
-00000db0: 7261 6c5f 696e 666f 203d 2063 6f6e 6669  ral_info = confi
-00000dc0: 672e 6461 7461 5b61 6363 6f75 6e74 5f6e  g.data[account_n
-00000dd0: 616d 655d 0a20 2020 2065 6c73 653a 0a20  ame].    else:. 
-00000de0: 2020 2020 2020 2023 2041 6363 6f75 6e74         # Account
-00000df0: 206e 616d 6520 6361 6c6c 6261 636b 2077   name callback w
-00000e00: 696c 6c20 6b69 636b 2062 6163 6b20 6572  ill kick back er
-00000e10: 726f 7273 0a20 2020 2020 2020 2023 2066  rors.        # f
-00000e20: 616c 6c69 6e67 2062 6163 6b20 746f 2064  alling back to d
-00000e30: 6566 6175 6c74 2066 6f72 206c 6f61 6420  efault for load 
-00000e40: 6f66 2063 656e 7472 616c 2066 6f72 2061  of central for a
-00000e50: 7574 6f20 636f 6d70 6c65 7469 6f6e 0a20  uto completion. 
-00000e60: 2020 2020 2020 2063 656e 7472 616c 5f69         central_i
-00000e70: 6e66 6f20 3d20 636f 6e66 6967 2e64 6174  nfo = config.dat
-00000e80: 615b 2263 656e 7472 616c 5f69 6e66 6f22  a["central_info"
-00000e90: 5d0a 2020 2020 746f 6b65 6e5f 7374 6f72  ].    token_stor
-00000ea0: 6520 3d20 636f 6e66 6967 2e74 6f6b 656e  e = config.token
-00000eb0: 5f73 746f 7265 0a20 2020 2073 736c 5f76  _store.    ssl_v
-00000ec0: 6572 6966 7920 3d20 6365 6e74 7261 6c5f  erify = central_
-00000ed0: 696e 666f 2e67 6574 2822 7373 6c5f 7665  info.get("ssl_ve
-00000ee0: 7269 6679 222c 2063 6f6e 6669 672e 6461  rify", config.da
-00000ef0: 7461 2e67 6574 2822 7373 6c5f 7665 7269  ta.get("ssl_veri
-00000f00: 6679 222c 2054 7275 6529 290a 0a20 2020  fy", True))..   
-00000f10: 2063 6f6e 6e20 3d20 4172 7562 6143 656e   conn = ArubaCen
-00000f20: 7472 616c 4261 7365 2863 656e 7472 616c  tralBase(central
-00000f30: 5f69 6e66 6f2c 2074 6f6b 656e 5f73 746f  _info, token_sto
-00000f40: 7265 3d74 6f6b 656e 5f73 746f 7265 2c20  re=token_store, 
-00000f50: 6c6f 6767 6572 3d6c 6f67 6765 722c 2073  logger=logger, s
-00000f60: 736c 5f76 6572 6966 793d 7373 6c5f 7665  sl_verify=ssl_ve
-00000f70: 7269 6679 290a 2020 2020 746f 6b65 6e5f  rify).    token_
-00000f80: 6361 6368 6520 3d20 5061 7468 2874 6f6b  cache = Path(tok
-00000f90: 656e 4c6f 6361 6c53 746f 7265 5574 696c  enLocalStoreUtil
-00000fa0: 2874 6f6b 656e 5f73 746f 7265 2c20 6365  (token_store, ce
-00000fb0: 6e74 7261 6c5f 696e 666f 5b22 6375 7374  ntral_info["cust
-00000fc0: 6f6d 6572 5f69 6422 5d2c 2063 656e 7472  omer_id"], centr
-00000fd0: 616c 5f69 6e66 6f5b 2263 6c69 656e 745f  al_info["client_
-00000fe0: 6964 225d 2929 0a0a 2020 2020 2320 616c  id"]))..    # al
-00000ff0: 7761 7973 2063 7265 6174 6520 746f 6b65  ways create toke
-00001000: 6e20 6361 6368 6520 6966 2069 7420 646f  n cache if it do
-00001010: 6573 6e27 7420 6578 6973 7420 616e 6420  esn't exist and 
-00001020: 616c 7761 7973 2075 7365 2069 7420 6669  always use it fi
-00001030: 7273 740a 2020 2020 2320 686f 7765 7665  rst.    # howeve
-00001040: 7220 6966 2063 6f6e 6669 6720 6861 7320  r if config has 
-00001050: 6265 656e 206d 6f64 6966 6965 6420 6d6f  been modified mo
-00001060: 7265 2072 6563 656e 746c 7920 616e 7920  re recently any 
-00001070: 746f 6b65 6e73 2069 6e20 7468 6520 636f  tokens in the co
-00001080: 6e66 6967 2077 696c 6c20 6265 2074 7269  nfig will be tri
-00001090: 6564 2066 6972 7374 0a20 2020 2023 2069  ed first.    # i
-000010a0: 6620 626f 7468 2066 6169 6c20 7573 6572  f both fail user
-000010b0: 2077 696c 6c20 6265 2070 726f 6d70 7465   will be prompte
-000010c0: 6420 666f 7220 746f 6b65 6e20 6966 206e  d for token if n
-000010d0: 6f20 7573 6572 2f70 6173 7320 6f72 206f  o user/pass or o
-000010e0: 6e20 496e 7465 726e 616c 2043 6c75 7374  n Internal Clust
-000010f0: 6572 2e0a 2020 2020 6966 2074 6f6b 656e  er..    if token
-00001100: 5f63 6163 6865 2e69 735f 6669 6c65 2829  _cache.is_file()
-00001110: 3a0a 2020 2020 2020 2020 6361 6368 655f  :.        cache_
-00001120: 746f 6b65 6e20 3d20 636f 6e6e 2e6c 6f61  token = conn.loa
-00001130: 6454 6f6b 656e 2829 0a20 2020 2020 2020  dToken().       
-00001140: 2069 6620 6361 6368 655f 746f 6b65 6e3a   if cache_token:
-00001150: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00001160: 746f 6b65 6e5f 6361 6368 652e 7374 6174  token_cache.stat
-00001170: 2829 2e73 745f 6d74 696d 6520 3e20 636f  ().st_mtime > co
-00001180: 6e66 6967 2e66 696c 652e 7374 6174 2829  nfig.file.stat()
-00001190: 2e73 745f 6d74 696d 653a 0a20 2020 2020  .st_mtime:.     
-000011a0: 2020 2020 2020 2020 2020 2063 6f6e 6e2e             conn.
-000011b0: 6365 6e74 7261 6c5f 696e 666f 5b22 7265  central_info["re
-000011c0: 7472 795f 746f 6b65 6e22 5d20 3d20 636f  try_token"] = co
-000011d0: 6e6e 2e63 656e 7472 616c 5f69 6e66 6f5b  nn.central_info[
-000011e0: 2274 6f6b 656e 225d 0a20 2020 2020 2020  "token"].       
-000011f0: 2020 2020 2020 2020 2063 6f6e 6e2e 6365           conn.ce
-00001200: 6e74 7261 6c5f 696e 666f 5b22 746f 6b65  ntral_info["toke
-00001210: 6e22 5d20 3d20 6361 6368 655f 746f 6b65  n"] = cache_toke
-00001220: 6e0a 2020 2020 2020 2020 2020 2020 656c  n.            el
-00001230: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00001240: 2020 2020 636f 6e6e 2e63 656e 7472 616c      conn.central
-00001250: 5f69 6e66 6f5b 2272 6574 7279 5f74 6f6b  _info["retry_tok
-00001260: 656e 225d 203d 2063 6163 6865 5f74 6f6b  en"] = cache_tok
-00001270: 656e 0a0a 2020 2020 2020 2020 2020 2020  en..            
-00001280: 2320 436f 6d70 6172 6520 746f 6b65 6e73  # Compare tokens
-00001290: 2061 6e64 2072 656d 6f76 6520 7265 7472   and remove retr
-000012a0: 7920 746f 6b65 6e20 6966 2074 6865 7920  y token if they 
-000012b0: 6172 6520 7468 6520 7361 6d65 2e20 2052  are the same.  R
-000012c0: 6172 6520 7363 656e 6172 696f 0a20 2020  are scenario.   
-000012d0: 2020 2020 2020 2020 2069 6620 636f 6e6e           if conn
-000012e0: 2e63 656e 7472 616c 5f69 6e66 6f5b 2272  .central_info["r
-000012f0: 6574 7279 5f74 6f6b 656e 225d 5b22 7265  etry_token"]["re
-00001300: 6672 6573 685f 746f 6b65 6e22 5d20 3d3d  fresh_token"] ==
-00001310: 2063 6f6e 6e2e 6365 6e74 7261 6c5f 696e   conn.central_in
-00001320: 666f 5b22 746f 6b65 6e22 5d5b 2272 6566  fo["token"]["ref
-00001330: 7265 7368 5f74 6f6b 656e 225d 3a0a 2020  resh_token"]:.  
-00001340: 2020 2020 2020 2020 2020 2020 2020 6465                de
-00001350: 6c20 636f 6e6e 2e63 656e 7472 616c 5f69  l conn.central_i
-00001360: 6e66 6f5b 2272 6574 7279 5f74 6f6b 656e  nfo["retry_token
-00001370: 225d 0a20 2020 2065 6c73 653a 0a20 2020  "].    else:.   
-00001380: 2020 2020 2069 6620 6e6f 7420 636f 6e6e       if not conn
-00001390: 2e73 746f 7265 546f 6b65 6e28 636f 6e6e  .storeToken(conn
-000013a0: 2e63 656e 7472 616c 5f69 6e66 6f2e 6765  .central_info.ge
-000013b0: 7428 2274 6f6b 656e 2229 293a 0a20 2020  t("token")):.   
-000013c0: 2020 2020 2020 2020 206c 6f67 2e77 6172           log.war
-000013d0: 6e69 6e67 2822 4661 696c 6564 2074 6f20  ning("Failed to 
-000013e0: 5374 6f72 6520 546f 6b65 6e20 616e 6420  Store Token and 
-000013f0: 746f 6b65 6e20 6361 6368 6520 646f 6573  token cache does
-00001400: 6e27 7420 6578 6973 7420 7965 742e 222c  n't exist yet.",
-00001410: 2073 686f 773d 5472 7565 290a 0a20 2020   show=True)..   
-00001420: 2072 6574 7572 6e20 636f 6e6e 0a0a 636c   return conn..cl
-00001430: 6173 7320 4365 6e74 7261 6c41 7069 2853  ass CentralApi(S
-00001440: 6573 7369 6f6e 293a 0a20 2020 2064 6566  ession):.    def
-00001450: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-00001460: 6163 636f 756e 745f 6e61 6d65 3a20 7374  account_name: st
-00001470: 7220 3d20 2263 656e 7472 616c 5f69 6e66  r = "central_inf
-00001480: 6f22 293a 0a20 2020 2020 2020 2073 656c  o"):.        sel
-00001490: 662e 7369 6c65 6e74 203d 2046 616c 7365  f.silent = False
-000014a0: 2020 2320 746f 6767 6c65 6420 696e 205f    # toggled in _
-000014b0: 6261 7463 685f 7265 7175 6573 7420 746f  batch_request to
-000014c0: 2073 7175 656c 6368 2041 7574 6f20 6c6f   squelch Auto lo
-000014d0: 6767 696e 6720 696e 2052 6573 706f 6e73  gging in Respons
-000014e0: 650a 2020 2020 2020 2020 6966 2063 6f6e  e.        if con
-000014f0: 6669 672e 7661 6c69 6420 616e 6420 636f  fig.valid and co
-00001500: 6e73 7461 6e74 732e 646f 5f6c 6f61 645f  nstants.do_load_
-00001510: 7079 6365 6e74 7261 6c28 293a 0a20 2020  pycentral():.   
-00001520: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-00001530: 7468 203d 2067 6574 5f63 6f6e 6e5f 6672  th = get_conn_fr
-00001540: 6f6d 5f66 696c 6528 6163 636f 756e 745f  om_file(account_
-00001550: 6e61 6d65 290a 2020 2020 2020 2020 2020  name).          
-00001560: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-00001570: 5f5f 2861 7574 683d 7365 6c66 2e61 7574  __(auth=self.aut
-00001580: 6829 0a0a 2020 2020 4073 7461 7469 636d  h)..    @staticm
-00001590: 6574 686f 640a 2020 2020 6465 6620 5f6d  ethod.    def _m
-000015a0: 616b 655f 666f 726d 5f64 6174 6128 6461  ake_form_data(da
-000015b0: 7461 3a20 6469 6374 293a 0a20 2020 2020  ta: dict):.     
-000015c0: 2020 2023 2054 4f44 4f20 686f 7720 746f     # TODO how to
-000015d0: 2070 6163 6b61 6765 2070 7974 686f 6e20   package python 
-000015e0: 6461 7461 2073 7472 7563 7420 696e 746f  data struct into
-000015f0: 2066 6f72 6d2d 6461 7461 2066 6f72 2041   form-data for A
-00001600: 5049 2063 616c 6c0a 2020 2020 2020 2020  PI call.        
-00001610: 2320 692e 652e 2075 7064 6174 655f 7661  # i.e. update_va
-00001620: 7269 6162 6c65 730a 2020 2020 2020 2020  riables.        
-00001630: 666f 726d 203d 2061 696f 6874 7470 2e46  form = aiohttp.F
-00001640: 6f72 6d44 6174 6128 290a 2020 2020 2020  ormData().      
-00001650: 2020 666f 7220 6b65 792c 2076 616c 7565    for key, value
-00001660: 2069 6e20 6461 7461 2e69 7465 6d73 2829   in data.items()
-00001670: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
-00001680: 726d 2e61 6464 5f66 6965 6c64 280a 2020  rm.add_field(.  
-00001690: 2020 2020 2020 2020 2020 2020 2020 6b65                ke
-000016a0: 792c 0a20 2020 2020 2020 2020 2020 2020  y,.             
-000016b0: 2020 206a 736f 6e2e 6475 6d70 7328 7661     json.dumps(va
-000016c0: 6c75 6529 2069 6620 6973 696e 7374 616e  lue) if isinstan
-000016d0: 6365 2876 616c 7565 2c20 286c 6973 742c  ce(value, (list,
-000016e0: 2064 6963 7429 2920 656c 7365 2076 616c   dict)) else val
-000016f0: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-00001700: 2020 2020 636f 6e74 656e 745f 7479 7065      content_type
-00001710: 3d22 6d75 6c74 6970 6172 742f 666f 726d  ="multipart/form
-00001720: 2d64 6174 6122 2c0a 2020 2020 2020 2020  -data",.        
-00001730: 2020 2020 2020 2020 6669 6c65 6e61 6d65          filename
-00001740: 3d22 7570 6c6f 6164 220a 2020 2020 2020  ="upload".      
-00001750: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
-00001760: 2072 6574 7572 6e20 666f 726d 0a0a 2020   return form..  
-00001770: 2020 4073 7461 7469 636d 6574 686f 640a    @staticmethod.
-00001780: 2020 2020 6465 6620 7374 7269 705f 6e6f      def strip_no
-00001790: 6e65 285f 6469 6374 3a20 556e 696f 6e5b  ne(_dict: Union[
-000017a0: 6469 6374 2c20 4e6f 6e65 5d29 202d 3e20  dict, None]) -> 
-000017b0: 556e 696f 6e5b 6469 6374 2c20 4e6f 6e65  Union[dict, None
-000017c0: 5d3a 0a20 2020 2020 2020 2022 2222 7374  ]:.        """st
-000017d0: 7269 7020 616c 6c20 6b65 7973 2066 726f  rip all keys fro
-000017e0: 6d20 6120 6469 6374 2077 6865 7265 2076  m a dict where v
-000017f0: 616c 7565 2069 7320 4e6f 6e65 5479 7065  alue is NoneType
-00001800: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
-00001810: 6f74 2069 7369 6e73 7461 6e63 6528 5f64  ot isinstance(_d
-00001820: 6963 742c 2064 6963 7429 3a0a 2020 2020  ict, dict):.    
-00001830: 2020 2020 2020 2020 7265 7475 726e 205f          return _
-00001840: 6469 6374 0a0a 2020 2020 2020 2020 7265  dict..        re
-00001850: 7475 726e 207b 6b3a 2076 2066 6f72 206b  turn {k: v for k
-00001860: 2c20 7620 696e 205f 6469 6374 2e69 7465  , v in _dict.ite
-00001870: 6d73 2829 2069 6620 7620 6973 206e 6f74  ms() if v is not
-00001880: 204e 6f6e 657d 0a0a 2020 2020 6173 796e   None}..    asyn
-00001890: 6320 6465 6620 6765 745f 7377 6172 6d73  c def get_swarms
-000018a0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-000018b0: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-000018c0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000018d0: 2020 2073 7461 7475 733a 2073 7472 203d     status: str =
-000018e0: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
-000018f0: 7562 6c69 635f 6970 5f61 6464 7265 7373  ublic_ip_address
-00001900: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00001910: 2020 2020 2020 6669 656c 6473 3a20 7374        fields: st
-00001920: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00001930: 2020 6361 6c63 756c 6174 655f 746f 7461    calculate_tota
-00001940: 6c3a 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a  l: bool = None,.
-00001950: 2020 2020 2020 2020 736f 7274 3a20 7374          sort: st
-00001960: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00001970: 2020 7377 6172 6d5f 6e61 6d65 3a20 7374    swarm_name: st
-00001980: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00001990: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
-000019a0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
-000019b0: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
-000019c0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000019d0: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-000019e0: 5377 6172 6d73 2e0a 0a20 2020 2020 2020  Swarms...       
-000019f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00001a00: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-00001a10: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00001a20: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
-00001a30: 2020 2020 2020 2020 2020 2073 7461 7475             statu
-00001a40: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-00001a50: 293a 2046 696c 7465 7220 6279 2053 7761  ): Filter by Swa
-00001a60: 726d 2073 7461 7475 730a 2020 2020 2020  rm status.      
-00001a70: 2020 2020 2020 7075 626c 6963 5f69 705f        public_ip_
-00001a80: 6164 6472 6573 7320 2873 7472 2c20 6f70  address (str, op
-00001a90: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00001aa0: 6279 2070 7562 6c69 6320 6970 2061 6464  by public ip add
-00001ab0: 7265 7373 0a20 2020 2020 2020 2020 2020  ress.           
-00001ac0: 2066 6965 6c64 7320 2873 7472 2c20 6f70   fields (str, op
-00001ad0: 7469 6f6e 616c 293a 2043 6f6d 6d61 2073  tional): Comma s
-00001ae0: 6570 6172 6174 6564 206c 6973 7420 6f66  eparated list of
-00001af0: 2066 6965 6c64 7320 746f 2062 6520 7265   fields to be re
-00001b00: 7475 726e 6564 0a20 2020 2020 2020 2020  turned.         
-00001b10: 2020 2020 2020 2056 616c 6964 2066 6965         Valid fie
-00001b20: 6c64 7320 6172 653a 2073 7461 7475 732c  lds are: status,
-00001b30: 2069 705f 6164 6472 6573 732c 2070 7562   ip_address, pub
-00001b40: 6c69 635f 6970 5f61 6464 7265 7373 2c20  lic_ip_address, 
-00001b50: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
-00001b60: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
-00001b70: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
-00001b80: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
-00001b90: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
-00001ba0: 6174 6520 746f 7461 6c20 5377 6172 6d73  ate total Swarms
-00001bb0: 0a20 2020 2020 2020 2020 2020 2073 6f72  .            sor
-00001bc0: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
-00001bd0: 293a 2053 6f72 7420 7061 7261 6d65 7465  ): Sort paramete
-00001be0: 7220 6d61 7920 6265 206f 6e65 206f 6620  r may be one of 
-00001bf0: 2b73 7761 726d 5f69 642c 202d 7377 6172  +swarm_id, -swar
-00001c00: 6d5f 6964 0a20 2020 2020 2020 2020 2020  m_id.           
-00001c10: 2073 7761 726d 5f6e 616d 6520 2873 7472   swarm_name (str
-00001c20: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00001c30: 7465 7220 6279 2073 7761 726d 206e 616d  ter by swarm nam
-00001c40: 650a 2020 2020 2020 2020 2020 2020 6f66  e.            of
-00001c50: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-00001c60: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00001c70: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
-00001c80: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-00001c90: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-00001ca0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-00001cb0: 7469 6f6e 206c 696d 6974 2e20 4465 6661  tion limit. Defa
-00001cc0: 756c 7420 6973 2031 3030 2061 6e64 206d  ult is 100 and m
-00001cd0: 6178 2069 7320 3130 3030 2044 6566 6175  ax is 1000 Defau
-00001ce0: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
-00001cf0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00001d00: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00001d10: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00001d20: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00001d30: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00001d40: 2020 2075 726c 203d 2022 2f6d 6f6e 6974     url = "/monit
-00001d50: 6f72 696e 672f 7631 2f73 7761 726d 7322  oring/v1/swarms"
-00001d60: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-00001d70: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00001d80: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
-00001d90: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
-00001da0: 6174 7573 273a 2073 7461 7475 732c 0a20  atus': status,. 
-00001db0: 2020 2020 2020 2020 2020 2027 7075 626c             'publ
-00001dc0: 6963 5f69 705f 6164 6472 6573 7327 3a20  ic_ip_address': 
-00001dd0: 7075 626c 6963 5f69 705f 6164 6472 6573  public_ip_addres
-00001de0: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
-00001df0: 6669 656c 6473 273a 2066 6965 6c64 732c  fields': fields,
-00001e00: 0a20 2020 2020 2020 2020 2020 2027 6361  .            'ca
-00001e10: 6c63 756c 6174 655f 746f 7461 6c27 3a20  lculate_total': 
-00001e20: 6361 6c63 756c 6174 655f 746f 7461 6c2c  calculate_total,
-00001e30: 0a20 2020 2020 2020 2020 2020 2027 736f  .            'so
-00001e40: 7274 273a 2073 6f72 742c 0a20 2020 2020  rt': sort,.     
-00001e50: 2020 2020 2020 2027 7377 6172 6d5f 6e61         'swarm_na
-00001e60: 6d65 273a 2073 7761 726d 5f6e 616d 652c  me': swarm_name,
-00001e70: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
-00001e80: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
-00001e90: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
-00001ea0: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
-00001eb0: 2020 7d0a 0a20 2020 2020 2020 2070 6172    }..        par
-00001ec0: 616d 7320 3d20 7574 696c 732e 7374 7269  ams = utils.stri
-00001ed0: 705f 6e6f 6e65 2870 6172 616d 7329 0a0a  p_none(params)..
-00001ee0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00001ef0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00001f00: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-00001f10: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00001f20: 2067 6574 5f73 7761 726d 5f64 6574 6169   get_swarm_detai
-00001f30: 6c73 2873 656c 662c 2073 7761 726d 5f69  ls(self, swarm_i
-00001f40: 643a 2073 7472 2920 2d3e 2052 6573 706f  d: str) -> Respo
-00001f50: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00001f60: 5377 6172 6d20 4465 7461 696c 732e 0a0a  Swarm Details...
-00001f70: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00001f80: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-00001f90: 6964 2028 7374 7229 3a20 5377 6172 6d20  id (str): Swarm 
-00001fa0: 4944 0a0a 2020 2020 2020 2020 5265 7475  ID..        Retu
-00001fb0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00001fc0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00001fd0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00001fe0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00001ff0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00002000: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
-00002010: 2f73 7761 726d 732f 7b73 7761 726d 5f69  /swarms/{swarm_i
-00002020: 647d 220a 0a20 2020 2020 2020 2072 6574  d}"..        ret
-00002030: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-00002040: 6574 2875 726c 290a 0a20 2020 2023 2054  et(url)..    # T
-00002050: 4f44 4f20 6e6f 7420 6120 6661 6e20 6f66  ODO not a fan of
-00002060: 202a 6172 6773 2073 6565 2069 6620 7765   *args see if we
-00002070: 2063 616e 2064 6566 696e 6520 616c 6c20   can define all 
-00002080: 7061 7261 6d73 0a20 2020 2061 7379 6e63  params.    async
-00002090: 2064 6566 2067 6574 5f63 6c69 656e 7473   def get_clients
-000020a0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-000020b0: 2020 2020 2020 2020 2a61 7267 733a 2054          *args: T
-000020c0: 7570 6c65 5b73 7472 5d2c 0a20 2020 2020  uple[str],.     
-000020d0: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
-000020e0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
-000020f0: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
-00002100: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
-00002110: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-00002120: 2020 2020 2020 206e 6574 776f 726b 3a20         network: 
-00002130: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00002140: 2020 2020 7369 7465 3a20 7374 7220 3d20      site: str = 
-00002150: 4e6f 6e65 2c0a 2020 2020 2020 2020 7365  None,.        se
-00002160: 7269 616c 3a20 7374 7220 3d20 4e6f 6e65  rial: str = None
-00002170: 2c0a 2020 2020 2020 2020 6f73 5f74 7970  ,.        os_typ
-00002180: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-00002190: 2020 2020 2020 2073 7461 636b 5f69 643a         stack_id:
-000021a0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000021b0: 2020 2020 2063 6c75 7374 6572 5f69 643a       cluster_id:
-000021c0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000021d0: 2020 2020 2062 616e 643a 2073 7472 203d       band: str =
-000021e0: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
-000021f0: 6163 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ac: str = None,.
-00002200: 2020 2020 2020 2020 2320 736f 7274 5f62          # sort_b
-00002210: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
-00002220: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-00002230: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-00002240: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-00002250: 302c 0a20 2020 2020 2020 2023 202a 2a6b  0,.        # **k
-00002260: 7761 7267 732c 0a20 2020 2029 202d 3e20  wargs,.    ) -> 
-00002270: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00002280: 2020 2222 2247 6574 2043 6c69 656e 7473    """Get Clients
-00002290: 2064 6574 6169 6c73 2e0a 0a20 2020 2020   details...     
-000022a0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-000022b0: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-000022c0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-000022d0: 6572 2062 7920 4772 6f75 702e 2044 6566  er by Group. Def
-000022e0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-000022f0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
-00002300: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-00002310: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
-00002320: 7761 726d 2e20 4465 6661 756c 7473 2074  warm. Defaults t
-00002330: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00002340: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
-00002350: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00002360: 7220 6279 206c 6162 656c 2e20 4465 6661  r by label. Defa
-00002370: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-00002380: 2020 2020 2020 2020 2020 6e65 7477 6f72            networ
-00002390: 6b20 2873 7472 2c20 6f70 7469 6f6e 616c  k (str, optional
-000023a0: 293a 2046 696c 7465 7220 6279 2057 4c41  ): Filter by WLA
-000023b0: 4e20 5353 4944 2e20 4465 6661 756c 7473  N SSID. Defaults
-000023c0: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-000023d0: 2020 2020 2020 7369 7465 2028 7374 722c        site (str,
-000023e0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-000023f0: 6572 2062 7920 7369 7465 2e20 4465 6661  er by site. Defa
-00002400: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-00002410: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-00002420: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00002430: 3a20 4669 6c74 6572 2062 7920 636f 6e6e  : Filter by conn
-00002440: 6563 7465 6420 6465 7669 6365 2073 6572  ected device ser
-00002450: 6961 6c2e 2044 6566 6175 6c74 7320 746f  ial. Defaults to
-00002460: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00002470: 2020 206f 735f 7479 7065 2028 7374 722c     os_type (str,
-00002480: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002490: 6572 2062 7920 636c 6965 6e74 204f 5320  er by client OS 
-000024a0: 7479 7065 2e20 4465 6661 756c 7473 2074  type. Defaults t
-000024b0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-000024c0: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
-000024d0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-000024e0: 6c74 6572 2062 7920 5374 6163 6b20 4944  lter by Stack ID
-000024f0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00002500: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00002510: 636c 7573 7465 725f 6964 2028 7374 722c  cluster_id (str,
-00002520: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002530: 6572 2062 7920 436c 7573 7465 7220 4944  er by Cluster ID
-00002540: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00002550: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00002560: 6261 6e64 2028 7374 722c 206f 7074 696f  band (str, optio
-00002570: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00002580: 6261 6e64 2e20 4465 6661 756c 7473 2074  band. Defaults t
-00002590: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-000025a0: 2020 2020 6d61 6320 2873 7472 2c20 6f70      mac (str, op
-000025b0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-000025c0: 6279 2063 6c69 656e 7420 4d41 432e 2044  by client MAC. D
-000025d0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-000025e0: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
-000025f0: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
-00002600: 616c 293a 2041 5049 2050 6167 696e 6720  al): API Paging 
-00002610: 6f66 6673 6574 2e20 4465 6661 756c 7473  offset. Defaults
-00002620: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-00002630: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-00002640: 7074 696f 6e61 6c29 3a20 4150 4920 7265  ptional): API re
-00002650: 636f 7264 206c 696d 6974 2070 6572 2072  cord limit per r
-00002660: 6571 7565 7374 2e20 4465 6661 756c 7473  equest. Defaults
-00002670: 2074 6f20 3130 3030 204d 6178 2031 3030   to 1000 Max 100
-00002680: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-00002690: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-000026a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-000026b0: 616c 4150 4920 5265 7370 6f6e 7365 204f  alAPI Response O
-000026c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-000026d0: 220a 2020 2020 2020 2020 7061 7261 6d73  ".        params
-000026e0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000026f0: 2022 6772 6f75 7022 3a20 6772 6f75 702c   "group": group,
-00002700: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
-00002710: 6172 6d5f 6964 223a 2073 7761 726d 5f69  arm_id": swarm_i
-00002720: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
-00002730: 6c61 6265 6c22 3a20 6c61 6265 6c2c 0a20  label": label,. 
-00002740: 2020 2020 2020 2020 2020 2022 7369 7465             "site
-00002750: 223a 2073 6974 652c 0a20 2020 2020 2020  ": site,.       
-00002760: 2020 2020 2022 7365 7269 616c 223a 2073       "serial": s
-00002770: 6572 6961 6c2c 0a20 2020 2020 2020 2020  erial,.         
-00002780: 2020 2022 636c 7573 7465 725f 6964 223a     "cluster_id":
-00002790: 2063 6c75 7374 6572 5f69 642c 0a20 2020   cluster_id,.   
-000027a0: 2020 2020 2020 2020 2023 2027 6669 656c           # 'fiel
-000027b0: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
-000027c0: 2020 2020 2020 2020 2023 2027 736f 7274           # 'sort
-000027d0: 5f62 7927 3a20 736f 7274 5f62 792c 0a20  _by': sort_by,. 
-000027e0: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
-000027f0: 6574 223a 206f 6666 7365 742c 0a20 2020  et": offset,.   
-00002800: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
-00002810: 3a20 6c69 6d69 742c 0a20 2020 2020 2020  : limit,.       
-00002820: 207d 0a20 2020 2020 2020 2077 6c61 6e5f   }.        wlan_
-00002830: 6f6e 6c79 5f70 6172 616d 7320 3d20 7b22  only_params = {"
-00002840: 6e65 7477 6f72 6b22 3a20 6e65 7477 6f72  network": networ
-00002850: 6b2c 2022 6f73 5f74 7970 6522 3a20 6f73  k, "os_type": os
-00002860: 5f74 7970 652c 2022 6261 6e64 223a 2062  _type, "band": b
-00002870: 616e 647d 0a20 2020 2020 2020 2077 6972  and}.        wir
-00002880: 6564 5f6f 6e6c 795f 7061 7261 6d73 203d  ed_only_params =
-00002890: 207b 2273 7461 636b 5f69 6422 3a20 7374   {"stack_id": st
-000028a0: 6163 6b5f 6964 7d0a 2020 2020 2020 2020  ack_id}.        
-000028b0: 616c 6c5f 7061 7261 6d73 203d 207b 2a2a  all_params = {**
-000028c0: 7061 7261 6d73 2c20 2a2a 776c 616e 5f6f  params, **wlan_o
-000028d0: 6e6c 795f 7061 7261 6d73 2c20 2a2a 7769  nly_params, **wi
-000028e0: 7265 645f 6f6e 6c79 5f70 6172 616d 737d  red_only_params}
-000028f0: 0a20 2020 2020 2020 2077 6972 6564 5f70  .        wired_p
-00002900: 6172 616d 7320 3d20 7b2a 2a70 6172 616d  arams = {**param
-00002910: 732c 202a 2a77 6972 6564 5f6f 6e6c 795f  s, **wired_only_
-00002920: 7061 7261 6d73 7d0a 2020 2020 2020 2020  params}.        
-00002930: 776c 616e 5f70 6172 616d 7320 3d20 7b2a  wlan_params = {*
-00002940: 2a70 6172 616d 732c 202a 2a77 6c61 6e5f  *params, **wlan_
-00002950: 6f6e 6c79 5f70 6172 616d 737d 0a20 2020  only_params}.   
-00002960: 2020 2020 2069 6620 5472 7565 2069 6e20       if True in 
-00002970: 5b6e 6574 776f 726b 2c20 6f73 5f74 7970  [network, os_typ
-00002980: 652c 2062 616e 645d 2061 6e64 2022 7769  e, band] and "wi
-00002990: 7265 6c65 7373 2220 6e6f 7420 696e 2061  reless" not in a
-000029a0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000029b0: 2061 7267 7320 3d20 2822 7769 7265 6c65   args = ("wirele
-000029c0: 7373 222c 202a 6172 6773 290a 2020 2020  ss", *args).    
-000029d0: 2020 2020 6966 2073 7461 636b 5f69 6420      if stack_id 
-000029e0: 616e 6420 2277 6972 6564 2220 6e6f 7420  and "wired" not 
-000029f0: 696e 2061 7267 733a 0a20 2020 2020 2020  in args:.       
-00002a00: 2020 2020 2061 7267 7320 3d20 2822 7769       args = ("wi
-00002a10: 7265 6422 2c20 2a61 7267 7329 0a0a 2020  red", *args)..  
-00002a20: 2020 2020 2020 6966 206d 6163 206f 7220        if mac or 
-00002a30: 2822 6d61 6322 2069 6e20 6172 6773 2061  ("mac" in args a
-00002a40: 6e64 2061 7267 732e 696e 6465 7828 226d  nd args.index("m
-00002a50: 6163 2229 203c 206c 656e 2861 7267 7329  ac") < len(args)
-00002a60: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-00002a70: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
-00002a80: 2020 2020 2020 205f 6d61 6320 3d20 7574         _mac = ut
-00002a90: 696c 732e 4d61 6328 0a20 2020 2020 2020  ils.Mac(.       
-00002aa0: 2020 2020 2020 2020 2020 2020 206d 6163               mac
-00002ab0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00002ac0: 2020 2020 2020 6675 7a7a 793d 5472 7565        fuzzy=True
-00002ad0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00002ae0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00002af0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00002b00: 2020 2020 2020 5f6d 6163 203d 2075 7469        _mac = uti
-00002b10: 6c73 2e4d 6163 280a 2020 2020 2020 2020  ls.Mac(.        
-00002b20: 2020 2020 2020 2020 2020 2020 6172 6773              args
-00002b30: 5b61 7267 732e 696e 6465 7828 226d 6163  [args.index("mac
-00002b40: 2229 202b 2031 5d2c 0a20 2020 2020 2020  ") + 1],.       
-00002b50: 2020 2020 2020 2020 2020 2020 2066 757a               fuz
-00002b60: 7a79 3d54 7275 652c 0a20 2020 2020 2020  zy=True,.       
-00002b70: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00002b80: 2020 2020 2020 2069 6620 5f6d 6163 2e6f         if _mac.o
-00002b90: 6b3a 0a20 2020 2020 2020 2020 2020 2020  k:.             
-00002ba0: 2020 206d 6163 203d 205f 6d61 630a 2020     mac = _mac.  
-00002bb0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00002bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002bd0: 7265 7475 726e 2052 6573 706f 6e73 6528  return Response(
-00002be0: 6572 726f 723d 2249 4e56 414c 4944 204d  error="INVALID M
-00002bf0: 4143 222c 206f 7574 7075 743d 6622 5468  AC", output=f"Th
-00002c00: 6520 5072 6f76 6964 6564 204d 4143 207b  e Provided MAC {
-00002c10: 5f6d 6163 7d20 4170 7065 6172 7320 746f  _mac} Appears to
-00002c20: 2062 6520 696e 7661 6c69 642e 2229 0a0a   be invalid.")..
-00002c30: 2020 2020 2020 2020 6966 206e 6f74 2061          if not a
-00002c40: 7267 7320 6f72 2022 616c 6c22 2069 6e20  rgs or "all" in 
-00002c50: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-00002c60: 2020 6966 206d 6163 3a0a 2020 2020 2020    if mac:.      
-00002c70: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00002c80: 2061 7761 6974 2073 656c 662e 6765 745f   await self.get_
-00002c90: 636c 6965 6e74 5f64 6574 6169 6c73 286d  client_details(m
-00002ca0: 6163 2c29 0a20 2020 2020 2020 2020 2020  ac,).           
-00002cb0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00002cc0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00002cd0: 6169 7420 7365 6c66 2e67 6574 5f61 6c6c  ait self.get_all
-00002ce0: 5f63 6c69 656e 7473 282a 2a61 6c6c 5f70  _clients(**all_p
-00002cf0: 6172 616d 732c 290a 2020 2020 2020 2020  arams,).        
-00002d00: 656c 6966 2022 7769 7265 6422 2069 6e20  elif "wired" in 
-00002d10: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-00002d20: 2020 6966 206d 6163 3a0a 2020 2020 2020    if mac:.      
-00002d30: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00002d40: 2061 7761 6974 2073 656c 662e 6765 745f   await self.get_
-00002d50: 636c 6965 6e74 5f64 6574 6169 6c73 286d  client_details(m
-00002d60: 6163 2c20 6465 765f 7479 7065 3d22 7769  ac, dev_type="wi
-00002d70: 7265 6422 2c29 0a20 2020 2020 2020 2020  red",).         
-00002d80: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00002d90: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00002da0: 6177 6169 7420 7365 6c66 2e67 6574 5f77  await self.get_w
-00002db0: 6972 6564 5f63 6c69 656e 7473 282a 2a77  ired_clients(**w
-00002dc0: 6972 6564 5f70 6172 616d 732c 290a 2020  ired_params,).  
-00002dd0: 2020 2020 2020 656c 6966 2022 7769 7265        elif "wire
-00002de0: 6c65 7373 2220 696e 2061 7267 733a 0a20  less" in args:. 
-00002df0: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
-00002e00: 633a 0a20 2020 2020 2020 2020 2020 2020  c:.             
-00002e10: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00002e20: 7365 6c66 2e67 6574 5f63 6c69 656e 745f  self.get_client_
-00002e30: 6465 7461 696c 7328 6d61 632c 2064 6576  details(mac, dev
-00002e40: 5f74 7970 653d 2277 6972 656c 6573 7322  _type="wireless"
-00002e50: 2c29 0a20 2020 2020 2020 2020 2020 2065  ,).            e
-00002e60: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00002e70: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00002e80: 7420 7365 6c66 2e67 6574 5f77 6972 656c  t self.get_wirel
-00002e90: 6573 735f 636c 6965 6e74 7328 2a2a 776c  ess_clients(**wl
-00002ea0: 616e 5f70 6172 616d 732c 290a 2020 2020  an_params,).    
-00002eb0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00002ec0: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-00002ed0: 706f 6e73 6528 0a20 2020 2020 2020 2020  ponse(.         
-00002ee0: 2020 2020 2020 2065 7272 6f72 3d22 494e         error="IN
-00002ef0: 5641 4c49 4420 4152 4755 4d45 4e54 222c  VALID ARGUMENT",
-00002f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002f10: 206f 7574 7075 743d 6622 7b61 7267 737d   output=f"{args}
-00002f20: 2061 7070 6561 7273 2074 6f20 6265 2069   appears to be i
-00002f30: 6e76 616c 6964 222c 0a20 2020 2020 2020  nvalid",.       
-00002f40: 2020 2020 2029 0a0a 2020 2020 6173 796e       )..    asyn
-00002f50: 6320 6465 6620 6765 745f 616c 6c5f 636c  c def get_all_cl
-00002f60: 6965 6e74 7328 0a20 2020 2020 2020 2073  ients(.        s
-00002f70: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
-00002f80: 7570 3a20 7374 7220 3d20 4e6f 6e65 2c0a  up: str = None,.
-00002f90: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-00002fa0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00002fb0: 2020 2020 2020 6c61 6265 6c3a 2073 7472        label: str
-00002fc0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00002fd0: 206e 6574 776f 726b 3a20 7374 7220 3d20   network: str = 
-00002fe0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
-00002ff0: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
-00003000: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-00003010: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00003020: 2020 2020 6f73 5f74 7970 653a 2073 7472      os_type: str
-00003030: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00003040: 2073 7461 636b 5f69 643a 2073 7472 203d   stack_id: str =
-00003050: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-00003060: 6c75 7374 6572 5f69 643a 2073 7472 203d  luster_id: str =
-00003070: 204e 6f6e 652c 0a20 2020 2020 2020 2062   None,.        b
-00003080: 616e 643a 2073 7472 203d 204e 6f6e 652c  and: str = None,
-00003090: 0a20 2020 2020 2020 2023 2073 6f72 745f  .        # sort_
-000030a0: 6279 3a20 7374 7220 3d20 4e6f 6e65 2c0a  by: str = None,.
-000030b0: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
-000030c0: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
-000030d0: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
-000030e0: 3030 2c0a 2020 2020 2020 2020 2320 2a2a  00,.        # **
-000030f0: 6b77 6172 6773 2c0a 2020 2020 2920 2d3e  kwargs,.    ) ->
-00003100: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00003110: 2020 2022 2222 4765 7420 416c 6c20 636c     """Get All cl
-00003120: 6965 6e74 730a 0a20 2020 2020 2020 202f  ients..        /
-00003130: 2f20 5573 6564 2069 6e64 6972 6563 746c  / Used indirectl
-00003140: 7920 6279 2073 686f 7720 636c 6965 6e74  y by show client
-00003150: 7320 2f2f 0a0a 2020 2020 2020 2020 4172  s //..        Ar
-00003160: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00003170: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
-00003180: 6f6e 616c 293a 2052 6574 7572 6e20 636c  onal): Return cl
-00003190: 6965 6e74 7320 636f 6e6e 6563 7465 6420  ients connected 
-000031a0: 746f 2064 6576 6963 6573 2069 6e20 6120  to devices in a 
-000031b0: 6769 7665 6e20 6772 6f75 702e 2044 6566  given group. Def
-000031c0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-000031d0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
-000031e0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-000031f0: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
-00003200: 6e74 7320 636f 6e6e 6563 7465 6420 746f  nts connected to
-00003210: 2073 7761 726d 2062 7920 7377 6172 6d5f   swarm by swarm_
-00003220: 6964 2e20 4465 6661 756c 7473 2074 6f20  id. Defaults to 
-00003230: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-00003240: 2020 6c61 6265 6c20 2873 7472 2c20 6f70    label (str, op
-00003250: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
-00003260: 636c 6965 6e74 7320 636f 6e6e 6563 7465  clients connecte
-00003270: 6420 746f 2064 6576 6963 6520 7769 7468  d to device with
-00003280: 2070 726f 7669 6465 6420 6c61 6265 6c2e   provided label.
-00003290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000032a0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-000032b0: 652e 0a20 2020 2020 2020 2020 2020 206e  e..            n
-000032c0: 6574 776f 726b 2028 7374 722c 206f 7074  etwork (str, opt
-000032d0: 696f 6e61 6c29 3a20 5265 7475 726e 2063  ional): Return c
-000032e0: 6c69 656e 7473 2066 6f72 2067 6976 656e  lients for given
-000032f0: 206e 6574 776f 726b 2028 5353 4944 292e   network (SSID).
-00003300: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00003310: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
-00003320: 6974 6520 2873 7472 2c20 6f70 7469 6f6e  ite (str, option
-00003330: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
-00003340: 6e74 7320 696e 2061 2070 6172 7469 6375  nts in a particu
-00003350: 6c61 7220 7369 7465 2e20 4465 6661 756c  lar site. Defaul
-00003360: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00003370: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
-00003380: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00003390: 5265 7475 726e 2063 6c69 656e 7473 2063  Return clients c
-000033a0: 6f6e 6e65 6374 6564 2074 6f20 7468 6520  onnected to the 
-000033b0: 6465 7669 6365 2077 6974 6820 6769 7665  device with give
-000033c0: 6e20 7365 7269 616c 2e20 4465 6661 756c  n serial. Defaul
-000033d0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-000033e0: 2020 2020 2020 2020 6f73 5f74 7970 6520          os_type 
-000033f0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00003400: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
-00003410: 7769 7468 2070 726f 7669 6465 6420 6f73  with provided os
-00003420: 5f74 7970 652e 2044 6566 6175 6c74 7320  _type. Defaults 
-00003430: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-00003440: 2020 2020 2073 7461 636b 5f69 6420 2873       stack_id (s
-00003450: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
-00003460: 6574 7572 6e20 636c 6965 6e74 7320 636f  eturn clients co
-00003470: 6e6e 6563 7465 6420 746f 2073 7461 636b  nnected to stack
-00003480: 2077 6974 6820 7072 6f76 6964 6564 2069   with provided i
-00003490: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
-000034a0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-000034b0: 2063 6c75 7374 6572 5f69 6420 2873 7472   cluster_id (str
-000034c0: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
-000034d0: 7572 6e20 636c 6965 6e74 7320 636f 6e6e  urn clients conn
-000034e0: 6563 7465 6420 746f 2063 6c75 7374 6572  ected to cluster
-000034f0: 2077 6974 6820 7072 6f76 6964 6564 2069   with provided i
-00003500: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
-00003510: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-00003520: 2062 616e 6420 2873 7472 2c20 6f70 7469   band (str, opti
-00003530: 6f6e 616c 293a 2052 6574 7572 6e20 2857  onal): Return (W
-00003540: 4c41 4e29 2063 6c69 656e 7473 2063 6f6e  LAN) clients con
-00003550: 6e65 6374 6564 2074 6f20 7072 6f76 6964  nected to provid
-00003560: 6564 2062 616e 642e 2044 6566 6175 6c74  ed band. Default
-00003570: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-00003580: 2020 2020 2020 2046 4958 4d45 2073 6f72         FIXME sor
-00003590: 745f 6279 2028 7374 722c 206f 7074 696f  t_by (str, optio
-000035a0: 6e61 6c29 3a20 536f 7274 204f 7574 7075  nal): Sort Outpu
-000035b0: 7420 6f6e 2070 726f 7669 6465 6420 6b65  t on provided ke
-000035c0: 7920 6669 656c 642e 2044 6566 6175 6c74  y field. Default
-000035d0: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-000035e0: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
-000035f0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2041  nt, optional): A
-00003600: 5049 206f 6666 7365 742e 2044 6566 6175  PI offset. Defau
-00003610: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-00003620: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-00003630: 2c20 6f70 7469 6f6e 616c 293a 2041 5049  , optional): API
-00003640: 2072 6563 6f72 6420 6c69 6d69 742e 2044   record limit. D
-00003650: 6566 6175 6c74 7320 746f 2031 3030 302c  efaults to 1000,
-00003660: 204d 6178 2031 3030 302e 0a0a 2020 2020   Max 1000...    
-00003670: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00003680: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00003690: 653a 2043 656e 7472 616c 436c 692e 5265  e: CentralCli.Re
-000036a0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-000036b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000036c0: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-000036d0: 2020 2020 2020 2020 2022 6772 6f75 7022           "group"
-000036e0: 3a20 6772 6f75 702c 0a20 2020 2020 2020  : group,.       
-000036f0: 2020 2020 2022 7377 6172 6d5f 6964 223a       "swarm_id":
-00003700: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
-00003710: 2020 2020 2020 2022 6c61 6265 6c22 3a20         "label": 
-00003720: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
-00003730: 2020 2022 7369 7465 223a 2073 6974 652c     "site": site,
-00003740: 0a20 2020 2020 2020 2020 2020 2022 7365  .            "se
-00003750: 7269 616c 223a 2073 6572 6961 6c2c 0a20  rial": serial,. 
-00003760: 2020 2020 2020 2020 2020 2022 636c 7573             "clus
-00003770: 7465 725f 6964 223a 2063 6c75 7374 6572  ter_id": cluster
-00003780: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00003790: 2023 2027 6669 656c 6473 273a 2066 6965   # 'fields': fie
-000037a0: 6c64 732c 0a20 2020 2020 2020 2020 2020  lds,.           
-000037b0: 2023 2027 736f 7274 5f62 7927 3a20 736f   # 'sort_by': so
-000037c0: 7274 5f62 792c 0a20 2020 2020 2020 2020  rt_by,.         
-000037d0: 2020 2022 6f66 6673 6574 223a 206f 6666     "offset": off
-000037e0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-000037f0: 2022 6c69 6d69 7422 3a20 6c69 6d69 742c   "limit": limit,
-00003800: 0a20 2020 2020 2020 2020 2020 2022 6361  .            "ca
-00003810: 6c63 756c 6174 655f 746f 7461 6c22 3a20  lculate_total": 
-00003820: 5472 7565 0a20 2020 2020 2020 207d 0a20  True.        }. 
-00003830: 2020 2020 2020 2077 6c61 6e5f 6f6e 6c79         wlan_only
-00003840: 5f70 6172 616d 7320 3d20 7b22 6e65 7477  _params = {"netw
-00003850: 6f72 6b22 3a20 6e65 7477 6f72 6b2c 2022  ork": network, "
-00003860: 6f73 5f74 7970 6522 3a20 6f73 5f74 7970  os_type": os_typ
-00003870: 652c 2022 6261 6e64 223a 2062 616e 647d  e, "band": band}
-00003880: 0a20 2020 2020 2020 2077 6972 6564 5f6f  .        wired_o
-00003890: 6e6c 795f 7061 7261 6d73 203d 207b 2273  nly_params = {"s
-000038a0: 7461 636b 5f69 6422 3a20 7374 6163 6b5f  tack_id": stack_
-000038b0: 6964 7d0a 0a20 2020 2020 2020 2023 2072  id}..        # r
-000038c0: 6573 7020 3d20 6177 6169 7420 7365 6c66  esp = await self
-000038d0: 2e67 6574 5f77 6972 656c 6573 735f 636c  .get_wireless_cl
-000038e0: 6965 6e74 7328 2a2a 7b2a 2a70 6172 616d  ients(**{**param
-000038f0: 732c 202a 2a77 6c61 6e5f 6f6e 6c79 5f70  s, **wlan_only_p
-00003900: 6172 616d 737d 2c29 2020 2320 2a2a 6b77  arams},)  # **kw
-00003910: 6172 6773 290a 2020 2020 2020 2020 2320  args).        # 
-00003920: 6966 2072 6573 702e 6f6b 3a0a 2020 2020  if resp.ok:.    
-00003930: 2020 2020 2320 2020 2020 776c 616e 5f72      #     wlan_r
-00003940: 6573 7020 3d20 7265 7370 0a20 2020 2020  esp = resp.     
-00003950: 2020 2023 2020 2020 2077 6972 6564 5f72     #     wired_r
-00003960: 6573 7020 3d20 6177 6169 7420 7365 6c66  esp = await self
-00003970: 2e67 6574 5f77 6972 6564 5f63 6c69 656e  .get_wired_clien
-00003980: 7473 282a 2a7b 2a2a 7061 7261 6d73 2c20  ts(**{**params, 
-00003990: 2a2a 7769 7265 645f 6f6e 6c79 5f70 6172  **wired_only_par
-000039a0: 616d 737d 2920 2023 202a 2a6b 7761 7267  ams})  # **kwarg
-000039b0: 7329 0a20 2020 2020 2020 2023 2020 2020  s).        #    
-000039c0: 2069 6620 7769 7265 645f 7265 7370 2e6f   if wired_resp.o
-000039d0: 6b3a 0a20 2020 2020 2020 2023 2020 2020  k:.        #    
-000039e0: 2020 2020 2072 6573 702e 6f75 7470 7574       resp.output
-000039f0: 203d 2077 6c61 6e5f 7265 7370 2e6f 7574   = wlan_resp.out
-00003a00: 7075 7420 2b20 7769 7265 645f 7265 7370  put + wired_resp
-00003a10: 2e6f 7574 7075 740a 0a20 2020 2020 2020  .output..       
-00003a20: 2072 6571 7320 3d20 5b0a 2020 2020 2020   reqs = [.      
-00003a30: 2020 2020 2020 7365 6c66 2e42 6174 6368        self.Batch
-00003a40: 5265 7175 6573 7428 7365 6c66 2e67 6574  Request(self.get
-00003a50: 5f77 6972 656c 6573 735f 636c 6965 6e74  _wireless_client
-00003a60: 732c 202a 2a7b 2a2a 7061 7261 6d73 2c20  s, **{**params, 
-00003a70: 2a2a 776c 616e 5f6f 6e6c 795f 7061 7261  **wlan_only_para
-00003a80: 6d73 7d29 2c0a 2020 2020 2020 2020 2020  ms}),.          
-00003a90: 2020 7365 6c66 2e42 6174 6368 5265 7175    self.BatchRequ
-00003aa0: 6573 7428 7365 6c66 2e67 6574 5f77 6972  est(self.get_wir
-00003ab0: 6564 5f63 6c69 656e 7473 2c20 2a2a 7b2a  ed_clients, **{*
-00003ac0: 2a70 6172 616d 732c 202a 2a77 6972 6564  *params, **wired
-00003ad0: 5f6f 6e6c 795f 7061 7261 6d73 7d29 0a20  _only_params}). 
-00003ae0: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00003af0: 2023 2046 4958 4d45 2069 6620 7769 7265   # FIXME if wire
-00003b00: 6c65 7373 2063 6c69 656e 7473 2063 616c  less clients cal
-00003b10: 6c20 7061 7373 6573 2062 7574 2077 6972  l passes but wir
-00003b20: 6564 2066 6169 6c73 2074 6865 7265 2069  ed fails there i
-00003b30: 7320 6e6f 2069 6e64 6963 6174 696f 6e20  s no indication 
-00003b40: 696e 2063 656e 636c 6920 7368 6f77 2063  in cencli show c
-00003b50: 6c69 656e 7473 206f 7574 7075 740a 2020  lients output.  
-00003b60: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-00003b70: 6974 2073 656c 662e 5f62 6174 6368 5f72  it self._batch_r
-00003b80: 6571 7565 7374 2872 6571 7329 0a20 2020  equest(reqs).   
-00003b90: 2020 2020 2069 6620 6c65 6e28 7265 7370       if len(resp
-00003ba0: 2920 3d3d 2032 3a20 2023 2061 6e64 2061  ) == 2:  # and a
-00003bb0: 6c6c 2878 2e6f 6b20 666f 7220 7820 696e  ll(x.ok for x in
-00003bc0: 2072 6573 7029 3a0a 2020 2020 2020 2020   resp):.        
-00003bd0: 2020 2020 6f75 7420 3d20 5b5d 0a20 2020      out = [].   
-00003be0: 2020 2020 2020 2020 2066 6f72 2072 2069           for r i
-00003bf0: 6e20 7265 7370 3a0a 2020 2020 2020 2020  n resp:.        
-00003c00: 2020 2020 2020 2020 6966 2072 2e6f 6b3a          if r.ok:
-00003c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003c20: 2020 2020 206f 7574 202b 3d20 722e 6f75       out += r.ou
-00003c30: 7470 7574 0a20 2020 2020 2020 2020 2020  tput.           
-00003c40: 2072 6177 203d 205b 0a20 2020 2020 2020   raw = [.       
-00003c50: 2020 2020 2020 2020 207b 2272 6177 5f77           {"raw_w
-00003c60: 6972 656c 6573 735f 7265 7370 6f6e 7365  ireless_response
-00003c70: 223a 2072 6573 705b 305d 2e72 6177 7d2c  ": resp[0].raw},
-00003c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003c90: 207b 2272 6177 5f77 6972 6564 5f72 6573   {"raw_wired_res
-00003ca0: 706f 6e73 6522 3a20 7265 7370 5b31 5d2e  ponse": resp[1].
-00003cb0: 7261 777d 0a20 2020 2020 2020 2020 2020  raw}.           
-00003cc0: 205d 0a20 2020 2020 2020 2020 2020 2072   ].            r
-00003cd0: 6573 7020 3d20 7265 7370 5b31 5d20 6966  esp = resp[1] if
-00003ce0: 2072 6573 705b 315d 2e6f 6b20 656c 7365   resp[1].ok else
-00003cf0: 2072 6573 705b 305d 0a20 2020 2020 2020   resp[0].       
-00003d00: 2020 2020 2072 6573 702e 6f75 7470 7574       resp.output
-00003d10: 203d 206f 7574 0a20 2020 2020 2020 2020   = out.         
-00003d20: 2020 2072 6573 702e 7261 7720 3d20 7261     resp.raw = ra
-00003d30: 770a 2020 2020 2020 2020 2020 2020 2320  w.            # 
-00003d40: 544f 444f 206e 6565 6420 5265 7370 6f6e  TODO need Respon
-00003d50: 7365 2074 6f20 6861 7665 2061 6e20 6174  se to have an at
-00003d60: 7472 6962 7574 6520 7468 6174 2073 746f  tribute that sto
-00003d70: 7265 7320 6661 696c 6564 2063 616c 6c73  res failed calls
-00003d80: 2073 6f20 636c 6920 636f 6d6d 616e 6473   so cli commands
-00003d90: 2063 616e 2064 6973 706c 6179 206f 7574   can display out
-00003da0: 7075 7420 6f66 2070 6173 7365 6420 6361  put of passed ca
-00003db0: 6c6c 7320 616e 6420 6465 7461 696c 7320  lls and details 
-00003dc0: 6f6e 2065 7272 6f72 7320 2877 6865 6e20  on errors (when 
-00003dd0: 736f 6d65 2063 616c 6c73 2066 6169 6c29  some calls fail)
-00003de0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00003df0: 2072 6573 700a 0a20 2020 2061 7379 6e63   resp..    async
-00003e00: 2064 6566 2067 6574 5f63 6c69 656e 745f   def get_client_
-00003e10: 726f 616d 696e 675f 6869 7374 6f72 7928  roaming_history(
-00003e20: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00003e30: 2020 2020 2020 206d 6163 6164 6472 3a20         macaddr: 
-00003e40: 7374 722c 0a20 2020 2020 2020 2063 616c  str,.        cal
-00003e50: 6375 6c61 7465 5f74 6f74 616c 3a20 626f  culate_total: bo
-00003e60: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
-00003e70: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-00003e80: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
-00003e90: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
-00003ea0: 616d 703a 2069 6e74 203d 204e 6f6e 652c  amp: int = None,
-00003eb0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-00003ec0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00003ed0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-00003ee0: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
-00003ef0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00003f00: 2222 5769 7265 6c65 7373 2043 6c69 656e  ""Wireless Clien
-00003f10: 7420 4d6f 6269 6c69 7479 2054 7261 696c  t Mobility Trail
-00003f20: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00003f30: 0a20 2020 2020 2020 2020 2020 206d 6163  .            mac
-00003f40: 6164 6472 2028 7374 7229 3a20 4d41 4320  addr (str): MAC 
-00003f50: 6164 6472 6573 7320 6f66 2074 6865 2057  address of the W
-00003f60: 6972 656c 6573 7320 436c 6965 6e74 2074  ireless Client t
-00003f70: 6f20 6265 2071 7565 7269 6564 0a20 2020  o be queried.   
-00003f80: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-00003f90: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
-00003fa0: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
-00003fb0: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
-00003fc0: 746f 7461 6c20 7472 616e 7369 7469 6f6e  total transition
-00003fd0: 730a 2020 2020 2020 2020 2020 2020 6672  s.            fr
-00003fe0: 6f6d 5f74 696d 6573 7461 6d70 2028 696e  om_timestamp (in
-00003ff0: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-00004000: 6564 2069 6e66 6f72 6d61 7469 6f6e 2066  ed information f
-00004010: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
-00004020: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-00004030: 2065 706f 6368 0a20 2020 2020 2020 2020   epoch.         
-00004040: 2020 2020 2020 2069 6e20 7365 636f 6e64         in second
-00004050: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-00004060: 7272 656e 7420 7469 6d65 7374 616d 7020  rrent timestamp 
-00004070: 6d69 6e75 7320 3320 686f 7572 730a 2020  minus 3 hours.  
-00004080: 2020 2020 2020 2020 2020 746f 5f74 696d            to_tim
-00004090: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
-000040a0: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
-000040b0: 6f72 6d61 7469 6f6e 2074 6f20 7468 6973  ormation to this
-000040c0: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
-000040d0: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
-000040e0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
-000040f0: 2020 7365 636f 6e64 732e 2044 6566 6175    seconds. Defau
-00004100: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
-00004110: 6d65 7374 616d 700a 2020 2020 2020 2020  mestamp.        
-00004120: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
-00004130: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-00004140: 6e61 7469 6f6e 206f 6666 7365 7420 4465  nation offset De
-00004150: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
-00004160: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
-00004170: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00004180: 5061 6769 6e61 7469 6f6e 206c 696d 6974  Pagination limit
-00004190: 2e20 4465 6661 756c 7420 6973 2031 3030  . Default is 100
-000041a0: 302c 206d 6178 2069 7320 3130 3030 2e0a  0, max is 1000..
-000041b0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-000041c0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-000041d0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-000041e0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-000041f0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00004200: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00004210: 6d6f 6e69 746f 7269 6e67 2f76 312f 636c  monitoring/v1/cl
-00004220: 6965 6e74 732f 7769 7265 6c65 7373 2f7b  ients/wireless/{
-00004230: 6d61 6361 6464 727d 2f6d 6f62 696c 6974  macaddr}/mobilit
-00004240: 795f 7472 6169 6c22 0a0a 2020 2020 2020  y_trail"..      
-00004250: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00004260: 2020 2020 2020 2020 2027 6361 6c63 756c           'calcul
-00004270: 6174 655f 746f 7461 6c27 3a20 6361 6c63  ate_total': calc
-00004280: 756c 6174 655f 746f 7461 6c2c 0a20 2020  ulate_total,.   
-00004290: 2020 2020 2020 2020 2027 6672 6f6d 5f74           'from_t
-000042a0: 696d 6573 7461 6d70 273a 2066 726f 6d5f  imestamp': from_
-000042b0: 7469 6d65 7374 616d 702c 0a20 2020 2020  timestamp,.     
-000042c0: 2020 2020 2020 2027 746f 5f74 696d 6573         'to_times
-000042d0: 7461 6d70 273a 2074 6f5f 7469 6d65 7374  tamp': to_timest
-000042e0: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-000042f0: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
-00004300: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-00004310: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
-00004320: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-00004330: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00004340: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-00004350: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-00004360: 6173 796e 6320 6465 6620 6765 745f 7769  async def get_wi
-00004370: 7265 6c65 7373 5f63 6c69 656e 7473 280a  reless_clients(.
-00004380: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00004390: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
-000043a0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000043b0: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
-000043c0: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-000043d0: 6162 656c 3a20 7374 7220 3d20 4e6f 6e65  abel: str = None
-000043e0: 2c0a 2020 2020 2020 2020 7369 7465 3a20  ,.        site: 
-000043f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00004400: 2020 2020 6e65 7477 6f72 6b3a 2073 7472      network: str
-00004410: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00004420: 2073 6572 6961 6c3a 2073 7472 203d 204e   serial: str = N
-00004430: 6f6e 652c 0a20 2020 2020 2020 206f 735f  one,.        os_
-00004440: 7479 7065 3a20 7374 7220 3d20 4e6f 6e65  type: str = None
-00004450: 2c0a 2020 2020 2020 2020 636c 7573 7465  ,.        cluste
-00004460: 725f 6964 3a20 7374 7220 3d20 4e6f 6e65  r_id: str = None
-00004470: 2c0a 2020 2020 2020 2020 6261 6e64 3a20  ,.        band: 
-00004480: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00004490: 2020 2020 6669 656c 6473 3a20 7374 7220      fields: str 
-000044a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000044b0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
-000044c0: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
-000044d0: 2020 2020 2020 2320 736f 7274 5f62 793a        # sort_by:
-000044e0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000044f0: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-00004500: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-00004510: 6d69 743a 2069 6e74 203d 2031 3030 302c  mit: int = 1000,
-00004520: 0a20 2020 2020 2020 2023 202a 2a6b 7761  .        # **kwa
-00004530: 7267 732c 0a20 2020 2029 202d 3e20 5265  rgs,.    ) -> Re
-00004540: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00004550: 2222 224c 6973 7420 5769 7265 6c65 7373  """List Wireless
-00004560: 2043 6c69 656e 7473 2e0a 0a20 2020 2020   Clients...     
-00004570: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00004580: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-00004590: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-000045a0: 6572 2062 7920 6772 6f75 7020 6e61 6d65  er by group name
-000045b0: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
-000045c0: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
-000045d0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-000045e0: 2053 7761 726d 2049 440a 2020 2020 2020   Swarm ID.      
-000045f0: 2020 2020 2020 6c61 6265 6c20 2873 7472        label (str
-00004600: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00004610: 7465 7220 6279 204c 6162 656c 206e 616d  ter by Label nam
-00004620: 650a 2020 2020 2020 2020 2020 2020 7369  e.            si
-00004630: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
-00004640: 6c29 3a20 4669 6c74 6572 2062 7920 5369  l): Filter by Si
-00004650: 7465 206e 616d 650a 2020 2020 2020 2020  te name.        
-00004660: 2020 2020 6e65 7477 6f72 6b20 2873 7472      network (str
-00004670: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00004680: 7465 7220 6279 206e 6574 776f 726b 206e  ter by network n
-00004690: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-000046a0: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
-000046b0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-000046c0: 7920 4150 2073 6572 6961 6c20 6e75 6d62  y AP serial numb
-000046d0: 6572 0a20 2020 2020 2020 2020 2020 206f  er.            o
-000046e0: 735f 7479 7065 2028 7374 722c 206f 7074  s_type (str, opt
-000046f0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-00004700: 7920 636c 6965 6e74 206f 7320 7479 7065  y client os type
-00004710: 0a20 2020 2020 2020 2020 2020 2063 6c75  .            clu
-00004720: 7374 6572 5f69 6420 2873 7472 2c20 6f70  ster_id (str, op
-00004730: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00004740: 6279 204d 6f62 696c 6974 7920 436f 6e74  by Mobility Cont
-00004750: 726f 6c6c 6572 2073 6572 6961 6c20 6e75  roller serial nu
-00004760: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
-00004770: 2062 616e 6420 2873 7472 2c20 6f70 7469   band (str, opti
-00004780: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00004790: 2062 616e 642e 2056 616c 7565 2063 616e   band. Value can
-000047a0: 2062 6520 6569 7468 6572 2022 322e 3422   be either "2.4"
-000047b0: 206f 7220 2235 220a 2020 2020 2020 2020   or "5".        
-000047c0: 2020 2020 6669 656c 6473 2028 7374 722c      fields (str,
-000047d0: 206f 7074 696f 6e61 6c29 3a20 436f 6d6d   optional): Comm
-000047e0: 6120 7365 7061 7261 7465 6420 6c69 7374  a separated list
-000047f0: 206f 6620 6669 656c 6473 2074 6f20 6265   of fields to be
-00004800: 2072 6574 7572 6e65 642e 2056 616c 6964   returned. Valid
-00004810: 2066 6965 6c64 7320 6172 650a 2020 2020   fields are.    
-00004820: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00004830: 2c20 6970 5f61 6464 7265 7373 2c20 7573  , ip_address, us
-00004840: 6572 6e61 6d65 2c20 6f73 5f74 7970 652c  ername, os_type,
-00004850: 2063 6f6e 6e65 6374 696f 6e2c 2061 7373   connection, ass
-00004860: 6f63 6961 7465 645f 6465 7669 6365 2c20  ociated_device, 
-00004870: 6772 6f75 705f 6e61 6d65 2c0a 2020 2020  group_name,.    
-00004880: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-00004890: 6d5f 6964 2c20 6e65 7477 6f72 6b2c 2072  m_id, network, r
-000048a0: 6164 696f 5f6d 6163 2c20 6d61 6e75 6661  adio_mac, manufa
-000048b0: 6374 7572 6572 2c20 766c 616e 2c20 656e  cturer, vlan, en
-000048c0: 6372 7970 7469 6f6e 5f6d 6574 686f 642c  cryption_method,
-000048d0: 2072 6164 696f 5f6e 756d 6265 722c 0a20   radio_number,. 
-000048e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000048f0: 7065 6564 2c20 7573 6167 652c 2068 6561  peed, usage, hea
-00004900: 6c74 682c 206c 6162 656c 732c 2073 6974  lth, labels, sit
-00004910: 652c 2073 6967 6e61 6c5f 7374 7265 6e67  e, signal_streng
-00004920: 7468 2c20 7369 676e 616c 5f64 622c 2073  th, signal_db, s
-00004930: 6e72 0a20 2020 2020 2020 2020 2020 2063  nr.            c
-00004940: 616c 6375 6c61 7465 5f74 6f74 616c 2028  alculate_total (
-00004950: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00004960: 2057 6865 7468 6572 2074 6f20 6361 6c63   Whether to calc
-00004970: 756c 6174 6520 746f 7461 6c20 7769 7265  ulate total wire
-00004980: 6c65 7373 2043 6c69 656e 7473 0a20 2020  less Clients.   
-00004990: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
-000049a0: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
-000049b0: 6f72 7420 7061 7261 6d65 7465 7220 6d61  ort parameter ma
-000049c0: 7920 6265 206f 6e65 206f 6620 2b6d 6163  y be one of +mac
-000049d0: 6164 6472 2c20 2d6d 6163 6164 6472 2e20  addr, -macaddr. 
-000049e0: 2044 6566 6175 6c74 2069 730a 2020 2020   Default is.    
-000049f0: 2020 2020 2020 2020 2020 2020 272b 6d61              '+ma
-00004a00: 6361 6464 7227 0a20 2020 2020 2020 2020  caddr'.         
-00004a10: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-00004a20: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-00004a30: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
-00004a40: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-00004a50: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-00004a60: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-00004a70: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
-00004a80: 2044 6566 6175 6c74 2069 7320 3130 3030   Default is 1000
-00004a90: 2c20 6d61 7820 3130 3030 2e0a 0a20 2020  , max 1000...   
-00004aa0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00004ab0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00004ac0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00004ad0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00004ae0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00004af0: 2020 2075 726c 203d 2022 2f6d 6f6e 6974     url = "/monit
-00004b00: 6f72 696e 672f 7631 2f63 6c69 656e 7473  oring/v1/clients
-00004b10: 2f77 6972 656c 6573 7322 0a0a 2020 2020  /wireless"..    
-00004b20: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-00004b30: 2020 2020 2020 2020 2020 2022 6772 6f75             "grou
-00004b40: 7022 3a20 6772 6f75 702c 0a20 2020 2020  p": group,.     
-00004b50: 2020 2020 2020 2022 7377 6172 6d5f 6964         "swarm_id
-00004b60: 223a 2073 7761 726d 5f69 642c 0a20 2020  ": swarm_id,.   
-00004b70: 2020 2020 2020 2020 2022 6c61 6265 6c22           "label"
-00004b80: 3a20 6c61 6265 6c2c 0a20 2020 2020 2020  : label,.       
-00004b90: 2020 2020 2022 7369 7465 223a 2073 6974       "site": sit
-00004ba0: 652c 0a20 2020 2020 2020 2020 2020 2022  e,.            "
-00004bb0: 6e65 7477 6f72 6b22 3a20 6e65 7477 6f72  network": networ
-00004bc0: 6b2c 0a20 2020 2020 2020 2020 2020 2022  k,.            "
-00004bd0: 7365 7269 616c 223a 2073 6572 6961 6c2c  serial": serial,
-00004be0: 0a20 2020 2020 2020 2020 2020 2022 6f73  .            "os
-00004bf0: 5f74 7970 6522 3a20 6f73 5f74 7970 652c  _type": os_type,
-00004c00: 0a20 2020 2020 2020 2020 2020 2022 636c  .            "cl
-00004c10: 7573 7465 725f 6964 223a 2063 6c75 7374  uster_id": clust
-00004c20: 6572 5f69 642c 0a20 2020 2020 2020 2020  er_id,.         
-00004c30: 2020 2022 6261 6e64 223a 2062 616e 642c     "band": band,
-00004c40: 0a20 2020 2020 2020 2020 2020 2022 6669  .            "fi
-00004c50: 656c 6473 223a 2066 6965 6c64 732c 0a20  elds": fields,. 
-00004c60: 2020 2020 2020 2020 2020 2022 6361 6c63             "calc
-00004c70: 756c 6174 655f 746f 7461 6c22 3a20 7374  ulate_total": st
-00004c80: 7228 6361 6c63 756c 6174 655f 746f 7461  r(calculate_tota
-00004c90: 6c29 2e6c 6f77 6572 2829 2c0a 2020 2020  l).lower(),.    
-00004ca0: 2020 2020 2020 2020 2320 2773 6f72 7427          # 'sort'
-00004cb0: 3a20 736f 7274 5f62 792c 0a20 2020 2020  : sort_by,.     
-00004cc0: 2020 2020 2020 2022 6f66 6673 6574 223a         "offset":
-00004cd0: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
-00004ce0: 2020 2020 2022 6c69 6d69 7422 3a20 6c69       "limit": li
-00004cf0: 6d69 742c 0a20 2020 2020 2020 207d 0a0a  mit,.        }..
-00004d00: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00004d10: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00004d20: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-00004d30: 2c29 0a0a 2020 2020 6173 796e 6320 6465  ,)..    async de
-00004d40: 6620 6765 745f 7769 7265 645f 636c 6965  f get_wired_clie
-00004d50: 6e74 7328 0a20 2020 2020 2020 2073 656c  nts(.        sel
-00004d60: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
-00004d70: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00004d80: 2020 2020 2020 7377 6172 6d5f 6964 3a20        swarm_id: 
-00004d90: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00004da0: 2020 2020 6c61 6265 6c3a 2073 7472 203d      label: str =
-00004db0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00004dc0: 6974 653a 2073 7472 203d 204e 6f6e 652c  ite: str = None,
-00004dd0: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
-00004de0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00004df0: 2020 2020 2063 6c75 7374 6572 5f69 643a       cluster_id:
-00004e00: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00004e10: 2020 2020 2073 7461 636b 5f69 643a 2073       stack_id: s
-00004e20: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00004e30: 2020 2066 6965 6c64 733a 2073 7472 203d     fields: str =
-00004e40: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-00004e50: 616c 6375 6c61 7465 5f74 6f74 616c 3a20  alculate_total: 
-00004e60: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
-00004e70: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
-00004e80: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00004e90: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-00004ea0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-00004eb0: 6974 3a20 696e 7420 3d20 3130 3030 2c0a  it: int = 1000,.
-00004ec0: 2020 2020 2020 2020 2320 2a2a 6b77 6172          # **kwar
-00004ed0: 6773 2c0a 2020 2020 2920 2d3e 2052 6573  gs,.    ) -> Res
-00004ee0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00004ef0: 2222 4c69 7374 2057 6972 6564 2043 6c69  ""List Wired Cli
-00004f00: 656e 7473 2e0a 0a20 2020 2020 2020 2041  ents...        A
-00004f10: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00004f20: 2067 726f 7570 2028 7374 722c 206f 7074   group (str, opt
-00004f30: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-00004f40: 7920 6772 6f75 7020 6e61 6d65 0a20 2020  y group name.   
-00004f50: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
-00004f60: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-00004f70: 293a 2046 696c 7465 7220 6279 2053 7761  ): Filter by Swa
-00004f80: 726d 2049 440a 2020 2020 2020 2020 2020  rm ID.          
-00004f90: 2020 6c61 6265 6c20 2873 7472 2c20 6f70    label (str, op
-00004fa0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00004fb0: 6279 204c 6162 656c 206e 616d 650a 2020  by Label name.  
-00004fc0: 2020 2020 2020 2020 2020 7369 7465 2028            site (
-00004fd0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00004fe0: 4669 6c74 6572 2062 7920 5369 7465 206e  Filter by Site n
-00004ff0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00005000: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
-00005010: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-00005020: 7920 5377 6974 6368 206f 7220 4150 2073  y Switch or AP s
-00005030: 6572 6961 6c20 6e75 6d62 6572 0a20 2020  erial number.   
-00005040: 2020 2020 2020 2020 2063 6c75 7374 6572           cluster
-00005050: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-00005060: 616c 293a 2046 696c 7465 7220 6279 204d  al): Filter by M
-00005070: 6f62 696c 6974 7920 436f 6e74 726f 6c6c  obility Controll
-00005080: 6572 2073 6572 6961 6c20 6e75 6d62 6572  er serial number
-00005090: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-000050a0: 636b 5f69 6420 2873 7472 2c20 6f70 7469  ck_id (str, opti
-000050b0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-000050c0: 2053 7769 7463 6820 7374 6163 6b5f 6964   Switch stack_id
-000050d0: 0a20 2020 2020 2020 2020 2020 2066 6965  .            fie
-000050e0: 6c64 7320 2873 7472 2c20 6f70 7469 6f6e  lds (str, option
-000050f0: 616c 293a 2043 6f6d 6d61 2073 6570 6172  al): Comma separ
-00005100: 6174 6564 206c 6973 7420 6f66 2066 6965  ated list of fie
-00005110: 6c64 7320 746f 2062 6520 7265 7475 726e  lds to be return
-00005120: 6564 2e20 5661 6c69 6420 6669 656c 6473  ed. Valid fields
-00005130: 2061 7265 0a20 2020 2020 2020 2020 2020   are.           
-00005140: 2020 2020 206e 616d 652c 2069 705f 6164       name, ip_ad
-00005150: 6472 6573 732c 2075 7365 726e 616d 652c  dress, username,
-00005160: 2061 7373 6f63 6961 7465 645f 6465 7669   associated_devi
-00005170: 6365 2c20 6772 6f75 705f 6e61 6d65 2c20  ce, group_name, 
-00005180: 696e 7465 7266 6163 655f 6d61 632c 2076  interface_mac, v
-00005190: 6c61 6e0a 2020 2020 2020 2020 2020 2020  lan.            
-000051a0: 6361 6c63 756c 6174 655f 746f 7461 6c20  calculate_total 
-000051b0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-000051c0: 3a20 5768 6574 6865 7220 746f 2063 616c  : Whether to cal
-000051d0: 6375 6c61 7465 2074 6f74 616c 2077 6972  culate total wir
-000051e0: 6564 2043 6c69 656e 7473 0a20 2020 2020  ed Clients.     
-000051f0: 2020 2020 2020 2046 4958 4d45 2073 6f72         FIXME sor
-00005200: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
-00005210: 293a 2046 6965 6c64 2074 6f20 736f 7274  ): Field to sort
-00005220: 206f 6e2e 2020 4465 6661 756c 7473 2074   on.  Defaults t
-00005230: 6f20 6d61 630a 2020 2020 2020 2020 2020  o mac.          
-00005240: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-00005250: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-00005260: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-00005270: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-00005280: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-00005290: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-000052a0: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
-000052b0: 4465 6661 756c 7420 3130 3030 2c20 6d61  Default 1000, ma
-000052c0: 7820 3130 3030 2e0a 0a20 2020 2020 2020  x 1000...       
-000052d0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000052e0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000052f0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00005300: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00005310: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00005320: 726c 203d 2022 2f6d 6f6e 6974 6f72 696e  rl = "/monitorin
-00005330: 672f 7631 2f63 6c69 656e 7473 2f77 6972  g/v1/clients/wir
-00005340: 6564 220a 0a20 2020 2020 2020 2070 6172  ed"..        par
-00005350: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-00005360: 2020 2020 2267 726f 7570 223a 2067 726f      "group": gro
-00005370: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-00005380: 2273 7761 726d 5f69 6422 3a20 7377 6172  "swarm_id": swar
-00005390: 6d5f 6964 2c0a 2020 2020 2020 2020 2020  m_id,.          
-000053a0: 2020 226c 6162 656c 223a 206c 6162 656c    "label": label
-000053b0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-000053c0: 6974 6522 3a20 7369 7465 2c0a 2020 2020  ite": site,.    
-000053d0: 2020 2020 2020 2020 2273 6572 6961 6c22          "serial"
-000053e0: 3a20 7365 7269 616c 2c0a 2020 2020 2020  : serial,.      
-000053f0: 2020 2020 2020 2263 6c75 7374 6572 5f69        "cluster_i
-00005400: 6422 3a20 636c 7573 7465 725f 6964 2c0a  d": cluster_id,.
-00005410: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00005420: 636b 5f69 6422 3a20 7374 6163 6b5f 6964  ck_id": stack_id
-00005430: 2c0a 2020 2020 2020 2020 2020 2020 2266  ,.            "f
-00005440: 6965 6c64 7322 3a20 6669 656c 6473 2c0a  ields": fields,.
-00005450: 2020 2020 2020 2020 2020 2020 2263 616c              "cal
-00005460: 6375 6c61 7465 5f74 6f74 616c 223a 2073  culate_total": s
-00005470: 7472 2863 616c 6375 6c61 7465 5f74 6f74  tr(calculate_tot
-00005480: 616c 292e 6c6f 7765 7228 292c 0a20 2020  al).lower(),.   
-00005490: 2020 2020 2020 2020 2023 2027 736f 7274           # 'sort
-000054a0: 273a 2073 6f72 745f 6279 2c0a 2020 2020  ': sort_by,.    
-000054b0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
-000054c0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-000054d0: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
-000054e0: 696d 6974 2c0a 2020 2020 2020 2020 7d0a  imit,.        }.
-000054f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00005500: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00005510: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00005520: 732c 290a 0a20 2020 2061 7379 6e63 2064  s,)..    async d
-00005530: 6566 2067 6574 5f63 6c69 656e 745f 6465  ef get_client_de
-00005540: 7461 696c 7328 0a20 2020 2020 2020 2073  tails(.        s
-00005550: 656c 662c 0a20 2020 2020 2020 206d 6163  elf,.        mac
-00005560: 3a20 4d61 632c 0a20 2020 2020 2020 2064  : Mac,.        d
-00005570: 6576 5f74 7970 653a 2073 7472 203d 204e  ev_type: str = N
-00005580: 6f6e 652c 0a20 2020 2020 2020 2023 2073  one,.        # s
-00005590: 6f72 745f 6279 3a20 7374 7220 3d20 4e6f  ort_by: str = No
-000055a0: 6e65 2c0a 2020 2020 2020 2020 2a2a 6b77  ne,.        **kw
-000055b0: 6172 6773 0a20 2020 2029 202d 3e20 5265  args.    ) -> Re
-000055c0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000055d0: 2222 2247 6574 2057 6972 6564 2f57 6972  """Get Wired/Wir
-000055e0: 656c 6573 7320 436c 6965 6e74 2044 6574  eless Client Det
-000055f0: 6169 6c73 2e0a 0a20 2020 2020 2020 2041  ails...        A
-00005600: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00005610: 206d 6163 2028 7574 696c 732e 4d61 6329   mac (utils.Mac)
-00005620: 3a20 4d41 4320 6164 6472 6573 7320 6f66  : MAC address of
-00005630: 2074 6865 2057 6972 656c 6573 7320 436c   the Wireless Cl
-00005640: 6965 6e74 2074 6f20 6265 2071 7565 7269  ient to be queri
-00005650: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-00005660: 2020 2041 5049 2077 696c 6c20 7265 7475     API will retu
-00005670: 726e 2072 6573 756c 7473 206d 6174 6368  rn results match
-00005680: 696e 6720 6120 7061 7274 6961 6c20 4d61  ing a partial Ma
-00005690: 630a 0a20 2020 2020 2020 2052 6574 7572  c..        Retur
-000056a0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-000056b0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-000056c0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-000056d0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-000056e0: 0a20 2020 2020 2020 2023 2041 5049 2d46  .        # API-F
-000056f0: 4c41 5720 5468 6973 206c 6f67 6963 2069  LAW This logic i
-00005700: 7320 6865 7265 2062 6563 6175 7365 2043  s here because C
-00005710: 656e 7472 616c 2068 6173 2062 6f74 6820  entral has both 
-00005720: 6d65 7468 6f64 732c 2062 7574 2067 6976  methods, but giv
-00005730: 656e 2061 2077 6c61 6e20 636c 6965 6e74  en a wlan client
-00005740: 206d 6163 0a20 2020 2020 2020 2023 2063   mac.        # c
-00005750: 656e 7472 616c 2077 696c 6c20 7265 7475  entral will retu
-00005760: 726e 2074 6865 2063 6c69 656e 7420 6465  rn the client de
-00005770: 7461 696c 7320 6576 656e 2077 6865 6e20  tails even when 
-00005780: 7573 696e 6720 7468 6520 7769 7265 6420  using the wired 
-00005790: 7572 6c0a 0a20 2020 2020 2020 2023 204d  url..        # M
-000057a0: 6163 206d 6174 6368 206c 6f67 6963 2069  ac match logic i
-000057b0: 7320 6a61 636b 6564 2069 6e20 6365 6e74  s jacked in cent
-000057c0: 7261 6c0a 2020 2020 2020 2020 2320 6769  ral.        # gi
-000057d0: 7665 6e20 6120 636c 6965 6e74 2077 6974  ven a client wit
-000057e0: 6820 6120 4d41 4320 6f66 2061 633a 3337  h a MAC of ac:37
-000057f0: 3a34 333a 3461 3a38 653a 6661 0a20 2020  :43:4a:8e:fa.   
-00005800: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
-00005810: 204d 616b 6520 4d41 4320 696e 7661 6c69   Make MAC invali
-00005820: 6420 2863 6861 6e67 6564 206c 6173 7420  d (changed last 
-00005830: 6f63 7465 7429 3a0a 2020 2020 2020 2020  octet):.        
-00005840: 2320 2020 6163 3a33 373a 3433 3a34 613a  #   ac:37:43:4a:
-00005850: 3865 3a66 6620 4e6f 204d 6174 6368 0a20  8e:ff No Match. 
-00005860: 2020 2020 2020 2023 2020 2061 6333 3734         #   ac374
-00005870: 3334 6138 6566 6620 4e6f 204d 6174 6368  34a8eff No Match
-00005880: 0a20 2020 2020 2020 2023 2020 2061 633a  .        #   ac:
-00005890: 3337 3a34 333a 3461 3a38 652d 6666 2020  37:43:4a:8e-ff  
-000058a0: 5265 7475 726e 7320 4d41 5443 480a 2020  Returns MATCH.  
-000058b0: 2020 2020 2020 2320 2020 6163 3a33 373a        #   ac:37:
-000058c0: 3433 3a34 613a 3865 6666 2020 5265 7475  43:4a:8eff  Retu
-000058d0: 726e 7320 4d41 5443 480a 2020 2020 2020  rns MATCH.      
-000058e0: 2020 2320 2020 6163 3a33 373a 3433 3a34    #   ac:37:43:4
-000058f0: 613a 3865 6666 2020 5265 7475 726e 7320  a:8eff  Returns 
-00005900: 4d41 5443 480a 2020 2020 2020 2020 2320  MATCH.        # 
-00005910: 2020 6163 3337 3433 3461 3865 3a66 6620    ac37434a8e:ff 
-00005920: 2052 6574 7572 6e73 204d 4154 4348 0a20   Returns MATCH. 
-00005930: 2020 2020 2020 2023 2020 2061 632d 3337         #   ac-37
-00005940: 2d34 332d 3461 2d38 652d 6666 2052 6574  -43-4a-8e-ff Ret
-00005950: 7572 6e20 4d41 5443 480a 2020 2020 2020  urn MATCH.      
-00005960: 2020 2320 2020 6163 3337 2e34 3334 612e    #   ac37.434a.
-00005970: 3865 6666 2052 6574 7572 6e73 204d 4154  8eff Returns MAT
-00005980: 4348 0a20 2020 2020 2020 2069 6620 6e6f  CH.        if no
-00005990: 7420 6465 765f 7479 7065 3a0a 2020 2020  t dev_type:.    
-000059a0: 2020 2020 2020 2020 666f 7220 5f64 6576          for _dev
-000059b0: 5f74 7970 6520 696e 205b 2277 6972 656c  _type in ["wirel
-000059c0: 6573 7322 2c20 2277 6972 6564 225d 3a0a  ess", "wired"]:.
-000059d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000059e0: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
-000059f0: 696e 672f 7631 2f63 6c69 656e 7473 2f7b  ing/v1/clients/{
-00005a00: 5f64 6576 5f74 7970 657d 2f7b 6d61 632e  _dev_type}/{mac.
-00005a10: 7572 6c7d 220a 2020 2020 2020 2020 2020  url}".          
-00005a20: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-00005a30: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-00005a40: 2920 2023 2063 616c 6c62 6163 6b3d 636c  )  # callback=cl
-00005a50: 6561 6e65 722e 6765 745f 636c 6965 6e74  eaner.get_client
-00005a60: 732c 202a 2a6b 7761 7267 7329 0a20 2020  s, **kwargs).   
-00005a70: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00005a80: 7265 7370 3a0a 2020 2020 2020 2020 2020  resp:.          
-00005a90: 2020 2020 2020 2020 2020 2320 7265 7370            # resp
-00005aa0: 2e6f 7574 7075 7420 3d20 5b7b 2a2a 7b22  .output = [{**{"
-00005ab0: 636c 6965 6e74 5f74 7970 6522 3a20 5f64  client_type": _d
-00005ac0: 6576 5f74 7970 652e 7570 7065 7228 297d  ev_type.upper()}
-00005ad0: 2c20 2a2a 647d 2066 6f72 2064 2069 6e20  , **d} for d in 
-00005ae0: 7265 7370 2e6f 7574 7075 745d 0a20 2020  resp.output].   
-00005af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b00: 2062 7265 616b 0a0a 2020 2020 2020 2020   break..        
-00005b10: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
-00005b20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00005b30: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
-00005b40: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
-00005b50: 2f63 6c69 656e 7473 2f7b 6465 765f 7479  /clients/{dev_ty
-00005b60: 7065 7d2f 7b6d 6163 2e75 726c 7d22 0a20  pe}/{mac.url}". 
-00005b70: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00005b80: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00005b90: 2875 726c 2c29 2020 2320 6361 6c6c 6261  (url,)  # callba
-00005ba0: 636b 3d63 6c65 616e 6572 2e67 6574 5f63  ck=cleaner.get_c
-00005bb0: 6c69 656e 7473 2c20 2a2a 6b77 6172 6773  lients, **kwargs
-00005bc0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00005bd0: 2067 6574 5f63 6572 7469 6669 6361 7465   get_certificate
-00005be0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00005bf0: 2071 3a20 7374 7220 3d20 4e6f 6e65 2c20   q: str = None, 
-00005c00: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-00005c10: 206c 696d 6974 3a20 696e 7420 3d20 3230   limit: int = 20
-00005c20: 2c20 6361 6c6c 6261 636b 3a20 6361 6c6c  , callback: call
-00005c30: 6162 6c65 203d 204e 6f6e 652c 2063 616c  able = None, cal
-00005c40: 6c62 6163 6b5f 6b77 6172 6773 3a20 6469  lback_kwargs: di
-00005c50: 6374 203d 204e 6f6e 650a 2020 2020 2920  ct = None.    ) 
-00005c60: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00005c70: 2020 2020 2022 2222 4765 7420 4365 7274       """Get Cert
-00005c80: 6966 6963 6174 6573 2064 6574 6169 6c73  ificates details
-00005c90: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00005ca0: 0a20 2020 2020 2020 2020 2020 2071 2028  .            q (
-00005cb0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00005cc0: 5365 6172 6368 2066 6f72 2061 2070 6172  Search for a par
-00005cd0: 7469 6375 6c61 7220 6365 7274 6966 6963  ticular certific
-00005ce0: 6174 6520 6279 2069 7473 206e 616d 652c  ate by its name,
-00005cf0: 206d 6435 2068 6173 6820 6f72 2073 6861   md5 hash or sha
-00005d00: 315f 6861 7368 0a20 2020 2020 2020 2020  1_hash.         
-00005d10: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-00005d20: 6f70 7469 6f6e 616c 293a 204e 756d 6265  optional): Numbe
-00005d30: 7220 6f66 2069 7465 6d73 2074 6f20 6265  r of items to be
-00005d40: 2073 6b69 7070 6564 2062 6566 6f72 6520   skipped before 
-00005d50: 7265 7475 726e 696e 6720 7468 6520 6461  returning the da
-00005d60: 7461 2c20 7573 6566 756c 0a20 2020 2020  ta, useful.     
-00005d70: 2020 2020 2020 2020 2020 2066 6f72 2070             for p
-00005d80: 6167 696e 6174 696f 6e2e 2044 6566 6175  agination. Defau
-00005d90: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-00005da0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-00005db0: 2c20 6f70 7469 6f6e 616c 293a 204d 6178  , optional): Max
-00005dc0: 696d 756d 206e 756d 6265 7220 6f66 2072  imum number of r
-00005dd0: 6563 6f72 6473 2074 6f20 6265 2072 6574  ecords to be ret
-00005de0: 7572 6e65 642e 2044 6566 6175 6c74 7320  urned. Defaults 
-00005df0: 746f 2032 302c 204d 6178 2032 302e 0a0a  to 20, Max 20...
-00005e00: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00005e10: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00005e20: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00005e30: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00005e40: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00005e50: 2020 2020 2020 7572 6c20 3d20 222f 636f        url = "/co
-00005e60: 6e66 6967 7572 6174 696f 6e2f 7631 2f63  nfiguration/v1/c
-00005e70: 6572 7469 6669 6361 7465 7322 0a0a 2020  ertificates"..  
-00005e80: 2020 2020 2020 2320 6f66 6673 6574 2061        # offset a
-00005e90: 6e64 206c 696d 6974 2061 7265 2062 6f74  nd limit are bot
-00005ea0: 6820 7265 7175 6972 6564 2062 7920 7468  h required by th
-00005eb0: 6520 4150 4920 6d65 7468 6f64 2e0a 2020  e API method..  
-00005ec0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00005ed0: 2271 223a 2071 2c20 226f 6666 7365 7422  "q": q, "offset"
-00005ee0: 3a20 6f66 6673 6574 2c20 226c 696d 6974  : offset, "limit
-00005ef0: 223a 206c 696d 6974 7d0a 0a20 2020 2020  ": limit}..     
-00005f00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00005f10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-00005f20: 7261 6d73 3d70 6172 616d 732c 2063 616c  rams=params, cal
-00005f30: 6c62 6163 6b3d 6361 6c6c 6261 636b 2c20  lback=callback, 
-00005f40: 6361 6c6c 6261 636b 5f6b 7761 7267 733d  callback_kwargs=
-00005f50: 6361 6c6c 6261 636b 5f6b 7761 7267 7329  callback_kwargs)
-00005f60: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00005f70: 6765 745f 7465 6d70 6c61 7465 2873 656c  get_template(sel
-00005f80: 662c 2067 726f 7570 3a20 7374 722c 2074  f, group: str, t
-00005f90: 656d 706c 6174 653a 2073 7472 2920 2d3e  emplate: str) ->
-00005fa0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00005fb0: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
-00005fc0: 6967 7572 6174 696f 6e2f 7631 2f67 726f  iguration/v1/gro
-00005fd0: 7570 732f 7b67 726f 7570 7d2f 7465 6d70  ups/{group}/temp
-00005fe0: 6c61 7465 732f 7b74 656d 706c 6174 657d  lates/{template}
-00005ff0: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-00006000: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00006010: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-00006020: 6465 6620 6765 745f 7465 6d70 6c61 7465  def get_template
-00006030: 5f64 6574 6169 6c73 5f66 6f72 5f64 6576  _details_for_dev
-00006040: 6963 6528 7365 6c66 2c20 6465 7669 6365  ice(self, device
-00006050: 5f73 6572 6961 6c3a 2073 7472 2c20 6465  _serial: str, de
-00006060: 7461 696c 733a 2062 6f6f 6c20 3d20 4661  tails: bool = Fa
-00006070: 6c73 6529 202d 3e20 5265 7370 6f6e 7365  lse) -> Response
-00006080: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-00006090: 2063 6f6e 6669 6775 7261 7469 6f6e 2064   configuration d
-000060a0: 6574 6169 6c73 2066 6f72 2061 2064 6576  etails for a dev
-000060b0: 6963 6520 286f 6e6c 7920 666f 7220 7465  ice (only for te
-000060c0: 6d70 6c61 7465 2067 726f 7570 7329 2e0a  mplate groups)..
-000060d0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-000060e0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-000060f0: 655f 7365 7269 616c 2028 7374 7229 3a20  e_serial (str): 
-00006100: 5365 7269 616c 206e 756d 6265 7220 6f66  Serial number of
-00006110: 2074 6865 2064 6576 6963 652e 0a20 2020   the device..   
-00006120: 2020 2020 2020 2020 2064 6574 6169 6c73           details
-00006130: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-00006140: 293a 2055 7375 616c 6c79 2070 6173 7320  ): Usually pass 
-00006150: 6661 6c73 6520 746f 2067 6574 206f 6e6c  false to get onl
-00006160: 7920 7468 6520 7375 6d6d 6172 7920 6f66  y the summary of
-00006170: 2061 2064 6576 6963 6527 730a 2020 2020   a device's.    
-00006180: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-00006190: 6967 7572 6174 696f 6e20 7374 6174 7573  iguration status
-000061a0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000061b0: 2020 5061 7373 2074 7275 6520 6f6e 6c79    Pass true only
-000061c0: 2069 6620 6465 7461 696c 6564 2072 6573   if detailed res
-000061d0: 706f 6e73 6520 6f66 2061 2064 6576 6963  ponse of a devic
-000061e0: 6527 7320 636f 6e66 6967 7572 6174 696f  e's configuratio
-000061f0: 6e20 7374 6174 7573 2069 7320 7265 7175  n status is requ
-00006200: 6972 6564 2e0a 2020 2020 2020 2020 2020  ired..          
-00006210: 2020 2020 2020 5061 7373 696e 6720 7472        Passing tr
-00006220: 7565 206d 6967 6874 2072 6573 756c 7420  ue might result 
-00006230: 696e 2073 6c6f 7765 7220 4150 4920 7265  in slower API re
-00006240: 7370 6f6e 7365 2061 6e64 2070 6572 666f  sponse and perfo
-00006250: 726d 616e 6365 2065 6666 6563 740a 2020  rmance effect.  
-00006260: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00006270: 6d70 6172 6174 6976 656c 792e 0a0a 2020  mparatively...  
-00006280: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00006290: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000062a0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-000062b0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-000062c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000062d0: 2020 2020 2320 4150 492d 4e4f 5445 2072      # API-NOTE r
-000062e0: 6574 7572 6e73 2066 6f72 6d2d 6461 7461  eturns form-data
-000062f0: 2028 6120 6269 6720 7374 7229 0a20 2020   (a big str).   
-00006300: 2020 2020 2023 2020 4120 636c 6561 6e65       #  A cleane
-00006310: 7220 6861 7320 6265 656e 2063 7265 6174  r has been creat
-00006320: 6564 2074 6861 7420 7061 7273 6573 2074  ed that parses t
-00006330: 6865 2072 6573 7020 696e 746f 2064 6963  he resp into dic
-00006340: 740a 2020 2020 2020 2020 2320 2077 6974  t.        #  wit
-00006350: 6820 7375 6d6d 6172 7928 6469 6374 2920  h summary(dict) 
-00006360: 616e 6420 7275 6e6e 696e 672f 6365 6e74  and running/cent
-00006370: 7261 6c5f 7369 6465 2063 6f6e 6669 6773  ral_side configs
-00006380: 2028 7374 7229 0a20 2020 2020 2020 2023   (str).        #
-00006390: 204e 6565 6420 636c 6561 6e65 7220 746f   Need cleaner to
-000063a0: 2070 6172 7365 2061 6e64 2063 6f6e 7665   parse and conve
-000063b0: 7274 2074 6f20 6469 6374 0a20 2020 2020  rt to dict.     
-000063c0: 2020 2023 202d 2d66 6433 6c6f 6e67 616c     # --fd3longal
-000063d0: 7068 616e 756d 6572 6963 7374 7269 6e67  phanumericstring
-000063e0: 3633 0a20 2020 2020 2020 2023 2043 6f6e  63.        # Con
-000063f0: 7465 6e74 2d44 6973 706f 7369 7469 6f6e  tent-Disposition
-00006400: 3a20 666f 726d 2d64 6174 613b 206e 616d  : form-data; nam
-00006410: 653d 2253 756d 6d61 7279 220a 2020 2020  e="Summary".    
-00006420: 2020 2020 2320 436f 6e74 656e 742d 5479      # Content-Ty
-00006430: 7065 3a20 6170 706c 6963 6174 696f 6e2f  pe: application/
-00006440: 6a73 6f6e 0a0a 2020 2020 2020 2020 2320  json..        # 
-00006450: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-00006460: 2244 6576 6963 655f 7365 7269 616c 223a  "Device_serial":
-00006470: 2022 7265 6461 6374 6564 222c 0a20 2020   "redacted",.   
-00006480: 2020 2020 2023 2020 2020 2022 4465 7669       #     "Devi
-00006490: 6365 5f74 7970 6522 3a20 2241 7275 6261  ce_type": "Aruba
-000064a0: 5377 6974 6368 222c 0a20 2020 2020 2020  Switch",.       
-000064b0: 2023 2020 2020 2022 4772 6f75 7022 3a20   #     "Group": 
-000064c0: 2257 6164 654c 6162 222c 0a20 2020 2020  "WadeLab",.     
-000064d0: 2020 2023 2020 2020 2022 436f 6e66 6967     #     "Config
-000064e0: 7572 6174 696f 6e5f 6572 726f 725f 7374  uration_error_st
-000064f0: 6174 7573 223a 2066 616c 7365 2c0a 2020  atus": false,.  
-00006500: 2020 2020 2020 2320 2020 2020 224f 7665        #     "Ove
-00006510: 7272 6964 655f 7374 6174 7573 223a 2066  rride_status": f
-00006520: 616c 7365 2c0a 2020 2020 2020 2020 2320  alse,.        # 
-00006530: 2020 2020 2254 656d 706c 6174 655f 6e61      "Template_na
-00006540: 6d65 223a 2022 3239 3330 462d 3822 2c0a  me": "2930F-8",.
-00006550: 2020 2020 2020 2020 2320 2020 2020 2254          #     "T
-00006560: 656d 706c 6174 655f 6861 7368 223a 2022  emplate_hash": "
-00006570: 3436 612d 7265 6461 6374 6564 2d30 6422  46a-redacted-0d"
-00006580: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00006590: 2254 656d 706c 6174 655f 6572 726f 725f  "Template_error_
-000065a0: 7374 6174 7573 223a 2066 616c 7365 0a20  status": false. 
-000065b0: 2020 2020 2020 2023 207d 0a20 2020 2020         # }.     
-000065c0: 2020 2023 202d 2d66 6433 6c6f 6e67 616c     # --fd3longal
-000065d0: 7068 616e 756d 6572 6963 7374 7269 6e67  phanumericstring
-000065e0: 3633 0a20 2020 2020 2020 2075 726c 203d  63.        url =
-000065f0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
-00006600: 6e2f 7631 2f64 6576 6963 6573 2f7b 6465  n/v1/devices/{de
-00006610: 7669 6365 5f73 6572 6961 6c7d 2f63 6f6e  vice_serial}/con
-00006620: 6669 675f 6465 7461 696c 7322 0a20 2020  fig_details".   
-00006630: 2020 2020 2068 6561 6465 7273 203d 207b       headers = {
-00006640: 2241 6363 6570 7422 3a20 226d 756c 7469  "Accept": "multi
-00006650: 7061 7274 2f66 6f72 6d2d 6461 7461 227d  part/form-data"}
-00006660: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00006670: 3d20 7b22 6465 7461 696c 7322 3a20 7374  = {"details": st
-00006680: 7228 6465 7461 696c 7329 7d0a 2020 2020  r(details)}.    
-00006690: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000066a0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-000066b0: 6172 616d 733d 7061 7261 6d73 2c20 6865  arams=params, he
-000066c0: 6164 6572 733d 6865 6164 6572 7329 0a0a  aders=headers)..
-000066d0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-000066e0: 745f 616c 6c5f 7465 6d70 6c61 7465 735f  t_all_templates_
-000066f0: 696e 5f67 726f 7570 280a 2020 2020 2020  in_group(.      
-00006700: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00006710: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
-00006720: 2020 2020 6e61 6d65 3a20 7374 7220 3d20      name: str = 
-00006730: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
-00006740: 7669 6365 5f74 7970 653a 204c 6974 6572  vice_type: Liter
-00006750: 616c 5b22 6170 222c 2022 7377 222c 2022  al["ap", "sw", "
-00006760: 6378 222c 2022 6777 225d 203d 204e 6f6e  cx", "gw"] = Non
-00006770: 652c 0a20 2020 2020 2020 2076 6572 7369  e,.        versi
-00006780: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
-00006790: 2020 2020 2020 2020 6d6f 6465 6c3a 2073          model: s
-000067a0: 7472 203d 204e 6f6e 652c 0a20 2020 2029  tr = None,.    )
-000067b0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000067c0: 2020 2020 2020 6966 2064 6576 6963 655f        if device_
-000067d0: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
-000067e0: 2020 6465 7669 6365 5f74 7970 6520 3d20    device_type = 
-000067f0: 636f 6e73 7461 6e74 732e 6c69 625f 746f  constants.lib_to
-00006800: 5f61 7069 2822 7465 6d70 6c61 7465 222c  _api("template",
-00006810: 2064 6576 6963 655f 7479 7065 290a 0a20   device_type).. 
-00006820: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-00006830: 7b0a 2020 2020 2020 2020 2020 2020 226f  {.            "o
-00006840: 6666 7365 7422 3a20 302c 0a20 2020 2020  ffset": 0,.     
-00006850: 2020 2020 2020 2022 6c69 6d69 7422 3a20         "limit": 
-00006860: 3230 2c20 2023 2032 3020 6973 2074 6865  20,  # 20 is the
-00006870: 206d 6178 0a20 2020 2020 2020 2020 2020   max.           
-00006880: 2022 7465 6d70 6c61 7465 223a 206e 616d   "template": nam
-00006890: 652c 0a20 2020 2020 2020 2020 2020 2022  e,.            "
-000068a0: 6465 7669 6365 5f74 7970 6522 3a20 6465  device_type": de
-000068b0: 7669 6365 5f74 7970 652c 2020 2320 7661  vice_type,  # va
-000068c0: 6c69 6420 3d20 4941 502c 2041 7275 6261  lid = IAP, Aruba
-000068d0: 5377 6974 6368 2c20 4d6f 6269 6c69 7479  Switch, Mobility
-000068e0: 436f 6e74 726f 6c6c 6572 2c20 4358 0a20  Controller, CX. 
-000068f0: 2020 2020 2020 2020 2020 2022 7665 7273             "vers
-00006900: 696f 6e22 3a20 7665 7273 696f 6e2c 0a20  ion": version,. 
-00006910: 2020 2020 2020 2020 2020 2022 6d6f 6465             "mode
-00006920: 6c22 3a20 6d6f 6465 6c2c 0a20 2020 2020  l": model,.     
-00006930: 2020 207d 0a20 2020 2020 2020 2075 726c     }.        url
-00006940: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
-00006950: 696f 6e2f 7631 2f67 726f 7570 732f 7b67  ion/v1/groups/{g
-00006960: 726f 7570 7d2f 7465 6d70 6c61 7465 7322  roup}/templates"
-00006970: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00006980: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00006990: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-000069a0: 7329 0a0a 2020 2020 2320 4649 584d 4520  s)..    # FIXME 
-000069b0: 2320 544f 444f 2023 2057 6861 7420 7468  # TODO # What th
-000069c0: 6520 4162 736f 6c75 7465 2046 3f21 2020  e Absolute F?!  
-000069d0: 6e6f 7420 6162 6c65 2074 6f20 7365 6e64  not able to send
-000069e0: 2074 656d 706c 6174 6520 6173 2066 6f72   template as for
-000069f0: 6d64 6174 6120 7072 6f70 6572 6c79 2077  mdata properly w
-00006a00: 6974 6820 6169 6f68 7474 700a 2020 2020  ith aiohttp.    
-00006a10: 2320 2020 2020 2020 7265 7175 6573 7473  #       requests
-00006a20: 206d 6f64 756c 6520 776f 726b 732c 2062   module works, b
-00006a30: 7574 206e 6f20 6c75 636b 2061 6674 6572  ut no luck after
-00006a40: 2068 6f75 7273 206d 6573 7369 6e67 2077   hours messing w
-00006a50: 6974 6820 666f 726d 2d64 6174 6120 696e  ith form-data in
-00006a60: 2061 696f 6874 7470 0a20 2020 2061 7379   aiohttp.    asy
-00006a70: 6e63 2064 6566 2061 6464 5f74 656d 706c  nc def add_templ
-00006a80: 6174 6528 0a20 2020 2020 2020 2073 656c  ate(.        sel
-00006a90: 662c 0a20 2020 2020 2020 206e 616d 653a  f,.        name:
-00006aa0: 2073 7472 2c0a 2020 2020 2020 2020 6772   str,.        gr
-00006ab0: 6f75 703a 2073 7472 2c0a 2020 2020 2020  oup: str,.      
-00006ac0: 2020 7465 6d70 6c61 7465 3a20 556e 696f    template: Unio
-00006ad0: 6e5b 5061 7468 2c20 7374 722c 2062 7974  n[Path, str, byt
-00006ae0: 6573 5d2c 0a20 2020 2020 2020 2064 6576  es],.        dev
-00006af0: 6963 655f 7479 7065 3a20 636f 6e73 7461  ice_type: consta
-00006b00: 6e74 732e 4465 7654 7970 6573 203d 2261  nts.DevTypes ="a
-00006b10: 7022 2c0a 2020 2020 2020 2020 7665 7273  p",.        vers
-00006b20: 696f 6e3a 2073 7472 203d 2022 414c 4c22  ion: str = "ALL"
-00006b30: 2c0a 2020 2020 2020 2020 6d6f 6465 6c3a  ,.        model:
-00006b40: 2073 7472 203d 2022 414c 4c22 2c0a 2020   str = "ALL",.  
-00006b50: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00006b60: 0a20 2020 2020 2020 2022 2222 4372 6561  .        """Crea
-00006b70: 7465 206e 6577 2074 656d 706c 6174 652e  te new template.
-00006b80: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00006b90: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00006ba0: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
-00006bb0: 7465 6d70 6c61 7465 2e0a 2020 2020 2020  template..      
-00006bc0: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
-00006bd0: 293a 204e 616d 6520 6f66 2074 6865 2067  ): Name of the g
-00006be0: 726f 7570 2066 6f72 2077 6869 6368 2074  roup for which t
-00006bf0: 6865 2074 656d 706c 6174 6520 6973 2074  he template is t
-00006c00: 6f20 6265 2063 7265 6174 6564 2e0a 2020  o be created..  
-00006c10: 2020 2020 2020 2020 2020 7465 6d70 6c61            templa
-00006c20: 7465 2028 556e 696f 6e5b 5061 7468 2c20  te (Union[Path, 
-00006c30: 7374 722c 2062 7974 6573 5d29 3a20 5465  str, bytes]): Te
-00006c40: 6d70 6c61 7465 2046 696c 6520 6f72 2065  mplate File or e
-00006c50: 6e63 6f64 6564 2074 656d 706c 6174 6520  ncoded template 
-00006c60: 636f 6e74 656e 742e 0a20 2020 2020 2020  content..       
-00006c70: 2020 2020 2020 2020 2046 6f72 2073 7720           For sw 
-00006c80: 2841 4f53 2d53 7769 7463 6829 2064 6576  (AOS-Switch) dev
-00006c90: 6963 655f 7479 7065 2c20 7468 6520 7465  ice_type, the te
-00006ca0: 6d70 6c61 7465 2074 6578 7420 7368 6f75  mplate text shou
-00006cb0: 6c64 2069 6e63 6c75 6465 2074 6865 2066  ld include the f
-00006cc0: 6f6c 6c6f 7769 6e67 0a20 2020 2020 2020  ollowing.       
-00006cd0: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
-00006ce0: 7320 746f 206d 6169 6e74 6169 6e20 636f  s to maintain co
-00006cf0: 6e6e 6563 7469 6f6e 2077 6974 6820 6365  nnection with ce
-00006d00: 6e74 7261 6c2e 0a20 2020 2020 2020 2020  ntral..         
-00006d10: 2020 2020 2020 2031 2e20 6172 7562 612d         1. aruba-
-00006d20: 6365 6e74 7261 6c20 656e 6162 6c65 2e0a  central enable..
-00006d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d40: 322e 2061 7275 6261 2d63 656e 7472 616c  2. aruba-central
-00006d50: 2075 726c 2068 7474 7073 3a2f 2f3c 5552   url https://<UR
-00006d60: 4c20 7c20 4950 3e2f 7773 2e0a 2020 2020  L | IP>/ws..    
-00006d70: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-00006d80: 7970 6520 2873 7472 293a 2044 6576 6963  ype (str): Devic
-00006d90: 6520 7479 7065 206f 6620 7468 6520 7465  e type of the te
-00006da0: 6d70 6c61 7465 2e20 2056 616c 6964 2056  mplate.  Valid V
-00006db0: 616c 7565 733a 2061 702c 2073 772c 2063  alues: ap, sw, c
-00006dc0: 782c 2067 770a 2020 2020 2020 2020 2020  x, gw.          
-00006dd0: 2020 2020 2020 4465 6661 756c 7473 2074        Defaults t
-00006de0: 6f20 6170 2e0a 2020 2020 2020 2020 2020  o ap..          
-00006df0: 2020 7665 7273 696f 6e20 2873 7472 293a    version (str):
-00006e00: 2046 6972 6d77 6172 6520 7665 7273 696f   Firmware versio
-00006e10: 6e20 7072 6f70 6572 7479 206f 6620 7465  n property of te
-00006e20: 6d70 6c61 7465 2e0a 2020 2020 2020 2020  mplate..        
-00006e30: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-00006e40: 2041 4c4c 2c20 362e 352e 3420 6574 632e   ALL, 6.5.4 etc.
-00006e50: 0a20 2020 2020 2020 2020 2020 206d 6f64  .            mod
-00006e60: 656c 2028 7374 7229 3a20 4d6f 6465 6c20  el (str): Model 
-00006e70: 7072 6f70 6572 7479 206f 6620 7465 6d70  property of temp
-00006e80: 6c61 7465 2e0a 2020 2020 2020 2020 2020  late..          
-00006e90: 2020 2020 2020 466f 7220 7377 2028 414f        For sw (AO
-00006ea0: 532d 5377 6974 6368 2920 6465 7669 6365  S-Switch) device
-00006eb0: 5f74 7970 652c 2070 6172 7420 6e75 6d62  _type, part numb
-00006ec0: 6572 2028 4a20 6e75 6d62 6572 2920 6361  er (J number) ca
-00006ed0: 6e20 6265 2075 7365 6420 666f 7220 7468  n be used for th
-00006ee0: 6520 6d6f 6465 6c0a 2020 2020 2020 2020  e model.        
-00006ef0: 2020 2020 2020 2020 7061 7261 6d65 7465          paramete
-00006f00: 722e 2045 7861 6d70 6c65 3a20 3239 3230  r. Example: 2920
-00006f10: 2c20 4a39 3732 3741 2c20 6574 632e 0a0a  , J9727A, etc...
-00006f20: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00006f30: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00006f40: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00006f50: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00006f60: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00006f70: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00006f80: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00006f90: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
-00006fa0: 656d 706c 6174 6573 220a 2020 2020 2020  emplates".      
-00006fb0: 2020 2320 666f 726d 6461 7461 203d 2061    # formdata = a
-00006fc0: 696f 6874 7470 2e46 6f72 6d44 6174 6128  iohttp.FormData(
-00006fd0: 290a 2020 2020 2020 2020 6966 2069 7369  ).        if isi
-00006fe0: 6e73 7461 6e63 6528 7465 6d70 6c61 7465  nstance(template
-00006ff0: 2c20 6279 7465 7329 3a0a 2020 2020 2020  , bytes):.      
-00007000: 2020 2020 2020 2320 666f 726d 6461 7461        # formdata
-00007010: 2e61 6464 5f66 6965 6c64 2822 7465 6d70  .add_field("temp
-00007020: 6c61 7465 222c 207b 2274 656d 706c 6174  late", {"templat
-00007030: 6522 3a20 7465 6d70 6c61 7465 7d2c 2066  e": template}, f
-00007040: 696c 656e 616d 653d 2274 656d 706c 6174  ilename="templat
-00007050: 652e 7478 7422 290a 2020 2020 2020 2020  e.txt").        
-00007060: 2020 2020 2320 6669 6c65 7320 3d20 6169      # files = ai
-00007070: 6f68 7474 702e 466f 726d 4461 7461 285b  ohttp.FormData([
-00007080: 2822 7465 6d70 6c61 7465 222c 2028 2274  ("template", ("t
-00007090: 656d 706c 6174 652e 7478 7422 2c20 7465  emplate.txt", te
-000070a0: 6d70 6c61 7465 292c 295d 290a 2020 2020  mplate),)]).    
-000070b0: 2020 2020 2020 2020 6669 6c65 7320 3d20          files = 
-000070c0: 7b27 7465 6d70 6c61 7465 273a 2028 2774  {'template': ('t
-000070d0: 656d 706c 6174 652e 7478 7427 2c20 7465  emplate.txt', te
-000070e0: 6d70 6c61 7465 297d 0a20 2020 2020 2020  mplate)}.       
-000070f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00007100: 2020 2074 656d 706c 6174 6520 3d20 7465     template = te
-00007110: 6d70 6c61 7465 2069 6620 6973 696e 7374  mplate if isinst
-00007120: 616e 6365 2874 656d 706c 6174 652c 2050  ance(template, P
-00007130: 6174 6829 2065 6c73 6520 5061 7468 2873  ath) else Path(s
-00007140: 7472 2874 656d 706c 6174 6529 290a 2020  tr(template)).  
-00007150: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-00007160: 2074 656d 706c 6174 652e 6578 6973 7473   template.exists
-00007170: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00007180: 2020 2020 7261 6973 6520 4669 6c65 4e6f      raise FileNo
-00007190: 7446 6f75 6e64 4572 726f 720a 0a20 2020  tFoundError..   
-000071a0: 2020 2020 2020 2020 2066 696c 6573 203d           files =
-000071b0: 207b 2774 656d 706c 6174 6527 3a20 2827   {'template': ('
-000071c0: 7465 6d70 6c61 7465 2e74 7874 272c 2074  template.txt', t
-000071d0: 656d 706c 6174 652e 7265 6164 5f62 7974  emplate.read_byt
-000071e0: 6573 2829 297d 0a20 2020 2020 2020 2020  es())}.         
-000071f0: 2020 2023 2066 696c 6573 203d 2061 696f     # files = aio
-00007200: 6874 7470 2e46 6f72 6d44 6174 6128 5b28  http.FormData([(
-00007210: 2274 656d 706c 6174 6522 2c20 2822 7465  "template", ("te
-00007220: 6d70 6c61 7465 2e74 7874 222c 2074 656d  mplate.txt", tem
-00007230: 706c 6174 652e 7265 6164 5f62 7974 6573  plate.read_bytes
-00007240: 2829 292c 295d 290a 2020 2020 2020 2020  ()),)]).        
-00007250: 2020 2020 2320 666f 726d 6461 7461 2e61      # formdata.a
-00007260: 6464 5f66 6965 6c64 2822 7465 6d70 6c61  dd_field("templa
-00007270: 7465 222c 2074 656d 706c 6174 652e 7265  te", template.re
-00007280: 6164 5f62 7974 6573 2829 2c20 6669 6c65  ad_bytes(), file
-00007290: 6e61 6d65 3d22 7465 6d70 6c61 7465 2e74  name="template.t
-000072a0: 7874 2229 0a20 2020 2020 2020 2020 2020  xt").           
-000072b0: 2023 2066 6f72 6d64 6174 612e 6164 645f   # formdata.add_
-000072c0: 6669 656c 6428 2274 656d 706c 6174 6522  field("template"
-000072d0: 2c20 7465 6d70 6c61 7465 2e72 6561 645f  , template.read_
-000072e0: 6279 7465 7328 2929 0a0a 2020 2020 2020  bytes())..      
-000072f0: 2020 2020 2020 2320 666f 726d 6461 7461        # formdata
-00007300: 2e61 6464 5f66 6965 6c64 280a 2020 2020  .add_field(.    
-00007310: 2020 2020 2020 2020 2320 2020 2020 2274          #     "t
-00007320: 656d 706c 6174 6522 2c0a 2020 2020 2020  emplate",.      
-00007330: 2020 2020 2020 2320 2020 2020 7465 6d70        #     temp
-00007340: 6c61 7465 2e72 6561 645f 7465 7874 2829  late.read_text()
-00007350: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
-00007360: 2020 2020 6669 6c65 6e61 6d65 3d22 7465      filename="te
-00007370: 6d70 6c61 7465 2e74 7874 222c 0a20 2020  mplate.txt",.   
-00007380: 2020 2020 2020 2020 2023 2020 2020 2063           #     c
-00007390: 6f6e 7465 6e74 5f74 7970 653d 226d 756c  ontent_type="mul
-000073a0: 7469 7061 7274 2f66 6f72 6d2d 6461 7461  tipart/form-data
-000073b0: 220a 2020 2020 2020 2020 2020 2020 2320  ".            # 
-000073c0: 290a 0a20 2020 2020 2020 2023 2077 7220  )..        # wr 
-000073d0: 3d20 666f 726d 6461 7461 2829 0a20 2020  = formdata().   
-000073e0: 2020 2020 2023 2064 6174 6120 3d20 6627       # data = f'
-000073f0: 2d2d 7b77 722e 626f 756e 6461 7279 7d5c  --{wr.boundary}\
-00007400: 725c 6e43 6f6e 7465 6e74 2d44 6973 706f  r\nContent-Dispo
-00007410: 7369 7469 6f6e 3a20 666f 726d 2d64 6174  sition: form-dat
-00007420: 613b 206e 616d 653d 2274 656d 706c 6174  a; name="templat
-00007430: 6522 3b66 696c 656e 616d 653d 2274 656d  e";filename="tem
-00007440: 706c 6174 652e 7478 7422 7b77 722e 5f70  plate.txt"{wr._p
-00007450: 6172 7473 5b30 5d5b 305d 2e5f 7661 6c75  arts[0][0]._valu
-00007460: 652e 6465 636f 6465 2829 7d5c 725c 6e2d  e.decode()}\r\n-
-00007470: 2d7b 7772 2e62 6f75 6e64 6172 797d 272e  -{wr.boundary}'.
-00007480: 656e 636f 6465 2822 7574 662d 3822 290a  encode("utf-8").
-00007490: 0a20 2020 2020 2020 2023 202d 2d20 576f  .        # -- Wo
-000074a0: 726b 696e 6720 666f 726d 2066 726f 6d20  rking form from 
-000074b0: 7768 3273 6e6f 770a 2020 2020 2020 2020  wh2snow.        
-000074c0: 2320 2320 4372 6561 7465 2061 2046 6f72  # # Create a For
-000074d0: 6d44 6174 6120 6f62 6a65 6374 0a20 2020  mData object.   
-000074e0: 2020 2020 2023 205f 666f 726d 203d 2061       # _form = a
-000074f0: 696f 6874 7470 2e46 6f72 6d44 6174 6128  iohttp.FormData(
-00007500: 290a 0a20 2020 2020 2020 2023 2023 2041  )..        # # A
-00007510: 6464 2073 6f6d 6520 6461 7461 2074 6f20  dd some data to 
-00007520: 7468 6520 666f 726d 0a20 2020 2020 2020  the form.       
-00007530: 2023 205f 666f 726d 2e61 6464 5f66 6965   # _form.add_fie
-00007540: 6c64 2827 6772 616e 745f 7479 7065 272c  ld('grant_type',
-00007550: 2027 7265 6672 6573 685f 746f 6b65 6e27   'refresh_token'
-00007560: 290a 2020 2020 2020 2020 2320 5f66 6f72  ).        # _for
-00007570: 6d2e 6164 645f 6669 656c 6428 2763 6c69  m.add_field('cli
-00007580: 656e 745f 6964 272c 2063 6f6e 6669 672e  ent_id', config.
-00007590: 736e 6f77 2e63 6c69 656e 745f 6964 290a  snow.client_id).
-000075a0: 2020 2020 2020 2020 2320 5f66 6f72 6d2e          # _form.
-000075b0: 6164 645f 6669 656c 6428 2763 6c69 656e  add_field('clien
-000075c0: 745f 7365 6372 6574 272c 2063 6f6e 6669  t_secret', confi
-000075d0: 672e 736e 6f77 2e63 6c69 656e 745f 7365  g.snow.client_se
-000075e0: 6372 6574 290a 2020 2020 2020 2020 2320  cret).        # 
-000075f0: 5f66 6f72 6d2e 6164 645f 6669 656c 6428  _form.add_field(
-00007600: 2772 6566 7265 7368 5f74 6f6b 656e 272c  'refresh_token',
-00007610: 2074 6f6b 2e72 6566 7265 7368 290a 2020   tok.refresh).  
-00007620: 2020 2020 2020 2320 6173 796e 6320 7769        # async wi
-00007630: 7468 2061 696f 6874 7470 2e43 6c69 656e  th aiohttp.Clien
-00007640: 7453 6573 7369 6f6e 2829 2061 7320 7365  tSession() as se
-00007650: 7373 696f 6e3a 0a20 2020 2020 2020 2023  ssion:.        #
-00007660: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
-00007670: 6177 6169 7420 7365 7373 696f 6e2e 706f  await session.po
-00007680: 7374 2873 7472 2863 6f6e 6669 672e 736e  st(str(config.sn
-00007690: 6f77 2e72 6566 7265 7368 5f75 726c 292c  ow.refresh_url),
-000076a0: 2064 6174 613d 5f66 6f72 6d29 0a20 2020   data=_form).   
-000076b0: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-000076c0: 203d 2064 6576 6963 655f 7479 7065 2069   = device_type i
-000076d0: 6620 6e6f 7420 6861 7361 7474 7228 6465  f not hasattr(de
-000076e0: 7669 6365 5f74 7970 652c 2022 7661 6c75  vice_type, "valu
-000076f0: 6522 2920 656c 7365 2064 6576 6963 655f  e") else device_
-00007700: 7479 7065 2e76 616c 7565 0a20 2020 2020  type.value.     
-00007710: 2020 2064 6576 6963 655f 7479 7065 203d     device_type =
-00007720: 2063 6f6e 7374 616e 7473 2e6c 6962 5f74   constants.lib_t
-00007730: 6f5f 6170 6928 2274 656d 706c 6174 6522  o_api("template"
-00007740: 2c20 6465 7669 6365 5f74 7970 6529 0a0a  , device_type)..
-00007750: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00007760: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00007770: 6e61 6d65 273a 206e 616d 652c 0a20 2020  name': name,.   
-00007780: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-00007790: 5f74 7970 6527 3a20 6465 7669 6365 5f74  _type': device_t
-000077a0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-000077b0: 2027 7665 7273 696f 6e27 3a20 7665 7273   'version': vers
-000077c0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-000077d0: 2027 6d6f 6465 6c27 3a20 6d6f 6465 6c0a   'model': model.
-000077e0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-000077f0: 2020 2320 5754 4620 4d69 7373 696e 6720    # WTF Missing 
-00007800: 666f 726d 6461 7461 2070 6172 616d 6574  formdata paramet
-00007810: 6572 2027 7465 6d70 6c61 7465 270a 2020  er 'template'.  
-00007820: 2020 2020 2020 2320 7265 7475 726e 2061        # return a
-00007830: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
-00007840: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00007850: 732c 2070 6179 6c6f 6164 3d66 6f72 6d64  s, payload=formd
-00007860: 6174 612c 2920 2023 0a0a 0a20 2020 2020  ata,)  #...     
-00007870: 2020 2023 204e 6f20 6469 6666 6572 656e     # No differen
-00007880: 6365 2076 7320 7468 6520 6162 6f76 650a  ce vs the above.
-00007890: 2020 2020 2020 2020 2320 6865 6164 6572          # header
-000078a0: 7320 3d20 7b0a 2020 2020 2020 2020 2320  s = {.        # 
-000078b0: 2020 2020 2241 7574 686f 7269 7a61 7469      "Authorizati
-000078c0: 6f6e 223a 2066 2242 6561 7265 7220 7b73  on": f"Bearer {s
-000078d0: 656c 662e 6175 7468 2e63 656e 7472 616c  elf.auth.central
-000078e0: 5f69 6e66 6f5b 2774 6f6b 656e 275d 5b27  _info['token']['
-000078f0: 6163 6365 7373 5f74 6f6b 656e 275d 7d22  access_token']}"
-00007900: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00007910: 2741 6363 6570 7427 3a20 2761 7070 6c69  'Accept': 'appli
-00007920: 6361 7469 6f6e 2f6a 736f 6e27 2c0a 2020  cation/json',.  
-00007930: 2020 2020 2020 2320 2020 2020 2243 6f6e        #     "Con
-00007940: 7465 6e74 2d54 7970 6522 3a20 226d 756c  tent-Type": "mul
-00007950: 7469 7061 7274 2f66 6f72 6d2d 6461 7461  tipart/form-data
-00007960: 220a 2020 2020 2020 2020 2320 7d0a 2020  ".        # }.  
-00007970: 2020 2020 2020 2320 6173 796e 6320 7769        # async wi
-00007980: 7468 2061 696f 6874 7470 2e43 6c69 656e  th aiohttp.Clien
-00007990: 7453 6573 7369 6f6e 2873 656c 662e 6175  tSession(self.au
-000079a0: 7468 2e63 656e 7472 616c 5f69 6e66 6f5b  th.central_info[
-000079b0: 2262 6173 655f 7572 6c22 5d29 2061 7320  "base_url"]) as 
-000079c0: 7365 7373 696f 6e3a 0a20 2020 2020 2020  session:.       
-000079d0: 2023 2020 2020 2072 6573 7020 3d20 6177   #     resp = aw
-000079e0: 6169 7420 7365 7373 696f 6e2e 706f 7374  ait session.post
-000079f0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00007a00: 616d 732c 2064 6174 613d 666f 726d 6461  ams, data=formda
-00007a10: 7461 2c20 6865 6164 6572 733d 6865 6164  ta, headers=head
-00007a20: 6572 732c 2073 736c 3d54 7275 6529 0a20  ers, ssl=True). 
-00007a30: 2020 2020 2020 2023 2020 2020 2074 7279         #     try
-00007a40: 3a0a 2020 2020 2020 2020 2320 2020 2020  :.        #     
-00007a50: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
-00007a60: 6974 2072 6573 702e 636f 6e74 656e 742e  it resp.content.
-00007a70: 7265 6164 2829 0a20 2020 2020 2020 2023  read().        #
-00007a80: 2020 2020 2020 2020 206f 7574 7075 7420           output 
-00007a90: 3d20 6f75 7470 7574 2e64 6563 6f64 6528  = output.decode(
-00007aa0: 290a 2020 2020 2020 2020 2320 2020 2020  ).        #     
-00007ab0: 2020 2020 6f75 7470 7574 203d 206a 736f      output = jso
-00007ac0: 6e2e 6c6f 6164 7328 6f75 7470 7574 290a  n.loads(output).
-00007ad0: 2020 2020 2020 2020 2320 2020 2020 6578          #     ex
-00007ae0: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
-00007af0: 7320 653a 0a20 2020 2020 2020 2023 2020  s e:.        #  
-00007b00: 2020 2020 2020 206f 7574 7075 7420 3d20         output = 
-00007b10: 4e6f 6e65 0a20 2020 2020 2020 2023 2020  None.        #  
-00007b20: 2020 2020 2020 2070 7269 6e74 2865 290a         print(e).
-00007b30: 2020 2020 2020 2020 2320 7265 7475 726e          # return
-00007b40: 2052 6573 706f 6e73 6528 7265 7370 2c20   Response(resp, 
-00007b50: 6f75 7470 7574 3d6f 7574 7075 7429 0a0a  output=output)..
-00007b60: 2020 2020 2020 2020 2320 4841 434b 2054          # HACK T
-00007b70: 6869 7320 776f 726b 7320 6275 7420 7072  his works but pr
-00007b80: 6566 6572 2074 6f20 6765 7420 6169 6f68  efer to get aioh
-00007b90: 7474 7020 736f 7274 6564 2066 6f72 2063  ttp sorted for c
-00007ba0: 6f6e 7369 7374 656e 6379 0a20 2020 2020  onsistency.     
-00007bb0: 2020 2069 6d70 6f72 7420 7265 7175 6573     import reques
-00007bc0: 7473 0a20 2020 2020 2020 2068 6561 6465  ts.        heade
-00007bd0: 7273 203d 207b 0a20 2020 2020 2020 2020  rs = {.         
-00007be0: 2020 2022 4175 7468 6f72 697a 6174 696f     "Authorizatio
-00007bf0: 6e22 3a20 6622 4265 6172 6572 207b 7365  n": f"Bearer {se
-00007c00: 6c66 2e61 7574 682e 6365 6e74 7261 6c5f  lf.auth.central_
-00007c10: 696e 666f 5b27 746f 6b65 6e27 5d5b 2761  info['token']['a
-00007c20: 6363 6573 735f 746f 6b65 6e27 5d7d 222c  ccess_token']}",
-00007c30: 0a20 2020 2020 2020 2020 2020 2027 4163  .            'Ac
-00007c40: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
-00007c50: 696f 6e2f 6a73 6f6e 270a 2020 2020 2020  ion/json'.      
-00007c60: 2020 7d0a 2020 2020 2020 2020 7572 6c3d    }.        url=
-00007c70: 6622 7b73 656c 662e 6175 7468 2e63 656e  f"{self.auth.cen
-00007c80: 7472 616c 5f69 6e66 6f5b 2762 6173 655f  tral_info['base_
-00007c90: 7572 6c27 5d7d 7b75 726c 7d22 0a20 2020  url']}{url}".   
-00007ca0: 2020 2020 2066 6f72 205f 2069 6e20 7261       for _ in ra
-00007cb0: 6e67 6528 3229 3a0a 2020 2020 2020 2020  nge(2):.        
-00007cc0: 2020 2020 7265 7370 203d 2072 6571 7565      resp = reque
-00007cd0: 7374 732e 7265 7175 6573 7428 2250 4f53  sts.request("POS
-00007ce0: 5422 2c20 7572 6c3d 7572 6c2c 2070 6172  T", url=url, par
-00007cf0: 616d 733d 7061 7261 6d73 2c20 6669 6c65  ams=params, file
-00007d00: 733d 6669 6c65 732c 2068 6561 6465 7273  s=files, headers
-00007d10: 3d68 6561 6465 7273 290a 2020 2020 2020  =headers).      
-00007d20: 2020 2020 2020 6f75 7470 7574 203d 2066        output = f
-00007d30: 225b 7b72 6573 702e 7265 6173 6f6e 7d5d  "[{resp.reason}]
-00007d40: 2220 2b20 2220 2220 2b20 7265 7370 2e74  " + " " + resp.t
-00007d50: 6578 742e 6c73 7472 6970 2827 5b5c 6e20  ext.lstrip('[\n 
-00007d60: 2227 292e 7273 7472 6970 2827 225c 6e5d  "').rstrip('"\n]
-00007d70: 2729 0a20 2020 2020 2020 2020 2020 2072  ').            r
-00007d80: 6573 7020 3d20 5265 7370 6f6e 7365 286f  esp = Response(o
-00007d90: 7574 7075 743d 6f75 7470 7574 2c20 6f6b  utput=output, ok
-00007da0: 3d72 6573 702e 6f6b 2c20 7572 6c3d 7572  =resp.ok, url=ur
-00007db0: 6c2c 2065 6c61 7073 6564 3d72 6f75 6e64  l, elapsed=round
-00007dc0: 2872 6573 702e 656c 6170 7365 642e 746f  (resp.elapsed.to
-00007dd0: 7461 6c5f 7365 636f 6e64 7328 292c 2032  tal_seconds(), 2
-00007de0: 292c 2073 7461 7475 735f 636f 6465 3d72  ), status_code=r
-00007df0: 6573 702e 7374 6174 7573 5f63 6f64 652c  esp.status_code,
-00007e00: 2072 6c5f 7374 723d 222d 2229 0a20 2020   rl_str="-").   
-00007e10: 2020 2020 2020 2020 2069 6620 2269 6e76           if "inv
-00007e20: 616c 6964 5f74 6f6b 656e 2220 696e 2072  alid_token" in r
-00007e30: 6573 702e 6f75 7470 7574 3a0a 2020 2020  esp.output:.    
-00007e40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00007e50: 2e72 6566 7265 7368 5f74 6f6b 656e 2829  .refresh_token()
-00007e60: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00007e70: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00007e80: 2020 2062 7265 616b 0a20 2020 2020 2020     break.       
-00007e90: 2072 6574 7572 6e20 7265 7370 0a0a 2020   return resp..  
-00007ea0: 2020 6173 796e 6320 6465 6620 7570 6461    async def upda
-00007eb0: 7465 5f65 7869 7374 696e 675f 7465 6d70  te_existing_temp
-00007ec0: 6c61 7465 280a 2020 2020 2020 2020 7365  late(.        se
-00007ed0: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
-00007ee0: 703a 2073 7472 2c0a 2020 2020 2020 2020  p: str,.        
-00007ef0: 6e61 6d65 3a20 7374 722c 0a20 2020 2020  name: str,.     
-00007f00: 2020 2074 656d 706c 6174 653a 2050 6174     template: Pat
-00007f10: 6820 3d20 4e6f 6e65 2c0a 2020 2020 2020  h = None,.      
-00007f20: 2020 7061 796c 6f61 643a 2073 7472 203d    payload: str =
-00007f30: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
-00007f40: 6576 6963 655f 7479 7065 3a20 7374 7220  evice_type: str 
-00007f50: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00007f60: 7665 7273 696f 6e3a 2073 7472 203d 204e  version: str = N
-00007f70: 6f6e 652c 0a20 2020 2020 2020 206d 6f64  one,.        mod
-00007f80: 656c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  el: str = None,.
-00007f90: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00007fa0: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
-00007fb0: 6461 7465 2065 7869 7374 696e 6720 7465  date existing te
-00007fc0: 6d70 6c61 7465 2e0a 0a20 2020 2020 2020  mplate...       
-00007fd0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00007fe0: 2020 2067 726f 7570 2028 7374 7229 3a20     group (str): 
-00007ff0: 4e61 6d65 206f 6620 7468 6520 6772 6f75  Name of the grou
-00008000: 7020 666f 7220 7768 6963 6820 7468 6520  p for which the 
-00008010: 7465 6d70 6c61 7465 2069 7320 746f 2062  template is to b
-00008020: 6520 7570 6461 7465 642e 0a20 2020 2020  e updated..     
-00008030: 2020 2020 2020 206e 616d 6520 2873 7472         name (str
-00008040: 293a 204e 616d 6520 6f66 2074 656d 706c  ): Name of templ
-00008050: 6174 652e 0a20 2020 2020 2020 2020 2020  ate..           
-00008060: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-00008070: 722c 206f 7074 696f 6e61 6c29 3a20 4465  r, optional): De
-00008080: 7669 6365 2074 7970 6520 6f66 2074 6865  vice type of the
-00008090: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
-000080a0: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
-000080b0: 2056 616c 7565 733a 2061 702c 2073 7720   Values: ap, sw 
-000080c0: 2841 7275 6261 4f53 2d53 5729 2c20 6378  (ArubaOS-SW), cx
-000080d0: 2028 4172 7562 614f 532d 4358 292c 2067   (ArubaOS-CX), g
-000080e0: 7720 2863 6f6e 7472 6f6c 6c65 7273 2f67  w (controllers/g
-000080f0: 6174 6577 6179 7329 0a20 2020 2020 2020  ateways).       
-00008100: 2020 2020 2076 6572 7369 6f6e 2028 7374       version (st
-00008110: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00008120: 726d 7761 7265 2076 6572 7369 6f6e 2070  rmware version p
-00008130: 726f 7065 7274 7920 6f66 2074 656d 706c  roperty of templ
-00008140: 6174 652e 0a20 2020 2020 2020 2020 2020  ate..           
-00008150: 2020 2020 2045 7861 6d70 6c65 3a20 414c       Example: AL
-00008160: 4c2c 2036 2e35 2e34 2065 7463 2e0a 2020  L, 6.5.4 etc..  
-00008170: 2020 2020 2020 2020 2020 6d6f 6465 6c20            model 
-00008180: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00008190: 204d 6f64 656c 2070 726f 7065 7274 7920   Model property 
-000081a0: 6f66 2074 656d 706c 6174 652e 0a20 2020  of template..   
-000081b0: 2020 2020 2020 2020 2020 2020 2046 6f72               For
-000081c0: 2027 4172 7562 6153 7769 7463 6827 2064   'ArubaSwitch' d
-000081d0: 6576 6963 655f 7479 7065 2c20 7061 7274  evice_type, part
-000081e0: 206e 756d 6265 7220 284a 206e 756d 6265   number (J numbe
-000081f0: 7229 2063 616e 2062 6520 7573 6564 2066  r) can be used f
-00008200: 6f72 2074 6865 206d 6f64 656c 2e0a 2020  or the model..  
-00008210: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
-00008220: 616d 706c 653a 2032 3932 302c 204a 3937  ample: 2920, J97
-00008230: 3237 4120 6574 632e 0a20 2020 2020 2020  27A etc..       
-00008240: 2020 2020 2074 656d 706c 6174 6520 2855       template (U
-00008250: 6e69 6f6e 5b50 6174 682c 2073 7472 5d2c  nion[Path, str],
-00008260: 206f 7074 696f 6e61 6c29 3a20 5465 6d70   optional): Temp
-00008270: 6c61 7465 2074 6578 742e 0a20 2020 2020  late text..     
-00008280: 2020 2020 2020 2020 2020 2046 6f72 2027             For '
-00008290: 4172 7562 6153 7769 7463 6827 2064 6576  ArubaSwitch' dev
-000082a0: 6963 655f 7479 7065 2c20 7468 6520 7465  ice_type, the te
-000082b0: 6d70 6c61 7465 2074 6578 7420 7368 6f75  mplate text shou
-000082c0: 6c64 2069 6e63 6c75 6465 2074 6865 2066  ld include the f
-000082d0: 6f6c 6c6f 7769 6e67 0a20 2020 2020 2020  ollowing.       
-000082e0: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
-000082f0: 7320 746f 206d 6169 6e74 6169 6e20 636f  s to maintain co
-00008300: 6e6e 6563 7469 6f6e 2077 6974 6820 6365  nnection with ce
-00008310: 6e74 7261 6c2e 0a20 2020 2020 2020 2020  ntral..         
-00008320: 2020 2020 2020 2031 2e20 6172 7562 612d         1. aruba-
-00008330: 6365 6e74 7261 6c20 656e 6162 6c65 2e0a  central enable..
-00008340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008350: 322e 2061 7275 6261 2d63 656e 7472 616c  2. aruba-central
-00008360: 2075 726c 2068 7474 7073 3a2f 2f3c 5552   url https://<UR
-00008370: 4c20 7c20 4950 3e2f 7773 2e0a 2020 2020  L | IP>/ws..    
-00008380: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
-00008390: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-000083a0: 206a 736f 6e20 7265 7072 6573 656e 7461   json representa
-000083b0: 7469 6f6e 206f 6620 7468 6520 7265 7175  tion of the requ
-000083c0: 6972 6564 2070 6172 616d 732e 0a0a 2020  ired params...  
-000083d0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-000083e0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000083f0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00008400: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00008410: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00008420: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
-00008430: 6669 6775 7261 7469 6f6e 2f76 312f 6772  figuration/v1/gr
-00008440: 6f75 7073 2f7b 6772 6f75 707d 2f74 656d  oups/{group}/tem
-00008450: 706c 6174 6573 220a 2020 2020 2020 2020  plates".        
-00008460: 7465 6d70 6c61 7465 203d 2074 656d 706c  template = templ
-00008470: 6174 6520 6966 2069 7369 6e73 7461 6e63  ate if isinstanc
-00008480: 6528 7465 6d70 6c61 7465 2c20 5061 7468  e(template, Path
-00008490: 2920 656c 7365 2050 6174 6828 7374 7228  ) else Path(str(
-000084a0: 7465 6d70 6c61 7465 2929 0a0a 2020 2020  template))..    
-000084b0: 2020 2020 6966 2064 6576 6963 655f 7479      if device_ty
-000084c0: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
-000084d0: 6465 7669 6365 5f74 7970 6520 3d20 636f  device_type = co
-000084e0: 6e73 7461 6e74 732e 6c69 625f 746f 5f61  nstants.lib_to_a
-000084f0: 7069 2822 7465 6d70 6c61 7465 222c 2064  pi("template", d
-00008500: 6576 6963 655f 7479 7065 290a 0a20 2020  evice_type)..   
-00008510: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-00008520: 2020 2020 2020 2020 2020 2020 276e 616d              'nam
-00008530: 6527 3a20 6e61 6d65 2c0a 2020 2020 2020  e': name,.      
-00008540: 2020 2020 2020 2764 6576 6963 655f 7479        'device_ty
-00008550: 7065 273a 2064 6576 6963 655f 7479 7065  pe': device_type
-00008560: 2c0a 2020 2020 2020 2020 2020 2020 2776  ,.            'v
-00008570: 6572 7369 6f6e 273a 2076 6572 7369 6f6e  ersion': version
-00008580: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
-00008590: 6f64 656c 273a 206d 6f64 656c 0a20 2020  odel': model.   
-000085a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-000085b0: 6966 2074 656d 706c 6174 6520 616e 6420  if template and 
-000085c0: 7465 6d70 6c61 7465 2e69 735f 6669 6c65  template.is_file
-000085d0: 2829 2061 6e64 2074 656d 706c 6174 652e  () and template.
-000085e0: 7374 6174 2829 2e73 745f 7369 7a65 203e  stat().st_size >
-000085f0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-00008600: 7465 6d70 6c61 7465 5f64 6174 613a 2062  template_data: b
-00008610: 7974 6573 203d 2074 656d 706c 6174 652e  ytes = template.
-00008620: 7265 6164 5f62 7974 6573 2829 0a20 2020  read_bytes().   
-00008630: 2020 2020 2065 6c69 6620 7061 796c 6f61       elif payloa
-00008640: 643a 0a20 2020 2020 2020 2020 2020 2074  d:.            t
-00008650: 656d 706c 6174 655f 6461 7461 3a20 6279  emplate_data: by
-00008660: 7465 7320 3d20 7061 796c 6f61 640a 2020  tes = payload.  
-00008670: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00008680: 2020 2020 2020 2020 7465 6d70 6c61 7465          template
-00008690: 5f64 6174 6120 3d20 4e6f 6e65 0a0a 2020  _data = None..  
-000086a0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-000086b0: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-000086c0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-000086d0: 2c20 7061 796c 6f61 643d 7465 6d70 6c61  , payload=templa
-000086e0: 7465 5f64 6174 6129 0a0a 2020 2020 2320  te_data)..    # 
-000086f0: 5465 7374 6564 2061 6e64 2077 6f72 6b73  Tested and works
-00008700: 2062 7574 206e 6f74 2075 7365 642e 2020   but not used.  
-00008710: 5468 6973 2063 616c 6c73 2070 7963 656e  This calls pycen
-00008720: 7472 616c 206d 6574 686f 6420 6469 7265  tral method dire
-00008730: 6374 6c79 2c20 6275 7420 6974 2068 6173  ctly, but it has
-00008740: 2061 6e20 6572 726f 7220 696e 2062 6173   an error in bas
-00008750: 652e 7079 2063 6f6d 6d61 6e64 2072 6520  e.py command re 
-00008760: 7572 6c20 636f 6e63 6174 0a20 2020 2023  url concat.    #
-00008770: 2061 6e64 2069 7420 646f 6573 6e27 7420   and it doesn't 
-00008780: 6361 7463 6820 616c 6c20 6578 6365 7074  catch all except
-00008790: 696f 6e73 2073 6f20 706f 7373 6962 6c65  ions so possible
-000087a0: 2074 6f20 6765 7420 6578 6365 7074 696f   to get exceptio
-000087b0: 6e20 7768 656e 2065 7661 6c20 7265 7370  n when eval resp
-000087c0: 206f 7572 2052 6573 706f 6e73 6520 6f62   our Response ob
-000087d0: 6a65 6374 2069 7320 6265 7474 6572 2049  ject is better I
-000087e0: 4d48 4f0a 2020 2020 6173 796e 6320 6465  MHO.    async de
-000087f0: 6620 5f75 7064 6174 655f 6578 6973 7469  f _update_existi
-00008800: 6e67 5f74 656d 706c 6174 6528 0a20 2020  ng_template(.   
-00008810: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00008820: 2020 2067 726f 7570 3a20 7374 722c 0a20     group: str,. 
-00008830: 2020 2020 2020 206e 616d 653a 2073 7472         name: str
-00008840: 2c0a 2020 2020 2020 2020 7465 6d70 6c61  ,.        templa
-00008850: 7465 3a20 5061 7468 203d 204e 6f6e 652c  te: Path = None,
-00008860: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
-00008870: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00008880: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-00008890: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-000088a0: 2020 2020 2020 2076 6572 7369 6f6e 3a20         version: 
-000088b0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000088c0: 2020 2020 6d6f 6465 6c3a 2073 7472 203d      model: str =
-000088d0: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
-000088e0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-000088f0: 2020 6672 6f6d 2070 7963 656e 7472 616c    from pycentral
-00008900: 2e63 6f6e 6669 6775 7261 7469 6f6e 2069  .configuration i
-00008910: 6d70 6f72 7420 5465 6d70 6c61 7465 730a  mport Templates.
-00008920: 0a20 2020 2020 2020 2074 656d 706c 6174  .        templat
-00008930: 6573 203d 2054 656d 706c 6174 6573 2829  es = Templates()
-00008940: 0a20 2020 2020 2020 206b 7761 7267 7320  .        kwargs 
-00008950: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00008960: 2267 726f 7570 5f6e 616d 6522 3a20 6772  "group_name": gr
-00008970: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
-00008980: 2022 7465 6d70 6c61 7465 5f6e 616d 6522   "template_name"
-00008990: 3a20 6e61 6d65 2c0a 2020 2020 2020 2020  : name,.        
-000089a0: 2020 2020 2264 6576 6963 655f 7479 7065      "device_type
-000089b0: 223a 2064 6576 6963 655f 7479 7065 2c0a  ": device_type,.
-000089c0: 2020 2020 2020 2020 2020 2020 2276 6572              "ver
-000089d0: 7369 6f6e 223a 2076 6572 7369 6f6e 2c0a  sion": version,.
-000089e0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
-000089f0: 656c 223a 206d 6f64 656c 2c0a 2020 2020  el": model,.    
-00008a00: 2020 2020 2020 2020 2274 656d 706c 6174          "templat
-00008a10: 655f 6669 6c65 6e61 6d65 223a 2073 7472  e_filename": str
-00008a20: 2874 656d 706c 6174 6529 2c0a 2020 2020  (template),.    
-00008a30: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-00008a40: 6574 7572 6e20 7465 6d70 6c61 7465 732e  eturn templates.
-00008a50: 7570 6461 7465 5f74 656d 706c 6174 6528  update_template(
-00008a60: 7365 6c66 2e61 7574 682c 202a 2a6b 7761  self.auth, **kwa
-00008a70: 7267 7329 0a0a 2020 2020 6173 796e 6320  rgs)..    async 
-00008a80: 6465 6620 5f67 6574 5f67 726f 7570 5f6e  def _get_group_n
-00008a90: 616d 6573 2873 656c 6629 202d 3e20 5265  ames(self) -> Re
-00008aa0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00008ab0: 7572 6c20 3d20 222f 636f 6e66 6967 7572  url = "/configur
-00008ac0: 6174 696f 6e2f 7632 2f67 726f 7570 7322  ation/v2/groups"
-00008ad0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00008ae0: 3d20 7b22 6f66 6673 6574 223a 2030 2c20  = {"offset": 0, 
-00008af0: 226c 696d 6974 223a 2031 3030 7d20 2023  "limit": 100}  #
-00008b00: 2031 3030 2069 7320 7468 6520 6d61 780a   100 is the max.
-00008b10: 2020 2020 2020 2020 7265 7370 203d 2061          resp = a
-00008b20: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00008b30: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-00008b40: 2c29 0a20 2020 2020 2020 2069 6620 7265  ,).        if re
-00008b50: 7370 2e6f 6b3a 0a20 2020 2020 2020 2020  sp.ok:.         
-00008b60: 2020 2072 6573 702e 6f75 7470 7574 203d     resp.output =
-00008b70: 2063 6c65 616e 6572 2e5f 6765 745f 6772   cleaner._get_gr
-00008b80: 6f75 705f 6e61 6d65 7328 7265 7370 2e6f  oup_names(resp.o
-00008b90: 7574 7075 7429 0a20 2020 2020 2020 2072  utput).        r
-00008ba0: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
-00008bb0: 6173 796e 6320 6465 6620 6465 6c65 7465  async def delete
-00008bc0: 5f74 656d 706c 6174 6528 0a20 2020 2020  _template(.     
-00008bd0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00008be0: 2067 726f 7570 3a20 7374 722c 0a20 2020   group: str,.   
-00008bf0: 2020 2020 2074 656d 706c 6174 653a 2073       template: s
-00008c00: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-00008c10: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00008c20: 2222 4465 6c65 7465 2065 7869 7374 696e  ""Delete existin
-00008c30: 6720 7465 6d70 6c61 7465 2e0a 0a20 2020  g template...   
-00008c40: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00008c50: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-00008c60: 7229 3a20 4e61 6d65 206f 6620 7468 6520  r): Name of the 
-00008c70: 6772 6f75 7020 666f 7220 7768 6963 6820  group for which 
-00008c80: 7468 6520 7465 6d70 6c61 7465 2069 7320  the template is 
-00008c90: 746f 2062 6520 6465 6c65 7465 642e 0a20  to be deleted.. 
-00008ca0: 2020 2020 2020 2020 2020 2074 656d 706c             templ
-00008cb0: 6174 6520 2873 7472 293a 204e 616d 6520  ate (str): Name 
-00008cc0: 6f66 2074 6865 2074 656d 706c 6174 6520  of the template 
-00008cd0: 746f 2062 6520 6465 6c65 7465 642e 0a0a  to be deleted...
-00008ce0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00008cf0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00008d00: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00008d10: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00008d20: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00008d30: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00008d40: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00008d50: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
-00008d60: 656d 706c 6174 6573 2f7b 7465 6d70 6c61  emplates/{templa
-00008d70: 7465 7d22 0a0a 2020 2020 2020 2020 7265  te}"..        re
-00008d80: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00008d90: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
-00008da0: 2023 2054 4f44 4f20 6465 7072 6563 6174   # TODO deprecat
-00008db0: 6520 7468 6973 2075 7365 6420 6279 2067  e this used by g
-00008dc0: 726f 7570 2063 6163 6865 2075 7064 6174  roup cache updat
-00008dd0: 652e 2020 5f67 6574 5f67 726f 7570 5f6e  e.  _get_group_n
-00008de0: 616d 6573 2074 6865 6e20 6765 745f 6772  ames then get_gr
-00008df0: 6f75 7073 5f70 726f 7065 7274 6965 732e  oups_properties.
-00008e00: 2020 4d6f 7265 2069 6e66 6f20 696e 2073    More info in s
-00008e10: 696e 676c 6520 6361 6c6c 0a20 2020 2061  ingle call.    a
-00008e20: 7379 6e63 2064 6566 2067 6574 5f61 6c6c  sync def get_all
-00008e30: 5f67 726f 7570 7328 7365 6c66 2920 2d3e  _groups(self) ->
-00008e40: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00008e50: 2020 2022 2222 4765 7420 7465 6d70 6c61     """Get templa
-00008e60: 7465 2067 726f 7570 2064 6574 6169 6c73  te group details
-00008e70: 2066 6f72 2061 6c6c 2067 726f 7570 732e   for all groups.
-00008e80: 0a0a 2020 2020 2020 2020 5468 6973 206d  ..        This m
-00008e90: 6574 686f 6420 7769 6c6c 2066 6972 7374  ethod will first
-00008ea0: 2063 616c 6c20 636f 6e66 6967 7572 6174   call configurat
-00008eb0: 696f 6e2f 7632 2f67 726f 7570 7320 746f  ion/v2/groups to
-00008ec0: 2067 6574 2061 206c 6973 7420 6f66 2067   get a list of g
-00008ed0: 726f 7570 206e 616d 6573 2e0a 2020 2020  roup names..    
-00008ee0: 2020 2020 5468 656e 202f 636f 6e66 6967      Then /config
-00008ef0: 7572 6174 696f 6e2f 7632 2f67 726f 7570  uration/v2/group
-00008f00: 732f 7465 6d70 6c61 7465 5f69 6e66 6f20  s/template_info 
-00008f10: 746f 2067 6574 2074 6865 2074 656d 706c  to get the templ
-00008f20: 6174 6520 6465 7461 696c 7320 2874 656d  ate details (tem
-00008f30: 706c 6174 655f 6772 6f75 7020 6f72 206e  plate_group or n
-00008f40: 6f74 290a 2020 2020 2020 2020 666f 7220  ot).        for 
-00008f50: 6561 6368 2067 726f 7570 2e0a 0a20 2020  each group...   
-00008f60: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00008f70: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00008f80: 7365 3a20 6365 6e74 7261 6c63 6c69 2052  se: centralcli R
-00008f90: 6573 706f 6e73 6520 4f62 6a65 6374 0a20  esponse Object. 
-00008fa0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00008fb0: 2020 2072 6573 7020 3d20 6177 6169 7420     resp = await 
-00008fc0: 7365 6c66 2e5f 6765 745f 6772 6f75 705f  self._get_group_
-00008fd0: 6e61 6d65 7328 290a 2020 2020 2020 2020  names().        
-00008fe0: 6966 206e 6f74 2072 6573 702e 6f6b 3a0a  if not resp.ok:.
-00008ff0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00009000: 726e 2072 6573 700a 2020 2020 2020 2020  rn resp.        
-00009010: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00009020: 2020 7572 6c20 3d20 222f 636f 6e66 6967    url = "/config
-00009030: 7572 6174 696f 6e2f 7632 2f67 726f 7570  uration/v2/group
-00009040: 732f 7465 6d70 6c61 7465 5f69 6e66 6f22  s/template_info"
-00009050: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
-00009060: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00009070: 2e67 6574 5f67 726f 7570 735f 7072 6f70  .get_groups_prop
-00009080: 6572 7469 6573 2872 6573 702e 6f75 7470  erties(resp.outp
-00009090: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
-000090a0: 6261 7463 685f 7265 7173 203d 205b 5d0a  batch_reqs = [].
-000090b0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000090c0: 6772 6f75 7073 2069 6e20 7574 696c 732e  groups in utils.
-000090d0: 6368 756e 6b65 7228 7265 7370 2e6f 7574  chunker(resp.out
-000090e0: 7075 742c 2032 3029 3a20 2023 2054 6869  put, 20):  # Thi
-000090f0: 7320 6361 6c6c 2061 6c6c 6f77 7320 6120  s call allows a 
-00009100: 6d61 7820 6f66 2032 300a 2020 2020 2020  max of 20.      
-00009110: 2020 2020 2020 2020 2020 7061 7261 6d73            params
-00009120: 203d 207b 2267 726f 7570 7322 3a20 222c   = {"groups": ",
-00009130: 222e 6a6f 696e 2867 726f 7570 7329 7d0a  ".join(groups)}.
-00009140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009150: 6261 7463 685f 7265 7173 202b 3d20 5b73  batch_reqs += [s
-00009160: 656c 662e 4261 7463 6852 6571 7565 7374  elf.BatchRequest
-00009170: 2873 656c 662e 6765 742c 2075 726c 2c20  (self.get, url, 
-00009180: 7061 7261 6d73 3d70 6172 616d 7329 5d0a  params=params)].
-00009190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091a0: 2320 616c 6c5f 6772 6f75 7073 203d 2061  # all_groups = a
-000091b0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-000091c0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-000091d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000091e0: 2020 2320 544f 444f 2064 756e 6465 7220    # TODO dunder 
-000091f0: 6164 6420 696e 2052 6573 706f 6e73 650a  add in Response.
-00009200: 2020 2020 2020 2020 2020 2020 6261 7463              batc
-00009210: 685f 7265 7370 203d 2061 7761 6974 2073  h_resp = await s
-00009220: 656c 662e 5f62 6174 6368 5f72 6571 7565  elf._batch_reque
-00009230: 7374 2862 6174 6368 5f72 6571 7329 0a20  st(batch_reqs). 
-00009240: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-00009250: 4f20 6d65 7468 6f64 2074 6f20 636f 6d62  O method to comb
-00009260: 696e 6520 7261 7720 616e 6420 6f75 7470  ine raw and outp
-00009270: 7574 2061 7474 7273 206f 6620 616c 6c20  ut attrs of all 
-00009280: 7265 7370 6f6e 7365 7320 696e 746f 206c  responses into l
-00009290: 6173 7420 7265 7370 0a20 2020 2020 2020  ast resp.       
-000092a0: 2020 2020 206f 7574 7075 7420 3d20 5b72       output = [r
-000092b0: 2066 6f72 2072 6573 2069 6e20 6261 7463   for res in batc
-000092c0: 685f 7265 7370 2066 6f72 2072 2069 6e20  h_resp for r in 
-000092d0: 7265 732e 6f75 7470 7574 5d0a 2020 2020  res.output].    
-000092e0: 2020 2020 2020 2020 7265 7370 203d 2062          resp = b
-000092f0: 6174 6368 5f72 6573 705b 2d31 5d0a 2020  atch_resp[-1].  
-00009300: 2020 2020 2020 2020 2020 7265 7370 2e6f            resp.o
-00009310: 7574 7075 7420 3d20 6f75 7470 7574 0a20  utput = output. 
-00009320: 2020 2020 2020 2020 2020 2069 6620 2264             if "d
-00009330: 6174 6122 2069 6e20 7265 7370 2e72 6177  ata" in resp.raw
-00009340: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00009350: 2020 7265 7370 2e72 6177 5b22 6461 7461    resp.raw["data
-00009360: 225d 203d 206f 7574 7075 740a 2020 2020  "] = output.    
-00009370: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00009380: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-00009390: 672e 7761 726e 696e 6728 2272 6177 2061  g.warning("raw a
-000093a0: 7474 7220 696e 2072 6573 7020 6672 6f6d  ttr in resp from
-000093b0: 2067 6574 5f61 6c6c 5f67 726f 7570 7320   get_all_groups 
-000093c0: 6c61 636b 7320 6578 7065 6374 6564 206f  lacks expected o
-000093d0: 7574 6572 206b 6579 2027 6461 7461 2722  uter key 'data'"
-000093e0: 290a 0a20 2020 2020 2020 2020 2020 2072  )..            r
-000093f0: 6574 7572 6e20 7265 7370 0a0a 0a20 2020  eturn resp...   
-00009400: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
-00009410: 6c6c 5f74 656d 706c 6174 6573 2873 656c  ll_templates(sel
-00009420: 662c 2067 726f 7570 733a 204c 6973 745b  f, groups: List[
-00009430: 6469 6374 5d20 3d20 4e6f 6e65 2c20 2a2a  dict] = None, **
-00009440: 7061 7261 6d73 2920 2d3e 2052 6573 706f  params) -> Respo
-00009450: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00009460: 4765 7420 6461 7461 2066 6f72 2061 6c6c  Get data for all
-00009470: 2064 6566 696e 6564 2074 656d 706c 6174   defined templat
-00009480: 6573 2066 726f 6d20 4172 7562 6120 4365  es from Aruba Ce
-00009490: 6e74 7261 6c0a 0a20 2020 2020 2020 2041  ntral..        A
-000094a0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000094b0: 2067 726f 7570 7320 284c 6973 745b 6469   groups (List[di
-000094c0: 6374 5d2c 206f 7074 696f 6e61 6c29 3a20  ct], optional): 
-000094d0: 4c69 7374 206f 6620 6772 6f75 7020 6469  List of group di
-000094e0: 6374 696f 6e61 7269 6573 2028 4966 2070  ctionaries (If p
-000094f0: 726f 7669 6465 6420 6164 6469 7469 6f6e  rovided addition
-00009500: 616c 2041 5049 0a20 2020 2020 2020 2020  al API.         
-00009510: 2020 2020 2020 2063 616c 6c73 2074 6f20         calls to 
-00009520: 6765 7420 6772 6f75 7020 6e61 6d65 7320  get group names 
-00009530: 666f 7220 616c 6c20 7465 6d70 6c61 7465  for all template
-00009540: 2067 726f 7570 7320 6172 6520 6e6f 7420   groups are not 
-00009550: 7065 7266 6f72 6d65 6429 2e0a 2020 2020  performed)..    
-00009560: 2020 2020 2020 2020 2020 2020 4465 6661              Defa
-00009570: 756c 7473 2074 6f20 4e6f 6e65 2e0a 0a20  ults to None... 
-00009580: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00009590: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000095a0: 6f6e 7365 3a20 6365 6e74 7261 6c63 6c69  onse: centralcli
-000095b0: 2052 6573 706f 6e73 6520 4f62 6a65 6374   Response Object
-000095c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000095d0: 2020 2020 2069 6620 6e6f 7420 6772 6f75       if not grou
-000095e0: 7073 3a0a 2020 2020 2020 2020 2020 2020  ps:.            
-000095f0: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
-00009600: 662e 6765 745f 616c 6c5f 6772 6f75 7073  f.get_all_groups
-00009610: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
-00009620: 6620 6e6f 7420 7265 7370 3a0a 2020 2020  f not resp:.    
-00009630: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00009640: 726e 2072 6573 700a 2020 2020 2020 2020  rn resp.        
-00009650: 2020 2020 6772 6f75 7073 203d 2063 6c65      groups = cle
-00009660: 616e 6572 2e67 6574 5f61 6c6c 5f67 726f  aner.get_all_gro
-00009670: 7570 7328 7265 7370 2e6f 7574 7075 7429  ups(resp.output)
-00009680: 0a0a 2020 2020 2020 2020 7465 6d70 6c61  ..        templa
-00009690: 7465 5f67 726f 7570 7320 3d20 5b67 5b22  te_groups = [g["
-000096a0: 6e61 6d65 225d 2066 6f72 2067 2069 6e20  name"] for g in 
-000096b0: 6772 6f75 7073 2069 6620 5472 7565 2069  groups if True i
-000096c0: 6e20 675b 2274 656d 706c 6174 6520 6772  n g["template gr
-000096d0: 6f75 7022 5d2e 7661 6c75 6573 2829 5d0a  oup"].values()].
-000096e0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000096f0: 7465 6d70 6c61 7465 5f67 726f 7570 733a  template_groups:
-00009700: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00009710: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-00009720: 2020 2020 2020 2020 2020 2020 2020 7572                ur
-00009730: 6c3d 224e 6f20 6361 6c6c 2070 6572 666f  l="No call perfo
-00009740: 726d 6564 222c 0a20 2020 2020 2020 2020  rmed",.         
-00009750: 2020 2020 2020 206f 6b3d 5472 7565 2c0a         ok=True,.
-00009760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009770: 6f75 7470 7574 3d5b 5d2c 0a20 2020 2020  output=[],.     
-00009780: 2020 2020 2020 2020 2020 2072 6177 3d5b             raw=[
-00009790: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-000097a0: 2020 2065 7272 6f72 3d22 4e6f 6e65 206f     error="None o
-000097b0: 6620 7468 6520 636f 6e66 6967 7572 6564  f the configured
-000097c0: 2067 726f 7570 7320 6172 6520 5465 6d70   groups are Temp
-000097d0: 6c61 7465 2047 726f 7570 732e 222c 0a20  late Groups.",. 
-000097e0: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-000097f0: 2020 2020 2020 7265 7173 203d 205b 7365        reqs = [se
-00009800: 6c66 2e42 6174 6368 5265 7175 6573 7428  lf.BatchRequest(
-00009810: 7365 6c66 2e67 6574 5f61 6c6c 5f74 656d  self.get_all_tem
-00009820: 706c 6174 6573 5f69 6e5f 6772 6f75 702c  plates_in_group,
-00009830: 2067 726f 7570 2c20 2a2a 7061 7261 6d73   group, **params
-00009840: 2920 666f 7220 6772 6f75 7020 696e 2074  ) for group in t
-00009850: 656d 706c 6174 655f 6772 6f75 7073 5d0a  emplate_groups].
-00009860: 2020 2020 2020 2020 2320 544f 444f 206d          # TODO m
-00009870: 6179 6265 2063 616c 6c20 7468 6520 6167  aybe call the ag
-00009880: 6772 6567 6174 6f72 2066 726f 6d20 5f62  gregator from _b
-00009890: 6174 685f 7265 7175 6573 740a 2020 2020  ath_request.    
-000098a0: 2020 2020 7265 7370 6f6e 7365 7320 3d20      responses = 
-000098b0: 6177 6169 7420 7365 6c66 2e5f 6261 7463  await self._batc
-000098c0: 685f 7265 7175 6573 7428 7265 7173 290a  h_request(reqs).
-000098d0: 2020 2020 2020 2020 6661 696c 6564 203d          failed =
-000098e0: 205b 7220 666f 7220 7220 696e 2072 6573   [r for r in res
-000098f0: 706f 6e73 6573 2069 6620 6e6f 7420 725d  ponses if not r]
-00009900: 0a20 2020 2020 2020 2069 6620 6661 696c  .        if fail
-00009910: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
-00009920: 7265 7475 726e 2066 6169 6c65 645b 2d31  return failed[-1
-00009930: 5d0a 0a20 2020 2020 2020 2023 2063 6f6d  ]..        # com
-00009940: 6269 6e65 2072 6573 756c 7420 666f 7220  bine result for 
-00009950: 616c 6c20 6361 6c6c 7320 696e 746f 2031  all calls into 1
-00009960: 0a20 2020 2020 2020 2023 2054 4f44 4f20  .        # TODO 
-00009970: 6167 6772 6567 6174 6f72 2052 6573 706f  aggregator Respo
-00009980: 6e73 6520 6f62 6a65 6374 2066 6f72 206d  nse object for m
-00009990: 756c 7469 2072 6573 706f 6e73 650a 2020  ulti response.  
-000099a0: 2020 2020 2020 2320 6d61 7962 6520 6164        # maybe ad
-000099b0: 6420 7072 6f70 6572 7479 2074 6f20 5265  d property to Re
-000099c0: 7370 6f6e 7365 2074 6861 7420 7265 7475  sponse that retu
-000099d0: 726e 7320 6469 6374 2062 6569 6e67 2064  rns dict being d
-000099e0: 6f6e 6520 7769 7468 2064 6963 7420 636f  one with dict co
-000099f0: 6d70 2062 656c 6f77 0a20 2020 2020 2020  mp below.       
-00009a00: 2061 6c6c 5f6f 7574 7075 7420 3d20 5b72   all_output = [r
-00009a10: 7220 666f 7220 7220 696e 2072 6573 706f  r for r in respo
-00009a20: 6e73 6573 2066 6f72 2072 7220 696e 2072  nses for rr in r
-00009a30: 2e6f 7574 7075 745d 0a20 2020 2020 2020  .output].       
-00009a40: 2061 6c6c 5f72 6177 203d 207b 0a20 2020   all_raw = {.   
-00009a50: 2020 2020 2020 2020 2066 225b 7b72 2e65           f"[{r.e
-00009a60: 7272 6f72 7d5d 207b 722e 6d65 7468 6f64  rror}] {r.method
-00009a70: 7d20 7b72 2e75 726c 2e70 6174 6820 6966  } {r.url.path if
-00009a80: 206e 6f74 2069 6e74 2872 2e75 726c 2e71   not int(r.url.q
-00009a90: 7565 7279 2e67 6574 2827 6f66 6673 6574  uery.get('offset
-00009aa0: 272c 2030 2929 2065 6c73 6520 722e 7572  ', 0)) else r.ur
-00009ab0: 6c2e 7061 7468 5f71 737d 223a 2072 2e72  l.path_qs}": r.r
-00009ac0: 6177 0a20 2020 2020 2020 2020 2020 2066  aw.            f
-00009ad0: 6f72 2072 2069 6e20 7265 7370 6f6e 7365  or r in response
-00009ae0: 730a 2020 2020 2020 2020 7d0a 2020 2020  s.        }.    
-00009af0: 2020 2020 7265 7370 6f6e 7365 735b 2d31      responses[-1
-00009b00: 5d2e 6f75 7470 7574 203d 2061 6c6c 5f6f  ].output = all_o
-00009b10: 7574 7075 740a 2020 2020 2020 2020 7265  utput.        re
-00009b20: 7370 6f6e 7365 735b 2d31 5d2e 7261 7720  sponses[-1].raw 
-00009b30: 3d20 616c 6c5f 7261 770a 0a20 2020 2020  = all_raw..     
-00009b40: 2020 2072 6574 7572 6e20 7265 7370 6f6e     return respon
-00009b50: 7365 735b 2d31 5d0a 0a20 2020 2061 7379  ses[-1]..    asy
-00009b60: 6e63 2064 6566 2067 6574 5f73 6b75 5f74  nc def get_sku_t
-00009b70: 7970 6573 2873 656c 6629 3a20 2023 2046  ypes(self):  # F
-00009b80: 4149 4c45 4420 2d20 2243 6f75 6c64 206e  AILED - "Could n
-00009b90: 6f74 2076 6572 6966 7920 6163 6365 7373  ot verify access
-00009ba0: 206c 6576 656c 2066 6f72 2074 6865 2055   level for the U
-00009bb0: 524c 2e22 0a20 2020 2020 2020 2075 726c  RL.".        url
-00009bc0: 203d 2022 2f70 6c61 7466 6f72 6d2f 6f72   = "/platform/or
-00009bd0: 6465 7273 2f76 312f 736b 7573 220a 2020  ders/v1/skus".  
-00009be0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00009bf0: 2273 6b75 5f74 7970 6522 3a20 2261 6c6c  "sku_type": "all
-00009c00: 227d 0a20 2020 2020 2020 2072 6574 7572  "}.        retur
-00009c10: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00009c20: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00009c30: 616d 7329 0a0a 2020 2020 2320 544f 444f  ams)..    # TODO
-00009c40: 2074 6f74 616c 2069 7320 7265 7475 726e   total is return
-00009c50: 6564 2077 6974 6820 6669 7273 7420 7265  ed with first re
-00009c60: 7175 6573 7420 6361 6e20 6261 7463 6820  quest can batch 
-00009c70: 7265 6d61 696e 696e 6720 7265 7175 6573  remaining reques
-00009c80: 7473 2077 6974 6820 6c69 6d69 742f 6f66  ts with limit/of
-00009c90: 6673 6574 2061 646a 7573 7465 640a 2020  fset adjusted.  
-00009ca0: 2020 2320 4150 492d 464c 4157 206c 696d    # API-FLAW lim
-00009cb0: 6974 2064 6f65 736e 2774 2061 7070 6561  it doesn't appea
-00009cc0: 7220 746f 2068 6176 6520 616e 2075 7070  r to have an upp
-00009cd0: 6572 206c 696d 6974 2c20 6275 7420 746f  er limit, but to
-00009ce0: 6f6b 2066 6f72 6576 6572 2074 6f20 7265  ok forever to re
-00009cf0: 7475 726e 2035 2c30 3030 2072 6563 6f72  turn 5,000 recor
-00009d00: 6473 0a20 2020 2061 7379 6e63 2064 6566  ds.    async def
-00009d10: 2067 6574 5f64 6576 6963 655f 696e 7665   get_device_inve
-00009d20: 6e74 6f72 7928 0a20 2020 2020 2020 2073  ntory(.        s
-00009d30: 656c 662c 0a20 2020 2020 2020 2073 6b75  elf,.        sku
-00009d40: 5f74 7970 653a 2073 7472 203d 2022 616c  _type: str = "al
-00009d50: 6c22 2c0a 2020 2020 2020 2020 6f66 6673  l",.        offs
-00009d60: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-00009d70: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-00009d80: 3d20 3130 3030 2c0a 2020 2020 2920 2d3e  = 1000,.    ) ->
-00009d90: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00009da0: 2020 2022 2222 4765 7420 6465 7669 6365     """Get device
-00009db0: 7320 6672 6f6d 2064 6576 6963 6520 696e  s from device in
-00009dc0: 7665 6e74 6f72 792e 0a0a 2020 2020 2020  ventory...      
-00009dd0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00009de0: 2020 2020 736b 755f 7479 7065 2028 7374      sku_type (st
-00009df0: 722c 206f 7074 696f 6e61 6c29 3a20 616c  r, optional): al
-00009e00: 6c2f 6961 702f 7377 6974 6368 2f63 6f6e  l/iap/switch/con
-00009e10: 7472 6f6c 6c65 722f 6761 7465 7761 792f  troller/gateway/
-00009e20: 7667 772f 6361 702f 626f 632f 616c 6c5f  vgw/cap/boc/all_
-00009e30: 6170 2f61 6c6c 5f63 6f6e 7472 6f6c 6c65  ap/all_controlle
-00009e40: 722f 6f74 6865 7273 0a20 2020 2020 2020  r/others.       
-00009e50: 2020 2020 2020 2020 2044 6566 6175 6c74           Default
-00009e60: 7320 746f 2061 6c6c 2e0a 2020 2020 2020  s to all..      
-00009e70: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-00009e80: 742c 206f 7074 696f 6e61 6c29 3a20 6f66  t, optional): of
-00009e90: 6673 6574 206f 7220 7061 6765 206e 756d  fset or page num
-00009ea0: 6265 7220 4465 6661 756c 7473 2074 6f20  ber Defaults to 
-00009eb0: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-00009ec0: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-00009ed0: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
-00009ee0: 6465 7669 6365 7320 746f 2067 6574 2044  devices to get D
-00009ef0: 6566 6175 6c74 7320 746f 2031 3030 302e  efaults to 1000.
-00009f00: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00009f10: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00009f20: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00009f30: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00009f40: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00009f50: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00009f60: 706c 6174 666f 726d 2f64 6576 6963 655f  platform/device_
-00009f70: 696e 7665 6e74 6f72 792f 7631 2f64 6576  inventory/v1/dev
-00009f80: 6963 6573 220a 0a20 2020 2020 2020 2070  ices"..        p
-00009f90: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-00009fa0: 2020 2020 2020 2773 6b75 5f74 7970 6527        'sku_type'
-00009fb0: 3a20 736b 755f 7479 7065 2c0a 2020 2020  : sku_type,.    
-00009fc0: 2020 2020 2020 2020 276f 6666 7365 7427          'offset'
-00009fd0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-00009fe0: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
-00009ff0: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
-0000a000: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000a010: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0000a020: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0000a030: 290a 0a20 2020 2023 2054 4f44 4f20 636c  )..    # TODO cl
-0000a040: 6561 6e75 7020 7468 6520 7761 7920 7261  eanup the way ra
-0000a050: 7720 6973 2063 6f6d 6269 6e65 642c 2073  w is combined, s
-0000a060: 6565 2073 686f 7720 7769 6473 2061 6c6c  ee show wids all
-0000a070: 2e0a 2020 2020 2320 544f 444f 2061 6464  ..    # TODO add
-0000a080: 2066 756c 6c20 6b77 6172 6773 2061 6e64   full kwargs and
-0000a090: 2074 7970 652d 6869 6e74 730a 2020 2020   type-hints.    
-0000a0a0: 6173 796e 6320 6465 6620 6765 745f 616c  async def get_al
-0000a0b0: 6c5f 6465 7669 6365 7376 3228 7365 6c66  l_devicesv2(self
-0000a0c0: 2c20 6361 6c63 756c 6174 655f 636c 6965  , calculate_clie
-0000a0d0: 6e74 5f63 6f75 6e74 3a20 626f 6f6c 203d  nt_count: bool =
-0000a0e0: 2054 7275 652c 202a 2a6b 7761 7267 7329   True, **kwargs)
-0000a0f0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0000a100: 2020 2020 2020 2222 2247 6574 2061 6c6c        """Get all
-0000a110: 2064 6576 6963 6573 2066 726f 6d20 4172   devices from Ar
-0000a120: 7562 6120 4365 6e74 7261 6c0a 0a20 2020  uba Central..   
-0000a130: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000a140: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000a150: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000a160: 6573 706f 6e73 6520 6f62 6a65 6374 0a0a  esponse object..
-0000a170: 2020 2020 2020 2020 2020 2020 7261 7720              raw 
-0000a180: 6174 7472 6962 7574 6520 6861 7320 616c  attribute has al
-0000a190: 6c20 6b65 7973 2072 6574 7572 6e65 6420  l keys returned 
-0000a1a0: 666f 7220 7468 6520 6465 7669 6365 732c  for the devices,
-0000a1b0: 2074 6865 206f 7574 7075 7420 6174 7472   the output attr
-0000a1c0: 6962 7574 650a 2020 2020 2020 2020 2020  ibute.          
-0000a1d0: 2020 696e 636c 7564 6573 206f 6e6c 7920    includes only 
-0000a1e0: 6b65 7973 2063 6f6d 6d6f 6e20 6163 726f  keys common acro
-0000a1f0: 7373 2061 6c6c 2064 6576 6963 6520 7479  ss all device ty
-0000a200: 7065 7320 696e 2063 656e 7472 616c 2e0a  pes in central..
-0000a210: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000a220: 2020 2020 6465 765f 7479 7065 7320 3d20      dev_types = 
-0000a230: 5b22 6170 7322 2c20 2273 7769 7463 6865  ["aps", "switche
-0000a240: 7322 2c20 2267 6174 6577 6179 7322 5d20  s", "gateways"] 
-0000a250: 2023 206d 6f62 696c 6974 795f 636f 6e74   # mobility_cont
-0000a260: 726f 6c6c 6572 7320 7365 656d 7320 7361  rollers seems sa
-0000a270: 6d65 2061 7320 6777 0a20 2020 2020 2020  me as gw.       
-0000a280: 206c 6962 5f64 6576 5f74 7970 6573 203d   lib_dev_types =
-0000a290: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0000a2a0: 6170 7322 3a20 2261 7022 2c0a 2020 2020  aps": "ap",.    
-0000a2b0: 2020 2020 2020 2020 2267 6174 6577 6179          "gateway
-0000a2c0: 7322 3a20 2267 7722 2c0a 2020 2020 2020  s": "gw",.      
-0000a2d0: 2020 7d0a 2020 2020 2020 2020 5f6f 7574    }.        _out
-0000a2e0: 7075 7420 3d20 7b7d 0a0a 2020 2020 2020  put = {}..      
-0000a2f0: 2020 7265 7173 203d 205b 7365 6c66 2e42    reqs = [self.B
-0000a300: 6174 6368 5265 7175 6573 7428 7365 6c66  atchRequest(self
-0000a310: 2e67 6574 5f64 6576 6963 6573 2c20 6465  .get_devices, de
-0000a320: 765f 7479 7065 2c20 6361 6c63 756c 6174  v_type, calculat
-0000a330: 655f 636c 6965 6e74 5f63 6f75 6e74 3d63  e_client_count=c
-0000a340: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
-0000a350: 636f 756e 742c 202a 2a6b 7761 7267 7329  count, **kwargs)
-0000a360: 2066 6f72 2064 6576 5f74 7970 6520 696e   for dev_type in
-0000a370: 2064 6576 5f74 7970 6573 5d0a 2020 2020   dev_types].    
-0000a380: 2020 2020 7265 7320 3d20 6177 6169 7420      res = await 
-0000a390: 7365 6c66 2e5f 6261 7463 685f 7265 7175  self._batch_requ
-0000a3a0: 6573 7428 7265 7173 290a 2020 2020 2020  est(reqs).      
-0000a3b0: 2020 5f66 6169 6c75 7265 5f69 6478 7320    _failure_idxs 
-0000a3c0: 3d20 5b69 6478 2066 6f72 2069 6478 2c20  = [idx for idx, 
-0000a3d0: 7220 696e 2065 6e75 6d65 7261 7465 2872  r in enumerate(r
-0000a3e0: 6573 2920 6966 206e 6f74 2072 5d0a 2020  es) if not r].  
-0000a3f0: 2020 2020 2020 6966 205f 6661 696c 7572        if _failur
-0000a400: 655f 6964 7873 3a0a 2020 2020 2020 2020  e_idxs:.        
-0000a410: 2020 2020 7265 7370 203d 2072 6573 5b5f      resp = res[_
-0000a420: 6661 696c 7572 655f 6964 7873 5b2d 315d  failure_idxs[-1]
-0000a430: 5d0a 2020 2020 2020 2020 2020 2020 7265  ].            re
-0000a440: 7370 2e6f 7574 7075 7420 3d20 5b7b 2264  sp.output = [{"d
-0000a450: 6576 5f74 7970 6522 3a20 6465 765f 7479  ev_type": dev_ty
-0000a460: 7065 735b 665d 2c20 2265 7272 6f72 223a  pes[f], "error":
-0000a470: 2072 6573 5b66 5d2e 6f75 7470 7574 7d20   res[f].output} 
-0000a480: 666f 7220 6620 696e 205f 6661 696c 7572  for f in _failur
-0000a490: 655f 6964 7873 5d0a 2020 2020 2020 2020  e_idxs].        
-0000a4a0: 2020 2020 6966 206c 656e 2872 6573 2920      if len(res) 
-0000a4b0: 3d3d 206c 656e 285f 6661 696c 7572 655f  == len(_failure_
-0000a4c0: 6964 7873 293a 2020 2320 616c 6c20 6361  idxs):  # all ca
-0000a4d0: 6c6c 7320 6661 696c 6564 0a20 2020 2020  lls failed.     
-0000a4e0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000a4f0: 6e20 7265 7370 0a20 2020 2020 2020 2020  n resp.         
-0000a500: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000a510: 2020 2020 2020 2020 2066 6169 6c65 645f           failed_
-0000a520: 6361 6c6c 7320 3d20 5b72 2066 6f72 2072  calls = [r for r
-0000a530: 2069 6e20 7265 7320 6966 206e 6f74 2072   in res if not r
-0000a540: 2e6f 6b5d 0a20 2020 2020 2020 2020 2020  .ok].           
-0000a550: 2020 2020 2072 6573 203d 205b 7220 666f       res = [r fo
-0000a560: 7220 7220 696e 2072 6573 2069 6620 722e  r r in res if r.
-0000a570: 6f6b 5d0a 2020 2020 2020 2020 2020 2020  ok].            
-0000a580: 2020 2020 666f 7220 7220 696e 2066 6169      for r in fai
-0000a590: 6c65 645f 6361 6c6c 733a 0a20 2020 2020  led_calls:.     
-0000a5a0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000a5b0: 6f67 2e65 7272 6f72 2866 2741 5049 2063  og.error(f'API c
-0000a5c0: 616c 6c20 6661 696c 6564 2074 6f20 5b7b  all failed to [{
-0000a5d0: 722e 6d65 7468 6f64 7d5d 7b72 2e75 726c  r.method}]{r.url
-0000a5e0: 2e70 6174 687d 3a20 7374 6174 7573 2063  .path}: status c
-0000a5f0: 6f64 653a 207b 722e 7374 6174 7573 7d2c  ode: {r.status},
-0000a600: 2045 7272 6f72 3a20 7b72 2e65 7272 6f72   Error: {r.error
-0000a610: 7d27 2c20 6c6f 673d 4661 6c73 652c 2063  }', log=False, c
-0000a620: 6170 7469 6f6e 3d54 7275 6529 0a0a 0a20  aption=True)... 
-0000a630: 2020 2020 2020 2072 6573 7020 3d20 7265         resp = re
-0000a640: 735b 2d31 5d0a 2020 2020 2020 2020 2320  s[-1].        # 
-0000a650: 544f 444f 2070 6173 7320 7261 7720 4a53  TODO pass raw JS
-0000a660: 4f4e 2075 7365 2070 7964 616e 7469 6320  ON use pydantic 
-0000a670: 6d6f 6465 6c73 2069 6e20 636c 6561 6e65  models in cleane
-0000a680: 7220 666f 7220 6e6f 6e2d 7665 7262 6f73  r for non-verbos
-0000a690: 652c 2076 6572 626f 7365 2c20 2d2d 636c  e, verbose, --cl
-0000a6a0: 6965 6e74 7320 2d2d 7374 6174 7320 6f75  ients --stats ou
-0000a6b0: 7470 7574 730a 2020 2020 2020 2020 6966  tputs.        if
-0000a6c0: 2063 616c 6375 6c61 7465 5f63 6c69 656e   calculate_clien
-0000a6d0: 745f 636f 756e 743a 0a20 2020 2020 2020  t_count:.       
-0000a6e0: 2020 2020 205f 6f75 7470 7574 203d 207b       _output = {
-0000a6f0: 6b3a 205b 7b22 636c 6965 6e74 5f63 6f75  k: [{"client_cou
-0000a700: 6e74 223a 2069 6e6e 6572 2e67 6574 2822  nt": inner.get("
-0000a710: 636c 6965 6e74 5f63 6f75 6e74 222c 2022  client_count", "
-0000a720: 2d22 292c 202a 2a69 6e6e 6572 7d20 666f  -"), **inner} fo
-0000a730: 7220 696e 6e65 7220 696e 2075 7469 6c73  r inner in utils
-0000a740: 2e6c 6973 7469 6679 2876 295d 2066 6f72  .listify(v)] for
-0000a750: 206b 2c20 7620 696e 207a 6970 2864 6576   k, v in zip(dev
-0000a760: 5f74 7970 6573 2c20 5b72 2e6f 7574 7075  _types, [r.outpu
-0000a770: 7420 666f 7220 7220 696e 2072 6573 5d29  t for r in res])
-0000a780: 2069 6620 767d 0a20 2020 2020 2020 2065   if v}.        e
-0000a790: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000a7a0: 205f 6f75 7470 7574 203d 207b 6b3a 2075   _output = {k: u
-0000a7b0: 7469 6c73 2e6c 6973 7469 6679 2876 2920  tils.listify(v) 
-0000a7c0: 666f 7220 6b2c 2076 2069 6e20 7a69 7028  for k, v in zip(
-0000a7d0: 6465 765f 7479 7065 732c 205b 722e 6f75  dev_types, [r.ou
-0000a7e0: 7470 7574 2066 6f72 2072 2069 6e20 7265  tput for r in re
-0000a7f0: 735d 2920 6966 2076 7d0a 2020 2020 2020  s]) if v}.      
-0000a800: 2020 7265 7370 2e72 6177 203d 207b 6b3a    resp.raw = {k:
-0000a810: 2075 7469 6c73 2e6c 6973 7469 6679 2876   utils.listify(v
-0000a820: 2920 666f 7220 6b2c 2076 2069 6e20 7a69  ) for k, v in zi
-0000a830: 7028 6465 765f 7479 7065 732c 205b 722e  p(dev_types, [r.
-0000a840: 7261 7720 666f 7220 7220 696e 2072 6573  raw for r in res
-0000a850: 5d29 2069 6620 767d 0a0a 2020 2020 2020  ]) if v}..      
-0000a860: 2020 6966 205f 6f75 7470 7574 3a0a 2020    if _output:.  
-0000a870: 2020 2020 2020 2020 2020 2320 4164 6420            # Add 
-0000a880: 7479 7065 206b 6579 2074 6f20 616c 6c20  type key to all 
-0000a890: 6469 6374 7320 636f 7665 7274 2022 7377  dicts covert "sw
-0000a8a0: 6974 6368 2d74 7970 6522 2074 6f20 6365  itch-type" to ce
-0000a8b0: 6e63 6c69 2074 7970 6520 2863 7820 6f72  ncli type (cx or
-0000a8c0: 2073 7729 0a20 2020 2020 2020 2020 2020   sw).           
-0000a8d0: 2023 2054 4f44 4f20 6d6f 7665 2074 6f20   # TODO move to 
-0000a8e0: 636c 6561 6e65 723f 2073 6574 2074 7970  cleaner? set typ
-0000a8f0: 6520 746f 2073 7769 7463 685f 7479 7065  e to switch_type
-0000a900: 2066 6f72 2073 7769 7463 6865 7320 6c65   for switches le
-0000a910: 7420 636c 6561 6e65 7220 6368 616e 6765  t cleaner change
-0000a920: 2076 616c 7565 2074 6f20 6c69 6220 7661   value to lib va
-0000a930: 6c73 0a20 2020 2020 2020 2020 2020 2064  ls.            d
-0000a940: 6963 7473 203d 205b 0a20 2020 2020 2020  icts = [.       
-0000a950: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
-0000a960: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-0000a970: 2a7b 0a20 2020 2020 2020 2020 2020 2020  *{.             
-0000a980: 2020 2020 2020 2020 2020 2022 7479 7065             "type
-0000a990: 223a 206c 6962 5f64 6576 5f74 7970 6573  ": lib_dev_types
-0000a9a0: 2e67 6574 286b 2c20 6b29 2069 6620 6b20  .get(k, k) if k 
-0000a9b0: 213d 2022 7377 6974 6368 6573 2220 656c  != "switches" el
-0000a9c0: 7365 0a20 2020 2020 2020 2020 2020 2020  se.             
-0000a9d0: 2020 2020 2020 2020 2020 2063 6f6e 7374             const
-0000a9e0: 616e 7473 2e67 6574 5f63 656e 636c 695f  ants.get_cencli_
-0000a9f0: 6465 7674 7970 6528 696e 6e65 725f 6469  devtype(inner_di
-0000aa00: 6374 2e67 6574 2822 7377 6974 6368 5f74  ct.get("switch_t
-0000aa10: 7970 6522 2c20 2273 7769 7463 6822 2929  ype", "switch"))
-0000aa20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aa30: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-0000aa40: 2020 2020 2020 2020 2020 2020 2a2a 7b0a              **{.
-0000aa50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aa60: 2020 2020 2020 2020 6b6b 3a20 7676 2066          kk: vv f
-0000aa70: 6f72 206b 6b2c 2076 7620 696e 2069 6e6e  or kk, vv in inn
-0000aa80: 6572 5f64 6963 742e 6974 656d 7328 290a  er_dict.items().
-0000aa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aaa0: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
-0000aab0: 2020 2020 2020 7d20 666f 7220 6b2c 2076        } for k, v
-0000aac0: 2069 6e20 5f6f 7574 7075 742e 6974 656d   in _output.item
-0000aad0: 7328 2920 666f 7220 696e 6e65 725f 6469  s() for inner_di
-0000aae0: 6374 2069 6e20 760a 2020 2020 2020 2020  ct in v.        
-0000aaf0: 2020 2020 5d0a 2020 2020 2020 2020 2020      ].          
-0000ab00: 2020 2320 544f 444f 206b 6565 7020 616c    # TODO keep al
-0000ab10: 6c20 6669 656c 6473 2069 6e20 6f75 7470  l fields in outp
-0000ab20: 7574 2064 6963 742c 206c 6574 2063 6c65  ut dict, let cle
-0000ab30: 616e 6572 2064 6566 696e 6520 6669 656c  aner define fiel
-0000ab40: 6420 666f 7220 6e6f 726d 616c 2061 6e64  d for normal and
-0000ab50: 2076 6572 626f 7365 206f 7074 696f 6e73   verbose options
-0000ab60: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
-0000ab70: 2020 2020 6966 2075 7365 7220 7365 6c65      if user sele
-0000ab80: 6374 7320 2d2d 6a73 6f6e 206f 7220 2d2d  cts --json or --
-0000ab90: 7961 6d6c 206b 6565 7020 616c 6c20 6669  yaml keep all fi
-0000aba0: 656c 6473 0a20 2020 2020 2020 2020 2020  elds.           
-0000abb0: 2023 2072 6574 7572 6e20 6a75 7374 2074   # return just t
-0000abc0: 6865 206b 6579 7320 636f 6d6d 6f6e 2061  he keys common a
-0000abd0: 6372 6f73 7320 616c 6c20 6465 7669 6365  cross all device
-0000abe0: 2074 7970 6573 0a20 2020 2020 2020 2020   types.         
-0000abf0: 2020 2063 6f6d 6d6f 6e5f 6b65 7973 203d     common_keys =
-0000ac00: 2073 6574 2e69 6e74 6572 7365 6374 696f   set.intersectio
-0000ac10: 6e28 2a6d 6170 2873 6574 2c20 6469 6374  n(*map(set, dict
-0000ac20: 7329 290a 2020 2020 2020 2020 2020 2020  s)).            
-0000ac30: 5f6f 7574 7075 7420 3d20 5b7b 6b3a 2064  _output = [{k: d
-0000ac40: 5b6b 5d20 666f 7220 6b20 696e 2063 6f6d  [k] for k in com
-0000ac50: 6d6f 6e5f 6b65 7973 7d20 666f 7220 6420  mon_keys} for d 
-0000ac60: 696e 2064 6963 7473 5d0a 0a20 2020 2020  in dicts]..     
-0000ac70: 2020 2020 2020 2072 6573 702e 6f75 7470         resp.outp
-0000ac80: 7574 203d 205f 6f75 7470 7574 0a0a 2020  ut = _output..  
-0000ac90: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-0000aca0: 700a 0a20 2020 2023 2041 5049 2d46 4c41  p..    # API-FLA
-0000acb0: 5720 616f 732d 7377 2061 6c77 6179 7320  W aos-sw always 
-0000acc0: 7368 6f77 7320 564c 414e 2061 7320 3120  shows VLAN as 1 
-0000acd0: 2861 6c6c 6f77 6564 5f76 6c61 6e73 2072  (allowed_vlans r
-0000ace0: 6570 7265 7365 6e74 7320 7468 6520 5056  epresents the PV
-0000acf0: 4944 2066 6f72 2061 6e20 6163 6365 7373  ID for an access
-0000ad00: 2070 6f72 742c 2069 6e63 6c75 6465 2061   port, include a
-0000ad10: 6c6c 2056 4c41 4e73 206f 6e20 6120 7472  ll VLANs on a tr
-0000ad20: 756e 6b20 706f 7274 2c20 6e6f 2069 6e64  unk port, no ind
-0000ad30: 6963 6174 696f 6e20 6f66 206e 6174 6976  ication of nativ
-0000ad40: 6529 0a20 2020 2023 2041 5049 2d46 4c41  e).    # API-FLA
-0000ad50: 5720 616f 732d 7377 2061 6c77 6179 7320  W aos-sw always 
-0000ad60: 7368 6f77 7320 6d6f 6465 2061 7320 6163  shows mode as ac
-0000ad70: 6365 7373 2c20 6378 2064 6f65 7320 6173  cess, cx does as
-0000ad80: 2077 656c 6c2c 2062 7574 2068 6173 2076   well, but has v
-0000ad90: 6c61 6e5f 6d6f 6465 2077 6869 6368 2069  lan_mode which i
-0000ada0: 7320 6163 6375 7261 7465 0a20 2020 2023  s accurate.    #
-0000adb0: 2041 5049 2d46 4c41 5720 6e65 6974 6865   API-FLAW neithe
-0000adc0: 7220 7368 6f77 2069 6e74 6572 6661 6365  r show interface
-0000add0: 206e 616d 652f 6465 7363 7269 7074 696f   name/descriptio
-0000ade0: 6e0a 2020 2020 6173 796e 6320 6465 6620  n.    async def 
-0000adf0: 6765 745f 7377 6974 6368 5f70 6f72 7473  get_switch_ports
-0000ae00: 2873 656c 662c 2073 6572 6961 6c3a 2073  (self, serial: s
-0000ae10: 7472 2c20 736c 6f74 3a20 7374 7220 3d20  tr, slot: str = 
-0000ae20: 4e6f 6e65 2c20 616f 735f 7377 3a20 626f  None, aos_sw: bo
-0000ae30: 6f6c 203d 2046 616c 7365 2920 2d3e 2052  ol = False) -> R
-0000ae40: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000ae50: 2022 2222 5377 6974 6368 2050 6f72 7473   """Switch Ports
-0000ae60: 2044 6574 6169 6c73 2e0a 0a20 2020 2020   Details...     
-0000ae70: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000ae80: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-0000ae90: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-0000aea0: 206f 6620 7377 6974 6368 2074 6f20 6265   of switch to be
-0000aeb0: 2071 7565 7269 6564 0a20 2020 2020 2020   queried.       
-0000aec0: 2020 2020 2073 6c6f 7420 2873 7472 2c20       slot (str, 
-0000aed0: 6f70 7469 6f6e 616c 293a 2053 6c6f 7420  optional): Slot 
-0000aee0: 6e61 6d65 206f 6620 7468 6520 706f 7274  name of the port
-0000aef0: 7320 746f 2062 6520 7175 6572 6965 6420  s to be queried 
-0000af00: 7b46 6f72 2063 6861 7373 6973 2074 7970  {For chassis typ
-0000af10: 6520 7377 6974 6368 6573 0a20 2020 2020  e switches.     
-0000af20: 2020 2020 2020 2020 2020 206f 6e6c 797d             only}
-0000af30: 2e0a 2020 2020 2020 2020 2020 2020 616f  ..            ao
-0000af40: 735f 7377 2028 626f 6f6c 2c20 6f70 7469  s_sw (bool, opti
-0000af50: 6f6e 616c 293a 2044 6576 6963 6520 6973  onal): Device is
-0000af60: 2041 7275 6261 4f53 2d53 7769 7463 682e   ArubaOS-Switch.
-0000af70: 2044 6566 6175 6c74 7320 746f 2046 616c   Defaults to Fal
-0000af80: 7365 2028 696e 6469 6361 7469 6e67 2043  se (indicating C
-0000af90: 5820 7377 6974 6368 290a 0a20 2020 2020  X switch)..     
-0000afa0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0000afb0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0000afc0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0000afd0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0000afe0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000aff0: 2073 775f 7061 7468 203d 2022 6378 5f73   sw_path = "cx_s
-0000b000: 7769 7463 6865 7322 2069 6620 6e6f 7420  witches" if not 
-0000b010: 616f 735f 7377 2065 6c73 6520 2273 7769  aos_sw else "swi
-0000b020: 7463 6865 7322 0a20 2020 2020 2020 2075  tches".        u
-0000b030: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
-0000b040: 6e67 2f76 312f 7b73 775f 7061 7468 7d2f  ng/v1/{sw_path}/
-0000b050: 7b73 6572 6961 6c7d 2f70 6f72 7473 220a  {serial}/ports".
-0000b060: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0000b070: 3d20 7b22 736c 6f74 223a 2073 6c6f 747d  = {"slot": slot}
-0000b080: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0000b090: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-0000b0a0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-0000b0b0: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-0000b0c0: 6566 2067 6574 5f73 7769 7463 685f 706f  ef get_switch_po
-0000b0d0: 655f 6465 7461 696c 7328 0a20 2020 2020  e_details(.     
-0000b0e0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0000b0f0: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
-0000b100: 2020 2020 2020 706f 7274 3a20 7374 7220        port: str 
-0000b110: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000b120: 616f 735f 7377 3a20 626f 6f6c 203d 2046  aos_sw: bool = F
-0000b130: 616c 7365 2c0a 2020 2020 2920 2d3e 2052  alse,.    ) -> R
-0000b140: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000b150: 2022 2222 4765 7420 7377 6974 6368 2070   """Get switch p
-0000b160: 6f65 2069 6e66 6f2e 0a0a 2020 2020 2020  oe info...      
-0000b170: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0000b180: 2020 2020 7365 7269 616c 2028 7374 7229      serial (str)
-0000b190: 3a20 5377 6974 6368 2073 6572 6961 6c0a  : Switch serial.
-0000b1a0: 2020 2020 2020 2020 2020 2020 706f 7274              port
-0000b1b0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000b1c0: 3a20 4669 6c74 6572 2062 7920 7377 6974  : Filter by swit
-0000b1d0: 6368 2070 6f72 740a 2020 2020 2020 2020  ch port.        
-0000b1e0: 2020 2020 616f 735f 7377 2028 626f 6f6c      aos_sw (bool
-0000b1f0: 2c20 6f70 7469 6f6e 616c 293a 2044 6576  , optional): Dev
-0000b200: 6963 6520 6973 2041 7275 6261 4f53 2d53  ice is ArubaOS-S
-0000b210: 7769 7463 682e 2044 6566 6175 6c74 7320  witch. Defaults 
-0000b220: 746f 2046 616c 7365 0a0a 2020 2020 2020  to False..      
-0000b230: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0000b240: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0000b250: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0000b260: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0000b270: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000b280: 7377 5f70 6174 6820 3d20 2263 785f 7377  sw_path = "cx_sw
-0000b290: 6974 6368 6573 2220 6966 206e 6f74 2061  itches" if not a
-0000b2a0: 6f73 5f73 7720 656c 7365 2022 7377 6974  os_sw else "swit
-0000b2b0: 6368 6573 220a 2020 2020 2020 2020 7572  ches".        ur
-0000b2c0: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
-0000b2d0: 672f 7631 2f7b 7377 5f70 6174 687d 2f7b  g/v1/{sw_path}/{
-0000b2e0: 7365 7269 616c 7d2f 706f 655f 6465 7461  serial}/poe_deta
-0000b2f0: 696c 220a 0a20 2020 2020 2020 2070 6172  il"..        par
-0000b300: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-0000b310: 2020 2020 2770 6f72 7427 3a20 7374 7228      'port': str(
-0000b320: 706f 7274 290a 2020 2020 2020 2020 7d0a  port).        }.
-0000b330: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000b340: 706f 7274 3a0a 2020 2020 2020 2020 2020  port:.          
-0000b350: 2020 7572 6c20 3d20 6622 7b75 726c 7d73    url = f"{url}s
-0000b360: 220a 2020 2020 2020 2020 2020 2020 7061  ".            pa
-0000b370: 7261 6d73 203d 207b 7d0a 0a20 2020 2020  rams = {}..     
-0000b380: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000b390: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-0000b3a0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-0000b3b0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000b3c0: 6761 7465 7761 795f 706f 7274 7328 7365  gateway_ports(se
-0000b3d0: 6c66 2c20 7365 7269 616c 3a20 7374 7229  lf, serial: str)
-0000b3e0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0000b3f0: 2020 2020 2020 2222 2247 6174 6577 6179        """Gateway
-0000b400: 2050 6f72 7473 2044 6574 6169 6c73 2e0a   Ports Details..
-0000b410: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0000b420: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0000b430: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
-0000b440: 6e75 6d62 6572 206f 6620 4761 7465 7761  number of Gatewa
-0000b450: 7920 746f 2062 6520 7175 6572 6965 640a  y to be queried.
-0000b460: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0000b470: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0000b480: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0000b490: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0000b4a0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0000b4b0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0000b4c0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6761  monitoring/v1/ga
-0000b4d0: 7465 7761 7973 2f7b 7365 7269 616c 7d2f  teways/{serial}/
-0000b4e0: 706f 7274 7322 0a0a 2020 2020 2020 2020  ports"..        
-0000b4f0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0000b500: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
-0000b510: 6173 796e 6320 6465 6620 6765 745f 6465  async def get_de
-0000b520: 765f 6279 5f74 7970 6528 0a20 2020 2020  v_by_type(.     
-0000b530: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000b540: 2020 2020 2020 2020 2064 6576 5f74 7970           dev_typ
-0000b550: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-0000b560: 2920 2d3e 2052 6573 706f 6e73 653a 2020  ) -> Response:  
-0000b570: 2320 5645 5249 4649 4544 0a20 2020 2020  # VERIFIED.     
-0000b580: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
-0000b590: 6f72 6d2f 6465 7669 6365 5f69 6e76 656e  orm/device_inven
-0000b5a0: 746f 7279 2f76 312f 6465 7669 6365 7322  tory/v1/devices"
-0000b5b0: 0a20 2020 2020 2020 2023 2069 6170 2c20  .        # iap, 
-0000b5c0: 7377 6974 6368 2c20 6761 7465 7761 797c  switch, gateway|
-0000b5d0: 626f 630a 2020 2020 2020 2020 6966 2064  boc.        if d
-0000b5e0: 6576 5f74 7970 652e 6c6f 7765 7228 2920  ev_type.lower() 
-0000b5f0: 696e 205b 2261 7073 222c 2022 6170 225d  in ["aps", "ap"]
-0000b600: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
-0000b610: 765f 7479 7065 203d 2022 616c 6c5f 6170  v_type = "all_ap
-0000b620: 220a 2020 2020 2020 2020 7061 7261 6d73  ".        params
-0000b630: 203d 207b 2273 6b75 5f74 7970 6522 3a20   = {"sku_type": 
-0000b640: 6465 765f 7479 7065 7d0a 2020 2020 2020  dev_type}.      
-0000b650: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0000b660: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-0000b670: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-0000b680: 2061 7379 6e63 2064 6566 2067 6574 5f76   async def get_v
-0000b690: 6172 6961 626c 6973 6564 5f74 656d 706c  ariablised_templ
-0000b6a0: 6174 6528 7365 6c66 2c20 7365 7269 616c  ate(self, serial
-0000b6b0: 6e75 6d3a 2073 7472 2920 2d3e 2052 6573  num: str) -> Res
-0000b6c0: 706f 6e73 653a 2020 2320 5645 5249 4649  ponse:  # VERIFI
-0000b6d0: 4544 0a20 2020 2020 2020 2075 726c 203d  ED.        url =
-0000b6e0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
-0000b6f0: 6e2f 7631 2f64 6576 6963 6573 2f7b 7365  n/v1/devices/{se
-0000b700: 7269 616c 6e75 6d7d 2f76 6172 6961 626c  rialnum}/variabl
-0000b710: 6973 6564 5f74 656d 706c 6174 6522 0a20  ised_template". 
-0000b720: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000b730: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0000b740: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0000b750: 2067 6574 5f76 6172 6961 626c 6573 2873   get_variables(s
-0000b760: 656c 662c 2073 6572 6961 6c6e 756d 3a20  elf, serialnum: 
-0000b770: 7374 7220 3d20 4e6f 6e65 2920 2d3e 2052  str = None) -> R
-0000b780: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000b790: 2069 6620 7365 7269 616c 6e75 6d20 616e   if serialnum an
-0000b7a0: 6420 7365 7269 616c 6e75 6d20 213d 2022  d serialnum != "
-0000b7b0: 616c 6c22 3a0a 2020 2020 2020 2020 2020  all":.          
-0000b7c0: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
-0000b7d0: 6775 7261 7469 6f6e 2f76 312f 6465 7669  guration/v1/devi
-0000b7e0: 6365 732f 7b73 6572 6961 6c6e 756d 7d2f  ces/{serialnum}/
-0000b7f0: 7465 6d70 6c61 7465 5f76 6172 6961 626c  template_variabl
-0000b800: 6573 220a 2020 2020 2020 2020 2020 2020  es".            
-0000b810: 7061 7261 6d73 203d 207b 7d0a 2020 2020  params = {}.    
-0000b820: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000b830: 2020 2020 2020 7572 6c20 3d20 222f 636f        url = "/co
-0000b840: 6e66 6967 7572 6174 696f 6e2f 7631 2f64  nfiguration/v1/d
-0000b850: 6576 6963 6573 2f74 656d 706c 6174 655f  evices/template_
-0000b860: 7661 7269 6162 6c65 7322 0a20 2020 2020  variables".     
-0000b870: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0000b880: 7b22 6c69 6d69 7422 3a20 3230 2c20 226f  {"limit": 20, "o
-0000b890: 6666 7365 7422 3a20 307d 0a20 2020 2020  ffset": 0}.     
-0000b8a0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000b8b0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-0000b8c0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-0000b8d0: 2020 2320 6173 796e 6320 6465 6620 7570    # async def up
-0000b8e0: 6461 7465 5f76 6172 6961 626c 6573 2873  date_variables(s
-0000b8f0: 656c 662c 2073 6572 6961 6c6e 756d 3a20  elf, serialnum: 
-0000b900: 7374 722c 202a 2a76 6172 5f64 6963 743a  str, **var_dict:
-0000b910: 2064 6963 7429 202d 3e20 626f 6f6c 3a0a   dict) -> bool:.
-0000b920: 2020 2020 2320 2020 2020 7572 6c20 3d20      #     url = 
-0000b930: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
-0000b940: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
-0000b950: 6961 6c6e 756d 7d2f 7465 6d70 6c61 7465  ialnum}/template
-0000b960: 5f76 6172 6961 626c 6573 220a 2020 2020  _variables".    
-0000b970: 2320 2020 2020 7661 725f 6469 6374 203d  #     var_dict =
-0000b980: 206a 736f 6e2e 6475 6d70 7328 7661 725f   json.dumps(var_
-0000b990: 6469 6374 290a 2020 2020 2320 2020 2020  dict).    #     
-0000b9a0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0000b9b0: 662e 7061 7463 6828 7572 6c2c 2070 6179  f.patch(url, pay
-0000b9c0: 6c6f 6164 3d76 6172 5f64 6963 7429 0a0a  load=var_dict)..
-0000b9d0: 2020 2020 2320 544f 444f 2066 6967 7572      # TODO figur
-0000b9e0: 6520 6f75 7420 686f 7720 746f 206d 616b  e out how to mak
-0000b9f0: 6520 7468 6973 2077 6f72 6b2c 206e 6565  e this work, nee
-0000ba00: 6420 6669 6c65 206c 696b 6520 6f62 6a65  d file like obje
-0000ba10: 6374 0a20 2020 2061 7379 6e63 2064 6566  ct.    async def
-0000ba20: 2075 7064 6174 655f 6465 7669 6365 5f74   update_device_t
-0000ba30: 656d 706c 6174 655f 7661 7269 6162 6c65  emplate_variable
-0000ba40: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-0000ba50: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
-0000ba60: 7365 7269 616c 3a20 7374 722c 0a20 2020  serial: str,.   
-0000ba70: 2020 2020 2064 6576 6963 655f 6d61 633a       device_mac:
-0000ba80: 2073 7472 2c0a 2020 2020 2020 2020 2320   str,.        # 
-0000ba90: 746f 7461 6c3a 2069 6e74 2c0a 2020 2020  total: int,.    
-0000baa0: 2020 2020 2320 5f73 7973 5f73 6572 6961      # _sys_seria
-0000bab0: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
-0000bac0: 2320 5f73 7973 5f6c 616e 5f6d 6163 3a20  # _sys_lan_mac: 
-0000bad0: 7374 722c 0a20 2020 2020 2020 2076 6172  str,.        var
-0000bae0: 5f64 6963 743a 2064 6963 742c 0a20 2020  _dict: dict,.   
-0000baf0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0000bb00: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
-0000bb10: 6520 7465 6d70 6c61 7465 2076 6172 6961  e template varia
-0000bb20: 626c 6573 2066 6f72 2061 2064 6576 6963  bles for a devic
-0000bb30: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
-0000bb40: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
-0000bb50: 7669 6365 5f73 6572 6961 6c20 2873 7472  vice_serial (str
-0000bb60: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-0000bb70: 206f 6620 7468 6520 6465 7669 6365 2e0a   of the device..
-0000bb80: 2020 2020 2020 2020 2020 2020 746f 7461              tota
-0000bb90: 6c20 2869 6e74 293a 2074 6f74 616c 0a20  l (int): total. 
-0000bba0: 2020 2020 2020 2020 2020 205f 7379 735f             _sys_
-0000bbb0: 7365 7269 616c 2028 7374 7229 3a20 5f73  serial (str): _s
-0000bbc0: 7973 5f73 6572 6961 6c0a 2020 2020 2020  ys_serial.      
-0000bbd0: 2020 2020 2020 5f73 7973 5f6c 616e 5f6d        _sys_lan_m
-0000bbe0: 6163 2028 7374 7229 3a20 5f73 7973 5f6c  ac (str): _sys_l
-0000bbf0: 616e 5f6d 6163 0a20 2020 2020 2020 2020  an_mac.         
-0000bc00: 2020 2076 6172 5f64 6963 7420 2864 6963     var_dict (dic
-0000bc10: 7429 3a20 6469 6374 2077 6974 6820 7661  t): dict with va
-0000bc20: 7269 6162 6c65 7320 746f 2062 6520 7570  riables to be up
-0000bc30: 6461 7465 640a 0a20 2020 2020 2020 2052  dated..        R
-0000bc40: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0000bc50: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0000bc60: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0000bc70: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0000bc80: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0000bc90: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
-0000bca0: 696f 6e2f 7631 2f64 6576 6963 6573 2f7b  ion/v1/devices/{
-0000bcb0: 6465 7669 6365 5f73 6572 6961 6c7d 2f74  device_serial}/t
-0000bcc0: 656d 706c 6174 655f 7661 7269 6162 6c65  emplate_variable
-0000bcd0: 7322 0a20 2020 2020 2020 2023 2068 6561  s".        # hea
-0000bce0: 6465 7273 203d 207b 2243 6f6e 7465 6e74  ders = {"Content
-0000bcf0: 2d54 7970 6522 3a20 226d 756c 7469 7061  -Type": "multipa
-0000bd00: 7274 2f66 6f72 6d2d 6461 7461 227d 0a0a  rt/form-data"}..
-0000bd10: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0000bd20: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-0000bd30: 2020 2774 6f74 616c 273a 206c 656e 2876    'total': len(v
-0000bd40: 6172 5f64 6963 7429 202b 2032 2c0a 2020  ar_dict) + 2,.  
-0000bd50: 2020 2020 2020 2020 2020 2276 6172 6961            "varia
-0000bd60: 626c 6573 223a 207b 0a20 2020 2020 2020  bles": {.       
-0000bd70: 2020 2020 2020 2020 202a 2a7b 0a20 2020           **{.   
-0000bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd90: 2027 5f73 7973 5f73 6572 6961 6c27 3a20   '_sys_serial': 
-0000bda0: 6465 7669 6365 5f73 6572 6961 6c2c 0a20  device_serial,. 
-0000bdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bdc0: 2020 2027 5f73 7973 5f6c 616e 5f6d 6163     '_sys_lan_mac
-0000bdd0: 273a 2064 6576 6963 655f 6d61 632c 0a20  ': device_mac,. 
-0000bde0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0000bdf0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000be00: 2020 2a2a 7661 725f 6469 6374 0a20 2020    **var_dict.   
-0000be10: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
-0000be20: 2020 207d 0a20 2020 2020 2020 2023 2064     }.        # d
-0000be30: 6174 6120 3d20 7365 6c66 2e5f 6d61 6b65  ata = self._make
-0000be40: 5f66 6f72 6d5f 6461 7461 286a 736f 6e5f  _form_data(json_
-0000be50: 6461 7461 290a 2020 2020 2020 2020 2320  data).        # 
-0000be60: 6461 7461 203d 206d 756c 7469 7061 7274  data = multipart
-0000be70: 6966 7928 6a73 6f6e 5f64 6174 6129 0a0a  ify(json_data)..
-0000be80: 2020 2020 2020 2020 2320 7265 7475 726e          # return
-0000be90: 2061 7761 6974 2073 656c 662e 7061 7463   await self.patc
-0000bea0: 6828 7572 6c2c 2068 6561 6465 7273 3d68  h(url, headers=h
-0000beb0: 6561 6465 7273 2c20 6461 7461 3d64 6174  eaders, data=dat
-0000bec0: 6129 0a20 2020 2020 2020 2072 6574 7572  a).        retur
-0000bed0: 6e20 6177 6169 7420 7365 6c66 2e70 6174  n await self.pat
-0000bee0: 6368 2875 726c 2c20 6a73 6f6e 5f64 6174  ch(url, json_dat
-0000bef0: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
-0000bf00: 2020 2320 4150 492d 464c 4157 2020 5365    # API-FLAW  Se
-0000bf10: 656d 7320 746f 2077 6f72 6b20 6669 6e65  ems to work fine
-0000bf20: 2066 6f72 2063 782c 2061 702c 2062 7574   for cx, ap, but
-0000bf30: 2067 7720 7468 6520 7265 7475 726e 2069   gw the return i
-0000bf40: 730a 2020 2020 2320 2246 6574 6368 696e  s.    # "Fetchin
-0000bf50: 6720 636f 6e66 6967 7572 6174 696f 6e20  g configuration 
-0000bf60: 696e 2070 726f 6772 6573 7320 666f 7220  in progress for 
-0000bf70: 4d6f 6269 6c69 7479 2043 6f6e 7472 6f6c  Mobility Control
-0000bf80: 6c65 7220 5345 5249 414c 2f4d 4143 220a  ler SERIAL/MAC".
-0000bf90: 2020 2020 2320 7375 6273 6571 7565 6e74      # subsequent
-0000bfa0: 2063 616c 6c73 2066 6f72 2074 6865 2073   calls for the s
-0000bfb0: 616d 6520 6777 2072 6574 7572 6e20 3530  ame gw return 50
-0000bfc0: 3020 696e 7465 726e 616c 2073 6572 7665  0 internal serve
-0000bfd0: 7220 6572 726f 722e 0a20 2020 2023 2046  r error..    # F
-0000bfe0: 4958 4d45 0a20 2020 2061 7379 6e63 2064  IXME.    async d
-0000bff0: 6566 2067 6574 5f64 6576 6963 655f 636f  ef get_device_co
-0000c000: 6e66 6967 7572 6174 696f 6e28 7365 6c66  nfiguration(self
-0000c010: 2c20 6465 7669 6365 5f73 6572 6961 6c3a  , device_serial:
-0000c020: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
-0000c030: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-0000c040: 7420 6c61 7374 206b 6e6f 776e 2072 756e  t last known run
-0000c050: 6e69 6e67 2063 6f6e 6669 6775 7261 7469  ning configurati
-0000c060: 6f6e 2066 6f72 2061 2064 6576 6963 652e  on for a device.
-0000c070: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
-0000c080: 6420 6279 2073 686f 7720 7275 6e20 3c44  d by show run <D
-0000c090: 4556 4943 452d 4944 454e 3e20 2f2f 0a0a  EVICE-IDEN> //..
-0000c0a0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0000c0b0: 2020 2020 2020 2020 2020 6465 7669 6365            device
-0000c0c0: 5f73 6572 6961 6c20 2873 7472 293a 2053  _serial (str): S
-0000c0d0: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-0000c0e0: 7468 6520 6465 7669 6365 2e0a 0a20 2020  the device...   
-0000c0f0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000c100: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000c110: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000c120: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0000c130: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000c140: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
-0000c150: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
-0000c160: 6963 6573 2f7b 6465 7669 6365 5f73 6572  ices/{device_ser
-0000c170: 6961 6c7d 2f63 6f6e 6669 6775 7261 7469  ial}/configurati
-0000c180: 6f6e 220a 2020 2020 2020 2020 6865 6164  on".        head
-0000c190: 6572 7320 3d20 7b22 4163 6365 7074 223a  ers = {"Accept":
-0000c1a0: 2022 6d75 6c74 6970 6172 742f 666f 726d   "multipart/form
-0000c1b0: 2d64 6174 6122 7d0a 0a20 2020 2020 2020  -data"}..       
-0000c1c0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0000c1d0: 6c66 2e67 6574 2875 726c 2c20 6865 6164  lf.get(url, head
-0000c1e0: 6572 733d 6865 6164 6572 7329 0a0a 2020  ers=headers)..  
-0000c1f0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000c200: 6273 7369 6473 280a 2020 2020 2020 2020  bssids(.        
-0000c210: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-0000c220: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
-0000c230: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
-0000c240: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-0000c250: 2020 2020 2020 206c 6162 656c 3a20 7374         label: st
-0000c260: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0000c270: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
-0000c280: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
-0000c290: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
-0000c2a0: 2020 2020 2020 2020 6d61 6361 6464 723a          macaddr:
-0000c2b0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000c2c0: 2020 2020 2063 6c75 7374 6572 5f69 643a       cluster_id:
-0000c2d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000c2e0: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
-0000c2f0: 6f74 616c 3a20 626f 6f6c 203d 204e 6f6e  otal: bool = Non
-0000c300: 652c 0a20 2020 2020 2020 2073 6f72 743a  e,.        sort:
-0000c310: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000c320: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0000c330: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-0000c340: 6d69 743a 2069 6e74 203d 2031 3030 302c  mit: int = 1000,
-0000c350: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0000c360: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-0000c370: 6973 7420 4253 5349 4473 2e0a 0a20 2020  ist BSSIDs...   
-0000c380: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0000c390: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-0000c3a0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000c3b0: 6c74 6572 2062 7920 6772 6f75 7020 6e61  lter by group na
-0000c3c0: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
-0000c3d0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
-0000c3e0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000c3f0: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
-0000c400: 2020 2020 2020 2020 6c61 6265 6c20 2873          label (s
-0000c410: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000c420: 696c 7465 7220 6279 204c 6162 656c 206e  ilter by Label n
-0000c430: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0000c440: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
-0000c450: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000c460: 5369 7465 206e 616d 650a 2020 2020 2020  Site name.      
-0000c470: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-0000c480: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000c490: 6c74 6572 2062 7920 4150 2073 6572 6961  lter by AP seria
-0000c4a0: 6c20 6e75 6d62 6572 0a20 2020 2020 2020  l number.       
-0000c4b0: 2020 2020 206d 6163 6164 6472 2028 7374       macaddr (st
-0000c4c0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000c4d0: 6c74 6572 2062 7920 4150 204d 4143 2061  lter by AP MAC a
-0000c4e0: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
-0000c4f0: 2020 2063 6c75 7374 6572 5f69 6420 2873     cluster_id (s
-0000c500: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000c510: 696c 7465 7220 6279 204d 6f62 696c 6974  ilter by Mobilit
-0000c520: 7920 436f 6e74 726f 6c6c 6572 2073 6572  y Controller ser
-0000c530: 6961 6c20 6e75 6d62 6572 0a20 2020 2020  ial number.     
-0000c540: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-0000c550: 5f74 6f74 616c 2028 626f 6f6c 2c20 6f70  _total (bool, op
-0000c560: 7469 6f6e 616c 293a 2057 6865 7468 6572  tional): Whether
-0000c570: 2074 6f20 6361 6c63 756c 6174 6520 746f   to calculate to
-0000c580: 7461 6c20 4150 730a 2020 2020 2020 2020  tal APs.        
-0000c590: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
-0000c5a0: 7074 696f 6e61 6c29 3a20 536f 7274 2070  ptional): Sort p
-0000c5b0: 6172 616d 6574 6572 206d 6179 2062 6520  arameter may be 
-0000c5c0: 6f6e 6520 6f66 202b 7365 7269 616c 2c20  one of +serial, 
-0000c5d0: 2d73 6572 6961 6c2c 202b 6d61 6361 6464  -serial, +macadd
-0000c5e0: 722c 2d6d 6163 6164 6472 2c0a 2020 2020  r,-macaddr,.    
-0000c5f0: 2020 2020 2020 2020 2020 2020 2b73 7761              +swa
-0000c600: 726d 5f69 642c 202d 7377 6172 6d5f 6964  rm_id, -swarm_id
-0000c610: 2e44 6566 6175 6c74 2069 7320 272b 7365  .Default is '+se
-0000c620: 7269 616c 270a 2020 2020 2020 2020 2020  rial'.          
-0000c630: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-0000c640: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-0000c650: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-0000c660: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-0000c670: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-0000c680: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-0000c690: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
-0000c6a0: 4465 6661 756c 7420 6973 2031 3030 2061  Default is 100 a
-0000c6b0: 6e64 206d 6178 2069 7320 3130 3030 2044  nd max is 1000 D
-0000c6c0: 6566 6175 6c74 7320 746f 2031 3030 302e  efaults to 1000.
-0000c6d0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0000c6e0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0000c6f0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0000c700: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0000c710: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0000c720: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-0000c730: 6d6f 6e69 746f 7269 6e67 2f76 322f 6273  monitoring/v2/bs
-0000c740: 7369 6473 220a 0a20 2020 2020 2020 2070  sids"..        p
-0000c750: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0000c760: 2020 2020 2020 2773 6572 6961 6c27 3a20        'serial': 
-0000c770: 7365 7269 616c 2c0a 2020 2020 2020 2020  serial,.        
-0000c780: 2020 2020 2267 726f 7570 223a 2067 726f      "group": gro
-0000c790: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0000c7a0: 2273 7761 726d 5f69 6422 3a20 7377 6172  "swarm_id": swar
-0000c7b0: 6d5f 6964 2c0a 2020 2020 2020 2020 2020  m_id,.          
-0000c7c0: 2020 226c 6162 656c 223a 206c 6162 656c    "label": label
-0000c7d0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-0000c7e0: 6974 6522 3a20 7369 7465 2c0a 2020 2020  ite": site,.    
-0000c7f0: 2020 2020 2020 2020 276d 6163 6164 6472          'macaddr
-0000c800: 273a 206d 6163 6164 6472 2c0a 2020 2020  ': macaddr,.    
-0000c810: 2020 2020 2020 2020 2763 6c75 7374 6572          'cluster
-0000c820: 5f69 6427 3a20 636c 7573 7465 725f 6964  _id': cluster_id
-0000c830: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
-0000c840: 616c 6375 6c61 7465 5f74 6f74 616c 273a  alculate_total':
-0000c850: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
-0000c860: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0000c870: 6f72 7427 3a20 736f 7274 2c0a 2020 2020  ort': sort,.    
-0000c880: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
-0000c890: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-0000c8a0: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
-0000c8b0: 696d 6974 2c0a 2020 2020 2020 2020 7d0a  imit,.        }.
-0000c8c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000c8d0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000c8e0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0000c8f0: 7329 0a0a 2020 2020 2320 544f 444f 2063  s)..    # TODO c
-0000c900: 6861 6e67 6520 6465 765f 7479 7065 2074  hange dev_type t
-0000c910: 6f20 7573 6520 5b67 772c 2073 772c 2063  o use [gw, sw, c
-0000c920: 782c 2061 702c 2073 7769 7463 685d 2020  x, ap, switch]  
-0000c930: 6d61 6b65 2063 6f6e 7369 7374 656e 7420  make consistent 
-0000c940: 666f 7220 616c 6c20 6361 6c6c 730a 2020  for all calls.  
-0000c950: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000c960: 6465 7669 6365 7328 0a20 2020 2020 2020  devices(.       
-0000c970: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
-0000c980: 6576 5f74 7970 653a 204c 6974 6572 616c  ev_type: Literal
-0000c990: 5b22 7377 6974 6368 6573 222c 2022 6170  ["switches", "ap
-0000c9a0: 7322 2c20 2267 6174 6577 6179 7322 5d2c  s", "gateways"],
-0000c9b0: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
-0000c9c0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000c9d0: 2020 2020 6c61 6265 6c3a 2073 7472 203d      label: str =
-0000c9e0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-0000c9f0: 7461 636b 5f69 643a 2073 7472 203d 204e  tack_id: str = N
-0000ca00: 6f6e 652c 0a20 2020 2020 2020 2073 7761  one,.        swa
-0000ca10: 726d 5f69 643a 2073 7472 203d 204e 6f6e  rm_id: str = Non
-0000ca20: 652c 0a20 2020 2020 2020 2073 6572 6961  e,.        seria
-0000ca30: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-0000ca40: 2020 2020 2020 2073 7461 7475 733a 2073         status: s
-0000ca50: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000ca60: 2020 2066 6965 6c64 733a 206c 6973 7420     fields: list 
-0000ca70: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000ca80: 7368 6f77 5f72 6573 6f75 7263 655f 6465  show_resource_de
-0000ca90: 7461 696c 733a 2062 6f6f 6c20 3d20 4661  tails: bool = Fa
-0000caa0: 6c73 652c 0a20 2020 2020 2020 2063 6c75  lse,.        clu
-0000cab0: 7374 6572 5f69 643a 2073 7472 203d 204e  ster_id: str = N
-0000cac0: 6f6e 652c 0a20 2020 2020 2020 206d 6f64  one,.        mod
-0000cad0: 656c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  el: str = None,.
-0000cae0: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-0000caf0: 655f 636c 6965 6e74 5f63 6f75 6e74 3a20  e_client_count: 
-0000cb00: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
-0000cb10: 2020 2020 2063 616c 6375 6c61 7465 5f73       calculate_s
-0000cb20: 7369 645f 636f 756e 743a 2062 6f6f 6c20  sid_count: bool 
-0000cb30: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-0000cb40: 206d 6163 6164 6472 3a20 7374 7220 3d20   macaddr: str = 
-0000cb50: 4e6f 6e65 2c0a 2020 2020 2020 2020 7075  None,.        pu
-0000cb60: 626c 6963 5f69 705f 6164 6472 6573 733a  blic_ip_address:
-0000cb70: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000cb80: 2020 2020 2073 6974 653a 2073 7472 203d       site: str =
-0000cb90: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-0000cba0: 696d 6974 3a20 696e 7420 3d20 3130 3030  imit: int = 1000
-0000cbb0: 2c20 2023 206d 6178 2061 6c6c 6f77 6564  ,  # max allowed
-0000cbc0: 2031 3030 300a 2020 2020 2020 2020 6f66   1000.        of
-0000cbd0: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-0000cbe0: 2020 2020 2020 2023 2073 6f72 743a 2073         # sort: s
-0000cbf0: 7472 203d 204e 6f6e 652c 0a20 2020 2029  tr = None,.    )
-0000cc00: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0000cc10: 2020 2020 2020 2222 2247 6574 2044 6576        """Get Dev
-0000cc20: 6963 6573 2066 726f 6d20 4172 7562 6120  ices from Aruba 
-0000cc30: 4365 6e74 7261 6c20 4150 4920 4761 7465  Central API Gate
-0000cc40: 7761 790a 0a20 2020 2020 2020 202f 2f20  way..        // 
-0000cc50: 5573 6564 2062 7920 7368 6f77 203c 2261  Used by show <"a
-0000cc60: 7073 227c 2267 6174 6577 6179 7322 7c22  ps"|"gateways"|"
-0000cc70: 7377 6974 6368 6573 223e 202f 2f0a 0a20  switches"> //.. 
-0000cc80: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0000cc90: 2020 2020 2020 2020 2064 6576 5f74 7970           dev_typ
-0000cca0: 6520 284c 6974 6572 616c 5b22 7377 6974  e (Literal["swit
-0000ccb0: 6368 6573 222c 2022 6170 7322 2c20 2267  ches", "aps", "g
-0000ccc0: 6174 6577 6179 7322 293a 2054 7970 6520  ateways"): Type 
-0000ccd0: 6f66 2064 6576 6963 6573 2074 6f20 6765  of devices to ge
-0000cce0: 742e 0a20 2020 2020 2020 2020 2020 2067  t..            g
-0000ccf0: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-0000cd00: 6e61 6c29 3a20 4669 6c74 6572 206f 6e20  nal): Filter on 
-0000cd10: 7370 6563 6966 6963 2067 726f 7570 2e20  specific group. 
-0000cd20: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-0000cd30: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
-0000cd40: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
-0000cd50: 616c 293a 2046 696c 7465 7220 6279 206c  al): Filter by l
-0000cd60: 6162 656c 2e20 4465 6661 756c 7473 2074  abel. Defaults t
-0000cd70: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-0000cd80: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
-0000cd90: 722c 206f 7074 696f 6e61 6c29 3a20 5265  r, optional): Re
-0000cda0: 7475 726e 2073 7769 7463 6820 7769 7468  turn switch with
-0000cdb0: 2073 7065 6369 6669 6320 7374 6163 6b5f   specific stack_
-0000cdc0: 6964 2e20 4465 6661 756c 7473 2074 6f20  id. Defaults to 
-0000cdd0: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-0000cde0: 2020 7377 6172 6d5f 6964 2028 7374 722c    swarm_id (str,
-0000cdf0: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
-0000ce00: 726e 2041 5073 2077 6974 6820 6120 7370  rn APs with a sp
-0000ce10: 6563 6966 6963 2073 7761 726d 5f69 642e  ecific swarm_id.
-0000ce20: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-0000ce30: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
-0000ce40: 6572 6961 6c20 2873 7472 2c20 6f70 7469  erial (str, opti
-0000ce50: 6f6e 616c 293a 2052 6574 7572 6e20 7468  onal): Return th
-0000ce60: 6520 6465 7669 6365 2077 6974 6820 7365  e device with se
-0000ce70: 7269 616c 206e 756d 6265 722e 2044 6566  rial number. Def
-0000ce80: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-0000ce90: 2020 2020 2020 2020 2020 2073 7461 7475             statu
-0000cea0: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-0000ceb0: 293a 2046 696c 7465 7220 6279 2073 7461  ): Filter by sta
-0000cec0: 7475 732e 2044 6566 6175 6c74 7320 746f  tus. Defaults to
-0000ced0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-0000cee0: 2020 2066 6965 6c64 7320 286c 6973 742c     fields (list,
-0000cef0: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
-0000cf00: 726e 2073 7065 6369 6669 6320 6669 656c  rn specific fiel
-0000cf10: 6473 2066 6f72 2064 6576 6963 652e 2044  ds for device. D
-0000cf20: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-0000cf30: 0a20 2020 2020 2020 2020 2020 2073 686f  .            sho
-0000cf40: 775f 7265 736f 7572 6365 5f64 6574 6169  w_resource_detai
-0000cf50: 6c73 2028 626f 6f6c 2c20 6f70 7469 6f6e  ls (bool, option
-0000cf60: 616c 293a 2053 686f 7720 7265 736f 7572  al): Show resour
-0000cf70: 6365 2075 7469 6c69 7a61 7469 6f6e 2e20  ce utilization. 
-0000cf80: 4465 6661 756c 7473 2074 6f20 4661 6c73  Defaults to Fals
-0000cf90: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
-0000cfa0: 6c75 7374 6572 5f69 6420 2873 7472 2c20  luster_id (str, 
-0000cfb0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
-0000cfc0: 6e20 6761 7465 7761 7973 2077 6974 6820  n gateways with 
-0000cfd0: 6120 7370 6563 6966 6963 2063 6c75 7374  a specific clust
-0000cfe0: 6572 5f69 642e 2044 6566 6175 6c74 7320  er_id. Defaults 
-0000cff0: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-0000d000: 2020 2020 206d 6f64 656c 2028 7374 722c       model (str,
-0000d010: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000d020: 6572 2062 7920 6465 7669 6365 206d 6f64  er by device mod
-0000d030: 656c 2e20 4465 6661 756c 7473 2074 6f20  el. Defaults to 
-0000d040: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-0000d050: 2020 6361 6c63 756c 6174 655f 636c 6965    calculate_clie
-0000d060: 6e74 5f63 6f75 6e74 2028 626f 6f6c 2c20  nt_count (bool, 
-0000d070: 6f70 7469 6f6e 616c 293a 2043 616c 6375  optional): Calcu
-0000d080: 6c61 7465 2063 6c69 656e 7420 636f 756e  late client coun
-0000d090: 7420 666f 7220 6561 6368 2064 6576 6963  t for each devic
-0000d0a0: 652e 2044 6566 6175 6c74 7320 746f 2046  e. Defaults to F
-0000d0b0: 616c 7365 2e0a 2020 2020 2020 2020 2020  alse..          
-0000d0c0: 2020 6361 6c63 756c 6174 655f 7373 6964    calculate_ssid
-0000d0d0: 5f63 6f75 6e74 2028 626f 6f6c 2c20 6f70  _count (bool, op
-0000d0e0: 7469 6f6e 616c 293a 2043 616c 6375 6c61  tional): Calcula
-0000d0f0: 7465 2053 5349 4420 636f 756e 7420 666f  te SSID count fo
-0000d100: 7220 6561 6368 2041 502e 2044 6566 6175  r each AP. Defau
-0000d110: 6c74 7320 746f 2046 616c 7365 2e0a 2020  lts to False..  
-0000d120: 2020 2020 2020 2020 2020 6d61 6361 6464            macadd
-0000d130: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
-0000d140: 293a 2052 6574 7572 6e20 6465 7669 6365  ): Return device
-0000d150: 2077 6974 6820 7370 6563 6966 6963 204d   with specific M
-0000d160: 4143 2028 6675 7a7a 7920 6d61 7463 6829  AC (fuzzy match)
-0000d170: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-0000d180: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-0000d190: 7075 626c 6963 5f69 705f 6164 6472 6573  public_ip_addres
-0000d1a0: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-0000d1b0: 293a 2046 696c 7465 7220 6465 7669 6365  ): Filter device
-0000d1c0: 7320 6279 2050 7562 6c69 6320 4950 2e20  s by Public IP. 
-0000d1d0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-0000d1e0: 2e0a 2020 2020 2020 2020 2020 2020 7369  ..            si
-0000d1f0: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
-0000d200: 6c29 3a20 4669 6c74 6572 2062 7920 7369  l): Filter by si
-0000d210: 7465 2e20 4465 6661 756c 7473 2074 6f20  te. Defaults to 
-0000d220: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-0000d230: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-0000d240: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-0000d250: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-0000d260: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-0000d270: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-0000d280: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-0000d290: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
-0000d2a0: 4d61 7820 6973 2031 3030 3020 4465 6661  Max is 1000 Defa
-0000d2b0: 756c 7473 2074 6f20 3530 302e 0a0a 2020  ults to 500...  
-0000d2c0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0000d2d0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0000d2e0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0000d2f0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0000d300: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000d310: 2020 2020 6465 765f 7061 7261 6d73 203d      dev_params =
-0000d320: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0000d330: 6170 7322 3a20 7b0a 2020 2020 2020 2020  aps": {.        
-0000d340: 2020 2020 2020 2020 2773 6572 6961 6c27          'serial'
-0000d350: 3a20 7365 7269 616c 2c0a 2020 2020 2020  : serial,.      
-0000d360: 2020 2020 2020 2020 2020 276d 6163 6164            'macad
-0000d370: 6472 273a 206d 6163 6164 6472 2c0a 2020  dr': macaddr,.  
-0000d380: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0000d390: 7761 726d 5f69 6422 3a20 7377 6172 6d5f  warm_id": swarm_
-0000d3a0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-0000d3b0: 2020 2020 276d 6f64 656c 273a 206d 6f64      'model': mod
-0000d3c0: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-0000d3d0: 2020 2020 2763 6c75 7374 6572 5f69 6427      'cluster_id'
-0000d3e0: 3a20 636c 7573 7465 725f 6964 2c0a 2020  : cluster_id,.  
-0000d3f0: 2020 2020 2020 2020 2020 2020 2020 2766                'f
-0000d400: 6965 6c64 7327 3a20 6669 656c 6473 2c0a  ields': fields,.
-0000d410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d420: 2763 616c 6375 6c61 7465 5f63 6c69 656e  'calculate_clien
-0000d430: 745f 636f 756e 7427 3a20 7374 7228 6361  t_count': str(ca
-0000d440: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000d450: 6f75 6e74 292e 6c6f 7765 7228 292c 0a20  ount).lower(),. 
-0000d460: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0000d470: 6361 6c63 756c 6174 655f 7373 6964 5f63  calculate_ssid_c
-0000d480: 6f75 6e74 273a 2073 7472 2863 616c 6375  ount': str(calcu
-0000d490: 6c61 7465 5f73 7369 645f 636f 756e 7429  late_ssid_count)
-0000d4a0: 2e6c 6f77 6572 2829 2c0a 2020 2020 2020  .lower(),.      
-0000d4b0: 2020 2020 2020 2020 2020 2773 686f 775f            'show_
-0000d4c0: 7265 736f 7572 6365 5f64 6574 6169 6c73  resource_details
-0000d4d0: 273a 2073 7472 2873 686f 775f 7265 736f  ': str(show_reso
-0000d4e0: 7572 6365 5f64 6574 6169 6c73 292e 6c6f  urce_details).lo
-0000d4f0: 7765 7228 292c 0a20 2020 2020 2020 2020  wer(),.         
-0000d500: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
-0000d510: 2020 2273 7769 7463 6865 7322 3a20 7b0a    "switches": {.
-0000d520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d530: 2773 7461 636b 5f69 6427 3a20 7374 6163  'stack_id': stac
-0000d540: 6b5f 6964 2c0a 2020 2020 2020 2020 2020  k_id,.          
-0000d550: 2020 2020 2020 2773 686f 775f 7265 736f        'show_reso
-0000d560: 7572 6365 5f64 6574 6169 6c73 273a 2073  urce_details': s
-0000d570: 7472 2873 686f 775f 7265 736f 7572 6365  tr(show_resource
-0000d580: 5f64 6574 6169 6c73 292e 6c6f 7765 7228  _details).lower(
-0000d590: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-0000d5a0: 2020 2027 6361 6c63 756c 6174 655f 636c     'calculate_cl
-0000d5b0: 6965 6e74 5f63 6f75 6e74 273a 2073 7472  ient_count': str
-0000d5c0: 2863 616c 6375 6c61 7465 5f63 6c69 656e  (calculate_clien
-0000d5d0: 745f 636f 756e 7429 2e6c 6f77 6572 2829  t_count).lower()
-0000d5e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000d5f0: 2020 2770 7562 6c69 635f 6970 5f61 6464    'public_ip_add
-0000d600: 7265 7373 273a 2070 7562 6c69 635f 6970  ress': public_ip
-0000d610: 5f61 6464 7265 7373 2c0a 2020 2020 2020  _address,.      
-0000d620: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
-0000d630: 2020 2020 2022 6761 7465 7761 7973 223a       "gateways":
-0000d640: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-0000d650: 2020 2027 6d61 6361 6464 7227 3a20 6d61     'macaddr': ma
-0000d660: 6361 6464 722c 0a20 2020 2020 2020 2020  caddr,.         
-0000d670: 2020 2020 2020 2027 6d6f 6465 6c27 3a20         'model': 
-0000d680: 6d6f 6465 6c2c 0a20 2020 2020 2020 2020  model,.         
-0000d690: 2020 2020 2020 2027 6669 656c 6473 273a         'fields':
-0000d6a0: 2066 6965 6c64 732c 0a20 2020 2020 2020   fields,.       
-0000d6b0: 2020 2020 207d 0a20 2020 2020 2020 207d       }.        }
-0000d6c0: 0a20 2020 2020 2020 2064 6576 5f70 6172  .        dev_par
-0000d6d0: 616d 735b 226d 6f62 696c 6974 795f 636f  ams["mobility_co
-0000d6e0: 6e74 726f 6c6c 6572 7322 5d20 3d20 6465  ntrollers"] = de
-0000d6f0: 765f 7061 7261 6d73 5b22 6761 7465 7761  v_params["gatewa
-0000d700: 7973 225d 0a0a 2020 2020 2020 2020 636f  ys"]..        co
-0000d710: 6d6d 6f6e 5f70 6172 616d 7320 3d20 7b0a  mmon_params = {.
-0000d720: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
-0000d730: 7570 223a 2067 726f 7570 2c0a 2020 2020  up": group,.    
-0000d740: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
-0000d750: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-0000d760: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
-0000d770: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0000d780: 7461 7475 7327 3a20 4e6f 6e65 2069 6620  tatus': None if 
-0000d790: 6e6f 7420 7374 6174 7573 2065 6c73 6520  not status else 
-0000d7a0: 7374 6174 7573 2e74 6974 6c65 2829 2c0a  status.title(),.
-0000d7b0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
-0000d7c0: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
-0000d7d0: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-0000d7e0: 273a 206c 696d 6974 2c0a 2020 2020 2020  ': limit,.      
-0000d7f0: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
-0000d800: 5f74 6f74 616c 223a 2022 7472 7565 2220  _total": "true" 
-0000d810: 2023 2053 6f20 7765 206b 6e6f 7720 6966   # So we know if
-0000d820: 2077 6520 6861 7665 206d 756c 7469 6c65   we have multile
-0000d830: 2063 616c 6c73 2074 6861 7420 6361 6e20   calls that can 
-0000d840: 6265 2072 616e 2061 7379 6e63 0a20 2020  be ran async.   
-0000d850: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0000d860: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
-0000d870: 696e 672f 7631 2f7b 6465 765f 7479 7065  ing/v1/{dev_type
-0000d880: 7d22 0a20 2020 2020 2020 2069 6620 6465  }".        if de
-0000d890: 765f 7479 7065 203d 3d20 2261 7073 223a  v_type == "aps":
-0000d8a0: 0a20 2020 2020 2020 2020 2020 2075 726c  .            url
-0000d8b0: 203d 2075 726c 2e72 6570 6c61 6365 2822   = url.replace("
-0000d8c0: 7631 222c 2022 7632 2229 0a20 2020 2020  v1", "v2").     
-0000d8d0: 2020 2065 6c69 6620 6465 765f 7479 7065     elif dev_type
-0000d8e0: 203d 3d20 2267 6174 6577 6179 7322 2061   == "gateways" a
-0000d8f0: 6e64 2063 6f6e 6669 672e 6973 5f63 6f70  nd config.is_cop
-0000d900: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
-0000d910: 6c20 3d20 7572 6c2e 7265 706c 6163 6528  l = url.replace(
-0000d920: 2276 312f 6761 7465 7761 7973 222c 2022  "v1/gateways", "
-0000d930: 7632 2f6d 6f62 696c 6974 795f 636f 6e74  v2/mobility_cont
-0000d940: 726f 6c6c 6572 7322 290a 2020 2020 2020  rollers").      
-0000d950: 2020 7061 7261 6d73 203d 207b 2a2a 636f    params = {**co
-0000d960: 6d6d 6f6e 5f70 6172 616d 732c 202a 2a64  mmon_params, **d
-0000d970: 6576 5f70 6172 616d 735b 6465 765f 7479  ev_params[dev_ty
-0000d980: 7065 5d7d 0a0a 2020 2020 2020 2020 7265  pe]}..        re
-0000d990: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000d9a0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000d9b0: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0000d9c0: 6e63 2064 6566 2067 6574 5f73 7769 7463  nc def get_switc
-0000d9d0: 685f 7374 6163 6b73 280a 2020 2020 2020  h_stacks(.      
-0000d9e0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0000d9f0: 686f 7374 6e61 6d65 3a20 7374 7220 3d20  hostname: str = 
-0000da00: 4e6f 6e65 2c0a 2020 2020 2020 2020 6772  None,.        gr
-0000da10: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
-0000da20: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-0000da30: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-0000da40: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-0000da50: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
-0000da60: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0000da70: 2222 4c69 7374 2053 7769 7463 6820 5374  ""List Switch St
-0000da80: 6163 6b73 2e0a 0a20 2020 2020 2020 2041  acks...        A
-0000da90: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0000daa0: 2068 6f73 746e 616d 6520 2873 7472 2c20   hostname (str, 
-0000dab0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0000dac0: 7220 6279 2073 7461 636b 2068 6f73 746e  r by stack hostn
-0000dad0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0000dae0: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
-0000daf0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000db00: 2067 726f 7570 206e 616d 650a 2020 2020   group name.    
-0000db10: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-0000db20: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0000db30: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
-0000db40: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
-0000db50: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-0000db60: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-0000db70: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
-0000db80: 696d 6974 2e20 4465 6661 756c 7420 6973  imit. Default is
-0000db90: 2031 3030 2061 6e64 206d 6178 2069 7320   100 and max is 
-0000dba0: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
-0000dbb0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-0000dbc0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0000dbd0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0000dbe0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0000dbf0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0000dc00: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0000dc10: 203d 2022 2f6d 6f6e 6974 6f72 696e 672f   = "/monitoring/
-0000dc20: 7631 2f73 7769 7463 685f 7374 6163 6b73  v1/switch_stacks
-0000dc30: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-0000dc40: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-0000dc50: 2020 2768 6f73 746e 616d 6527 3a20 686f    'hostname': ho
-0000dc60: 7374 6e61 6d65 2c0a 2020 2020 2020 2020  stname,.        
-0000dc70: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
-0000dc80: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0000dc90: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
-0000dca0: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-0000dcb0: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-0000dcc0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0000dcd0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0000dce0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0000dcf0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-0000dd00: 7379 6e63 2064 6566 2067 6574 5f64 6576  sync def get_dev
-0000dd10: 5f64 6574 6169 6c73 280a 2020 2020 2020  _details(.      
-0000dd20: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0000dd30: 6465 765f 7479 7065 3a20 4c69 7465 7261  dev_type: Litera
-0000dd40: 6c5b 2273 7769 7463 6865 7322 2c20 2261  l["switches", "a
-0000dd50: 7073 222c 2022 6761 7465 7761 7973 225d  ps", "gateways"]
-0000dd60: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-0000dd70: 3a20 7374 720a 2020 2020 2920 2d3e 2052  : str.    ) -> R
-0000dd80: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000dd90: 2022 2222 5265 7475 726e 2044 6574 6169   """Return Detai
-0000dda0: 6c73 2066 6f72 2061 2067 6976 656e 2064  ls for a given d
-0000ddb0: 6576 6963 650a 0a20 2020 2020 2020 202f  evice..        /
-0000ddc0: 2f20 5573 6564 2062 7920 7368 6f77 2064  / Used by show d
-0000ddd0: 6576 6963 655b 735d 203c 6465 7669 6365  evice[s] <device
-0000dde0: 2069 6465 6e3e 202f 2f0a 0a20 2020 2020   iden> //..     
-0000ddf0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000de00: 2020 2020 2064 6576 5f74 7970 6520 2873       dev_type (s
-0000de10: 7472 293a 2044 6576 6963 6520 5479 7065  tr): Device Type
-0000de20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000de30: 2056 616c 6964 2056 616c 7565 733a 2022   Valid Values: "
-0000de40: 6761 7465 7761 7973 222c 2022 6170 7322  gateways", "aps"
-0000de50: 2c20 2273 7769 7463 6865 7322 0a20 2020  , "switches".   
-0000de60: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-0000de70: 2873 7472 293a 2053 6572 6961 6c20 6e75  (str): Serial nu
-0000de80: 6d62 6572 206f 6620 4465 7669 6365 0a0a  mber of Device..
-0000de90: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0000dea0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0000deb0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0000dec0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0000ded0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0000dee0: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
-0000def0: 6f6e 6974 6f72 696e 672f 7631 2f7b 6465  onitoring/v1/{de
-0000df00: 765f 7479 7065 7d2f 7b73 6572 6961 6c7d  v_type}/{serial}
-0000df10: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-0000df20: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-0000df30: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-0000df40: 6465 6620 6765 745f 776c 616e 7328 0a20  def get_wlans(. 
-0000df50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000df60: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-0000df70: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-0000df80: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-0000df90: 2c0a 2020 2020 2020 2020 7377 6172 6d5f  ,.        swarm_
-0000dfa0: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
-0000dfb0: 2020 2020 2020 2020 6c61 6265 6c3a 2073          label: s
-0000dfc0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000dfd0: 2020 2073 6974 653a 2073 7472 203d 204e     site: str = N
-0000dfe0: 6f6e 652c 0a20 2020 2020 2020 2063 616c  one,.        cal
-0000dff0: 6375 6c61 7465 5f63 6c69 656e 745f 636f  culate_client_co
-0000e000: 756e 743a 2062 6f6f 6c20 3d20 4e6f 6e65  unt: bool = None
-0000e010: 2c0a 2020 2020 2020 2020 736f 7274 5f62  ,.        sort_b
-0000e020: 793a 2073 7472 203d 204e 6f6e 650a 2020  y: str = None.  
-0000e030: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0000e040: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-0000e050: 2061 6c6c 2057 4c41 4e73 2028 5353 4944   all WLANs (SSID
-0000e060: 7329 2e0a 0a20 2020 2020 2020 2041 7267  s)...        Arg
-0000e070: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-0000e080: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-0000e090: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000e0a0: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
-0000e0b0: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
-0000e0c0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000e0d0: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
-0000e0e0: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-0000e0f0: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
-0000e100: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000e110: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
-0000e120: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
-0000e130: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000e140: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
-0000e150: 650a 2020 2020 2020 2020 2020 2020 6361  e.            ca
-0000e160: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000e170: 6f75 6e74 2028 626f 6f6c 2c20 6f70 7469  ount (bool, opti
-0000e180: 6f6e 616c 293a 2057 6865 7468 6572 2074  onal): Whether t
-0000e190: 6f20 6361 6c63 756c 6174 6520 636c 6965  o calculate clie
-0000e1a0: 6e74 2063 6f75 6e74 2070 6572 2053 5349  nt count per SSI
-0000e1b0: 440a 2020 2020 2020 2020 2020 2020 736f  D.            so
-0000e1c0: 7274 5f62 7920 2873 7472 2c20 6f70 7469  rt_by (str, opti
-0000e1d0: 6f6e 616c 293a 2053 6f72 7420 7061 7261  onal): Sort para
-0000e1e0: 6d65 7465 7220 6d61 7920 6265 206f 6e65  meter may be one
-0000e1f0: 206f 6620 2b65 7373 6964 2c20 2d65 7373   of +essid, -ess
-0000e200: 6964 2e20 4465 6661 756c 7420 6973 2027  id. Default is '
-0000e210: 2b65 7373 6964 270a 0a20 2020 2020 2020  +essid'..       
-0000e220: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0000e230: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0000e240: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0000e250: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0000e260: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0000e270: 726c 203d 2022 2f6d 6f6e 6974 6f72 696e  rl = "/monitorin
-0000e280: 672f 7632 2f6e 6574 776f 726b 7322 0a20  g/v2/networks". 
-0000e290: 2020 2020 2020 2069 6620 6e61 6d65 3a0a         if name:.
-0000e2a0: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
-0000e2b0: 3d20 6622 7b75 726c 7d2f 7b6e 616d 657d  = f"{url}/{name}
-0000e2c0: 220a 0a20 2020 2020 2020 2069 6620 6361  "..        if ca
-0000e2d0: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000e2e0: 6f75 6e74 2069 6e20 5b54 7275 652c 2046  ount in [True, F
-0000e2f0: 616c 7365 5d3a 0a20 2020 2020 2020 2020  alse]:.         
-0000e300: 2020 2063 616c 6375 6c61 7465 5f63 6c69     calculate_cli
-0000e310: 656e 745f 636f 756e 7420 3d20 7374 7228  ent_count = str(
-0000e320: 6361 6c63 756c 6174 655f 636c 6965 6e74  calculate_client
-0000e330: 5f63 6f75 6e74 290a 0a20 2020 2020 2020  _count)..       
-0000e340: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-0000e350: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-0000e360: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
-0000e370: 2020 2020 2773 7761 726d 5f69 6427 3a20      'swarm_id': 
-0000e380: 7377 6172 6d5f 6964 2c0a 2020 2020 2020  swarm_id,.      
-0000e390: 2020 2020 2020 276c 6162 656c 273a 206c        'label': l
-0000e3a0: 6162 656c 2c0a 2020 2020 2020 2020 2020  abel,.          
-0000e3b0: 2020 2773 6974 6527 3a20 7369 7465 2c0a    'site': site,.
-0000e3c0: 2020 2020 2020 2020 2020 2020 2763 616c              'cal
-0000e3d0: 6375 6c61 7465 5f63 6c69 656e 745f 636f  culate_client_co
-0000e3e0: 756e 7427 3a20 6361 6c63 756c 6174 655f  unt': calculate_
-0000e3f0: 636c 6965 6e74 5f63 6f75 6e74 2c0a 2020  client_count,.  
-0000e400: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
-0000e410: 3a20 736f 7274 5f62 792c 0a20 2020 2020  : sort_by,.     
-0000e420: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0000e430: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000e440: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000e450: 7061 7261 6d73 290a 0a20 2020 2023 2054  params)..    # T
-0000e460: 4f44 4f20 556e 6465 7220 7465 7374 2033  ODO Under test 3
-0000e470: 2f37 2f32 3032 340a 2020 2020 6173 796e  /7/2024.    asyn
-0000e480: 6320 6465 6620 6765 745f 6675 6c6c 5f77  c def get_full_w
-0000e490: 6c61 6e5f 6c69 7374 280a 2020 2020 2020  lan_list(.      
-0000e4a0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0000e4b0: 6772 6f75 705f 6e61 6d65 5f6f 725f 6775  group_name_or_gu
-0000e4c0: 6964 5f6f 725f 7365 7269 616c 5f6e 756d  id_or_serial_num
-0000e4d0: 6265 723a 2073 7472 2c0a 2020 2020 2920  ber: str,.    ) 
-0000e4e0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0000e4f0: 2020 2020 2022 2222 4765 7420 574c 414e       """Get WLAN
-0000e500: 206c 6973 742f 6465 7461 696c 7320 6279   list/details by
-0000e510: 2028 5549 2920 6772 6f75 702e 0a0a 2020   (UI) group...  
-0000e520: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0000e530: 2020 2020 2020 2020 6772 6f75 705f 6e61          group_na
-0000e540: 6d65 5f6f 725f 6775 6964 5f6f 725f 7365  me_or_guid_or_se
-0000e550: 7269 616c 5f6e 756d 6265 7220 2873 7472  rial_number (str
-0000e560: 293a 2047 726f 7570 206e 616d 6520 6f66  ): Group name of
-0000e570: 2074 6865 2067 726f 7570 206f 7220 6775   the group or gu
-0000e580: 6964 206f 6620 7468 6520 7377 6172 6d0a  id of the swarm.
-0000e590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5a0: 6f72 2073 6572 6961 6c20 6e75 6d62 6572  or serial number
-0000e5b0: 206f 6620 3130 7820 4150 2e0a 2020 2020   of 10x AP..    
-0000e5c0: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
-0000e5d0: 706c 653a 4772 6f75 705f 3120 6f72 2036  ple:Group_1 or 6
-0000e5e0: 6135 6431 3233 6230 3166 3934 3431 3830  a5d123b01f944180
-0000e5f0: 3632 3434 6561 3665 3032 3366 6162 3538  6244ea6e023fab58
-0000e600: 3431 6237 3763 3832 3861 3038 3566 3034  41b77c828a085f04
-0000e610: 6620 6f72 2043 4e46 374a 5353 394c 312e  f or CNF7JSS9L1.
-0000e620: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0000e630: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0000e640: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0000e650: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0000e660: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0000e670: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0000e680: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f66  /configuration/f
-0000e690: 756c 6c5f 776c 616e 2f7b 6772 6f75 705f  ull_wlan/{group_
-0000e6a0: 6e61 6d65 5f6f 725f 6775 6964 5f6f 725f  name_or_guid_or_
-0000e6b0: 7365 7269 616c 5f6e 756d 6265 727d 220a  serial_number}".
-0000e6c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000e6d0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000e6e0: 726c 290a 0a20 2020 2023 2041 5049 2d46  rl)..    # API-F
-0000e6f0: 4c41 5720 5468 6973 206d 6574 686f 6420  LAW This method 
-0000e700: 7265 7475 726e 7320 6e65 7874 2074 6f20  returns next to 
-0000e710: 6e6f 7468 696e 6720 666f 7220 7265 7365  nothing for rese
-0000e720: 7276 6564 2049 5073 2e0a 2020 2020 2320  rved IPs..    # 
-0000e730: 576f 756c 6420 6265 206d 6f72 6520 6964  Would be more id
-0000e740: 6561 6c20 6966 2069 7420 7265 7475 726e  eal if it return
-0000e750: 6564 2063 6c69 656e 745f 6e61 6d65 2070  ed client_name p
-0000e760: 6f6f 6c20 7076 6964 2065 7463 2061 7320  ool pvid etc as 
-0000e770: 6974 2064 6f65 7320 7769 7468 206e 6f6e  it does with non
-0000e780: 2072 6573 7365 7276 6564 2049 5073 0a20   resserved IPs. 
-0000e790: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0000e7a0: 5f64 6863 705f 636c 6965 6e74 7328 0a20  _dhcp_clients(. 
-0000e7b0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000e7c0: 2020 2020 2073 6572 6961 6c5f 6e75 6d3a       serial_num:
-0000e7d0: 2073 7472 2c0a 2020 2020 2020 2020 7265   str,.        re
-0000e7e0: 7365 7276 6174 696f 6e3a 2062 6f6f 6c20  servation: bool 
-0000e7f0: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
-0000e800: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-0000e810: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-0000e820: 696e 7420 3d20 3130 300a 2020 2020 2920  int = 100.    ) 
-0000e830: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0000e840: 2020 2020 2022 2222 4765 7420 4448 4350       """Get DHCP
-0000e850: 2043 6c69 656e 7420 696e 666f 726d 6174   Client informat
-0000e860: 696f 6e20 6672 6f6d 2047 6174 6577 6179  ion from Gateway
-0000e870: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-0000e880: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-0000e890: 6961 6c5f 6e75 6d20 2873 7472 293a 2053  ial_num (str): S
-0000e8a0: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-0000e8b0: 6d6f 6269 6c69 7479 2063 6f6e 7472 6f6c  mobility control
-0000e8c0: 6c65 7220 746f 2062 6520 7175 6572 6965  ler to be querie
-0000e8d0: 640a 2020 2020 2020 2020 2020 2020 7265  d.            re
-0000e8e0: 7365 7276 6174 696f 6e20 2862 6f6f 6c2c  servation (bool,
-0000e8f0: 206f 7074 696f 6e61 6c29 3a20 466c 6167   optional): Flag
-0000e900: 2074 6f20 7475 726e 206f 6e2f 6f66 6620   to turn on/off 
-0000e910: 6c69 7374 696e 6720 4448 4350 2072 6573  listing DHCP res
-0000e920: 6572 7661 7469 6f6e 7328 6966 2061 6e79  ervations(if any
-0000e930: 292e 0a20 2020 2020 2020 2020 2020 2020  )..             
-0000e940: 2020 2044 6566 6175 6c74 7320 746f 2054     Defaults to T
-0000e950: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-0000e960: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-0000e970: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-0000e980: 6f6e 206f 6666 7365 7420 4465 6661 756c  on offset Defaul
-0000e990: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-0000e9a0: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-0000e9b0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-0000e9c0: 6e61 7469 6f6e 206c 696d 6974 2e20 6d61  nation limit. ma
-0000e9d0: 7820 3130 3030 2044 6566 6175 6c74 7320  x 1000 Defaults 
-0000e9e0: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
-0000e9f0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0000ea00: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0000ea10: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0000ea20: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0000ea30: 2020 2022 2222 0a20 2020 2020 2020 2067     """.        g
-0000ea40: 775f 7061 7468 203d 2022 6d6f 6269 6c69  w_path = "mobili
-0000ea50: 7479 5f63 6f6e 7472 6f6c 6c65 7273 2220  ty_controllers" 
-0000ea60: 6966 2063 6f6e 6669 672e 6973 5f63 6f70  if config.is_cop
-0000ea70: 2065 6c73 6520 2267 6174 6577 6179 7322   else "gateways"
-0000ea80: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0000ea90: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
-0000eaa0: 7b67 775f 7061 7468 7d2f 7b73 6572 6961  {gw_path}/{seria
-0000eab0: 6c5f 6e75 6d7d 2f64 6863 705f 636c 6965  l_num}/dhcp_clie
-0000eac0: 6e74 7322 0a0a 2020 2020 2020 2020 7061  nts"..        pa
-0000ead0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-0000eae0: 2020 2020 2027 7265 7365 7276 6174 696f       'reservatio
-0000eaf0: 6e27 3a20 7374 7228 7265 7365 7276 6174  n': str(reservat
-0000eb00: 696f 6e29 2c0a 2020 2020 2020 2020 2020  ion),.          
-0000eb10: 2020 226f 6666 7365 7422 3a20 6f66 6673    "offset": offs
-0000eb20: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
-0000eb30: 226c 696d 6974 223a 206c 696d 6974 0a20  "limit": limit. 
-0000eb40: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0000eb50: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0000eb60: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-0000eb70: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-0000eb80: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
-0000eb90: 6863 705f 7365 7276 6572 2873 656c 662c  hcp_server(self,
-0000eba0: 2073 6572 6961 6c5f 6e75 6d3a 2073 7472   serial_num: str
-0000ebb0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000ebc0: 2020 2020 2020 2022 2222 4765 7420 4448         """Get DH
-0000ebd0: 4350 2053 6572 7665 7220 6465 7461 696c  CP Server detail
-0000ebe0: 7320 6672 6f6d 2047 6174 6577 6179 2e0a  s from Gateway..
-0000ebf0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0000ec00: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0000ec10: 6c5f 6e75 6d20 2873 7472 293a 2053 6572  l_num (str): Ser
-0000ec20: 6961 6c20 6e75 6d62 6572 206f 6620 6d6f  ial number of mo
-0000ec30: 6269 6c69 7479 2063 6f6e 7472 6f6c 6c65  bility controlle
-0000ec40: 7220 746f 2062 6520 7175 6572 6965 640a  r to be queried.
-0000ec50: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0000ec60: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0000ec70: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0000ec80: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0000ec90: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0000eca0: 2020 2020 2020 2067 775f 7061 7468 203d         gw_path =
-0000ecb0: 2022 6d6f 6269 6c69 7479 5f63 6f6e 7472   "mobility_contr
-0000ecc0: 6f6c 6c65 7273 2220 6966 2063 6f6e 6669  ollers" if confi
-0000ecd0: 672e 6973 5f63 6f70 2065 6c73 6520 2267  g.is_cop else "g
-0000ece0: 6174 6577 6179 7322 0a20 2020 2020 2020  ateways".       
-0000ecf0: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-0000ed00: 7269 6e67 2f76 312f 7b67 775f 7061 7468  ring/v1/{gw_path
-0000ed10: 7d2f 7b73 6572 6961 6c5f 6e75 6d7d 2f64  }/{serial_num}/d
-0000ed20: 6863 705f 7365 7276 6572 7322 0a0a 2020  hcp_servers"..  
-0000ed30: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0000ed40: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
-0000ed50: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0000ed60: 6765 745f 6772 6f75 705f 666f 725f 6465  get_group_for_de
-0000ed70: 765f 6279 5f73 6572 6961 6c28 7365 6c66  v_by_serial(self
-0000ed80: 2c20 7365 7269 616c 5f6e 756d 293a 0a20  , serial_num):. 
-0000ed90: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000eda0: 6169 7420 7365 6c66 2e67 6574 2866 222f  ait self.get(f"/
-0000edb0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-0000edc0: 2f64 6576 6963 6573 2f7b 7365 7269 616c  /devices/{serial
-0000edd0: 5f6e 756d 7d2f 6772 6f75 7022 290a 0a20  _num}/group").. 
-0000ede0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0000edf0: 5f76 6c61 6e5f 696e 666f 5f62 795f 6777  _vlan_info_by_gw
-0000ee00: 2873 656c 662c 2073 6572 6961 6c5f 6e75  (self, serial_nu
-0000ee10: 6d29 3a0a 2020 2020 2020 2020 7265 7475  m):.        retu
-0000ee20: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000ee30: 7428 6622 2f6d 6f6e 6974 6f72 696e 672f  t(f"/monitoring/
-0000ee40: 7631 2f6d 6f62 696c 6974 795f 636f 6e74  v1/mobility_cont
-0000ee50: 726f 6c6c 6572 732f 7b73 6572 6961 6c5f  rollers/{serial_
-0000ee60: 6e75 6d7d 2f76 6c61 6e22 290a 0a20 2020  num}/vlan")..   
-0000ee70: 2061 7379 6e63 2064 6566 2067 6574 5f75   async def get_u
-0000ee80: 706c 696e 6b5f 696e 666f 5f62 795f 6777  plink_info_by_gw
-0000ee90: 2873 656c 662c 2073 6572 6961 6c5f 6e75  (self, serial_nu
-0000eea0: 6d2c 2074 696d 6572 616e 6765 3a20 7374  m, timerange: st
-0000eeb0: 7220 3d20 2233 4822 293a 0a20 2020 2020  r = "3H"):.     
-0000eec0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-0000eed0: 746f 7269 6e67 2f76 312f 6d6f 6269 6c69  toring/v1/mobili
-0000eee0: 7479 5f63 6f6e 7472 6f6c 6c65 7273 2f7b  ty_controllers/{
-0000eef0: 7365 7269 616c 5f6e 756d 7d2f 7570 6c69  serial_num}/upli
-0000ef00: 6e6b 7322 0a20 2020 2020 2020 2070 6172  nks".        par
-0000ef10: 616d 7320 3d20 7b22 7469 6d65 7261 6e67  ams = {"timerang
-0000ef20: 6522 3a20 7469 6d65 7261 6e67 657d 0a20  e": timerange}. 
-0000ef30: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000ef40: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0000ef50: 2c20 7061 7261 6d73 290a 0a20 2020 2061  , params)..    a
-0000ef60: 7379 6e63 2064 6566 2067 6574 5f75 706c  sync def get_upl
-0000ef70: 696e 6b5f 7475 6e6e 656c 5f73 7461 7473  ink_tunnel_stats
-0000ef80: 5f62 795f 6777 2873 656c 662c 2073 6572  _by_gw(self, ser
-0000ef90: 6961 6c5f 6e75 6d29 3a0a 2020 2020 2020  ial_num):.      
-0000efa0: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-0000efb0: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
-0000efc0: 795f 636f 6e74 726f 6c6c 6572 732f 7b73  y_controllers/{s
-0000efd0: 6572 6961 6c5f 6e75 6d7d 2f75 706c 696e  erial_num}/uplin
-0000efe0: 6b73 2f74 756e 6e65 6c5f 7374 6174 7322  ks/tunnel_stats"
-0000eff0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000f000: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000f010: 726c 290a 0a20 2020 2023 2054 4f44 4f20  rl)..    # TODO 
-0000f020: 6d6f 7665 2063 6c65 616e 6572 0a20 2020  move cleaner.   
-0000f030: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
-0000f040: 6c6c 5f73 6974 6573 280a 2020 2020 2020  ll_sites(.      
-0000f050: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0000f060: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
-0000f070: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0000f080: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-0000f090: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0000f0a0: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-0000f0b0: 300a 2020 2020 2920 2d3e 2052 6573 706f  0.    ) -> Respo
-0000f0c0: 6e73 653a 0a20 2020 2020 2020 2070 6172  nse:.        par
-0000f0d0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-0000f0e0: 2020 2020 2263 616c 6375 6c61 7465 5f74      "calculate_t
-0000f0f0: 6f74 616c 223a 2073 7472 2863 616c 6375  otal": str(calcu
-0000f100: 6c61 7465 5f74 6f74 616c 292c 0a20 2020  late_total),.   
-0000f110: 2020 2020 2020 2020 2022 6f66 6673 6574           "offset
-0000f120: 223a 206f 6666 7365 742c 0a20 2020 2020  ": offset,.     
-0000f130: 2020 2020 2020 2022 6c69 6d69 7422 3a20         "limit": 
-0000f140: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-0000f150: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000f160: 7761 6974 2073 656c 662e 6765 7428 222f  wait self.get("/
-0000f170: 6365 6e74 7261 6c2f 7632 2f73 6974 6573  central/v2/sites
-0000f180: 222c 2070 6172 616d 733d 7061 7261 6d73  ", params=params
-0000f190: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
-0000f1a0: 6572 2e73 6974 6573 290a 0a20 2020 2061  er.sites)..    a
-0000f1b0: 7379 6e63 2064 6566 2067 6574 5f73 6974  sync def get_sit
-0000f1c0: 655f 6465 7461 696c 7328 7365 6c66 2c20  e_details(self, 
-0000f1d0: 7369 7465 5f69 6429 3a0a 2020 2020 2020  site_id):.      
-0000f1e0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0000f1f0: 656c 662e 6765 7428 6622 2f63 656e 7472  elf.get(f"/centr
-0000f200: 616c 2f76 322f 7369 7465 732f 7b73 6974  al/v2/sites/{sit
-0000f210: 655f 6964 7d22 2c20 6361 6c6c 6261 636b  e_id}", callback
-0000f220: 3d63 6c65 616e 6572 2e73 6974 6573 290a  =cleaner.sites).
-0000f230: 0a20 2020 2023 2054 4f44 4f20 6d61 6b65  .    # TODO make
-0000f240: 2063 6f6d 6d61 6e64 2074 6869 7320 7368   command this sh
-0000f250: 6f77 7320 6576 656e 7473 2066 726f 6d20  ows events from 
-0000f260: 6465 7669 6365 7320 2855 7365 7220 6163  devices (User ac
-0000f270: 6b20 7265 6320 6672 6f6d 2044 4843 5020  k rec from DHCP 
-0000f280: 7365 7276 6572 2c20 4541 5020 7265 7370  server, EAP resp
-0000f290: 6f6e 7365 2066 6f72 2063 6c69 656e 7429  onse for client)
-0000f2a0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-0000f2b0: 6574 5f65 7665 6e74 7328 0a20 2020 2020  et_events(.     
-0000f2c0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0000f2d0: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
-0000f2e0: 6e65 2c0a 2020 2020 2020 2020 7377 6172  ne,.        swar
-0000f2f0: 6d5f 6964 3a20 7374 7220 3d20 4e6f 6e65  m_id: str = None
-0000f300: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
-0000f310: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f320: 2020 2020 2066 726f 6d5f 7473 3a20 696e       from_ts: in
-0000f330: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-0000f340: 2020 746f 5f74 733a 2069 6e74 203d 204e    to_ts: int = N
-0000f350: 6f6e 652c 0a20 2020 2020 2020 206d 6163  one,.        mac
-0000f360: 6164 6472 3a20 7374 7220 3d20 4e6f 6e65  addr: str = None
-0000f370: 2c0a 2020 2020 2020 2020 6273 7369 643a  ,.        bssid:
-0000f380: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f390: 2020 2020 2064 6576 6963 655f 6d61 633a       device_mac:
-0000f3a0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f3b0: 2020 2020 2068 6f73 746e 616d 653a 2073       hostname: s
-0000f3c0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000f3d0: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
-0000f3e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000f3f0: 2020 2020 736f 7274 3a20 7374 7220 3d20      sort: str = 
-0000f400: 272d 7469 6d65 7374 616d 7027 2c0a 2020  '-timestamp',.  
-0000f410: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
-0000f420: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000f430: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
-0000f440: 6e65 2c0a 2020 2020 2020 2020 6c65 7665  ne,.        leve
-0000f450: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-0000f460: 2020 2020 2020 2065 7665 6e74 5f64 6573         event_des
-0000f470: 6372 6970 7469 6f6e 3a20 7374 7220 3d20  cription: str = 
-0000f480: 4e6f 6e65 2c0a 2020 2020 2020 2020 6576  None,.        ev
-0000f490: 656e 745f 7479 7065 3a20 7374 7220 3d20  ent_type: str = 
-0000f4a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6669  None,.        fi
-0000f4b0: 656c 6473 3a20 7374 7220 3d20 4e6f 6e65  elds: str = None
-0000f4c0: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
-0000f4d0: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
-0000f4e0: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
-0000f4f0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-0000f500: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-0000f510: 696e 7420 3d20 3130 3030 2c0a 2020 2020  int = 1000,.    
-0000f520: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000f530: 2020 2020 2020 2022 2222 4c69 7374 2045         """List E
-0000f540: 7665 6e74 732e 2076 320a 0a20 2020 2020  vents. v2..     
-0000f550: 2020 2045 6e64 706f 696e 7420 616c 6c6f     Endpoint allo
-0000f560: 7773 2061 206d 6178 206f 6620 3130 3030  ws a max of 1000
-0000f570: 3020 7265 636f 7264 7320 746f 2062 6520  0 records to be 
-0000f580: 7265 7472 6965 7665 642e 2020 5468 6520  retrieved.  The 
-0000f590: 7375 6d20 6f66 206f 6666 7365 7420 2b20  sum of offset + 
-0000f5a0: 6c69 6d69 7420 6361 6e20 6e6f 740a 2020  limit can not.  
-0000f5b0: 2020 2020 2020 6578 6365 6564 2031 302c        exceed 10,
-0000f5c0: 3030 300a 0a20 2020 2020 2020 2041 7267  000..        Arg
-0000f5d0: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-0000f5e0: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-0000f5f0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000f600: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
-0000f610: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
-0000f620: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000f630: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
-0000f640: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-0000f650: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
-0000f660: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000f670: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
-0000f680: 2020 2020 2020 2020 6672 6f6d 5f74 7320          from_ts 
-0000f690: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0000f6a0: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
-0000f6b0: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
-0000f6c0: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-0000f6d0: 2069 7320 6570 6f63 680a 2020 2020 2020   is epoch.      
-0000f6e0: 2020 2020 2020 2020 2020 696e 2073 6563            in sec
-0000f6f0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-0000f700: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
-0000f710: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
-0000f720: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
-0000f730: 7473 2028 696e 742c 206f 7074 696f 6e61  ts (int, optiona
-0000f740: 6c29 3a20 4e65 6564 2069 6e66 6f72 6d61  l): Need informa
-0000f750: 7469 6f6e 2074 6f20 7468 6973 2074 696d  tion to this tim
-0000f760: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
-0000f770: 7020 6973 2065 706f 6368 2069 6e0a 2020  p is epoch in.  
-0000f780: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000f790: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
-0000f7a0: 7320 6375 7272 656e 7420 7469 6d65 7374  s current timest
-0000f7b0: 616d 700a 2020 2020 2020 2020 2020 2020  amp.            
-0000f7c0: 6d61 6361 6464 7220 2873 7472 2c20 6f70  macaddr (str, op
-0000f7d0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000f7e0: 6279 2063 6c69 656e 7420 4d41 4320 6164  by client MAC ad
-0000f7f0: 6472 6573 730a 2020 2020 2020 2020 2020  dress.          
-0000f800: 2020 6273 7369 6420 2873 7472 2c20 6f70    bssid (str, op
-0000f810: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000f820: 6279 2062 7373 6964 0a20 2020 2020 2020  by bssid.       
-0000f830: 2020 2020 2064 6576 6963 655f 6d61 6320       device_mac 
-0000f840: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000f850: 2046 696c 7465 7220 6279 2064 6576 6963   Filter by devic
-0000f860: 655f 6d61 630a 2020 2020 2020 2020 2020  e_mac.          
-0000f870: 2020 686f 7374 6e61 6d65 2028 7374 722c    hostname (str,
-0000f880: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000f890: 6572 2062 7920 686f 7374 6e61 6d65 0a20  er by hostname. 
-0000f8a0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-0000f8b0: 655f 7479 7065 2028 7374 722c 206f 7074  e_type (str, opt
-0000f8c0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-0000f8d0: 7920 6465 7669 6365 2074 7970 652e 0a20  y device type.. 
-0000f8e0: 2020 2020 2020 2020 2020 2020 2020 2056                 V
-0000f8f0: 616c 6964 2056 616c 7565 733a 2041 4343  alid Values: ACC
-0000f900: 4553 5320 504f 494e 542c 2053 5749 5443  ESS POINT, SWITC
-0000f910: 482c 2047 4154 4557 4159 2c20 434c 4945  H, GATEWAY, CLIE
-0000f920: 4e54 0a20 2020 2020 2020 2020 2020 2073  NT.            s
-0000f930: 6f72 7420 2873 7472 2c20 6f70 7469 6f6e  ort (str, option
-0000f940: 616c 293a 2053 6f72 7420 6279 2064 6573  al): Sort by des
-0000f950: 632f 6173 6320 7573 696e 6720 2d74 696d  c/asc using -tim
-0000f960: 6573 7461 6d70 2f2b 7469 6d65 7374 616d  estamp/+timestam
-0000f970: 702e 2044 6566 6175 6c74 2069 730a 2020  p. Default is.  
-0000f980: 2020 2020 2020 2020 2020 2020 2020 272d                '-
-0000f990: 7469 6d65 7374 616d 7027 2020 5661 6c69  timestamp'  Vali
-0000f9a0: 6420 5661 6c75 6573 3a20 2d74 696d 6573  d Values: -times
-0000f9b0: 7461 6d70 2c20 2b74 696d 6573 7461 6d70  tamp, +timestamp
-0000f9c0: 0a20 2020 2020 2020 2020 2020 2073 6974  .            sit
-0000f9d0: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
-0000f9e0: 293a 2046 696c 7465 7220 6279 2073 6974  ): Filter by sit
-0000f9f0: 6520 6e61 6d65 0a20 2020 2020 2020 2020  e name.         
-0000fa00: 2020 2073 6572 6961 6c20 2873 7472 2c20     serial (str, 
-0000fa10: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0000fa20: 7220 6279 2073 7769 7463 6820 7365 7269  r by switch seri
-0000fa30: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
-0000fa40: 2020 2020 2020 6c65 7665 6c20 2873 7472        level (str
-0000fa50: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000fa60: 7465 7220 6279 2065 7665 6e74 206c 6576  ter by event lev
-0000fa70: 656c 0a20 2020 2020 2020 2020 2020 2065  el.            e
-0000fa80: 7665 6e74 5f64 6573 6372 6970 7469 6f6e  vent_description
-0000fa90: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000faa0: 3a20 4669 6c74 6572 2062 7920 6576 656e  : Filter by even
-0000fab0: 7420 6465 7363 7269 7074 696f 6e0a 2020  t description.  
-0000fac0: 2020 2020 2020 2020 2020 6576 656e 745f            event_
-0000fad0: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-0000fae0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000faf0: 6576 656e 7420 7479 7065 0a20 2020 2020  event type.     
-0000fb00: 2020 2020 2020 2066 6965 6c64 7320 2873         fields (s
-0000fb10: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
-0000fb20: 6f6d 6d61 2073 6570 6172 6174 6564 206c  omma separated l
-0000fb30: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
-0000fb40: 2062 6520 7265 7475 726e 6564 2e20 5661   be returned. Va
-0000fb50: 6c69 6420 6669 656c 6473 2061 7265 0a20  lid fields are. 
-0000fb60: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-0000fb70: 756d 6265 722c 206c 6576 656c 0a20 2020  umber, level.   
-0000fb80: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-0000fb90: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
-0000fba0: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
-0000fbb0: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
-0000fbc0: 746f 7461 6c20 6576 656e 7473 2e20 4465  total events. De
-0000fbd0: 6661 756c 7473 2074 6f20 5472 7565 2e0a  faults to True..
-0000fbe0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-0000fbf0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-0000fc00: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
-0000fc10: 6666 7365 7420 4465 6661 756c 7473 2074  ffset Defaults t
-0000fc20: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
-0000fc30: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
-0000fc40: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-0000fc50: 6f6e 206c 696d 6974 2e20 4465 6661 756c  on limit. Defaul
-0000fc60: 7420 6973 2031 3030 2061 6e64 206d 6178  t is 100 and max
-0000fc70: 2069 7320 3130 3030 2044 6566 6175 6c74   is 1000 Default
-0000fc80: 7320 746f 2031 3030 302e 0a0a 2020 2020  s to 1000...    
-0000fc90: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0000fca0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0000fcb0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0000fcc0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0000fcd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000fce0: 2020 7572 6c20 3d20 222f 6d6f 6e69 746f    url = "/monito
-0000fcf0: 7269 6e67 2f76 322f 6576 656e 7473 220a  ring/v2/events".
-0000fd00: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0000fd10: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0000fd20: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
-0000fd30: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
-0000fd40: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
-0000fd50: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
-0000fd60: 6162 656c 223a 206c 6162 656c 2c0a 2020  abel": label,.  
-0000fd70: 2020 2020 2020 2020 2020 2266 726f 6d5f            "from_
-0000fd80: 7469 6d65 7374 616d 7022 3a20 6672 6f6d  timestamp": from
-0000fd90: 5f74 732c 0a20 2020 2020 2020 2020 2020  _ts,.           
-0000fda0: 2022 746f 5f74 696d 6573 7461 6d70 223a   "to_timestamp":
-0000fdb0: 2074 6f5f 7473 2c0a 2020 2020 2020 2020   to_ts,.        
-0000fdc0: 2020 2020 276d 6163 6164 6472 273a 206d      'macaddr': m
-0000fdd0: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
-0000fde0: 2020 2020 2762 7373 6964 273a 2062 7373      'bssid': bss
-0000fdf0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-0000fe00: 2764 6576 6963 655f 6d61 6327 3a20 6465  'device_mac': de
-0000fe10: 7669 6365 5f6d 6163 2c0a 2020 2020 2020  vice_mac,.      
-0000fe20: 2020 2020 2020 2768 6f73 746e 616d 6527        'hostname'
-0000fe30: 3a20 686f 7374 6e61 6d65 2c0a 2020 2020  : hostname,.    
-0000fe40: 2020 2020 2020 2020 2764 6576 6963 655f          'device_
-0000fe50: 7479 7065 273a 2064 6576 6963 655f 7479  type': device_ty
-0000fe60: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-0000fe70: 2773 6f72 7427 3a20 736f 7274 2c0a 2020  'sort': sort,.  
-0000fe80: 2020 2020 2020 2020 2020 2773 6974 6527            'site'
-0000fe90: 3a20 7369 7465 2c0a 2020 2020 2020 2020  : site,.        
-0000fea0: 2020 2020 2773 6572 6961 6c27 3a20 7365      'serial': se
-0000feb0: 7269 616c 2c0a 2020 2020 2020 2020 2020  rial,.          
-0000fec0: 2020 276c 6576 656c 273a 206c 6576 656c    'level': level
-0000fed0: 2c0a 2020 2020 2020 2020 2020 2020 2765  ,.            'e
-0000fee0: 7665 6e74 5f64 6573 6372 6970 7469 6f6e  vent_description
-0000fef0: 273a 2065 7665 6e74 5f64 6573 6372 6970  ': event_descrip
-0000ff00: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
-0000ff10: 2020 2765 7665 6e74 5f74 7970 6527 3a20    'event_type': 
-0000ff20: 6576 656e 745f 7479 7065 2c0a 2020 2020  event_type,.    
-0000ff30: 2020 2020 2020 2020 2766 6965 6c64 7327          'fields'
-0000ff40: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
-0000ff50: 2020 2020 2020 2763 616c 6375 6c61 7465        'calculate
-0000ff60: 5f74 6f74 616c 273a 2073 7472 2863 616c  _total': str(cal
-0000ff70: 6375 6c61 7465 5f74 6f74 616c 292c 0a20  culate_total),. 
-0000ff80: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
-0000ff90: 6574 223a 206f 6666 7365 742c 0a20 2020  et": offset,.   
-0000ffa0: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
-0000ffb0: 3a20 6c69 6d69 742c 0a20 2020 2020 2020  : limit,.       
-0000ffc0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-0000ffd0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000ffe0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-0000fff0: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-00010000: 2064 6566 2067 6574 5f61 6c6c 5f77 6562   def get_all_web
-00010010: 686f 6f6b 7328 7365 6c66 2920 2d3e 2052  hooks(self) -> R
-00010020: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00010030: 2022 2222 4c69 7374 2061 6c6c 2064 6566   """List all def
-00010040: 696e 6564 2077 6562 686f 6f6b 732e 0a0a  ined webhooks...
-00010050: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00010060: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00010070: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00010080: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00010090: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000100a0: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-000100b0: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
-000100c0: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
-000100d0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-000100e0: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-000100f0: 6320 6465 6620 6164 645f 7765 6268 6f6f  c def add_webhoo
-00010100: 6b28 0a20 2020 2020 2020 2073 656c 662c  k(.        self,
-00010110: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
-00010120: 7472 2c0a 2020 2020 2020 2020 7572 6c73  tr,.        urls
-00010130: 3a20 4c69 7374 5b73 7472 5d2c 0a20 2020  : List[str],.   
-00010140: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00010150: 2020 2020 2020 2020 2222 2241 6464 202f          """Add /
-00010160: 2075 7064 6174 6520 5765 6268 6f6f 6b2e   update Webhook.
-00010170: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00010180: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00010190: 2028 7374 7229 3a20 6e61 6d65 206f 6620   (str): name of 
-000101a0: 7468 6520 7765 6268 6f6f 6b0a 2020 2020  the webhook.    
-000101b0: 2020 2020 2020 2020 7572 6c73 2028 4c69          urls (Li
-000101c0: 7374 5b73 7472 5d29 3a20 4c69 7374 206f  st[str]): List o
-000101d0: 6620 7765 6268 6f6f 6b20 7572 6c73 0a0a  f webhook urls..
-000101e0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000101f0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00010200: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00010210: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00010220: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00010230: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-00010240: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
-00010250: 7322 0a20 2020 2020 2020 2075 726c 7320  s".        urls 
-00010260: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
-00010270: 7572 6c73 290a 0a20 2020 2020 2020 206a  urls)..        j
-00010280: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-00010290: 2020 2020 2020 2020 2027 6e61 6d65 273a           'name':
-000102a0: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
-000102b0: 2020 2027 7572 6c73 273a 2075 726c 730a     'urls': urls.
-000102c0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-000102d0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-000102e0: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-000102f0: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00010300: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
-00010310: 6566 2075 7064 6174 655f 7765 6268 6f6f  ef update_webhoo
-00010320: 6b28 0a20 2020 2020 2020 2073 656c 662c  k(.        self,
-00010330: 0a20 2020 2020 2020 2077 6964 3a20 7374  .        wid: st
-00010340: 722c 0a20 2020 2020 2020 206e 616d 653a  r,.        name:
-00010350: 2073 7472 2c0a 2020 2020 2020 2020 7572   str,.        ur
-00010360: 6c73 3a20 4c69 7374 5b73 7472 5d2c 0a20  ls: List[str],. 
-00010370: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-00010380: 3a0a 2020 2020 2020 2020 2222 2255 7064  :.        """Upd
-00010390: 6174 6520 7765 6268 6f6f 6b20 7365 7474  ate webhook sett
-000103a0: 696e 6773 2e0a 0a20 2020 2020 2020 2041  ings...        A
-000103b0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000103c0: 2077 6964 2028 7374 7229 3a20 6964 206f   wid (str): id o
-000103d0: 6620 7468 6520 7765 6268 6f6f 6b0a 2020  f the webhook.  
-000103e0: 2020 2020 2020 2020 2020 6e61 6d65 2028            name (
-000103f0: 7374 7229 3a20 6e61 6d65 206f 6620 7468  str): name of th
-00010400: 6520 7765 6268 6f6f 6b0a 2020 2020 2020  e webhook.      
-00010410: 2020 2020 2020 7572 6c73 2028 4c69 7374        urls (List
-00010420: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
-00010430: 7765 6268 6f6f 6b20 7572 6c73 0a0a 2020  webhook urls..  
-00010440: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00010450: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00010460: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00010470: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00010480: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00010490: 2020 2020 7572 6c20 3d20 6622 2f63 656e      url = f"/cen
-000104a0: 7472 616c 2f76 312f 7765 6268 6f6f 6b73  tral/v1/webhooks
-000104b0: 2f7b 7769 647d 220a 0a20 2020 2020 2020  /{wid}"..       
-000104c0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-000104d0: 2020 2020 2020 2020 2020 2027 6e61 6d65             'name
-000104e0: 273a 206e 616d 652c 0a20 2020 2020 2020  ': name,.       
-000104f0: 2020 2020 2027 7572 6c73 273a 2075 726c       'urls': url
-00010500: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
-00010510: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00010520: 7420 7365 6c66 2e70 7574 2875 726c 2c20  t self.put(url, 
-00010530: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-00010540: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-00010550: 6465 6620 6465 6c65 7465 5f77 6562 686f  def delete_webho
-00010560: 6f6b 280a 2020 2020 2020 2020 7365 6c66  ok(.        self
-00010570: 2c0a 2020 2020 2020 2020 7769 643a 2073  ,.        wid: s
-00010580: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-00010590: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-000105a0: 2222 4465 6c65 7465 2057 6562 686f 6f6b  ""Delete Webhook
-000105b0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
-000105c0: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-000105d0: 6420 2873 7472 293a 2069 6420 6f66 2074  d (str): id of t
-000105e0: 6865 2077 6562 686f 6f6b 0a0a 2020 2020  he webhook..    
-000105f0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00010600: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00010610: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00010620: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00010630: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010640: 2020 7572 6c20 3d20 6622 2f63 656e 7472    url = f"/centr
-00010650: 616c 2f76 312f 7765 6268 6f6f 6b73 2f7b  al/v1/webhooks/{
-00010660: 7769 647d 220a 0a20 2020 2020 2020 2072  wid}"..        r
-00010670: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00010680: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-00010690: 2020 6173 796e 6320 6465 6620 7265 6672    async def refr
-000106a0: 6573 685f 7765 6268 6f6f 6b5f 746f 6b65  esh_webhook_toke
-000106b0: 6e28 0a20 2020 2020 2020 2073 656c 662c  n(.        self,
-000106c0: 0a20 2020 2020 2020 2077 6964 3a20 7374  .        wid: st
-000106d0: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
-000106e0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000106f0: 2252 6566 7265 7368 2074 6865 2077 6562  "Refresh the web
-00010700: 686f 6f6b 2074 6f6b 656e 2e0a 0a20 2020  hook token...   
-00010710: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00010720: 2020 2020 2020 2077 6964 2028 7374 7229         wid (str)
-00010730: 3a20 6964 206f 6620 7468 6520 7765 6268  : id of the webh
-00010740: 6f6f 6b0a 0a20 2020 2020 2020 2052 6574  ook..        Ret
-00010750: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00010760: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00010770: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00010780: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00010790: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-000107a0: 2066 222f 6365 6e74 7261 6c2f 7631 2f77   f"/central/v1/w
-000107b0: 6562 686f 6f6b 732f 7b77 6964 7d2f 746f  ebhooks/{wid}/to
-000107c0: 6b65 6e22 0a0a 2020 2020 2020 2020 7265  ken"..        re
-000107d0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-000107e0: 7075 7428 7572 6c29 0a0a 2020 2020 2320  put(url)..    # 
-000107f0: 4150 492d 464c 4157 2054 6573 7420 7765  API-FLAW Test we
-00010800: 6268 6f6f 6b20 646f 6573 206e 6f74 2073  bhook does not s
-00010810: 656e 6420 616e 2022 6964 222c 2069 7427  end an "id", it'
-00010820: 7320 686f 7720 796f 7520 6465 7465 726d  s how you determ
-00010830: 696e 6520 7768 6174 2074 6f20 436c 6f73  ine what to Clos
-00010840: 650a 2020 2020 6173 796e 6320 6465 6620  e.    async def 
-00010850: 7465 7374 5f77 6562 686f 6f6b 280a 2020  test_webhook(.  
-00010860: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00010870: 2020 2020 7769 643a 2073 7472 2c0a 2020      wid: str,.  
-00010880: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00010890: 0a20 2020 2020 2020 2022 2222 5465 7374  .        """Test
-000108a0: 2066 6f72 2077 6562 686f 6f6b 206e 6f74   for webhook not
-000108b0: 6966 6963 6174 696f 6e2e 0a0a 2020 2020  ification...    
-000108c0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-000108d0: 2020 2020 2020 7769 6420 2873 7472 293a        wid (str):
-000108e0: 2069 6420 6f66 2074 6865 2077 6562 686f   id of the webho
-000108f0: 6f6b 0a0a 2020 2020 2020 2020 5265 7475  ok..        Retu
-00010900: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00010910: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00010920: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00010930: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00010940: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00010950: 6622 2f63 656e 7472 616c 2f76 312f 7765  f"/central/v1/we
-00010960: 6268 6f6f 6b73 2f7b 7769 647d 2f70 696e  bhooks/{wid}/pin
-00010970: 6722 0a0a 2020 2020 2020 2020 7265 7475  g"..        retu
-00010980: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00010990: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-000109a0: 6320 6465 6620 6765 745f 7369 7465 5f76  c def get_site_v
-000109b0: 6c61 6e73 2873 656c 662c 2073 6974 655f  lans(self, site_
-000109c0: 6964 3a20 696e 742c 2073 6561 7263 683a  id: int, search:
-000109d0: 2073 7472 203d 204e 6f6e 652c 206f 6666   str = None, off
-000109e0: 7365 743a 2069 6e74 203d 2030 2c20 6c69  set: int = 0, li
-000109f0: 6d69 743a 2069 6e74 203d 2031 3030 2920  mit: int = 100) 
-00010a00: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00010a10: 2020 2020 2022 2222 4765 7420 766c 616e       """Get vlan
-00010a20: 206c 6973 7420 6f66 2061 2073 6974 652e   list of a site.
-00010a30: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00010a40: 2020 2020 2020 2020 2020 2020 7369 7465              site
-00010a50: 5f69 6420 2869 6e74 293a 2053 6974 6520  _id (int): Site 
-00010a60: 4944 2e0a 2020 2020 2020 2020 2020 2020  ID..            
-00010a70: 7365 6172 6368 2028 7374 722c 206f 7074  search (str, opt
-00010a80: 696f 6e61 6c29 3a20 7365 6172 6368 2e0a  ional): search..
-00010a90: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-00010aa0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-00010ab0: 6c29 3a20 6f66 6673 6574 2e20 4465 6661  l): offset. Defa
-00010ac0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-00010ad0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-00010ae0: 742c 206f 7074 696f 6e61 6c29 3a20 6c69  t, optional): li
-00010af0: 6d69 7420 4465 6661 756c 7473 2074 6f20  mit Defaults to 
-00010b00: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-00010b10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00010b20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00010b30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00010b40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00010b50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00010b60: 3d20 6622 2f74 6f70 6f6c 6f67 795f 6578  = f"/topology_ex
-00010b70: 7465 726e 616c 5f61 7069 2f76 6c61 6e73  ternal_api/vlans
-00010b80: 2f7b 7369 7465 5f69 647d 220a 0a20 2020  /{site_id}"..   
-00010b90: 2020 2020 2070 6172 616d 7320 3d20 7b22       params = {"
-00010ba0: 7365 6172 6368 223a 2073 6561 7263 682c  search": search,
-00010bb0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
-00010bc0: 742c 2022 6c69 6d69 7422 3a20 6c69 6d69  t, "limit": limi
-00010bd0: 747d 0a0a 2020 2020 2020 2020 7265 7475  t}..        retu
-00010be0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00010bf0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-00010c00: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-00010c10: 2064 6566 2073 656e 645f 626f 756e 6365   def send_bounce
-00010c20: 5f63 6f6d 6d61 6e64 5f74 6f5f 6465 7669  _command_to_devi
-00010c30: 6365 2873 656c 662c 2073 6572 6961 6c3a  ce(self, serial:
-00010c40: 2073 7472 2c20 636f 6d6d 616e 643a 2073   str, command: s
-00010c50: 7472 2c20 706f 7274 3a20 7374 7229 202d  tr, port: str) -
-00010c60: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00010c70: 2020 2020 2222 2242 6f75 6e63 6520 696e      """Bounce in
-00010c80: 7465 7266 6163 6520 6f72 2050 4f45 2028  terface or POE (
-00010c90: 706f 7765 722d 6f76 6572 2d65 7468 6572  power-over-ether
-00010ca0: 6e65 7429 206f 6e20 7377 6974 6368 2070  net) on switch p
-00010cb0: 6f72 742e 2020 5661 6c69 6420 6f6e 6c79  ort.  Valid only
-00010cc0: 2066 6f72 2041 7275 6261 2053 7769 7463   for Aruba Switc
-00010cd0: 6865 732e 0a0a 2020 2020 2020 2020 4172  hes...        Ar
-00010ce0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00010cf0: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00010d00: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
-00010d10: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00010d20: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
-00010d30: 6420 6d65 6e74 696f 6e65 6420 696e 2074  d mentioned in t
-00010d40: 6865 2064 6573 6372 6970 7469 6f6e 2074  he description t
-00010d50: 6861 7420 6973 2074 6f20 6265 2065 7865  hat is to be exe
-00010d60: 6375 7465 640a 2020 2020 2020 2020 2020  cuted.          
-00010d70: 2020 706f 7274 2028 7374 7229 3a20 5370    port (str): Sp
-00010d80: 6563 6966 7920 696e 7465 7266 6163 6520  ecify interface 
-00010d90: 706f 7274 2069 6e20 7468 6520 666f 726d  port in the form
-00010da0: 6174 206f 6620 706f 7274 206e 756d 6265  at of port numbe
-00010db0: 7220 666f 7220 6465 7669 6365 7320 6f66  r for devices of
-00010dc0: 2074 7970 6520 4850 5043 0a20 2020 2020   type HPPC.     
-00010dd0: 2020 2020 2020 2020 2020 2053 7769 7463             Switc
-00010de0: 6820 6f72 2073 6c6f 742f 6368 6173 7369  h or slot/chassi
-00010df0: 732f 706f 7274 2066 6f72 2043 5820 5377  s/port for CX Sw
-00010e00: 6974 6368 0a0a 2020 2020 2020 2020 5265  itch..        Re
-00010e10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00010e20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00010e30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00010e40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00010e50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00010e60: 3d20 6622 2f64 6576 6963 655f 6d61 6e61  = f"/device_mana
-00010e70: 6765 6d65 6e74 2f76 322f 6465 7669 6365  gement/v2/device
-00010e80: 2f7b 7365 7269 616c 7d2f 6163 7469 6f6e  /{serial}/action
-00010e90: 2f7b 636f 6d6d 616e 647d 220a 0a20 2020  /{command}"..   
-00010ea0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-00010eb0: 207b 2270 6f72 7422 3a20 7374 7228 706f   {"port": str(po
-00010ec0: 7274 297d 0a0a 2020 2020 2020 2020 7265  rt)}..        re
-00010ed0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00010ee0: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00010ef0: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00010f00: 2020 2020 6173 796e 6320 6465 6620 7365      async def se
-00010f10: 6e64 5f63 6f6d 6d61 6e64 5f74 6f5f 6465  nd_command_to_de
-00010f20: 7669 6365 280a 2020 2020 2020 2020 7365  vice(.        se
-00010f30: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00010f40: 616c 3a20 7374 722c 0a20 2020 2020 2020  al: str,.       
-00010f50: 2063 6f6d 6d61 6e64 3a20 4c69 7465 7261   command: Litera
-00010f60: 6c5b 0a20 2020 2020 2020 2020 2020 2022  l[.            "
-00010f70: 7265 626f 6f74 222c 0a20 2020 2020 2020  reboot",.       
-00010f80: 2020 2020 2022 626c 696e 6b5f 6c65 645f       "blink_led_
-00010f90: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
-00010fa0: 2022 626c 696e 6b5f 6c65 645f 6f66 6622   "blink_led_off"
-00010fb0: 2c0a 2020 2020 2020 2020 2020 2020 2262  ,.            "b
-00010fc0: 6c69 6e6b 5f6c 6564 222c 0a20 2020 2020  link_led",.     
-00010fd0: 2020 2020 2020 2022 6572 6173 655f 636f         "erase_co
-00010fe0: 6e66 6967 7572 6174 696f 6e22 2c0a 2020  nfiguration",.  
-00010ff0: 2020 2020 2020 2020 2020 2273 6176 655f            "save_
-00011000: 636f 6e66 6967 7572 6174 696f 6e22 2c0a  configuration",.
-00011010: 2020 2020 2020 2020 2020 2020 2268 616c              "hal
-00011020: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-00011030: 2263 6f6e 6669 675f 7379 6e63 222c 0a20  "config_sync",. 
-00011040: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00011050: 2020 6475 7261 7469 6f6e 3a20 696e 7420    duration: int 
-00011060: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00011070: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00011080: 2020 2022 2222 4765 6e65 7269 6320 636f     """Generic co
-00011090: 6d6d 616e 6473 2066 6f72 2064 6576 6963  mmands for devic
-000110a0: 652e 0a0a 2020 2020 2020 2020 5375 7070  e...        Supp
-000110b0: 6f72 7465 6420 436f 6d6d 616e 6473 2028  orted Commands (
-000110c0: 7374 7229 3a0a 2020 2020 2020 2020 2020  str):.          
-000110d0: 2020 2d20 7265 626f 6f74 3a20 7375 7070    - reboot: supp
-000110e0: 6f72 7465 6420 6279 2049 4150 2f43 6f6e  orted by IAP/Con
-000110f0: 7472 6f6c 6c65 7273 2f4d 4153 2053 7769  trollers/MAS Swi
-00011100: 7463 6865 732f 4172 7562 6120 5377 6974  tches/Aruba Swit
-00011110: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
-00011120: 202d 2062 6c69 6e6b 5f6c 6564 5f6f 6e3a   - blink_led_on:
-00011130: 2055 7365 2074 6869 7320 636f 6d6d 616e   Use this comman
-00011140: 6420 746f 2065 6e61 626c 6520 7468 6520  d to enable the 
-00011150: 4c45 4420 6469 7370 6c61 792c 2073 7570  LED display, sup
-00011160: 706f 7274 6564 2062 7920 4941 502f 4172  ported by IAP/Ar
-00011170: 7562 6120 5377 6974 6368 6573 0a20 2020  uba Switches.   
-00011180: 2020 2020 2020 2020 202d 2062 6c69 6e6b           - blink
-00011190: 5f6c 6564 5f6f 6666 3a20 5573 6520 7468  _led_off: Use th
-000111a0: 6973 2063 6f6d 6d61 6e64 2074 6f20 656e  is command to en
-000111b0: 6162 6c65 2074 6865 204c 4544 2064 6973  able the LED dis
-000111c0: 706c 6179 2c20 7375 7070 6f72 7465 6420  play, supported 
-000111d0: 6279 2049 4150 2f41 7275 6261 2053 7769  by IAP/Aruba Swi
-000111e0: 7463 6865 730a 2020 2020 2020 2020 2020  tches.          
-000111f0: 2020 2d20 626c 696e 6b5f 6c65 643a 2055    - blink_led: U
-00011200: 7365 2074 6869 7320 636f 6d6d 616e 6420  se this command 
-00011210: 746f 2062 6c69 6e6b 204c 4544 2064 6973  to blink LED dis
-00011220: 706c 6179 2c20 5375 7070 6f72 7465 6420  play, Supported 
-00011230: 6f6e 2041 7275 6261 2053 7769 7463 6865  on Aruba Switche
-00011240: 730a 2020 2020 2020 2020 2020 2020 2d20  s.            - 
-00011250: 6572 6173 655f 636f 6e66 6967 7572 6174  erase_configurat
-00011260: 696f 6e20 3a20 4661 6374 6f72 7920 6465  ion : Factory de
-00011270: 6661 756c 7420 7468 6520 7377 6974 6368  fault the switch
-00011280: 2e20 2053 7570 706f 7274 6564 206f 6e20  .  Supported on 
-00011290: 4172 7562 6120 5377 6974 6368 6573 0a20  Aruba Switches. 
-000112a0: 2020 2020 2020 2020 2020 202d 2073 6176             - sav
-000112b0: 655f 636f 6e66 6967 7572 6174 696f 6e3a  e_configuration:
-000112c0: 2053 6176 6573 2074 6865 2072 756e 6e69   Saves the runni
-000112d0: 6e67 2063 6f6e 6669 672e 2073 7570 706f  ng config. suppo
-000112e0: 7274 6564 2062 7920 4941 502f 4172 7562  rted by IAP/Arub
-000112f0: 6120 5377 6974 6368 6573 0a20 2020 2020  a Switches.     
-00011300: 2020 2020 2020 202d 2068 616c 7420 3a20         - halt : 
-00011310: 5468 6973 2063 6f6d 6d61 6e64 2070 6572  This command per
-00011320: 666f 726d 7320 6120 7368 7574 646f 776e  forms a shutdown
-00011330: 206f 6620 7468 6520 6465 7669 6365 2c20   of the device, 
-00011340: 7375 7070 6f72 7465 6420 6279 2043 6f6e  supported by Con
-00011350: 7472 6f6c 6c65 7273 2061 6c6f 6e65 2e0a  trollers alone..
-00011360: 2020 2020 2020 2020 2020 2020 2d20 636f              - co
-00011370: 6e66 6967 5f73 796e 6320 3a20 5468 6973  nfig_sync : This
-00011380: 2063 6f6d 6d61 6e64 7320 7065 7266 6f72   commands perfor
-00011390: 6d73 2066 756c 6c20 7265 6672 6573 6820  ms full refresh 
-000113a0: 6f66 2074 6865 2064 6576 6963 6520 636f  of the device co
-000113b0: 6e66 6967 2c20 7375 7070 6f72 7465 6420  nfig, supported 
-000113c0: 6279 2043 6f6e 7472 6f6c 6c65 7273 2061  by Controllers a
-000113d0: 6c6f 6e65 0a0a 2020 2020 2020 2020 4172  lone..        Ar
-000113e0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-000113f0: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00011400: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
-00011410: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00011420: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
-00011430: 6420 746f 2062 6520 6578 6563 7574 6564  d to be executed
-00011440: 0a20 2020 2020 2020 2020 2020 2064 7572  .            dur
-00011450: 6174 696f 6e20 2869 6e74 2c20 4f70 7469  ation (int, Opti
-00011460: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-00011470: 2073 6563 6f6e 6473 2074 6f20 626c 696e   seconds to blin
-00011480: 6b5f 6c65 6420 6f6e 6c79 2061 7070 6c69  k_led only appli
-00011490: 6573 2074 6f20 626c 696e 6b5f 6c65 6420  es to blink_led 
-000114a0: 616e 6420 626c 696e 6b5f 6c65 645f 6f6e  and blink_led_on
-000114b0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-000114c0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-000114d0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-000114e0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-000114f0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00011500: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00011510: 2f64 6576 6963 655f 6d61 6e61 6765 6d65  /device_manageme
-00011520: 6e74 2f76 312f 6465 7669 6365 2f7b 7365  nt/v1/device/{se
-00011530: 7269 616c 7d2f 6163 7469 6f6e 2f7b 636f  rial}/action/{co
-00011540: 6d6d 616e 647d 220a 0a20 2020 2020 2020  mmand}"..       
-00011550: 2023 2054 4f44 4f20 6361 6374 6820 696e   # TODO cacth in
-00011560: 7661 6c69 6420 6163 7469 6f6e 7320 286e  valid actions (n
-00011570: 6f74 2073 7570 706f 7274 6564 206f 6e20  ot supported on 
-00011580: 6465 7629 0a20 2020 2020 2020 2072 6573  dev).        res
-00011590: 7020 3d20 6177 6169 7420 7365 6c66 2e70  p = await self.p
-000115a0: 6f73 7428 7572 6c29 0a20 2020 2020 2020  ost(url).       
-000115b0: 2069 6620 7265 7370 2061 6e64 2064 7572   if resp and dur
-000115c0: 6174 696f 6e20 616e 6420 2262 6c69 6e6b  ation and "blink
-000115d0: 5f6c 6564 2220 696e 2063 6f6d 6d61 6e64  _led" in command
-000115e0: 2061 6e64 2022 6f66 6622 206e 6f74 2069   and "off" not i
-000115f0: 6e20 636f 6d6d 616e 643a 0a20 2020 2020  n command:.     
-00011600: 2020 2020 2020 2070 7269 6e74 2866 2242         print(f"B
-00011610: 6c69 6e6b 696e 6720 4c65 642e 2e2e 207b  linking Led... {
-00011620: 6475 7261 7469 6f6e 7d2e 2022 2c20 656e  duration}. ", en
-00011630: 643d 2222 290a 2020 2020 2020 2020 2020  d="").          
-00011640: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-00011650: 2831 2c20 6475 7261 7469 6f6e 202b 2031  (1, duration + 1
-00011660: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00011670: 2020 2074 696d 652e 736c 6565 7028 3129     time.sleep(1)
-00011680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011690: 2070 7269 6e74 2866 227b 6475 7261 7469   print(f"{durati
-000116a0: 6f6e 202d 2069 7d2e 2022 2c20 656e 643d  on - i}. ", end=
-000116b0: 2222 2069 6620 6920 2520 3230 2065 6c73  "" if i % 20 els
-000116c0: 6520 225c 6e22 290a 2020 2020 2020 2020  e "\n").        
-000116d0: 2020 2020 7265 7370 203d 2061 7761 6974      resp = await
-000116e0: 2073 656c 662e 706f 7374 2875 726c 2e72   self.post(url.r
-000116f0: 6570 6c61 6365 2822 5f6f 6e22 2c20 225f  eplace("_on", "_
-00011700: 6f66 6622 2929 0a20 2020 2020 2020 2072  off")).        r
-00011710: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
-00011720: 6173 796e 6320 6465 6620 6b69 636b 5f75  async def kick_u
-00011730: 7365 7273 280a 2020 2020 2020 2020 7365  sers(.        se
-00011740: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00011750: 616c 5f6e 756d 3a20 7374 7220 3d20 4e6f  al_num: str = No
-00011760: 6e65 2c0a 2020 2020 2020 2020 6b69 636b  ne,.        kick
-00011770: 5f61 6c6c 3a20 626f 6f6c 203d 2046 616c  _all: bool = Fal
-00011780: 7365 2c0a 2020 2020 2020 2020 6d61 633a  se,.        mac:
-00011790: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000117a0: 2020 2020 2073 7369 643a 2073 7472 203d       ssid: str =
-000117b0: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
-000117c0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-000117d0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
-000117e0: 655f 6d61 6e61 6765 6d65 6e74 2f76 312f  e_management/v1/
-000117f0: 6465 7669 6365 2f7b 7365 7269 616c 5f6e  device/{serial_n
-00011800: 756d 7d2f 6163 7469 6f6e 2f64 6973 636f  um}/action/disco
-00011810: 6e6e 6563 745f 7573 6572 220a 2020 2020  nnect_user".    
-00011820: 2020 2020 6966 206b 6963 6b5f 616c 6c3a      if kick_all:
-00011830: 0a20 2020 2020 2020 2020 2020 2070 6179  .            pay
-00011840: 6c6f 6164 203d 207b 2264 6973 636f 6e6e  load = {"disconn
-00011850: 6563 745f 7573 6572 5f61 6c6c 223a 2054  ect_user_all": T
-00011860: 7275 657d 0a20 2020 2020 2020 2065 6c69  rue}.        eli
-00011870: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
-00011880: 2020 2070 6179 6c6f 6164 203d 207b 2264     payload = {"d
-00011890: 6973 636f 6e6e 6563 745f 7573 6572 5f6d  isconnect_user_m
-000118a0: 6163 223a 2066 227b 6d61 637d 227d 0a20  ac": f"{mac}"}. 
-000118b0: 2020 2020 2020 2065 6c69 6620 7373 6964         elif ssid
-000118c0: 3a0a 2020 2020 2020 2020 2020 2020 7061  :.            pa
-000118d0: 796c 6f61 6420 3d20 7b22 6469 7363 6f6e  yload = {"discon
-000118e0: 6e65 6374 5f75 7365 725f 6e65 7477 6f72  nect_user_networ
-000118f0: 6b22 3a20 6622 7b73 7369 647d 227d 0a20  k": f"{ssid}"}. 
-00011900: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00011910: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
-00011920: 203d 207b 7d0a 0a20 2020 2020 2020 2069   = {}..        i
-00011930: 6620 7061 796c 6f61 643a 0a20 2020 2020  f payload:.     
-00011940: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00011950: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00011960: 6c2c 206a 736f 6e5f 6461 7461 3d70 6179  l, json_data=pay
-00011970: 6c6f 6164 290a 2020 2020 2020 2020 656c  load).        el
-00011980: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011990: 7265 7475 726e 2052 6573 706f 6e73 6528  return Response(
-000119a0: 6572 726f 723d 224d 6973 7369 6e67 2052  error="Missing R
-000119b0: 6571 7569 7265 6420 5061 7261 6d65 7465  equired Paramete
-000119c0: 7273 2229 0a0a 2020 2020 6173 796e 6320  rs")..    async 
-000119d0: 6465 6620 6765 745f 7461 736b 5f73 7461  def get_task_sta
-000119e0: 7475 7328 0a20 2020 2020 2020 2073 656c  tus(.        sel
-000119f0: 662c 0a20 2020 2020 2020 2074 6173 6b5f  f,.        task_
-00011a00: 6964 3a20 7374 722c 0a20 2020 2029 202d  id: str,.    ) -
-00011a10: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00011a20: 2020 2020 2222 2253 7461 7475 732e 0a0a      """Status...
-00011a30: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00011a40: 2020 2020 2020 2020 2020 7461 736b 5f69            task_i
-00011a50: 6420 2873 7472 293a 2055 6e69 7175 6520  d (str): Unique 
-00011a60: 7461 736b 2069 6420 746f 2067 6574 2072  task id to get r
-00011a70: 6573 706f 6e73 6520 6f66 2063 6f6d 6d61  esponse of comma
-00011a80: 6e64 0a0a 2020 2020 2020 2020 5265 7475  nd..        Retu
-00011a90: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00011aa0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00011ab0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00011ac0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00011ad0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00011ae0: 6622 2f64 6576 6963 655f 6d61 6e61 6765  f"/device_manage
-00011af0: 6d65 6e74 2f76 312f 7374 6174 7573 2f7b  ment/v1/status/{
-00011b00: 7461 736b 5f69 647d 220a 0a20 2020 2020  task_id}"..     
-00011b10: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00011b20: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
-00011b30: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00011b40: 5f73 7769 7463 685f 766c 616e 7328 0a20  _switch_vlans(. 
-00011b50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00011b60: 2020 2020 2069 6465 6e3a 2073 7472 2c0a       iden: str,.
-00011b70: 2020 2020 2020 2020 7374 6163 6b3a 2062          stack: b
-00011b80: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00011b90: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-00011ba0: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
-00011bb0: 7669 643a 2069 6e74 203d 204e 6f6e 652c  vid: int = None,
-00011bc0: 0a20 2020 2020 2020 2074 6167 6765 645f  .        tagged_
-00011bd0: 706f 7274 3a20 7374 7220 3d20 4e6f 6e65  port: str = None
-00011be0: 2c0a 2020 2020 2020 2020 756e 7461 6767  ,.        untagg
-00011bf0: 6564 5f70 6f72 743a 2073 7472 203d 204e  ed_port: str = N
-00011c00: 6f6e 652c 0a20 2020 2020 2020 2069 735f  one,.        is_
-00011c10: 6a75 6d62 6f5f 656e 6162 6c65 643a 2062  jumbo_enabled: b
-00011c20: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
-00011c30: 2020 2020 6973 5f76 6f69 6365 5f65 6e61      is_voice_ena
-00011c40: 626c 6564 3a20 626f 6f6c 203d 204e 6f6e  bled: bool = Non
-00011c50: 652c 0a20 2020 2020 2020 2069 735f 6967  e,.        is_ig
-00011c60: 6d70 5f65 6e61 626c 6564 3a20 626f 6f6c  mp_enabled: bool
-00011c70: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00011c80: 2074 7970 653a 2073 7472 203d 204e 6f6e   type: str = Non
-00011c90: 652c 0a20 2020 2020 2020 2070 7269 6d61  e,.        prima
-00011ca0: 7279 5f76 6c61 6e5f 6964 3a20 696e 7420  ry_vlan_id: int 
-00011cb0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00011cc0: 7374 6174 7573 3a20 7374 7220 3d20 4e6f  status: str = No
-00011cd0: 6e65 2c0a 2020 2020 2020 2020 736f 7274  ne,.        sort
-00011ce0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00011cf0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-00011d00: 746f 7461 6c3a 2062 6f6f 6c20 3d20 4e6f  total: bool = No
-00011d10: 6e65 2c0a 2020 2020 2020 2020 616f 735f  ne,.        aos_
-00011d20: 7377 3a20 626f 6f6c 203d 2046 616c 7365  sw: bool = False
-00011d30: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
-00011d40: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
-00011d50: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
-00011d60: 3530 302c 0a20 2020 2029 202d 3e20 5265  500,.    ) -> Re
-00011d70: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00011d80: 2222 2247 6574 2076 6c61 6e20 696e 666f  """Get vlan info
-00011d90: 2066 6f72 2073 7769 7463 6820 2843 5820   for switch (CX 
-00011da0: 616e 6420 5357 292e 0a0a 2020 2020 2020  and SW)...      
-00011db0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00011dc0: 2020 2020 6964 656e 2028 7374 7229 3a20      iden (str): 
-00011dd0: 5365 7269 616c 204e 756d 6265 7220 6f66  Serial Number of
-00011de0: 2053 7461 636b 2049 442c 2049 6465 6e74   Stack ID, Ident
-00011df0: 6966 6965 7320 7468 6520 6465 7620 746f  ifies the dev to
-00011e00: 2072 6574 7572 6e20 564c 414e 7320 6672   return VLANs fr
-00011e10: 6f6d 2e0a 2020 2020 2020 2020 2020 2020  om..            
-00011e20: 7374 6163 6b20 2862 6f6f 6c2c 206f 7074  stack (bool, opt
-00011e30: 696f 6e61 6c29 3a20 5365 7420 746f 2054  ional): Set to T
-00011e40: 7275 6520 666f 7220 7374 6163 6b2e 2044  rue for stack. D
-00011e50: 6566 6175 6c74 3a20 4661 6c73 650a 2020  efault: False.  
-00011e60: 2020 2020 2020 2020 2020 6e61 6d65 2028            name (
-00011e70: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00011e80: 4669 6c74 6572 2062 7920 766c 616e 206e  Filter by vlan n
-00011e90: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00011ea0: 6964 2028 696e 742c 206f 7074 696f 6e61  id (int, optiona
-00011eb0: 6c29 3a20 4669 6c74 6572 2062 7920 766c  l): Filter by vl
-00011ec0: 616e 2069 640a 2020 2020 2020 2020 2020  an id.          
-00011ed0: 2020 7461 6767 6564 5f70 6f72 7420 2873    tagged_port (s
-00011ee0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00011ef0: 696c 7465 7220 6279 2074 6167 6765 6420  ilter by tagged 
-00011f00: 706f 7274 206e 616d 650a 2020 2020 2020  port name.      
-00011f10: 2020 2020 2020 756e 7461 6767 6564 5f70        untagged_p
-00011f20: 6f72 7420 2873 7472 2c20 6f70 7469 6f6e  ort (str, option
-00011f30: 616c 293a 2046 696c 7465 7220 6279 2075  al): Filter by u
-00011f40: 6e74 6167 6765 6420 706f 7274 206e 616d  ntagged port nam
-00011f50: 650a 2020 2020 2020 2020 2020 2020 6973  e.            is
-00011f60: 5f6a 756d 626f 5f65 6e61 626c 6564 2028  _jumbo_enabled (
-00011f70: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00011f80: 2046 696c 7465 7220 6279 206a 756d 626f   Filter by jumbo
-00011f90: 2065 6e61 626c 6564 0a20 2020 2020 2020   enabled.       
-00011fa0: 2020 2020 2069 735f 766f 6963 655f 656e       is_voice_en
-00011fb0: 6162 6c65 6420 2862 6f6f 6c2c 206f 7074  abled (bool, opt
-00011fc0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-00011fd0: 7920 766f 6963 6520 656e 6162 6c65 640a  y voice enabled.
-00011fe0: 2020 2020 2020 2020 2020 2020 6973 5f69              is_i
-00011ff0: 676d 705f 656e 6162 6c65 6420 2862 6f6f  gmp_enabled (boo
-00012000: 6c2c 206f 7074 696f 6e61 6c29 3a20 4669  l, optional): Fi
-00012010: 6c74 6572 2062 7920 6967 6d70 2065 6e61  lter by igmp ena
-00012020: 626c 6564 0a20 2020 2020 2020 2020 2020  bled.           
-00012030: 2074 7970 6520 2873 7472 2c20 6f70 7469   type (str, opti
-00012040: 6f6e 616c 293a 2054 7970 6520 6f66 2074  onal): Type of t
-00012050: 6865 2076 6c61 6e20 746f 2062 6520 7175  he vlan to be qu
-00012060: 6572 6965 640a 2020 2020 2020 2020 2020  eried.          
-00012070: 2020 7072 696d 6172 795f 766c 616e 5f69    primary_vlan_i
-00012080: 6420 2869 6e74 2c20 6f70 7469 6f6e 616c  d (int, optional
-00012090: 293a 2050 7269 6d61 7279 2056 6c61 6e20  ): Primary Vlan 
-000120a0: 4964 206f 6620 7468 6520 766c 616e 2074  Id of the vlan t
-000120b0: 6f20 6265 2071 7565 7269 6564 220a 2020  o be queried".  
-000120c0: 2020 2020 2020 2020 2020 7374 6174 7573            status
-000120d0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-000120e0: 3a20 4669 6c74 6572 2062 7920 7374 6174  : Filter by stat
-000120f0: 7573 206f 6620 564c 414e 2e20 5374 6174  us of VLAN. Stat
-00012100: 7573 2063 616e 2062 6520 5570 2f44 6f77  us can be Up/Dow
-00012110: 6e0a 2020 2020 2020 2020 2020 2020 736f  n.            so
-00012120: 7274 2028 7374 722c 206f 7074 696f 6e61  rt (str, optiona
-00012130: 6c29 3a20 536f 7274 2070 6172 616d 6574  l): Sort paramet
-00012140: 6572 206d 6179 2062 6520 6f6e 6520 6f66  er may be one of
-00012150: 202b 6e61 6d65 2c20 2d6e 616d 650a 2020   +name, -name.  
-00012160: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
-00012170: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
-00012180: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
-00012190: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
-000121a0: 2074 6f74 616c 2076 6c61 6e73 0a20 2020   total vlans.   
-000121b0: 2020 2020 2020 2020 2061 6f73 5f73 7720           aos_sw 
-000121c0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-000121d0: 3a20 4465 7669 6365 2069 7320 4172 7562  : Device is Arub
-000121e0: 614f 532d 5377 6974 6368 2e20 4465 6661  aOS-Switch. Defa
-000121f0: 756c 7473 2074 6f20 4661 6c73 650a 2020  ults to False.  
-00012200: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-00012210: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00012220: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-00012230: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-00012240: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-00012250: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-00012260: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00012270: 206c 696d 6974 2e20 4465 6661 756c 7420   limit. Default 
-00012280: 6973 2031 3030 2061 6e64 206d 6178 2069  is 100 and max i
-00012290: 7320 3130 3030 2044 6566 6175 6c74 7320  s 1000 Defaults 
-000122a0: 746f 2035 3030 2e0a 0a20 2020 2020 2020  to 500...       
-000122b0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000122c0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000122d0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000122e0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000122f0: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-00012300: 775f 7572 6c20 3d20 2273 7769 7463 6865  w_url = "switche
-00012310: 7322 2069 6620 6e6f 7420 7374 6163 6b20  s" if not stack 
-00012320: 656c 7365 2022 7377 6974 6368 5f73 7461  else "switch_sta
-00012330: 636b 7322 0a20 2020 2020 2020 2073 775f  cks".        sw_
-00012340: 7572 6c20 3d20 7377 5f75 726c 2069 6620  url = sw_url if 
-00012350: 616f 735f 7377 2065 6c73 6520 6627 6378  aos_sw else f'cx
-00012360: 5f7b 7377 5f75 726c 7d27 0a20 2020 2020  _{sw_url}'.     
-00012370: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-00012380: 746f 7269 6e67 2f76 312f 7b73 775f 7572  toring/v1/{sw_ur
-00012390: 6c7d 2f7b 6964 656e 7d2f 766c 616e 220a  l}/{iden}/vlan".
-000123a0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-000123b0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-000123c0: 226e 616d 6522 3a20 6e61 6d65 2c0a 2020  "name": name,.  
-000123d0: 2020 2020 2020 2020 2020 2269 6422 3a20            "id": 
-000123e0: 7076 6964 2c0a 2020 2020 2020 2020 2020  pvid,.          
-000123f0: 2020 2274 6167 6765 645f 706f 7274 223a    "tagged_port":
-00012400: 2074 6167 6765 645f 706f 7274 2c0a 2020   tagged_port,.  
-00012410: 2020 2020 2020 2020 2020 2275 6e74 6167            "untag
-00012420: 6765 645f 706f 7274 223a 2075 6e74 6167  ged_port": untag
-00012430: 6765 645f 706f 7274 2c0a 2020 2020 2020  ged_port,.      
-00012440: 2020 2020 2020 2269 735f 6a75 6d62 6f5f        "is_jumbo_
-00012450: 656e 6162 6c65 6422 3a20 6973 5f6a 756d  enabled": is_jum
-00012460: 626f 5f65 6e61 626c 6564 2c0a 2020 2020  bo_enabled,.    
-00012470: 2020 2020 2020 2020 2269 735f 766f 6963          "is_voic
-00012480: 655f 656e 6162 6c65 6422 3a20 6973 5f76  e_enabled": is_v
-00012490: 6f69 6365 5f65 6e61 626c 6564 2c0a 2020  oice_enabled,.  
-000124a0: 2020 2020 2020 2020 2020 2269 735f 6967            "is_ig
-000124b0: 6d70 5f65 6e61 626c 6564 223a 2069 735f  mp_enabled": is_
-000124c0: 6967 6d70 5f65 6e61 626c 6564 2c0a 2020  igmp_enabled,.  
-000124d0: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
-000124e0: 3a20 7479 7065 2c0a 2020 2020 2020 2020  : type,.        
-000124f0: 2020 2020 2270 7269 6d61 7279 5f76 6c61      "primary_vla
-00012500: 6e5f 6964 223a 2070 7269 6d61 7279 5f76  n_id": primary_v
-00012510: 6c61 6e5f 6964 2c0a 2020 2020 2020 2020  lan_id,.        
-00012520: 2020 2020 2273 7461 7475 7322 3a20 7374      "status": st
-00012530: 6174 7573 2c0a 2020 2020 2020 2020 2020  atus,.          
-00012540: 2020 2273 6f72 7422 3a20 736f 7274 2c0a    "sort": sort,.
-00012550: 2020 2020 2020 2020 2020 2020 2263 616c              "cal
-00012560: 6375 6c61 7465 5f74 6f74 616c 223a 2063  culate_total": c
-00012570: 616c 6375 6c61 7465 5f74 6f74 616c 2c0a  alculate_total,.
-00012580: 2020 2020 2020 2020 2020 2020 226f 6666              "off
-00012590: 7365 7422 3a20 6f66 6673 6574 2c0a 2020  set": offset,.  
-000125a0: 2020 2020 2020 2020 2020 226c 696d 6974            "limit
-000125b0: 223a 206c 696d 6974 2c0a 2020 2020 2020  ": limit,.      
-000125c0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-000125d0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-000125e0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-000125f0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-00012600: 6320 6465 6620 6765 745f 6761 7465 7761  c def get_gatewa
-00012610: 795f 766c 616e 7328 7365 6c66 2c20 7365  y_vlans(self, se
-00012620: 7269 616c 3a20 7374 7229 202d 3e20 5265  rial: str) -> Re
-00012630: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00012640: 2222 2247 6574 2067 6174 6577 6179 2056  """Get gateway V
-00012650: 4c41 4e20 6465 7461 696c 732e 0a0a 2020  LAN details...  
-00012660: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00012670: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
-00012680: 7374 7229 3a20 5365 7269 616c 206e 756d  str): Serial num
-00012690: 6265 7220 6f66 2067 6174 6577 6179 2074  ber of gateway t
-000126a0: 6f20 6265 2071 7565 7269 6564 0a0a 2020  o be queried..  
-000126b0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-000126c0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000126d0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-000126e0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-000126f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00012700: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
-00012710: 6974 6f72 696e 672f 7631 2f67 6174 6577  itoring/v1/gatew
-00012720: 6179 732f 7b73 6572 6961 6c7d 2f76 6c61  ays/{serial}/vla
-00012730: 6e22 0a0a 2020 2020 2020 2020 7265 7475  n"..        retu
-00012740: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00012750: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-00012760: 6320 6465 6620 6765 745f 7473 5f63 6f6d  c def get_ts_com
-00012770: 6d61 6e64 7328 0a20 2020 2020 2020 2073  mands(.        s
-00012780: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
-00012790: 6963 655f 7479 7065 3a20 4c69 7465 7261  ice_type: Litera
-000127a0: 6c5b 2769 6170 272c 2027 6d61 7327 2c20  l['iap', 'mas', 
-000127b0: 2773 7769 7463 6827 2c20 2763 6f6e 7472  'switch', 'contr
-000127c0: 6f6c 6c65 7227 2c20 2763 7827 5d2c 0a20  oller', 'cx'],. 
-000127d0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000127e0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
-000127f0: 7420 5472 6f75 626c 6573 686f 6f74 696e  t Troubleshootin
-00012800: 6720 436f 6d6d 616e 6473 2e0a 0a20 2020  g Commands...   
-00012810: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00012820: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-00012830: 7065 2028 7374 7229 3a20 5370 6563 6966  pe (str): Specif
-00012840: 7920 6f6e 6520 6f66 2022 4941 5022 2066  y one of "IAP" f
-00012850: 6f72 2073 7761 726d 2c20 224d 4153 2220  or swarm, "MAS" 
-00012860: 666f 7220 4d41 5320 7377 6974 6368 6573  for MAS switches
-00012870: 2c20 2253 5749 5443 4822 2066 6f72 0a20  , "SWITCH" for. 
-00012880: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00012890: 7275 6261 2073 7769 7463 6865 732c 2243  ruba switches,"C
-000128a0: 5822 2066 6f72 2043 5820 7377 6974 6368  X" for CX switch
-000128b0: 6573 2c20 2243 4f4e 5452 4f4c 4c45 5222  es, "CONTROLLER"
-000128c0: 2066 6f72 2063 6f6e 7472 6f6c 6c65 7273   for controllers
-000128d0: 2072 6573 7065 6374 6976 656c 792e 0a0a   respectively...
-000128e0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000128f0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00012900: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00012910: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00012920: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00012930: 2020 2020 2020 7572 6c20 3d20 222f 7472        url = "/tr
-00012940: 6f75 626c 6573 686f 6f74 696e 672f 7631  oubleshooting/v1
-00012950: 2f63 6f6d 6d61 6e64 7322 0a0a 2020 2020  /commands"..    
-00012960: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-00012970: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00012980: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
-00012990: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
-000129a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000129b0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-000129c0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-000129d0: 7329 0a0a 0a20 2020 2061 7379 6e63 2064  s)...    async d
-000129e0: 6566 2073 7461 7274 5f74 735f 7365 7373  ef start_ts_sess
-000129f0: 696f 6e28 0a20 2020 2020 2020 2073 656c  ion(.        sel
-00012a00: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
-00012a10: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
-00012a20: 6465 765f 7479 7065 3a20 7374 722c 0a20  dev_type: str,. 
-00012a30: 2020 2020 2020 2063 6f6d 6d61 6e64 733a         commands:
-00012a40: 2055 6e69 6f6e 5b69 6e74 2c20 6c69 7374   Union[int, list
-00012a50: 2c20 6469 6374 5d2c 0a20 2020 2029 202d  , dict],.    ) -
-00012a60: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00012a70: 2020 2020 2222 2253 7461 7274 2054 726f      """Start Tro
-00012a80: 7562 6c65 7368 6f6f 7469 6e67 2053 6573  ubleshooting Ses
-00012a90: 7369 6f6e 2e0a 0a20 2020 2020 2020 2041  sion...        A
-00012aa0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00012ab0: 2073 6572 6961 6c20 2873 7472 293a 2053   serial (str): S
-00012ac0: 6572 6961 6c20 6f66 2064 6576 6963 650a  erial of device.
-00012ad0: 2020 2020 2020 2020 2020 2020 6465 765f              dev_
-00012ae0: 7479 7065 2028 7374 7229 3a20 5370 6563  type (str): Spec
-00012af0: 6966 7920 6f6e 6520 6f66 2022 4941 502f  ify one of "IAP/
-00012b00: 5357 4954 4348 2f43 582f 4d41 532f 434f  SWITCH/CX/MAS/CO
-00012b10: 4e54 524f 4c4c 4552 2220 666f 7220 2049  NTROLLER" for  I
-00012b20: 4150 732c 2041 7275 6261 0a20 2020 2020  APs, Aruba.     
-00012b30: 2020 2020 2020 2020 2020 2073 7769 7463             switc
-00012b40: 6865 732c 2043 5820 5377 6974 6368 6573  hes, CX Switches
-00012b50: 2c20 4d41 5320 7377 6974 6368 6573 2061  , MAS switches a
-00012b60: 6e64 2063 6f6e 7472 6f6c 6c65 7273 2072  nd controllers r
-00012b70: 6573 7065 6374 6976 656c 792e 0a20 2020  espectively..   
-00012b80: 2020 2020 2020 2020 2063 6f6d 6d61 6e64           command
-00012b90: 7320 2869 6e74 2c20 4c69 7374 5b69 6e74  s (int, List[int
-00012ba0: 207c 2064 6963 745d 2c20 6469 6374 293a   | dict], dict):
-00012bb0: 2061 2073 696e 676c 6520 636f 6d6d 616e   a single comman
-00012bc0: 645f 6964 2c20 6f72 2061 204c 6973 7420  d_id, or a List 
-00012bd0: 6f66 2063 6f6d 6d61 6e64 5f69 6473 2028  of command_ids (
-00012be0: 466f 7220 636f 6d6d 616e 6473 2077 6974  For commands wit
-00012bf0: 6820 6e6f 2061 7267 756d 656e 7473 290a  h no arguments).
-00012c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012c10: 4f52 2061 2064 6963 7420 7b63 6f6d 6d61  OR a dict {comma
-00012c20: 6e64 5f69 643a 207b 6172 6775 6d65 6e74  nd_id: {argument
-00012c30: 315f 6e61 6d65 3a20 6172 6775 6d65 6e74  1_name: argument
-00012c40: 315f 7661 6c75 652c 2061 7267 756d 656e  1_value, argumen
-00012c50: 7432 5f6e 616d 653a 2061 7267 756d 656e  t2_name: argumen
-00012c60: 7432 5f76 616c 7565 7d7d 0a0a 2020 2020  t2_value}}..    
-00012c70: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00012c80: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00012c90: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00012ca0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00012cb0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00012cc0: 2020 7572 6c20 3d20 6622 2f74 726f 7562    url = f"/troub
-00012cd0: 6c65 7368 6f6f 7469 6e67 2f76 312f 6465  leshooting/v1/de
-00012ce0: 7669 6365 732f 7b73 6572 6961 6c7d 220a  vices/{serial}".
-00012cf0: 2020 2020 2020 2020 636f 6d6d 616e 6473          commands
-00012d00: 203d 2075 7469 6c73 2e6c 6973 7469 6679   = utils.listify
-00012d10: 2863 6f6d 6d61 6e64 7329 0a20 2020 2020  (commands).     
-00012d20: 2020 2063 6d64 7320 3d20 5b5d 0a20 2020     cmds = [].   
-00012d30: 2020 2020 2066 6f72 2063 6d64 2069 6e20       for cmd in 
-00012d40: 636f 6d6d 616e 6473 3a0a 2020 2020 2020  commands:.      
-00012d50: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00012d60: 6e63 6528 636d 642c 2069 6e74 293a 0a20  nce(cmd, int):. 
-00012d70: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00012d80: 6d64 7320 2b3d 205b 7b22 636f 6d6d 616e  mds += [{"comman
-00012d90: 645f 6964 223a 2063 6d64 7d5d 0a20 2020  d_id": cmd}].   
-00012da0: 2020 2020 2020 2020 2065 6c69 6620 6973           elif is
-00012db0: 696e 7374 616e 6365 2863 6d64 2c20 6469  instance(cmd, di
-00012dc0: 6374 293a 0a20 2020 2020 2020 2020 2020  ct):.           
-00012dd0: 2020 2020 2063 6d64 7320 2b3d 205b 0a20       cmds += [. 
-00012de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012df0: 2020 207b 0a20 2020 2020 2020 2020 2020     {.           
-00012e00: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-00012e10: 6d6d 616e 645f 6964 223a 2063 6964 2c0a  mmand_id": cid,.
-00012e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012e30: 2020 2020 2020 2020 2261 7267 756d 656e          "argumen
-00012e40: 7473 223a 205b 7b22 6e61 6d65 223a 206b  ts": [{"name": k
-00012e50: 2c20 2276 616c 7565 223a 2076 7d20 666f  , "value": v} fo
-00012e60: 7220 6b2c 2076 2069 6e20 636d 645b 6369  r k, v in cmd[ci
-00012e70: 645d 2e69 7465 6d73 2829 5d0a 2020 2020  d].items()].    
-00012e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012e90: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-00012ea0: 2020 2020 2020 666f 7220 6369 6420 696e        for cid in
-00012eb0: 2063 6d64 0a20 2020 2020 2020 2020 2020   cmd.           
-00012ec0: 2020 2020 205d 0a0a 2020 2020 2020 2020       ]..        
-00012ed0: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00012ee0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-00012ef0: 655f 7479 7065 273a 2064 6576 5f74 7970  e_type': dev_typ
-00012f00: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00012f10: 636f 6d6d 616e 6473 273a 2063 6d64 730a  commands': cmds.
-00012f20: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-00012f30: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00012f40: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-00012f50: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00012f60: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
-00012f70: 6566 2067 6574 5f74 735f 6f75 7470 7574  ef get_ts_output
-00012f80: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00012f90: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-00012fa0: 7374 722c 0a20 2020 2020 2020 2073 6573  str,.        ses
-00012fb0: 7369 6f6e 5f69 643a 2069 6e74 2c0a 2020  sion_id: int,.  
-00012fc0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00012fd0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-00012fe0: 5472 6f75 626c 6573 686f 6f74 696e 6720  Troubleshooting 
-00012ff0: 4f75 7470 7574 2e0a 0a20 2020 2020 2020  Output...       
-00013000: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00013010: 2020 2073 6572 6961 6c20 2873 7472 293a     serial (str):
-00013020: 2053 6572 6961 6c20 6f66 2064 6576 6963   Serial of devic
-00013030: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-00013040: 7373 696f 6e5f 6964 2028 696e 7429 3a20  ssion_id (int): 
-00013050: 556e 6971 7565 2049 4420 666f 7220 7472  Unique ID for tr
-00013060: 6f75 626c 6573 686f 6f74 696e 6720 7365  oubleshooting se
-00013070: 7373 696f 6e0a 0a20 2020 2020 2020 2052  ssion..        R
-00013080: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00013090: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000130a0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-000130b0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-000130c0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-000130d0: 203d 2066 222f 7472 6f75 626c 6573 686f   = f"/troublesho
-000130e0: 6f74 696e 672f 7631 2f64 6576 6963 6573  oting/v1/devices
-000130f0: 2f7b 7365 7269 616c 7d22 0a0a 2020 2020  /{serial}"..    
-00013100: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-00013110: 2020 2020 2020 2020 2020 2027 7365 7373             'sess
-00013120: 696f 6e5f 6964 273a 2073 6573 7369 6f6e  ion_id': session
-00013130: 5f69 640a 2020 2020 2020 2020 7d0a 0a20  _id.        }.. 
-00013140: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00013150: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00013160: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00013170: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00013180: 636c 6561 725f 7473 5f73 6573 7369 6f6e  clear_ts_session
-00013190: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-000131a0: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-000131b0: 7374 722c 0a20 2020 2020 2020 2073 6573  str,.        ses
-000131c0: 7369 6f6e 5f69 643a 2069 6e74 2c0a 2020  sion_id: int,.  
-000131d0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-000131e0: 0a20 2020 2020 2020 2022 2222 436c 6561  .        """Clea
-000131f0: 7220 5472 6f75 626c 6573 686f 6f74 696e  r Troubleshootin
-00013200: 6720 5365 7373 696f 6e20 616e 6420 6f75  g Session and ou
-00013210: 7470 7574 2066 6f72 2064 6576 6963 652e  tput for device.
-00013220: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00013230: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-00013240: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
-00013250: 206f 6620 6465 7669 6365 0a20 2020 2020   of device.     
-00013260: 2020 2020 2020 2073 6573 7369 6f6e 5f69         session_i
-00013270: 6420 2869 6e74 293a 2055 6e69 7175 6520  d (int): Unique 
-00013280: 4944 2066 6f72 2065 6163 6820 7472 6f75  ID for each trou
-00013290: 626c 6573 686f 6f74 696e 6720 7365 7373  bleshooting sess
-000132a0: 696f 6e0a 0a20 2020 2020 2020 2052 6574  ion..        Ret
-000132b0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-000132c0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-000132d0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-000132e0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-000132f0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00013300: 2066 222f 7472 6f75 626c 6573 686f 6f74   f"/troubleshoot
-00013310: 696e 672f 7631 2f64 6576 6963 6573 2f7b  ing/v1/devices/{
-00013320: 7365 7269 616c 7d22 0a0a 2020 2020 2020  serial}"..      
-00013330: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00013340: 2020 2020 2020 2020 2027 7365 7373 696f           'sessio
-00013350: 6e5f 6964 273a 2073 6573 7369 6f6e 5f69  n_id': session_i
-00013360: 640a 2020 2020 2020 2020 7d0a 0a20 2020  d.        }..   
-00013370: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00013380: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
-00013390: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-000133a0: 290a 0a20 2020 2023 2041 5049 2d46 4c41  )..    # API-FLA
-000133b0: 5720 7265 7475 726e 7320 3430 3420 6966  W returns 404 if
-000133c0: 2074 6865 7265 2061 7265 206e 6f20 7365   there are no se
-000133d0: 7373 696f 6e73 2072 756e 6e69 6e67 0a20  ssions running. 
-000133e0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-000133f0: 5f74 735f 7365 7373 696f 6e5f 6964 280a  _ts_session_id(.
-00013400: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00013410: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
-00013420: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
-00013430: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00013440: 2247 6574 2054 726f 7562 6c65 7368 6f6f  "Get Troubleshoo
-00013450: 7469 6e67 2053 6573 7369 6f6e 2049 4420  ting Session ID 
-00013460: 666f 7220 6120 6465 7669 6365 2e0a 0a20  for a device... 
-00013470: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00013480: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-00013490: 2873 7472 293a 2053 6572 6961 6c20 6f66  (str): Serial of
-000134a0: 2064 6576 6963 650a 0a20 2020 2020 2020   device..       
-000134b0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000134c0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000134d0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000134e0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000134f0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00013500: 726c 203d 2066 222f 7472 6f75 626c 6573  rl = f"/troubles
-00013510: 686f 6f74 696e 672f 7631 2f64 6576 6963  hooting/v1/devic
-00013520: 6573 2f7b 7365 7269 616c 7d2f 7365 7373  es/{serial}/sess
-00013530: 696f 6e22 0a0a 2020 2020 2020 2020 7265  ion"..        re
-00013540: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00013550: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
-00013560: 796e 6320 6465 6620 6765 745f 7364 7761  ync def get_sdwa
-00013570: 6e5f 6470 735f 706f 6c69 6379 5f63 6f6d  n_dps_policy_com
-00013580: 706c 6961 6e63 6528 7365 6c66 2c20 7469  pliance(self, ti
-00013590: 6d65 5f66 7261 6d65 3a20 7374 7220 3d20  me_frame: str = 
-000135a0: 226c 6173 745f 7765 656b 222c 206f 7264  "last_week", ord
-000135b0: 6572 3a20 7374 7220 3d20 2262 6573 7422  er: str = "best"
-000135c0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-000135d0: 2020 2020 2020 2075 726c 203d 2022 2f73         url = "/s
-000135e0: 6477 616e 2d6d 6f6e 2d61 7069 2f65 7874  dwan-mon-api/ext
-000135f0: 6572 6e61 6c2f 6e6f 632f 7265 706f 7274  ernal/noc/report
-00013600: 732f 7761 6e2f 706f 6c69 6379 2d63 6f6d  s/wan/policy-com
-00013610: 706c 6961 6e63 6522 0a20 2020 2020 2020  pliance".       
-00013620: 2070 6172 616d 7320 3d20 7b22 7065 7269   params = {"peri
-00013630: 6f64 223a 2074 696d 655f 6672 616d 652c  od": time_frame,
-00013640: 2022 7265 7375 6c74 5f6f 7264 6572 223a   "result_order":
-00013650: 206f 7264 6572 2c20 2263 6f75 6e74 223a   order, "count":
-00013660: 2032 3530 7d0a 2020 2020 2020 2020 7265   250}.        re
-00013670: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00013680: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-00013690: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-000136a0: 6e63 2064 6566 2067 6574 5f74 6f70 6f5f  nc def get_topo_
-000136b0: 666f 725f 7369 7465 280a 2020 2020 2020  for_site(.      
-000136c0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-000136d0: 7369 7465 5f69 643a 2069 6e74 2c0a 2020  site_id: int,.  
-000136e0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-000136f0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-00013700: 746f 706f 6c6f 6779 2064 6574 6169 6c73  topology details
-00013710: 206f 6620 6120 7369 7465 2e0a 0a20 2020   of a site...   
-00013720: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00013730: 2020 2020 2020 2073 6974 655f 6964 2028         site_id (
-00013740: 696e 7429 3a20 5369 7465 2049 442e 0a0a  int): Site ID...
-00013750: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00013760: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00013770: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00013780: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00013790: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000137a0: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
-000137b0: 6f70 6f6c 6f67 795f 6578 7465 726e 616c  opology_external
-000137c0: 5f61 7069 2f7b 7369 7465 5f69 647d 220a  _api/{site_id}".
-000137d0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000137e0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-000137f0: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
-00013800: 6566 2067 6574 5f61 705f 6c6c 6470 5f6e  ef get_ap_lldp_n
-00013810: 6569 6768 626f 7228 7365 6c66 2c20 6465  eighbor(self, de
-00013820: 7669 6365 5f73 6572 6961 6c3a 2073 7472  vice_serial: str
-00013830: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00013840: 2020 2020 2020 2022 2222 4765 7420 6e65         """Get ne
-00013850: 6967 6862 6f72 2064 6574 6169 6c73 2072  ighbor details r
-00013860: 6570 6f72 7465 6420 6279 2041 5020 7669  eported by AP vi
-00013870: 6120 4c4c 4450 2e0a 0a20 2020 2020 2020  a LLDP...       
-00013880: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00013890: 2020 2064 6576 6963 655f 7365 7269 616c     device_serial
-000138a0: 2028 7374 7229 3a20 4465 7669 6365 2073   (str): Device s
-000138b0: 6572 6961 6c20 6e75 6d62 6572 2e0a 0a20  erial number... 
-000138c0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000138d0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000138e0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-000138f0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00013900: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00013910: 2020 2020 2075 726c 203d 2066 222f 746f       url = f"/to
-00013920: 706f 6c6f 6779 5f65 7874 6572 6e61 6c5f  pology_external_
-00013930: 6170 692f 6170 4e65 6967 6862 6f72 732f  api/apNeighbors/
-00013940: 7b64 6576 6963 655f 7365 7269 616c 7d22  {device_serial}"
-00013950: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00013960: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00013970: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-00013980: 6465 6620 6765 745f 7377 6974 6368 5f6e  def get_switch_n
-00013990: 6569 6768 626f 7273 5f76 3128 0a20 2020  eighbors_v1(.   
-000139a0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-000139b0: 2020 2073 6572 6961 6c3a 2073 7472 2c0a     serial: str,.
-000139c0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-000139d0: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-000139e0: 7420 6c6c 6470 2064 6576 6963 6520 6e65  t lldp device ne
-000139f0: 6967 6862 6f72 2069 6e66 6f20 666f 7220  ighbor info for 
-00013a00: 4358 2073 7769 7463 682e 0a0a 2020 2020  CX switch...    
-00013a10: 2020 2020 4966 2075 7365 6420 6f6e 2041      If used on A
-00013a20: 4f53 2d53 5720 7769 6c6c 206f 6e6c 7920  OS-SW will only 
-00013a30: 7265 7475 726e 206e 6569 6768 626f 7273  return neighbors
-00013a40: 2074 6861 7420 6172 6520 4358 2073 7769   that are CX swi
-00013a50: 7463 6865 730a 0a20 2020 2020 2020 2041  tches..        A
-00013a60: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00013a70: 2073 6572 6961 6c20 2873 7472 293a 2069   serial (str): i
-00013a80: 6420 6f66 2074 6865 2073 7769 7463 680a  d of the switch.
-00013a90: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00013aa0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00013ab0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00013ac0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00013ad0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00013ae0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00013af0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6378  monitoring/v1/cx
-00013b00: 5f73 7769 7463 6865 732f 7b73 6572 6961  _switches/{seria
-00013b10: 6c7d 2f6e 6569 6768 626f 7273 220a 0a20  l}/neighbors".. 
-00013b20: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00013b30: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00013b40: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00013b50: 2067 6574 5f63 785f 7377 6974 6368 5f73   get_cx_switch_s
-00013b60: 7461 636b 5f6e 6569 6768 626f 7273 5f76  tack_neighbors_v
-00013b70: 3128 0a20 2020 2020 2020 2073 656c 662c  1(.        self,
-00013b80: 0a20 2020 2020 2020 2073 7461 636b 5f69  .        stack_i
-00013b90: 643a 2073 7472 2c0a 2020 2020 2920 2d3e  d: str,.    ) ->
-00013ba0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00013bb0: 2020 2022 2222 4765 7420 6c6c 6470 2064     """Get lldp d
-00013bc0: 6576 6963 6520 6e65 6967 6862 6f72 2069  evice neighbor i
-00013bd0: 6e66 6f20 666f 7220 4358 2073 7769 7463  nfo for CX switc
-00013be0: 6820 7374 6163 6b2e 0a0a 2020 2020 2020  h stack...      
-00013bf0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00013c00: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
-00013c10: 7229 3a20 4669 6c74 6572 2062 7920 7374  r): Filter by st
-00013c20: 6163 6b5f 6964 0a0a 2020 2020 2020 2020  ack_id..        
-00013c30: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00013c40: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00013c50: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00013c60: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00013c70: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00013c80: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
-00013c90: 672f 7631 2f63 785f 7377 6974 6368 5f73  g/v1/cx_switch_s
-00013ca0: 7461 636b 732f 7b73 7461 636b 5f69 647d  tacks/{stack_id}
-00013cb0: 2f6e 6569 6768 626f 7273 220a 0a20 2020  /neighbors"..   
-00013cc0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00013cd0: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-00013ce0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00013cf0: 6574 5f73 7769 7463 685f 7673 785f 6465  et_switch_vsx_de
-00013d00: 7461 696c 280a 2020 2020 2020 2020 7365  tail(.        se
-00013d10: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00013d20: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
-00013d30: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00013d40: 2020 2020 2222 2247 6574 2073 7769 7463      """Get switc
-00013d50: 6820 7673 7820 696e 666f 2066 6f72 2043  h vsx info for C
-00013d60: 5820 7377 6974 6368 2e0a 0a20 2020 2020  X switch...     
-00013d70: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00013d80: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-00013d90: 293a 2046 696c 7465 7220 6279 2073 7769  ): Filter by swi
-00013da0: 7463 6820 7365 7269 616c 0a0a 2020 2020  tch serial..    
-00013db0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00013dc0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00013dd0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00013de0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00013df0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00013e00: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-00013e10: 6f72 696e 672f 7631 2f63 785f 7377 6974  oring/v1/cx_swit
-00013e20: 6368 6573 2f7b 7365 7269 616c 7d2f 7673  ches/{serial}/vs
-00013e30: 7822 0a0a 2020 2020 2020 2020 7265 7475  x"..        retu
-00013e40: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00013e50: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-00013e60: 6320 6465 6620 646f 5f6d 756c 7469 5f67  c def do_multi_g
-00013e70: 726f 7570 5f73 6e61 7073 686f 7428 0a20  roup_snapshot(. 
-00013e80: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00013e90: 2020 2020 2062 6163 6b75 705f 6e61 6d65       backup_name
-00013ea0: 3a20 7374 722c 0a20 2020 2020 2020 2069  : str,.        i
-00013eb0: 6e63 6c75 6465 5f67 726f 7570 733a 2055  nclude_groups: U
-00013ec0: 6e69 6f6e 5b6c 6973 742c 204c 6973 745b  nion[list, List[
-00013ed0: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
-00013ee0: 2020 2020 2020 6578 636c 7564 655f 6772        exclude_gr
-00013ef0: 6f75 7073 3a20 556e 696f 6e5b 6c69 7374  oups: Union[list
-00013f00: 2c20 4c69 7374 5b73 7472 5d5d 203d 204e  , List[str]] = N
-00013f10: 6f6e 652c 0a20 2020 2020 2020 2064 6f5f  one,.        do_
-00013f20: 6e6f 745f 6465 6c65 7465 3a20 626f 6f6c  not_delete: bool
-00013f30: 203d 2046 616c 7365 2c0a 2020 2020 2920   = False,.    ) 
-00013f40: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00013f50: 2020 2020 2022 2222 2022 4372 6561 7465       """ "Create
-00013f60: 206e 6577 2063 6f6e 6669 6775 7261 7469   new configurati
-00013f70: 6f6e 2062 6163 6b75 7020 666f 7220 6d75  on backup for mu
-00013f80: 6c74 6970 6c65 2067 726f 7570 732e 220a  ltiple groups.".
-00013f90: 0a20 2020 2020 2020 2045 6974 6865 7220  .        Either 
-00013fa0: 696e 636c 7564 655f 6772 6f75 7073 206f  include_groups o
-00013fb0: 7220 6578 636c 7564 655f 6772 6f75 7073  r exclude_groups
-00013fc0: 2073 686f 756c 6420 6265 2070 726f 7669   should be provi
-00013fd0: 6465 642c 2062 7574 206e 6f74 2062 6f74  ded, but not bot
-00013fe0: 682e 0a0a 2020 2020 2020 2020 4172 6773  h...        Args
-00013ff0: 3a0a 2020 2020 2020 2020 2020 2020 6261  :.            ba
-00014000: 636b 7570 5f6e 616d 6520 2873 7472 293a  ckup_name (str):
-00014010: 204e 616d 6520 6f66 2042 6163 6b75 700a   Name of Backup.
-00014020: 2020 2020 2020 2020 2020 2020 696e 636c              incl
-00014030: 7564 655f 6772 6f75 7073 2028 556e 696f  ude_groups (Unio
-00014040: 6e5b 6c69 7374 2c20 4c69 7374 5b73 7472  n[list, List[str
-00014050: 5d5d 2c20 6f70 7469 6f6e 616c 293a 2047  ]], optional): G
-00014060: 726f 7570 7320 746f 2069 6e63 6c75 6465  roups to include
-00014070: 2069 6e20 4261 636b 7570 2e20 4465 6661   in Backup. Defa
-00014080: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-00014090: 2020 2020 2020 2020 2020 6578 636c 7564            exclud
-000140a0: 655f 6772 6f75 7073 2028 556e 696f 6e5b  e_groups (Union[
-000140b0: 6c69 7374 2c20 4c69 7374 5b73 7472 5d5d  list, List[str]]
-000140c0: 2c20 6f70 7469 6f6e 616c 293a 2047 726f  , optional): Gro
-000140d0: 7570 7320 746f 2045 7863 6c75 6465 2069  ups to Exclude i
-000140e0: 6e20 4261 636b 7570 2e20 4465 6661 756c  n Backup. Defaul
-000140f0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00014100: 2020 2020 2020 2020 646f 5f6e 6f74 5f64          do_not_d
-00014110: 656c 6574 6520 2862 6f6f 6c2c 206f 7074  elete (bool, opt
-00014120: 696f 6e61 6c29 3a20 466c 6167 2074 6f20  ional): Flag to 
-00014130: 7265 7072 6573 656e 7420 6966 2074 6865  represent if the
-00014140: 2073 6e61 7073 686f 7420 6361 6e20 6265   snapshot can be
-00014150: 2064 656c 6574 6564 2061 7574 6f6d 6174   deleted automat
-00014160: 6963 616c 6c79 0a20 2020 2020 2020 2020  ically.         
-00014170: 2020 2020 2020 2062 7920 7379 7374 656d         by system
-00014180: 2077 6865 6e20 6372 6561 7469 6e67 206e   when creating n
-00014190: 6577 2073 6e61 7073 686f 7420 6f72 206e  ew snapshot or n
-000141a0: 6f74 2e20 4465 6661 756c 7473 2074 6f20  ot. Defaults to 
-000141b0: 4661 6c73 652e 0a0a 0a20 2020 2020 2020  False....       
-000141c0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000141d0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000141e0: 5265 7370 6f6e 7365 204f 626a 6563 740a  Response Object.
-000141f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00014200: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
-00014210: 6967 7572 6174 696f 6e2f 7631 2f67 726f  iguration/v1/gro
-00014220: 7570 732f 736e 6170 7368 6f74 2f62 6163  ups/snapshot/bac
-00014230: 6b75 7073 220a 2020 2020 2020 2020 696e  kups".        in
-00014240: 636c 7564 655f 6772 6f75 7073 203d 2075  clude_groups = u
-00014250: 7469 6c73 2e6c 6973 7469 6679 2869 6e63  tils.listify(inc
-00014260: 6c75 6465 5f67 726f 7570 7329 0a20 2020  lude_groups).   
-00014270: 2020 2020 2065 7863 6c75 6465 5f67 726f       exclude_gro
-00014280: 7570 7320 3d20 7574 696c 732e 6c69 7374  ups = utils.list
-00014290: 6966 7928 6578 636c 7564 655f 6772 6f75  ify(exclude_grou
-000142a0: 7073 290a 2020 2020 2020 2020 7061 796c  ps).        payl
-000142b0: 6f61 6420 3d20 7b0a 2020 2020 2020 2020  oad = {.        
-000142c0: 2020 2020 2262 6163 6b75 705f 6e61 6d65      "backup_name
-000142d0: 223a 2062 6163 6b75 705f 6e61 6d65 2c0a  ": backup_name,.
-000142e0: 2020 2020 2020 2020 2020 2020 2264 6f5f              "do_
-000142f0: 6e6f 745f 6465 6c65 7465 223a 2064 6f5f  not_delete": do_
-00014300: 6e6f 745f 6465 6c65 7465 2c0a 2020 2020  not_delete,.    
-00014310: 2020 2020 2020 2020 2269 6e63 6c75 6465          "include
-00014320: 5f67 726f 7570 7322 3a20 696e 636c 7564  _groups": includ
-00014330: 655f 6772 6f75 7073 2c0a 2020 2020 2020  e_groups,.      
-00014340: 2020 2020 2020 2265 7863 6c75 6465 5f67        "exclude_g
-00014350: 726f 7570 7322 3a20 6578 636c 7564 655f  roups": exclude_
-00014360: 6772 6f75 7073 2c0a 2020 2020 2020 2020  groups,.        
-00014370: 7d0a 2020 2020 2020 2020 7061 796c 6f61  }.        payloa
-00014380: 6420 3d20 7365 6c66 2e73 7472 6970 5f6e  d = self.strip_n
-00014390: 6f6e 6528 7061 796c 6f61 6429 0a20 2020  one(payload).   
-000143a0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-000143b0: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
-000143c0: 206a 736f 6e5f 6461 7461 3d70 6179 6c6f   json_data=paylo
-000143d0: 6164 290a 0a20 2020 2061 7379 6e63 2064  ad)..    async d
-000143e0: 6566 2067 6574 5f73 6e61 7073 686f 7473  ef get_snapshots
-000143f0: 5f62 795f 6772 6f75 7028 7365 6c66 2c20  _by_group(self, 
-00014400: 6772 6f75 703a 2073 7472 293a 0a20 2020  group: str):.   
-00014410: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-00014420: 6e66 6967 7572 6174 696f 6e2f 7631 2f67  nfiguration/v1/g
-00014430: 726f 7570 732f 7b67 726f 7570 7d2f 736e  roups/{group}/sn
-00014440: 6170 7368 6f74 7322 0a20 2020 2020 2020  apshots".       
-00014450: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00014460: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
-00014470: 2061 7379 6e63 2064 6566 2067 6574 5f67   async def get_g
-00014480: 775f 7475 6e6e 656c 7328 0a20 2020 2020  w_tunnels(.     
-00014490: 2020 2073 656c 662c 2073 6572 6961 6c3a     self, serial:
-000144a0: 2073 7472 2c0a 2020 2020 2020 2020 7469   str,.        ti
-000144b0: 6d65 7261 6e67 653a 2073 7472 203d 2022  merange: str = "
-000144c0: 314d 222c 0a20 2020 2020 2020 206c 696d  1M",.        lim
-000144d0: 6974 3a20 696e 7420 3d20 3235 302c 0a20  it: int = 250,. 
-000144e0: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-000144f0: 6e74 203d 2030 0a20 2020 2029 202d 3e20  nt = 0.    ) -> 
-00014500: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00014510: 2020 2222 2247 6574 2067 6174 6577 6179    """Get gateway
-00014520: 2055 706c 696e 6b20 7475 6e6e 656c 2064   Uplink tunnel d
-00014530: 6574 6169 6c73 2e0a 0a20 2020 2020 2020  etails...       
-00014540: 2055 7365 6420 6279 2077 685f 7072 6f78   Used by wh_prox
-00014550: 792c 2063 7572 7265 6e74 6c79 206e 6f74  y, currently not
-00014560: 2075 7365 6420 6279 2061 2063 6f6d 6d61   used by a comma
-00014570: 6e64 2077 696c 6c20 6265 2069 6e20 7368  nd will be in sh
-00014580: 6f77 2067 6174 6577 6179 2074 756e 6e65  ow gateway tunne
-00014590: 6c73 0a0a 2020 2020 2020 2020 4172 6773  ls..        Args
-000145a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000145b0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
-000145c0: 616c 206e 756d 6265 7220 6f66 206d 6f62  al number of mob
-000145d0: 696c 6974 7920 636f 6e74 726f 6c6c 6572  ility controller
-000145e0: 2074 6f20 6265 2071 7565 7269 6564 0a20   to be queried. 
-000145f0: 2020 2020 2020 2020 2020 2074 696d 6572             timer
-00014600: 616e 6765 2028 7374 7229 3a20 5469 6d65  ange (str): Time
-00014610: 2072 616e 6765 2066 6f72 2074 756e 6e65   range for tunne
-00014620: 6c20 7374 6174 7320 696e 666f 726d 6174  l stats informat
-00014630: 696f 6e2e 0a20 2020 2020 2020 2020 2020  ion..           
-00014640: 2020 2020 2033 4820 3d20 3320 486f 7572       3H = 3 Hour
-00014650: 732c 2031 4420 3d20 3120 4461 792c 2031  s, 1D = 1 Day, 1
-00014660: 5720 3d20 3120 5765 656b 2c20 314d 203d  W = 1 Week, 1M =
-00014670: 2031 4d6f 6e74 682c 2033 4d20 3d20 334d   1Month, 3M = 3M
-00014680: 6f6e 7468 732e 0a20 2020 2020 2020 2020  onths..         
-00014690: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-000146a0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-000146b0: 7469 6f6e 206c 696d 6974 2e20 4d61 783a  tion limit. Max:
-000146c0: 2031 3030 3020 4465 6661 756c 7473 2074   1000 Defaults t
-000146d0: 6f20 3235 302e 0a20 2020 2020 2020 2020  o 250..         
-000146e0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-000146f0: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-00014700: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
-00014710: 6175 6c74 7320 746f 2030 2e0a 0a20 2020  aults to 0...   
-00014720: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00014730: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00014740: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00014750: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00014760: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00014770: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-00014780: 746f 7269 6e67 2f76 312f 6761 7465 7761  toring/v1/gatewa
-00014790: 7973 2f7b 7365 7269 616c 7d2f 7475 6e6e  ys/{serial}/tunn
-000147a0: 656c 7322 0a0a 2020 2020 2020 2020 7061  els"..        pa
-000147b0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-000147c0: 2020 2020 2022 7469 6d65 7261 6e67 6522       "timerange"
-000147d0: 3a20 7469 6d65 7261 6e67 652c 0a20 2020  : timerange,.   
-000147e0: 2020 2020 2020 2020 2022 6f66 6673 6574           "offset
-000147f0: 223a 206f 6666 7365 742c 0a20 2020 2020  ": offset,.     
-00014800: 2020 2020 2020 2022 6c69 6d69 7422 3a20         "limit": 
-00014810: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-00014820: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00014830: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00014840: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00014850: 7329 0a0a 2020 2020 2320 4150 492d 464c  s)..    # API-FL
-00014860: 4157 206d 6178 206c 696d 6974 2031 3030  AW max limit 100
-00014870: 2065 6e66 6f72 6365 6420 6966 2079 6f75   enforced if you
-00014880: 2070 726f 7669 6465 2074 6865 206c 696d   provide the lim
-00014890: 6974 2070 6172 616d 6574 6572 2c20 6f74  it parameter, ot
-000148a0: 6865 7277 6973 6520 6e6f 206c 696d 6974  herwise no limit
-000148b0: 3f20 7265 7475 726e 6564 2038 3131 2077  ? returned 811 w
-000148c0: 2f20 6e6f 2070 6172 616d 2070 726f 7669  / no param provi
-000148d0: 6465 640a 2020 2020 2320 4150 492d 464c  ded.    # API-FL
-000148e0: 4157 2064 6f65 7320 6e6f 7420 7265 7475  AW does not retu
-000148f0: 726e 2061 6c6c 206c 6f67 7320 6176 6169  rn all logs avai
-00014900: 6c61 626c 6520 696e 2055 4920 7774 663f  lable in UI wtf?
-00014910: 3f0a 2020 2020 6173 796e 6320 6465 6620  ?.    async def 
-00014920: 6765 745f 6175 6469 745f 6c6f 6773 280a  get_audit_logs(.
-00014930: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00014940: 2020 2020 2020 6c6f 675f 6964 3a20 7374        log_id: st
-00014950: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00014960: 2020 7573 6572 6e61 6d65 3a20 7374 7220    username: str 
-00014970: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00014980: 7374 6172 745f 7469 6d65 3a20 696e 7420  start_time: int 
-00014990: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000149a0: 656e 645f 7469 6d65 3a20 696e 7420 3d20  end_time: int = 
-000149b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
-000149c0: 7363 7269 7074 696f 6e3a 2073 7472 203d  scription: str =
-000149d0: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
-000149e0: 6172 6765 743a 2073 7472 203d 204e 6f6e  arget: str = Non
-000149f0: 652c 0a20 2020 2020 2020 2063 6c61 7373  e,.        class
-00014a00: 6966 6963 6174 696f 6e3a 2073 7472 203d  ification: str =
-00014a10: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-00014a20: 7573 746f 6d65 725f 6e61 6d65 3a20 7374  ustomer_name: st
-00014a30: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00014a40: 2020 6970 5f61 6464 7265 7373 3a20 7374    ip_address: st
-00014a50: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00014a60: 2020 6170 705f 6964 3a20 7374 7220 3d20    app_id: str = 
-00014a70: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
-00014a80: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-00014a90: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
-00014aa0: 7420 3d20 3130 302c 0a20 2020 2020 2020  t = 100,.       
-00014ab0: 2063 6f75 6e74 3a20 696e 7420 3d20 4e6f   count: int = No
-00014ac0: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
-00014ad0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00014ae0: 2222 4765 7420 616c 6c20 6175 6469 7420  ""Get all audit 
-00014af0: 6c6f 6773 2e0a 0a20 2020 2020 2020 2041  logs...        A
-00014b00: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00014b10: 206c 6f67 5f69 6420 2873 7472 2c20 6f70   log_id (str, op
-00014b20: 7469 6f6e 616c 293a 2054 6865 2069 6420  tional): The id 
-00014b30: 6f66 2074 6865 206c 6f67 2074 6f20 7265  of the log to re
-00014b40: 7475 726e 2064 6574 6169 6c73 2066 6f72  turn details for
-00014b50: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00014b60: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00014b70: 7573 6572 6e61 6d65 2028 7374 722c 206f  username (str, o
-00014b80: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00014b90: 2061 7564 6974 206c 6f67 7320 6279 2055   audit logs by U
-00014ba0: 7365 7220 4e61 6d65 0a20 2020 2020 2020  ser Name.       
-00014bb0: 2020 2020 2073 7461 7274 5f74 696d 6520       start_time 
-00014bc0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00014bd0: 2046 696c 7465 7220 6175 6469 7420 6c6f   Filter audit lo
-00014be0: 6773 2062 7920 5469 6d65 2052 616e 6765  gs by Time Range
-00014bf0: 2e20 5374 6172 7420 7469 6d65 206f 6620  . Start time of 
-00014c00: 7468 6520 6175 6469 740a 2020 2020 2020  the audit.      
-00014c10: 2020 2020 2020 2020 2020 6c6f 6773 2073            logs s
-00014c20: 686f 756c 6420 6265 2070 726f 7669 6465  hould be provide
-00014c30: 6420 696e 2065 706f 6368 2073 6563 6f6e  d in epoch secon
-00014c40: 6473 0a20 2020 2020 2020 2020 2020 2065  ds.            e
-00014c50: 6e64 5f74 696d 6520 2869 6e74 2c20 6f70  nd_time (int, op
-00014c60: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00014c70: 6175 6469 7420 6c6f 6773 2062 7920 5469  audit logs by Ti
-00014c80: 6d65 2052 616e 6765 2e20 456e 6420 7469  me Range. End ti
-00014c90: 6d65 206f 6620 7468 6520 6175 6469 7420  me of the audit 
-00014ca0: 6c6f 6773 0a20 2020 2020 2020 2020 2020  logs.           
-00014cb0: 2020 2020 2073 686f 756c 6420 6265 2070       should be p
-00014cc0: 726f 7669 6465 6420 696e 2065 706f 6368  rovided in epoch
-00014cd0: 2073 6563 6f6e 6473 0a20 2020 2020 2020   seconds.       
-00014ce0: 2020 2020 2064 6573 6372 6970 7469 6f6e       description
-00014cf0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00014d00: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
-00014d10: 6f67 7320 6279 2044 6573 6372 6970 7469  ogs by Descripti
-00014d20: 6f6e 0a20 2020 2020 2020 2020 2020 2074  on.            t
-00014d30: 6172 6765 7420 2873 7472 2c20 6f70 7469  arget (str, opti
-00014d40: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-00014d50: 6469 7420 6c6f 6773 2062 7920 7461 7267  dit logs by targ
-00014d60: 6574 2028 7365 7269 616c 206e 756d 6265  et (serial numbe
-00014d70: 7229 2e0a 2020 2020 2020 2020 2020 2020  r)..            
-00014d80: 636c 6173 7369 6669 6361 7469 6f6e 2028  classification (
-00014d90: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00014da0: 4669 6c74 6572 2061 7564 6974 206c 6f67  Filter audit log
-00014db0: 7320 6279 2043 6c61 7373 6966 6963 6174  s by Classificat
-00014dc0: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00014dd0: 6375 7374 6f6d 6572 5f6e 616d 6520 2873  customer_name (s
-00014de0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00014df0: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
-00014e00: 2062 7920 4375 7374 6f6d 6572 204e 616d   by Customer Nam
-00014e10: 650a 2020 2020 2020 2020 2020 2020 6970  e.            ip
-00014e20: 5f61 6464 7265 7373 2028 7374 722c 206f  _address (str, o
-00014e30: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00014e40: 2061 7564 6974 206c 6f67 7320 6279 2049   audit logs by I
-00014e50: 5020 4164 6472 6573 730a 2020 2020 2020  P Address.      
-00014e60: 2020 2020 2020 6170 705f 6964 2028 7374        app_id (st
-00014e70: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00014e80: 6c74 6572 2061 7564 6974 206c 6f67 7320  lter audit logs 
-00014e90: 6279 2061 7070 5f69 640a 2020 2020 2020  by app_id.      
-00014ea0: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-00014eb0: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
-00014ec0: 6d62 6572 206f 6620 6974 656d 7320 746f  mber of items to
-00014ed0: 2062 6520 736b 6970 7065 6420 6265 666f   be skipped befo
-00014ee0: 7265 2072 6574 7572 6e69 6e67 2074 6865  re returning the
-00014ef0: 2064 6174 612e 0a20 2020 2020 2020 2020   data..         
-00014f00: 2020 2020 2020 2044 6566 6175 6c74 2074         Default t
-00014f10: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
-00014f20: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
-00014f30: 696f 6e61 6c29 3a20 4d61 7869 6d75 6d20  ional): Maximum 
-00014f40: 6e75 6d62 6572 206f 6620 6175 6469 7420  number of audit 
-00014f50: 6576 656e 7473 2074 6f20 6265 2072 6574  events to be ret
-00014f60: 7572 6e65 6420 6d61 783a 2031 3030 0a20  urned max: 100. 
-00014f70: 2020 2020 2020 2020 2020 2020 2020 2044                 D
-00014f80: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-00014f90: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-00014fa0: 743a 204f 6e6c 7920 7265 7475 726e 203c  t: Only return <
-00014fb0: 636f 756e 743e 2072 6573 756c 7473 2e0a  count> results..
-00014fc0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00014fd0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00014fe0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00014ff0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00015000: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00015010: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
-00015020: 6c61 7466 6f72 6d2f 6175 6469 746c 6f67  latform/auditlog
-00015030: 732f 7631 2f6c 6f67 7322 0a0a 2020 2020  s/v1/logs"..    
-00015040: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-00015050: 2020 2020 2020 2020 2020 2022 7573 6572             "user
-00015060: 6e61 6d65 223a 2075 7365 726e 616d 652c  name": username,
-00015070: 0a20 2020 2020 2020 2020 2020 2022 7374  .            "st
-00015080: 6172 745f 7469 6d65 223a 2073 7461 7274  art_time": start
-00015090: 5f74 696d 652c 0a20 2020 2020 2020 2020  _time,.         
-000150a0: 2020 2022 656e 645f 7469 6d65 223a 2065     "end_time": e
-000150b0: 6e64 5f74 696d 652c 0a20 2020 2020 2020  nd_time,.       
-000150c0: 2020 2020 2022 6465 7363 7269 7074 696f       "descriptio
-000150d0: 6e22 3a20 6465 7363 7269 7074 696f 6e2c  n": description,
-000150e0: 0a20 2020 2020 2020 2020 2020 2022 7461  .            "ta
-000150f0: 7267 6574 223a 2074 6172 6765 742c 0a20  rget": target,. 
-00015100: 2020 2020 2020 2020 2020 2022 636c 6173             "clas
-00015110: 7369 6669 6361 7469 6f6e 223a 2063 6c61  sification": cla
-00015120: 7373 6966 6963 6174 696f 6e2c 0a20 2020  ssification,.   
-00015130: 2020 2020 2020 2020 2022 6375 7374 6f6d           "custom
-00015140: 6572 5f6e 616d 6522 3a20 6375 7374 6f6d  er_name": custom
-00015150: 6572 5f6e 616d 652c 0a20 2020 2020 2020  er_name,.       
-00015160: 2020 2020 2022 6970 5f61 6464 7265 7373       "ip_address
-00015170: 223a 2069 705f 6164 6472 6573 732c 0a20  ": ip_address,. 
-00015180: 2020 2020 2020 2020 2020 2022 6170 705f             "app_
-00015190: 6964 223a 2061 7070 5f69 6420 6966 206e  id": app_id if n
-000151a0: 6f74 2068 6173 6174 7472 2861 7070 5f69  ot hasattr(app_i
-000151b0: 642c 2022 7661 6c75 6522 2920 656c 7365  d, "value") else
-000151c0: 2061 7070 5f69 642e 7661 6c75 652c 0a20   app_id.value,. 
-000151d0: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
-000151e0: 6574 223a 206f 6666 7365 742c 0a20 2020  et": offset,.   
-000151f0: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
-00015200: 3a20 6c69 6d69 7420 6966 206e 6f74 2063  : limit if not c
-00015210: 6f75 6e74 206f 7220 6c69 6d69 7420 3c20  ount or limit < 
-00015220: 636f 756e 7420 656c 7365 2063 6f75 6e74  count else count
-00015230: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
-00015240: 2020 2020 2069 6620 6c6f 675f 6964 3a0a       if log_id:.
-00015250: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
-00015260: 3d20 6622 7b75 726c 7d2f 7b6c 6f67 5f69  = f"{url}/{log_i
-00015270: 647d 220a 2020 2020 2020 2020 2020 2020  d}".            
-00015280: 7061 7261 6d73 203d 207b 7d0a 0a20 2020  params = {}..   
-00015290: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-000152a0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-000152b0: 7061 7261 6d73 3d70 6172 616d 732c 2063  params=params, c
-000152c0: 6f75 6e74 3d63 6f75 6e74 290a 0a20 2020  ount=count)..   
-000152d0: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
-000152e0: 7564 6974 5f6c 6f67 735f 6576 656e 7473  udit_logs_events
-000152f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00015300: 2020 2020 2020 2020 6772 6f75 705f 6e61          group_na
-00015310: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
-00015320: 2020 2020 2020 2020 6465 7669 6365 5f69          device_i
-00015330: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00015340: 2020 2020 2020 2063 6c61 7373 6966 6963         classific
-00015350: 6174 696f 6e3a 2073 7472 203d 204e 6f6e  ation: str = Non
-00015360: 652c 0a20 2020 2020 2020 2073 7461 7274  e,.        start
-00015370: 5f74 696d 653a 2069 6e74 203d 204e 6f6e  _time: int = Non
-00015380: 652c 0a20 2020 2020 2020 2065 6e64 5f74  e,.        end_t
-00015390: 696d 653a 2069 6e74 203d 204e 6f6e 652c  ime: int = None,
-000153a0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-000153b0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-000153c0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-000153d0: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
-000153e0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-000153f0: 2222 4765 7420 616c 6c20 6175 6469 7420  ""Get all audit 
-00015400: 6576 656e 7473 2066 6f72 2061 6c6c 2067  events for all g
-00015410: 726f 7570 732e 0a0a 2020 2020 2020 2020  roups...        
-00015420: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00015430: 2020 6772 6f75 705f 6e61 6d65 2028 7374    group_name (st
-00015440: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00015450: 6c74 6572 2061 7564 6974 2065 7665 6e74  lter audit event
-00015460: 7320 6279 2047 726f 7570 204e 616d 650a  s by Group Name.
-00015470: 2020 2020 2020 2020 2020 2020 6465 7669              devi
-00015480: 6365 5f69 6420 2873 7472 2c20 6f70 7469  ce_id (str, opti
-00015490: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-000154a0: 6469 7420 6576 656e 7473 2062 7920 5461  dit events by Ta
-000154b0: 7267 6574 202f 2044 6576 6963 6520 4944  rget / Device ID
-000154c0: 2e20 4465 7669 6365 2049 4420 666f 7220  . Device ID for 
-000154d0: 4150 0a20 2020 2020 2020 2020 2020 2020  AP.             
-000154e0: 2020 2069 7320 5643 204e 616d 6520 616e     is VC Name an
-000154f0: 6420 5365 7269 616c 204e 756d 6265 7220  d Serial Number 
-00015500: 666f 7220 5377 6974 6368 6573 0a20 2020  for Switches.   
-00015510: 2020 2020 2020 2020 2063 6c61 7373 6966           classif
-00015520: 6963 6174 696f 6e20 2873 7472 2c20 6f70  ication (str, op
-00015530: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00015540: 6175 6469 7420 6576 656e 7473 2062 7920  audit events by 
-00015550: 636c 6173 7369 6669 6361 7469 6f6e 0a20  classification. 
-00015560: 2020 2020 2020 2020 2020 2073 7461 7274             start
-00015570: 5f74 696d 6520 2869 6e74 2c20 6f70 7469  _time (int, opti
-00015580: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-00015590: 6469 7420 6c6f 6773 2062 7920 5469 6d65  dit logs by Time
-000155a0: 2052 616e 6765 2e20 5374 6172 7420 7469   Range. Start ti
-000155b0: 6d65 206f 6620 7468 6520 6175 6469 740a  me of the audit.
-000155c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000155d0: 6c6f 6773 2073 686f 756c 6420 6265 2070  logs should be p
-000155e0: 726f 7669 6465 6420 696e 2065 706f 6368  rovided in epoch
-000155f0: 2073 6563 6f6e 6473 0a20 2020 2020 2020   seconds.       
-00015600: 2020 2020 2065 6e64 5f74 696d 6520 2869       end_time (i
-00015610: 6e74 2c20 6f70 7469 6f6e 616c 293a 2046  nt, optional): F
-00015620: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
-00015630: 2062 7920 5469 6d65 2052 616e 6765 2e20   by Time Range. 
-00015640: 456e 6420 7469 6d65 206f 6620 7468 6520  End time of the 
-00015650: 6175 6469 7420 6c6f 6773 0a20 2020 2020  audit logs.     
-00015660: 2020 2020 2020 2020 2020 2073 686f 756c             shoul
-00015670: 6420 6265 2070 726f 7669 6465 6420 696e  d be provided in
-00015680: 2065 706f 6368 2073 6563 6f6e 6473 0a20   epoch seconds. 
-00015690: 2020 2020 2020 2020 2020 206f 6666 7365             offse
-000156a0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-000156b0: 293a 204e 756d 6265 7220 6f66 2069 7465  ): Number of ite
-000156c0: 6d73 2074 6f20 6265 2073 6b69 7070 6564  ms to be skipped
-000156d0: 2062 6566 6f72 6520 7265 7475 726e 696e   before returnin
-000156e0: 6720 7468 6520 6461 7461 2c20 7573 6566  g the data, usef
-000156f0: 756c 0a20 2020 2020 2020 2020 2020 2020  ul.             
-00015700: 2020 2066 6f72 2070 6167 696e 6174 696f     for paginatio
-00015710: 6e20 4465 6661 756c 7473 2074 6f20 302e  n Defaults to 0.
-00015720: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00015730: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00015740: 6c29 3a20 4d61 7869 6d75 6d20 6e75 6d62  l): Maximum numb
-00015750: 6572 206f 6620 6175 6469 7420 6576 656e  er of audit even
-00015760: 7473 2074 6f20 6265 2072 6574 7572 6e65  ts to be returne
-00015770: 6420 4465 6661 756c 7473 2074 6f20 3130  d Defaults to 10
-00015780: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-00015790: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-000157a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-000157b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-000157c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-000157d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-000157e0: 222f 6175 6469 746c 6f67 732f 7631 2f65  "/auditlogs/v1/e
-000157f0: 7665 6e74 7322 0a0a 2020 2020 2020 2020  vents"..        
-00015800: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00015810: 2020 2020 2020 2027 6772 6f75 705f 6e61         'group_na
-00015820: 6d65 273a 2067 726f 7570 5f6e 616d 652c  me': group_name,
-00015830: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-00015840: 7669 6365 5f69 6427 3a20 6465 7669 6365  vice_id': device
-00015850: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00015860: 2027 636c 6173 7369 6669 6361 7469 6f6e   'classification
-00015870: 273a 2063 6c61 7373 6966 6963 6174 696f  ': classificatio
-00015880: 6e2c 0a20 2020 2020 2020 2020 2020 2027  n,.            '
-00015890: 7374 6172 745f 7469 6d65 273a 2073 7461  start_time': sta
-000158a0: 7274 5f74 696d 652c 0a20 2020 2020 2020  rt_time,.       
-000158b0: 2020 2020 2027 656e 645f 7469 6d65 273a       'end_time':
-000158c0: 2065 6e64 5f74 696d 652c 0a20 2020 2020   end_time,.     
-000158d0: 2020 2020 2020 2027 6f66 6673 6574 273a         'offset':
-000158e0: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
-000158f0: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
-00015900: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
-00015910: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00015920: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00015930: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00015940: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00015950: 6372 6561 7465 5f73 6974 6528 0a20 2020  create_site(.   
-00015960: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00015970: 2020 2073 6974 655f 6e61 6d65 3a20 7374     site_name: st
-00015980: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00015990: 2020 6164 6472 6573 733a 2073 7472 203d    address: str =
-000159a0: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-000159b0: 6974 793a 2073 7472 203d 204e 6f6e 652c  ity: str = None,
-000159c0: 0a20 2020 2020 2020 2073 7461 7465 3a20  .        state: 
-000159d0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000159e0: 2020 2020 636f 756e 7472 793a 2073 7472      country: str
-000159f0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00015a00: 207a 6970 636f 6465 3a20 7374 7220 3d20   zipcode: str = 
-00015a10: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-00015a20: 7469 7475 6465 3a20 696e 7420 3d20 4e6f  titude: int = No
-00015a30: 6e65 2c0a 2020 2020 2020 2020 6c6f 6e67  ne,.        long
-00015a40: 6974 7564 653a 2069 6e74 203d 204e 6f6e  itude: int = Non
-00015a50: 652c 0a20 2020 2020 2020 2073 6974 655f  e,.        site_
-00015a60: 6c69 7374 3a20 4c69 7374 5b44 6963 745b  list: List[Dict[
-00015a70: 7374 722c 2055 6e69 6f6e 5b73 7472 2c20  str, Union[str, 
-00015a80: 6469 6374 5d5d 5d20 3d20 4e6f 6e65 2c0a  dict]]] = None,.
-00015a90: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00015aa0: 653a 0a20 2020 2020 2020 2022 2222 4372  e:.        """Cr
-00015ab0: 6561 7465 2053 6974 650a 0a20 2020 2020  eate Site..     
-00015ac0: 2020 2045 6974 6865 7220 6164 6472 6573     Either addres
-00015ad0: 7320 696e 666f 726d 6174 696f 6e20 6f72  s information or
-00015ae0: 2047 656f 4c6f 6361 7469 6f6e 2069 6e66   GeoLocation inf
-00015af0: 6f72 6d61 7469 6f6e 2069 7320 7265 7175  ormation is requ
-00015b00: 6972 6564 2e20 2046 6f72 2047 656f 6c6f  ired.  For Geolo
-00015b10: 6361 7469 6f6e 2061 7474 7269 6275 7465  cation attribute
-00015b20: 730a 2020 2020 2020 2020 616c 6c20 6174  s.        all at
-00015b30: 7472 6962 7574 6573 2061 7265 2072 6571  tributes are req
-00015b40: 7569 7265 642e 2020 4f72 2061 204c 6973  uired.  Or a Lis
-00015b50: 745b 6469 6374 5d20 7769 7468 206d 756c  t[dict] with mul
-00015b60: 7469 706c 6520 7369 7465 7320 746f 2062  tiple sites to b
-00015b70: 6520 6164 6465 6420 636f 6e74 6169 6e69  e added containi
-00015b80: 6e67 2065 6974 6865 720a 2020 2020 2020  ng either.      
-00015b90: 2020 2773 6974 655f 6164 6472 6573 7327    'site_address'
-00015ba0: 206f 7220 2767 656f 6c6f 6361 7469 6f6e   or 'geolocation
-00015bb0: 2720 6174 7472 6962 7574 6573 2066 6f72  ' attributes for
-00015bc0: 2065 6163 6820 7369 7465 2e0a 0a20 2020   each site...   
-00015bd0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00015be0: 2020 2020 2020 2073 6974 655f 6e61 6d65         site_name
-00015bf0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00015c00: 3a20 5369 7465 204e 616d 652e 2044 6566  : Site Name. Def
-00015c10: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-00015c20: 2020 2020 2020 2020 2020 2061 6464 7265             addre
-00015c30: 7373 2028 7374 722c 206f 7074 696f 6e61  ss (str, optiona
-00015c40: 6c29 3a20 4164 6472 6573 732e 2044 6566  l): Address. Def
-00015c50: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-00015c60: 2020 2020 2020 2020 2020 2063 6974 7920             city 
-00015c70: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00015c80: 2043 6974 792e 2044 6566 6175 6c74 7320   City. Defaults 
-00015c90: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-00015ca0: 2020 2020 2073 7461 7465 2028 7374 722c       state (str,
-00015cb0: 206f 7074 696f 6e61 6c29 3a20 5374 6174   optional): Stat
-00015cc0: 652e 2044 6566 6175 6c74 7320 746f 204e  e. Defaults to N
-00015cd0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-00015ce0: 2063 6f75 6e74 7279 2028 7374 722c 206f   country (str, o
-00015cf0: 7074 696f 6e61 6c29 3a20 436f 756e 7472  ptional): Countr
-00015d00: 7920 4e61 6d65 2e20 4465 6661 756c 7473  y Name. Defaults
-00015d10: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00015d20: 2020 2020 2020 7a69 7063 6f64 6520 2873        zipcode (s
-00015d30: 7472 2c20 6f70 7469 6f6e 616c 293a 205a  tr, optional): Z
-00015d40: 6970 636f 6465 2e20 4465 6661 756c 7473  ipcode. Defaults
-00015d50: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00015d60: 2020 2020 2020 6c61 7469 7475 6465 2028        latitude (
-00015d70: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00015d80: 4c61 7469 7475 6465 2028 696e 2074 6865  Latitude (in the
-00015d90: 2072 616e 6765 206f 6620 2d39 3020 616e   range of -90 an
-00015da0: 6420 3930 292e 2044 6566 6175 6c74 7320  d 90). Defaults 
-00015db0: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-00015dc0: 2020 2020 206c 6f6e 6769 7475 6465 2028       longitude (
-00015dd0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00015de0: 4c6f 6e67 6974 7564 6520 2869 6e20 7468  Longitude (in th
-00015df0: 6520 7261 6e67 6520 6f66 202d 3130 3020  e range of -100 
-00015e00: 616e 6420 3138 3029 2e20 4465 6661 756c  and 180). Defaul
-00015e10: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00015e20: 2020 2020 2020 2020 7369 7465 5f6c 6973          site_lis
-00015e30: 7420 284c 6973 745b 4469 6374 5b73 7472  t (List[Dict[str
-00015e40: 2c20 556e 696f 6e5b 7374 722c 2064 6963  , Union[str, dic
-00015e50: 745d 5d5d 2c20 6f70 7469 6f6e 616c 293a  t]]], optional):
-00015e60: 2041 206c 6973 7420 6f66 2073 6974 6573   A list of sites
-00015e70: 2074 6f20 6265 2063 7265 6174 6564 2e20   to be created. 
-00015e80: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-00015e90: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00015ea0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00015eb0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00015ec0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00015ed0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00015ee0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00015ef0: 2f63 656e 7472 616c 2f76 322f 7369 7465  /central/v2/site
-00015f00: 7322 0a0a 2020 2020 2020 2020 6164 6472  s"..        addr
-00015f10: 6573 735f 6469 6374 203d 2075 7469 6c73  ess_dict = utils
-00015f20: 2e73 7472 6970 5f6e 6f6e 6528 7b22 6164  .strip_none({"ad
-00015f30: 6472 6573 7322 3a20 6164 6472 6573 732c  dress": address,
-00015f40: 2022 6369 7479 223a 2063 6974 792c 2022   "city": city, "
-00015f50: 7374 6174 6522 3a20 7374 6174 652c 2022  state": state, "
-00015f60: 636f 756e 7472 7922 3a20 636f 756e 7472  country": countr
-00015f70: 792c 2022 7a69 7063 6f64 6522 3a20 7a69  y, "zipcode": zi
-00015f80: 7063 6f64 657d 290a 2020 2020 2020 2020  pcode}).        
-00015f90: 6765 6f5f 6469 6374 203d 2075 7469 6c73  geo_dict = utils
-00015fa0: 2e73 7472 6970 5f6e 6f6e 6528 7b22 6c61  .strip_none({"la
-00015fb0: 7469 7475 6465 223a 206c 6174 6974 7564  titude": latitud
-00015fc0: 652c 2022 6c6f 6e67 6974 7564 6522 3a20  e, "longitude": 
-00015fd0: 6c6f 6e67 6974 7564 657d 290a 2020 2020  longitude}).    
-00015fe0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-00015ff0: 7b22 7369 7465 5f6e 616d 6522 3a20 7369  {"site_name": si
-00016000: 7465 5f6e 616d 657d 0a20 2020 2020 2020  te_name}.       
-00016010: 2069 6620 6164 6472 6573 735f 6469 6374   if address_dict
-00016020: 3a0a 2020 2020 2020 2020 2020 2020 6a73  :.            js
-00016030: 6f6e 5f64 6174 615b 2273 6974 655f 6164  on_data["site_ad
-00016040: 6472 6573 7322 5d20 3d20 6164 6472 6573  dress"] = addres
-00016050: 735f 6469 6374 0a20 2020 2020 2020 2069  s_dict.        i
-00016060: 6620 6765 6f5f 6469 6374 3a0a 2020 2020  f geo_dict:.    
-00016070: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00016080: 615b 2267 656f 6c6f 6361 7469 6f6e 225d  a["geolocation"]
-00016090: 203d 2067 656f 5f64 6963 740a 0a20 2020   = geo_dict..   
-000160a0: 2020 2020 2023 2054 4f44 4f20 7265 7665       # TODO reve
-000160b0: 7274 2074 6869 7320 746f 2073 696e 676c  rt this to singl
-000160c0: 6520 7369 7465 2061 6464 2061 6e64 2075  e site add and u
-000160d0: 7365 2062 6174 6368 5f61 6464 5f73 6974  se batch_add_sit
-000160e0: 6520 6d65 7468 6f64 2066 6f72 206d 756c  e method for mul
-000160f0: 7469 2d61 6464 0a20 2020 2020 2020 2069  ti-add.        i
-00016100: 6620 7369 7465 5f6c 6973 743a 0a20 2020  f site_list:.   
-00016110: 2020 2020 2020 2020 2072 6573 7020 3d20           resp = 
-00016120: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00016130: 7572 6c2c 206a 736f 6e5f 6461 7461 3d73  url, json_data=s
-00016140: 6974 655f 6c69 7374 5b30 5d29 0a20 2020  ite_list[0]).   
-00016150: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00016160: 7265 7370 3a0a 2020 2020 2020 2020 2020  resp:.          
-00016170: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-00016180: 700a 2020 2020 2020 2020 2020 2020 6966  p.            if
-00016190: 206c 656e 2873 6974 655f 6c69 7374 2920   len(site_list) 
-000161a0: 3e20 313a 0a20 2020 2020 2020 2020 2020  > 1:.           
-000161b0: 2020 2020 2072 6574 203d 2061 7761 6974       ret = await
-000161c0: 2073 656c 662e 5f62 6174 6368 5f72 6571   self._batch_req
-000161d0: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
-000161e0: 2020 2020 2020 2020 2020 5b0a 2020 2020            [.    
-000161f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016200: 2020 2020 7365 6c66 2e42 6174 6368 5265      self.BatchRe
-00016210: 7175 6573 7428 7365 6c66 2e70 6f73 742c  quest(self.post,
-00016220: 2028 7572 6c2c 292c 206a 736f 6e5f 6461   (url,), json_da
-00016230: 7461 3d5f 6a73 6f6e 2c20 6361 6c6c 6261  ta=_json, callba
-00016240: 636b 3d63 6c65 616e 6572 2e5f 756e 6c69  ck=cleaner._unli
-00016250: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
-00016260: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00016270: 5f6a 736f 6e20 696e 2073 6974 655f 6c69  _json in site_li
-00016280: 7374 5b31 3a5d 0a20 2020 2020 2020 2020  st[1:].         
-00016290: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
-000162a0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-000162b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000162c0: 6574 7572 6e20 5b72 6573 702c 202a 7265  eturn [resp, *re
-000162d0: 745d 0a20 2020 2020 2020 2020 2020 2020  t].             
-000162e0: 2020 2023 2072 6573 705f 6c69 7374 203d     # resp_list =
-000162f0: 2063 6c65 616e 6572 2e5f 756e 6c69 7374   cleaner._unlist
-00016300: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00016310: 2020 2320 2020 2020 5b61 7761 6974 2061    #     [await a
-00016320: 7379 6e63 696f 2e67 6174 6865 7228 7365  syncio.gather(se
-00016330: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-00016340: 6e5f 6461 7461 3d5f 6a73 6f6e 2c20 6361  n_data=_json, ca
-00016350: 6c6c 6261 636b 3d63 6c65 616e 6572 2e5f  llback=cleaner._
-00016360: 756e 6c69 7374 2929 2066 6f72 205f 6a73  unlist)) for _js
-00016370: 6f6e 2069 6e20 7369 7465 5f6c 6973 745b  on in site_list[
-00016380: 313a 5d5d 0a20 2020 2020 2020 2020 2020  1:]].           
-00016390: 2020 2020 2023 2029 0a20 2020 2020 2020       # ).       
-000163a0: 2020 2020 2020 2020 2023 2023 2054 4f44           # # TOD
-000163b0: 4f20 6d61 6b65 206d 756c 7469 2072 6573  O make multi res
-000163c0: 706f 6e73 6520 7061 636b 696e 6720 6675  ponse packing fu
-000163d0: 6e63 7469 6f6e 0a20 2020 2020 2020 2020  nction.         
-000163e0: 2020 2020 2020 2023 2072 6573 702e 6f75         # resp.ou
-000163f0: 7470 7574 203d 2075 7469 6c73 2e6c 6973  tput = utils.lis
-00016400: 7469 6679 2872 6573 702e 6f75 7470 7574  tify(resp.output
-00016410: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016420: 2020 2320 7265 7370 2e6f 7574 7075 7420    # resp.output 
-00016430: 2b3d 205b 722e 6f75 7470 7574 2066 6f72  += [r.output for
-00016440: 2072 2069 6e20 7265 7370 5f6c 6973 745d   r in resp_list]
-00016450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016460: 2023 2072 6574 7572 6e20 7265 7370 0a20   # return resp. 
-00016470: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00016480: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00016490: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-000164a0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-000164b0: 736f 6e5f 6461 7461 2c20 6361 6c6c 6261  son_data, callba
-000164c0: 636b 3d63 6c65 616e 6572 2e5f 756e 6c69  ck=cleaner._unli
-000164d0: 7374 290a 0a20 2020 2023 2054 4f44 4f20  st)..    # TODO 
-000164e0: 6164 6420 636c 690a 2020 2020 6173 796e  add cli.    asyn
-000164f0: 6320 6465 6620 7570 6461 7465 5f73 6974  c def update_sit
-00016500: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
-00016510: 0a20 2020 2020 2020 2073 6974 655f 6964  .        site_id
-00016520: 3a20 696e 742c 0a20 2020 2020 2020 2073  : int,.        s
-00016530: 6974 655f 6e61 6d65 3a20 7374 722c 0a20  ite_name: str,. 
-00016540: 2020 2020 2020 2061 6464 7265 7373 3a20         address: 
-00016550: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00016560: 2020 2020 6369 7479 3a20 7374 7220 3d20      city: str = 
-00016570: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
-00016580: 6174 653a 2073 7472 203d 204e 6f6e 652c  ate: str = None,
-00016590: 0a20 2020 2020 2020 207a 6970 636f 6465  .        zipcode
-000165a0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-000165b0: 2020 2020 2020 636f 756e 7472 793a 2073        country: s
-000165c0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000165d0: 2020 206c 6174 6974 7564 653a 2073 7472     latitude: str
-000165e0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000165f0: 206c 6f6e 6769 7475 6465 3a20 7374 7220   longitude: str 
-00016600: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00016610: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00016620: 2020 2022 2222 5570 6461 7465 2053 6974     """Update Sit
-00016630: 652e 0a0a 2020 2020 2020 2020 5072 6f76  e...        Prov
-00016640: 6964 6520 6765 6f2d 6c6f 6320 6f72 2061  ide geo-loc or a
-00016650: 6464 7265 7373 2064 6574 6169 6c73 2c20  ddress details, 
-00016660: 6e6f 7420 626f 7468 2e0a 2020 2020 2020  not both..      
-00016670: 2020 4361 6e20 7072 6f76 6964 6520 626f    Can provide bo
-00016680: 7468 2069 6e20 7375 6273 6571 7565 6e74  th in subsequent
-00016690: 2063 616c 6c73 2c20 6275 7420 6170 6967   calls, but apig
-000166a0: 7720 646f 6573 206e 6f74 0a20 2020 2020  w does not.     
-000166b0: 2020 2061 6c6c 6f77 2062 6f74 6820 696e     allow both in
-000166c0: 2073 616d 6520 6361 6c6c 2e0a 0a20 2020   same call...   
-000166d0: 2020 2020 202f 2f20 5573 6564 2062 7920       // Used by 
-000166e0: 6365 6e63 6c69 2075 7064 6174 6520 7369  cencli update si
-000166f0: 7465 205b 6e61 6d65 7c69 647c 6164 6472  te [name|id|addr
-00016700: 6573 735d 204f 5220 2d2d 6c61 7420 3c6c  ess] OR --lat <l
-00016710: 6174 3e20 2d2d 6c6f 6e20 3c6c 6f6e 3e20  at> --lon <lon> 
-00016720: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-00016730: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
-00016740: 7465 5f69 6420 2869 6e74 293a 2053 6974  te_id (int): Sit
-00016750: 6520 4944 0a20 2020 2020 2020 2020 2020  e ID.           
-00016760: 2073 6974 655f 6e61 6d65 2028 7374 7229   site_name (str)
-00016770: 3a20 5369 7465 204e 616d 650a 2020 2020  : Site Name.    
-00016780: 2020 2020 2020 2020 6164 6472 6573 7320          address 
-00016790: 2873 7472 293a 2041 6464 7265 7373 0a20  (str): Address. 
-000167a0: 2020 2020 2020 2020 2020 2063 6974 7920             city 
-000167b0: 2873 7472 293a 2043 6974 7920 4e61 6d65  (str): City Name
-000167c0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-000167d0: 7465 2028 7374 7229 3a20 5374 6174 6520  te (str): State 
-000167e0: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
-000167f0: 207a 6970 636f 6465 2028 7374 7229 3a20   zipcode (str): 
-00016800: 5a69 7063 6f64 650a 2020 2020 2020 2020  Zipcode.        
-00016810: 2020 2020 636f 756e 7472 7920 2873 7472      country (str
-00016820: 293a 2043 6f75 6e74 7279 204e 616d 650a  ): Country Name.
-00016830: 2020 2020 2020 2020 2020 2020 6c61 7469              lati
-00016840: 7475 6465 2028 7374 7229 3a20 4c61 7469  tude (str): Lati
-00016850: 7475 6465 2028 696e 2074 6865 2072 616e  tude (in the ran
-00016860: 6765 206f 6620 2d39 3020 616e 6420 3930  ge of -90 and 90
-00016870: 290a 2020 2020 2020 2020 2020 2020 6c6f  ).            lo
-00016880: 6e67 6974 7564 6520 2873 7472 293a 204c  ngitude (str): L
-00016890: 6f6e 6769 7475 6465 2028 696e 2074 6865  ongitude (in the
-000168a0: 2072 616e 6765 206f 6620 2d31 3830 2061   range of -180 a
-000168b0: 6e64 2031 3830 290a 0a20 2020 2020 2020  nd 180)..       
-000168c0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000168d0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000168e0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000168f0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00016900: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00016910: 726c 203d 2066 222f 6365 6e74 7261 6c2f  rl = f"/central/
-00016920: 7632 2f73 6974 6573 2f7b 7369 7465 5f69  v2/sites/{site_i
-00016930: 647d 220a 2020 2020 2020 2020 6966 207a  d}".        if z
-00016940: 6970 636f 6465 3a0a 2020 2020 2020 2020  ipcode:.        
-00016950: 2020 2020 7a69 7063 6f64 6520 3d20 7374      zipcode = st
-00016960: 7228 7a69 7063 6f64 6529 0a0a 0a20 2020  r(zipcode)...   
-00016970: 2020 2020 2073 6974 655f 6164 6472 6573       site_addres
-00016980: 7320 3d20 7b22 6164 6472 6573 7322 3a20  s = {"address": 
-00016990: 6164 6472 6573 732c 2022 6369 7479 223a  address, "city":
-000169a0: 2063 6974 792c 2022 7374 6174 6522 3a20   city, "state": 
-000169b0: 7374 6174 652c 2022 636f 756e 7472 7922  state, "country"
-000169c0: 3a20 636f 756e 7472 792c 2022 7a69 7063  : country, "zipc
-000169d0: 6f64 6522 3a20 7a69 7063 6f64 657d 0a20  ode": zipcode}. 
-000169e0: 2020 2020 2020 2067 656f 6c6f 6361 7469         geolocati
-000169f0: 6f6e 203d 207b 226c 6174 6974 7564 6522  on = {"latitude"
-00016a00: 3a20 6c61 7469 7475 6465 2c20 226c 6f6e  : latitude, "lon
-00016a10: 6769 7475 6465 223a 206c 6f6e 6769 7475  gitude": longitu
-00016a20: 6465 7d0a 0a20 2020 2020 2020 2073 6974  de}..        sit
-00016a30: 655f 6164 6472 6573 7320 3d20 7574 696c  e_address = util
-00016a40: 732e 7374 7269 705f 6e6f 6e65 2873 6974  s.strip_none(sit
-00016a50: 655f 6164 6472 6573 7329 0a20 2020 2020  e_address).     
-00016a60: 2020 2067 656f 6c6f 6361 7469 6f6e 203d     geolocation =
-00016a70: 2075 7469 6c73 2e73 7472 6970 5f6e 6f6e   utils.strip_non
-00016a80: 6528 6765 6f6c 6f63 6174 696f 6e29 0a0a  e(geolocation)..
-00016a90: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00016aa0: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-00016ab0: 2020 2273 6974 655f 6e61 6d65 223a 2073    "site_name": s
-00016ac0: 6974 655f 6e61 6d65 2c0a 2020 2020 2020  ite_name,.      
-00016ad0: 2020 2020 2020 2273 6974 655f 6164 6472        "site_addr
-00016ae0: 6573 7322 3a20 7369 7465 5f61 6464 7265  ess": site_addre
-00016af0: 7373 2c0a 2020 2020 2020 2020 2020 2020  ss,.            
-00016b00: 2267 656f 6c6f 6361 7469 6f6e 223a 2067  "geolocation": g
-00016b10: 656f 6c6f 6361 7469 6f6e 0a20 2020 2020  eolocation.     
-00016b20: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00016b30: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00016b40: 7061 7463 6828 7572 6c2c 206a 736f 6e5f  patch(url, json_
-00016b50: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-00016b60: 0a20 2020 2023 2054 4f44 4f20 616c 6c20  .    # TODO all 
-00016b70: 7061 7261 6d73 2072 6571 7569 7265 6420  params required 
-00016b80: 6279 2041 5049 2047 572c 206e 6565 6420  by API GW, need 
-00016b90: 6361 6c6c 2074 6f20 6765 7420 6375 7272  call to get curr
-00016ba0: 656e 7420 7072 6f70 6572 7469 6573 0a20  ent properties. 
-00016bb0: 2020 2023 2069 6620 6e6f 7420 616c 6c20     # if not all 
-00016bc0: 6172 6520 7072 6f76 6964 6564 0a20 2020  are provided.   
-00016bd0: 2061 7379 6e63 2064 6566 2075 7064 6174   async def updat
-00016be0: 655f 6170 5f73 7973 7465 6d5f 636f 6e66  e_ap_system_conf
-00016bf0: 6967 280a 2020 2020 2020 2020 7365 6c66  ig(.        self
-00016c00: 2c0a 2020 2020 2020 2020 6772 6f75 705f  ,.        group_
-00016c10: 7377 6172 6d69 643a 2073 7472 2c0a 2020  swarmid: str,.  
-00016c20: 2020 2020 2020 646e 735f 7365 7276 6572        dns_server
-00016c30: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00016c40: 2020 2020 2020 6e74 705f 7365 7276 6572        ntp_server
-00016c50: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-00016c60: 6e65 2c0a 2020 2020 2020 2020 7573 6572  ne,.        user
-00016c70: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
-00016c80: 2c0a 2020 2020 2020 2020 7061 7373 776f  ,.        passwo
-00016c90: 7264 3a20 7374 7220 3d20 4e6f 6e65 2c0a  rd: str = None,.
-00016ca0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00016cb0: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
-00016cc0: 6461 7465 2073 7973 7465 6d20 636f 6e66  date system conf
-00016cd0: 6967 2e0a 0a20 2020 2020 2020 2041 6c6c  ig...        All
-00016ce0: 2070 6172 616d 7320 6172 6520 7265 7175   params are requ
-00016cf0: 6972 6564 2062 7920 4172 7562 6120 4365  ired by Aruba Ce
-00016d00: 6e74 7261 6c0a 0a20 2020 2020 2020 2041  ntral..        A
-00016d10: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00016d20: 2067 726f 7570 5f73 7761 726d 6964 2028   group_swarmid (
-00016d30: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
-00016d40: 206f 6620 7468 6520 6772 6f75 7020 6f72   of the group or
-00016d50: 2067 7569 6420 6f66 2074 6865 2073 7761   guid of the swa
-00016d60: 726d 2e20 4578 616d 706c 653a 4772 6f75  rm. Example:Grou
-00016d70: 705f 310a 2020 2020 2020 2020 2020 2020  p_1.            
-00016d80: 2020 2020 6f72 2036 6135 6431 3233 6230      or 6a5d123b0
-00016d90: 3166 3934 3431 3830 3632 3434 6561 3665  1f9441806244ea6e
-00016da0: 3032 3366 6162 3538 3431 6237 3763 3832  023fab5841b77c82
-00016db0: 3861 3038 3566 3034 662e 0a20 2020 2020  8a085f04f..     
-00016dc0: 2020 2020 2020 2064 6e73 5f73 6572 7665         dns_serve
-00016dd0: 7220 2873 7472 293a 2044 4e53 2073 6572  r (str): DNS ser
-00016de0: 7665 7220 4950 7320 6f72 2064 6f6d 6169  ver IPs or domai
-00016df0: 6e20 6e61 6d65 0a20 2020 2020 2020 2020  n name.         
-00016e00: 2020 206e 7470 5f73 6572 7665 7220 284c     ntp_server (L
-00016e10: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
-00016e20: 6f66 206e 7470 2073 6572 7665 722c 0a20  of ntp server,. 
-00016e30: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-00016e40: 7861 6d70 6c65 3a20 5b22 3139 322e 3136  xample: ["192.16
-00016e50: 382e 312e 3122 2c20 2231 3237 2e30 2e30  8.1.1", "127.0.0
-00016e60: 2e30 222c 2022 7878 782e 636f 6d22 5d2e  .0", "xxx.com"].
-00016e70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016e80: 2049 5073 206f 7220 646f 6d61 696e 206e   IPs or domain n
-00016e90: 616d 652e 0a20 2020 2020 2020 2020 2020  ame..           
-00016ea0: 2075 7365 726e 616d 6520 2873 7472 293a   username (str):
-00016eb0: 2075 7365 726e 616d 650a 2020 2020 2020   username.      
-00016ec0: 2020 2020 2020 7061 7373 776f 7264 2028        password (
-00016ed0: 7374 7229 3a20 7061 7373 776f 7264 0a0a  str): password..
-00016ee0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00016ef0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00016f00: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00016f10: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00016f20: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00016f30: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00016f40: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00016f50: 7379 7374 656d 5f63 6f6e 6669 672f 7b67  system_config/{g
-00016f60: 726f 7570 5f73 7761 726d 6964 7d22 0a0a  roup_swarmid}"..
-00016f70: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00016f80: 6120 3d20 7574 696c 732e 7374 7269 705f  a = utils.strip_
-00016f90: 6e6f 6e65 280a 2020 2020 2020 2020 2020  none(.          
-00016fa0: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00016fb0: 2020 2020 2764 6e73 5f73 6572 7665 7227      'dns_server'
-00016fc0: 3a20 646e 735f 7365 7276 6572 2c0a 2020  : dns_server,.  
-00016fd0: 2020 2020 2020 2020 2020 2020 2020 276e                'n
-00016fe0: 7470 5f73 6572 7665 7227 3a20 6e74 705f  tp_server': ntp_
-00016ff0: 7365 7276 6572 2c0a 2020 2020 2020 2020  server,.        
-00017000: 2020 2020 2020 2020 2775 7365 726e 616d          'usernam
-00017010: 6527 3a20 7573 6572 6e61 6d65 2c0a 2020  e': username,.  
-00017020: 2020 2020 2020 2020 2020 2020 2020 2770                'p
-00017030: 6173 7377 6f72 6427 3a20 7061 7373 776f  assword': passwo
-00017040: 7264 0a20 2020 2020 2020 2020 2020 207d  rd.            }
-00017050: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-00017060: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00017070: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-00017080: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-00017090: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-000170a0: 6465 6620 6372 6561 7465 5f67 726f 7570  def create_group
-000170b0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-000170c0: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-000170d0: 7472 2c0a 2020 2020 2020 2020 616c 6c6f  tr,.        allo
-000170e0: 7765 645f 7479 7065 733a 2055 6e69 6f6e  wed_types: Union
-000170f0: 5b63 6f6e 7374 616e 7473 2e41 6c6c 4465  [constants.AllDe
-00017100: 7654 7970 6573 2c20 4c69 7374 5b63 6f6e  vTypes, List[con
-00017110: 7374 616e 7473 2e41 6c6c 4465 7654 7970  stants.AllDevTyp
-00017120: 6573 5d5d 203d 205b 2261 7022 2c20 2267  es]] = ["ap", "g
-00017130: 7722 2c20 2263 7822 2c20 2273 7722 5d2c  w", "cx", "sw"],
-00017140: 0a20 2020 2020 2020 2077 6972 6564 5f74  .        wired_t
-00017150: 673a 2062 6f6f 6c20 3d20 4661 6c73 652c  g: bool = False,
-00017160: 0a20 2020 2020 2020 2077 6c61 6e5f 7467  .        wlan_tg
-00017170: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-00017180: 2020 2020 2020 2020 616f 7331 303a 2062          aos10: b
-00017190: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-000171a0: 2020 2020 206d 6963 726f 6272 616e 6368       microbranch
-000171b0: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-000171c0: 2020 2020 2020 2020 6777 5f72 6f6c 653a          gw_role:
-000171d0: 2063 6f6e 7374 616e 7473 2e47 6174 6577   constants.Gatew
-000171e0: 6179 526f 6c65 203d 2022 6272 616e 6368  ayRole = "branch
-000171f0: 222c 0a20 2020 2020 2020 206d 6f6e 6974  ",.        monit
-00017200: 6f72 5f6f 6e6c 795f 7377 3a20 626f 6f6c  or_only_sw: bool
-00017210: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00017220: 2020 6d6f 6e69 746f 725f 6f6e 6c79 5f63    monitor_only_c
-00017230: 783a 2062 6f6f 6c20 3d20 4661 6c73 652c  x: bool = False,
-00017240: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00017250: 7365 3a0a 2020 2020 2020 2020 2222 2243  se:.        """C
-00017260: 7265 6174 6520 6e65 7720 6772 6f75 7020  reate new group 
-00017270: 7769 7468 2073 7065 6369 6669 6564 2070  with specified p
-00017280: 726f 7065 7274 6965 732e 2076 330a 0a20  roperties. v3.. 
-00017290: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
-000172a0: 7920 6164 6420 6772 6f75 7020 6261 7463  y add group batc
-000172b0: 6820 6164 6420 6772 6f75 7020 2f2f 0a0a  h add group //..
-000172c0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-000172d0: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
-000172e0: 2873 7472 293a 2047 726f 7570 204e 616d  (str): Group Nam
-000172f0: 650a 2020 2020 2020 2020 2020 2020 616c  e.            al
-00017300: 6c6f 7765 645f 7479 7065 7320 2873 7472  lowed_types (str
-00017310: 2c20 4c69 7374 5b73 7472 5d29 3a20 416c  , List[str]): Al
-00017320: 6c6f 7765 6420 4465 7669 6365 2054 7970  lowed Device Typ
-00017330: 6573 2069 6e20 7468 6520 6772 6f75 702e  es in the group.
-00017340: 2054 6162 7320 666f 7220 6465 7669 6365   Tabs for device
-00017350: 7320 6e6f 7420 616c 6c6f 7765 640a 2020  s not allowed.  
-00017360: 2020 2020 2020 2020 2020 2020 2020 776f                wo
-00017370: 6e27 7420 6469 7370 6c61 7920 696e 2055  n't display in U
-00017380: 492e 2020 7661 6c69 6420 7661 6c75 6573  I.  valid values
-00017390: 2022 6170 222c 2022 6777 222c 2022 6378   "ap", "gw", "cx
-000173a0: 222c 2022 7377 222c 2022 7377 6974 6368  ", "sw", "switch
-000173b0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-000173c0: 2020 2822 7377 6974 6368 2220 6973 2067    ("switch" is g
-000173d0: 656e 6572 6963 2c20 7769 6c6c 2065 6e61  eneric, will ena
-000173e0: 626c 6520 626f 7468 2063 7820 616e 6420  ble both cx and 
-000173f0: 7377 290a 2020 2020 2020 2020 2020 2020  sw).            
-00017400: 7769 7265 645f 7467 2028 626f 6f6c 2c20  wired_tg (bool, 
-00017410: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-00017420: 6f20 7472 7565 2069 6620 7769 7265 6428  o true if wired(
-00017430: 5377 6974 6368 2920 636f 6e66 6967 7572  Switch) configur
-00017440: 6174 696f 6e20 696e 2061 2067 726f 7570  ation in a group
-00017450: 2069 7320 6d61 6e61 6765 640a 2020 2020   is managed.    
-00017460: 2020 2020 2020 2020 2020 2020 7573 696e              usin
-00017470: 6720 7465 6d70 6c61 7465 732e 0a20 2020  g templates..   
-00017480: 2020 2020 2020 2020 2077 6c61 6e5f 7467           wlan_tg
-00017490: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-000174a0: 293a 2053 6574 2074 6f20 7472 7565 2069  ): Set to true i
-000174b0: 6620 7769 7265 6c65 7373 2849 4150 2c20  f wireless(IAP, 
-000174c0: 4761 7465 7761 7973 2920 636f 6e66 6967  Gateways) config
-000174d0: 7572 6174 696f 6e20 696e 2061 0a20 2020  uration in a.   
-000174e0: 2020 2020 2020 2020 2020 2020 2067 726f               gro
-000174f0: 7570 2069 7320 6d61 6e61 6765 6420 7573  up is managed us
-00017500: 696e 6720 7465 6d70 6c61 7465 732e 0a20  ing templates.. 
-00017510: 2020 2020 2020 2020 2020 2061 6f73 3130             aos10
-00017520: 3a20 2862 6f6f 6c29 3a20 6966 2054 7275  : (bool): if Tru
-00017530: 6520 7573 6520 414f 5331 3020 6172 6368  e use AOS10 arch
-00017540: 6974 6563 7475 7265 2066 6f72 2074 6865  itecture for the
-00017550: 2061 6363 6573 7320 706f 696e 7473 2061   access points a
-00017560: 6e64 2067 6174 6577 6179 7320 696e 2074  nd gateways in t
-00017570: 6865 2067 726f 7570 2e0a 2020 2020 2020  he group..      
-00017580: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00017590: 7420 4661 6c73 6520 2849 6e73 7461 6e74  t False (Instant
-000175a0: 290a 2020 2020 2020 2020 2020 2020 6d69  ).            mi
-000175b0: 6372 6f62 7261 6e63 6820 2862 6f6f 6c29  crobranch (bool)
-000175c0: 3a20 5472 7565 2074 6f20 656e 6162 6c65  : True to enable
-000175d0: 204d 6963 726f 6272 616e 6368 206e 6574   Microbranch net
-000175e0: 776f 726b 2072 6f6c 6520 666f 7220 4150  work role for AP
-000175f0: 7320 6973 2061 7070 6c69 6361 626c 6520  s is applicable 
-00017600: 6f6e 6c79 2066 6f72 2041 4f53 3130 2061  only for AOS10 a
-00017610: 7263 6869 7465 6374 7572 652e 0a20 2020  rchitecture..   
-00017620: 2020 2020 2020 2020 2067 775f 726f 6c65           gw_role
-00017630: 2028 4761 7465 7761 7952 6f6c 6529 3a20   (GatewayRole): 
-00017640: 4761 7465 7761 7920 726f 6c65 2076 616c  Gateway role val
-00017650: 6964 2076 616c 7565 7320 2262 7261 6e63  id values "branc
-00017660: 6822 2c20 2276 706e 6322 2c20 2277 6c61  h", "vpnc", "wla
-00017670: 6e22 2028 2277 6c61 6e22 206f 6e6c 7920  n" ("wlan" only 
-00017680: 7661 6c69 6420 6f6e 2041 4f53 3130 2067  valid on AOS10 g
-00017690: 726f 7570 290a 2020 2020 2020 2020 2020  roup).          
-000176a0: 2020 2020 2020 4465 6661 756c 743a 2022        Default: "
-000176b0: 6272 616e 6368 220a 2020 2020 2020 2020  branch".        
-000176c0: 2020 2020 6d6f 6e69 746f 725f 6f6e 6c79      monitor_only
-000176d0: 5f73 773a 204d 6f6e 6974 6f72 206f 6e6c  _sw: Monitor onl
-000176e0: 7920 4172 7562 614f 532d 5357 2073 7769  y ArubaOS-SW swi
-000176f0: 7463 6865 732c 2061 7070 6c69 6573 2074  tches, applies t
-00017700: 6f20 5549 2067 726f 7570 206f 6e6c 790a  o UI group only.
-00017710: 2020 2020 2020 2020 2020 2020 6d6f 6e69              moni
-00017720: 746f 725f 6f6e 6c79 5f63 783a 204d 6f6e  tor_only_cx: Mon
-00017730: 6974 6f72 206f 6e6c 7920 4172 7562 614f  itor only ArubaO
-00017740: 532d 4358 2073 7769 7463 6865 732c 2061  S-CX switches, a
-00017750: 7070 6c69 6573 2074 6f20 5549 2067 726f  pplies to UI gro
-00017760: 7570 206f 6e6c 790a 0a20 2020 2020 2020  up only..       
-00017770: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00017780: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00017790: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000177a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000177b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-000177c0: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-000177d0: 7469 6f6e 2f76 332f 6772 6f75 7073 220a  tion/v3/groups".
-000177e0: 0a20 2020 2020 2020 2067 775f 726f 6c65  .        gw_role
-000177f0: 5f64 6963 7420 3d20 7b0a 2020 2020 2020  _dict = {.      
-00017800: 2020 2020 2020 2262 7261 6e63 6822 3a20        "branch": 
-00017810: 2242 7261 6e63 6847 6174 6577 6179 222c  "BranchGateway",
-00017820: 0a20 2020 2020 2020 2020 2020 2022 7670  .            "vp
-00017830: 6e63 223a 2022 5650 4e43 6f6e 6365 6e74  nc": "VPNConcent
-00017840: 7261 746f 7222 2c0a 2020 2020 2020 2020  rator",.        
-00017850: 2020 2020 2277 6c61 6e22 3a20 2257 4c41      "wlan": "WLA
-00017860: 4e47 6174 6577 6179 222c 0a20 2020 2020  NGateway",.     
-00017870: 2020 207d 0a20 2020 2020 2020 2064 6576     }.        dev
-00017880: 5f74 7970 655f 6469 6374 203d 207b 0a20  _type_dict = {. 
-00017890: 2020 2020 2020 2020 2020 2022 6170 223a             "ap":
-000178a0: 2022 4163 6365 7373 506f 696e 7473 222c   "AccessPoints",
-000178b0: 0a20 2020 2020 2020 2020 2020 2022 6777  .            "gw
-000178c0: 223a 2022 4761 7465 7761 7973 222c 0a20  ": "Gateways",. 
-000178d0: 2020 2020 2020 2020 2020 2022 7377 6974             "swit
-000178e0: 6368 223a 2022 5377 6974 6368 6573 222c  ch": "Switches",
-000178f0: 0a20 2020 2020 2020 2020 2020 2022 6378  .            "cx
-00017900: 223a 2022 5377 6974 6368 6573 222c 0a20  ": "Switches",. 
-00017910: 2020 2020 2020 2020 2020 2022 7377 223a             "sw":
-00017920: 2022 5377 6974 6368 6573 222c 0a20 2020   "Switches",.   
-00017930: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00017940: 6777 5f72 6f6c 6520 3d20 6777 5f72 6f6c  gw_role = gw_rol
-00017950: 655f 6469 6374 2e67 6574 2867 775f 726f  e_dict.get(gw_ro
-00017960: 6c65 2c20 2242 7261 6e63 6847 6174 6577  le, "BranchGatew
-00017970: 6179 2229 0a0a 2020 2020 2020 2020 616c  ay")..        al
-00017980: 6c6f 7765 645f 7479 7065 7320 3d20 7574  lowed_types = ut
-00017990: 696c 732e 6c69 7374 6966 7928 616c 6c6f  ils.listify(allo
-000179a0: 7765 645f 7479 7065 7329 0a20 2020 2020  wed_types).     
-000179b0: 2020 2061 6c6c 6f77 6564 5f73 7769 7463     allowed_switc
-000179c0: 685f 7479 7065 7320 3d20 5b5d 0a20 2020  h_types = [].   
-000179d0: 2020 2020 2069 6620 2273 7769 7463 6822       if "switch"
-000179e0: 2069 6e20 616c 6c6f 7765 645f 7479 7065   in allowed_type
-000179f0: 7320 6f72 2028 2263 7822 2069 6e20 616c  s or ("cx" in al
-00017a00: 6c6f 7765 645f 7479 7065 7320 616e 6420  lowed_types and 
-00017a10: 2273 7722 2069 6e20 616c 6c6f 7765 645f  "sw" in allowed_
-00017a20: 7479 7065 7329 3a0a 2020 2020 2020 2020  types):.        
-00017a30: 2020 2020 616c 6c6f 7765 645f 7377 6974      allowed_swit
-00017a40: 6368 5f74 7970 6573 202b 3d20 5b22 414f  ch_types += ["AO
-00017a50: 535f 4358 222c 2022 414f 535f 5322 5d0a  S_CX", "AOS_S"].
-00017a60: 2020 2020 2020 2020 6966 2022 7377 2220          if "sw" 
-00017a70: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-00017a80: 2061 6e64 2022 414f 535f 5322 206e 6f74   and "AOS_S" not
-00017a90: 2069 6e20 616c 6c6f 7765 645f 7377 6974   in allowed_swit
-00017aa0: 6368 5f74 7970 6573 3a0a 2020 2020 2020  ch_types:.      
-00017ab0: 2020 2020 2020 616c 6c6f 7765 645f 7377        allowed_sw
-00017ac0: 6974 6368 5f74 7970 6573 202b 3d20 5b22  itch_types += ["
-00017ad0: 414f 535f 5322 5d0a 2020 2020 2020 2020  AOS_S"].        
-00017ae0: 6966 2022 6378 2220 696e 2061 6c6c 6f77  if "cx" in allow
-00017af0: 6564 5f74 7970 6573 2061 6e64 2022 414f  ed_types and "AO
-00017b00: 535f 4358 2220 6e6f 7420 696e 2061 6c6c  S_CX" not in all
-00017b10: 6f77 6564 5f73 7769 7463 685f 7479 7065  owed_switch_type
-00017b20: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
-00017b30: 6c6c 6f77 6564 5f73 7769 7463 685f 7479  llowed_switch_ty
-00017b40: 7065 7320 2b3d 205b 2241 4f53 5f43 5822  pes += ["AOS_CX"
-00017b50: 5d0a 0a20 2020 2020 2020 206d 6f6e 5f6f  ]..        mon_o
-00017b60: 6e6c 795f 7377 6974 6368 6573 203d 205b  nly_switches = [
-00017b70: 5d0a 2020 2020 2020 2020 6966 206d 6f6e  ].        if mon
-00017b80: 6974 6f72 5f6f 6e6c 795f 7377 3a0a 2020  itor_only_sw:.  
-00017b90: 2020 2020 2020 2020 2020 6d6f 6e5f 6f6e            mon_on
-00017ba0: 6c79 5f73 7769 7463 6865 7320 2b3d 205b  ly_switches += [
-00017bb0: 2241 4f53 5f53 225d 0a20 2020 2020 2020  "AOS_S"].       
-00017bc0: 2069 6620 6d6f 6e69 746f 725f 6f6e 6c79   if monitor_only
-00017bd0: 5f63 783a 0a20 2020 2020 2020 2020 2020  _cx:.           
-00017be0: 206d 6f6e 5f6f 6e6c 795f 7377 6974 6368   mon_only_switch
-00017bf0: 6573 202b 3d20 5b22 414f 535f 4358 225d  es += ["AOS_CX"]
-00017c00: 0a0a 2020 2020 2020 2020 616c 6c6f 7765  ..        allowe
-00017c10: 645f 7479 7065 7320 3d20 6c69 7374 2873  d_types = list(s
-00017c20: 6574 285b 6465 765f 7479 7065 5f64 6963  et([dev_type_dic
-00017c30: 742e 6765 7428 7429 2066 6f72 2074 2069  t.get(t) for t i
-00017c40: 6e20 616c 6c6f 7765 645f 7479 7065 735d  n allowed_types]
-00017c50: 2929 0a0a 2020 2020 2020 2020 6966 206d  ))..        if m
-00017c60: 6f6e 5f6f 6e6c 795f 7377 6974 6368 6573  on_only_switches
-00017c70: 2061 6e64 2022 5377 6974 6368 6573 2220   and "Switches" 
-00017c80: 6e6f 7420 696e 2061 6c6c 6f77 6564 5f74  not in allowed_t
-00017c90: 7970 6573 3a0a 2020 2020 2020 2020 2020  ypes:.          
-00017ca0: 2020 6c6f 672e 7761 726e 696e 6728 2269    log.warning("i
-00017cb0: 676e 6f72 696e 6720 6d6f 6e69 746f 7220  gnoring monitor 
-00017cc0: 6f6e 6c79 2073 7769 7463 6820 7365 7474  only switch sett
-00017cd0: 696e 6720 6173 206e 6f20 7377 6974 6368  ing as no switch
-00017ce0: 6573 2077 6572 6520 7370 6563 6966 6965  es were specifie
-00017cf0: 6420 6173 2062 6569 6e67 2061 6c6c 6f77  d as being allow
-00017d00: 6564 2069 6e20 6772 6f75 7022 2c20 7368  ed in group", sh
-00017d10: 6f77 3d54 7275 6529 0a0a 2020 2020 2020  ow=True)..      
-00017d20: 2020 6966 204e 6f6e 6520 696e 2061 6c6c    if None in all
-00017d30: 6f77 6564 5f74 7970 6573 3a0a 2020 2020  owed_types:.    
-00017d40: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00017d50: 6c75 6545 7272 6f72 2827 496e 7661 6c69  lueError('Invali
-00017d60: 6420 6465 7669 6365 2074 7970 6520 666f  d device type fo
-00017d70: 7220 616c 6c6f 7765 645f 7479 7065 7320  r allowed_types 
-00017d80: 7661 6c69 6420 7661 6c75 6573 3a20 2261  valid values: "a
-00017d90: 7022 2c20 2267 7722 2c20 2273 7722 2c20  p", "gw", "sw", 
-00017da0: 2263 7822 2c20 2273 7769 7463 6822 2729  "cx", "switch"')
-00017db0: 0a20 2020 2020 2020 2069 6620 6d69 6372  .        if micr
-00017dc0: 6f62 7261 6e63 6820 616e 6420 6e6f 7420  obranch and not 
-00017dd0: 616f 7331 303a 0a20 2020 2020 2020 2020  aos10:.         
-00017de0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-00017df0: 726f 7228 2249 6e76 616c 6964 2063 6f6d  ror("Invalid com
-00017e00: 6269 6e61 7469 6f6e 2c20 4772 6f75 7020  bination, Group 
-00017e10: 6d75 7374 2062 6520 636f 6e66 6967 7572  must be configur
-00017e20: 6564 2061 7320 414f 5331 3020 6772 6f75  ed as AOS10 grou
-00017e30: 7020 746f 2073 7570 706f 7274 204d 6963  p to support Mic
-00017e40: 726f 6272 616e 6368 2229 0a20 2020 2020  robranch").     
-00017e50: 2020 2069 6620 7769 7265 645f 7467 2061     if wired_tg a
-00017e60: 6e64 2028 6d6f 6e69 746f 725f 6f6e 6c79  nd (monitor_only
-00017e70: 5f73 7720 6f72 206d 6f6e 6974 6f72 5f6f  _sw or monitor_o
-00017e80: 6e6c 795f 6378 293a 0a20 2020 2020 2020  nly_cx):.       
-00017e90: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-00017ea0: 4572 726f 7228 2249 6e76 616c 6964 2063  Error("Invalid c
-00017eb0: 6f6d 6269 6e61 7469 6f6e 2c20 4d6f 6e69  ombination, Moni
-00017ec0: 746f 7220 4f6e 6c79 2069 7320 6e6f 7420  tor Only is not 
-00017ed0: 7661 6c69 6420 666f 7220 5465 6d70 6c61  valid for Templa
-00017ee0: 7465 2047 726f 7570 2229 0a0a 2020 2020  te Group")..    
-00017ef0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-00017f00: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
-00017f10: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
-00017f20: 2020 2020 2020 2020 2020 2267 726f 7570            "group
-00017f30: 5f61 7474 7269 6275 7465 7322 3a20 7b0a  _attributes": {.
-00017f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017f50: 2274 656d 706c 6174 655f 696e 666f 223a  "template_info":
-00017f60: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-00017f70: 2020 2020 2020 2022 5769 7265 6422 3a20         "Wired": 
-00017f80: 7769 7265 645f 7467 2c0a 2020 2020 2020  wired_tg,.      
-00017f90: 2020 2020 2020 2020 2020 2020 2020 2257                "W
-00017fa0: 6972 656c 6573 7322 3a20 776c 616e 5f74  ireless": wlan_t
-00017fb0: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
-00017fc0: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
-00017fd0: 2020 2020 2022 6772 6f75 705f 7072 6f70       "group_prop
-00017fe0: 6572 7469 6573 223a 207b 0a20 2020 2020  erties": {.     
-00017ff0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00018000: 416c 6c6f 7765 6444 6576 5479 7065 7322  AllowedDevTypes"
-00018010: 3a20 616c 6c6f 7765 645f 7479 7065 732c  : allowed_types,
-00018020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018030: 207d 0a20 2020 2020 2020 2020 2020 207d   }.            }
-00018040: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-00018050: 2020 2069 6620 6777 5f72 6f6c 6520 616e     if gw_role an
-00018060: 6420 2247 6174 6577 6179 7322 2069 6e20  d "Gateways" in 
-00018070: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
-00018080: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
-00018090: 6461 7461 5b22 6772 6f75 705f 6174 7472  data["group_attr
-000180a0: 6962 7574 6573 225d 5b22 6772 6f75 705f  ibutes"]["group_
-000180b0: 7072 6f70 6572 7469 6573 225d 5b22 4777  properties"]["Gw
-000180c0: 4e65 7477 6f72 6b52 6f6c 6522 5d20 3d20  NetworkRole"] = 
-000180d0: 6777 5f72 6f6c 650a 2020 2020 2020 2020  gw_role.        
-000180e0: 2020 2020 6a73 6f6e 5f64 6174 615b 2267      json_data["g
-000180f0: 726f 7570 5f61 7474 7269 6275 7465 7322  roup_attributes"
-00018100: 5d5b 2267 726f 7570 5f70 726f 7065 7274  ]["group_propert
-00018110: 6965 7322 5d5b 2241 7263 6869 7465 6374  ies"]["Architect
-00018120: 7572 6522 5d20 3d20 5c0a 2020 2020 2020  ure"] = \.      
-00018130: 2020 2020 2020 2020 2020 2249 6e73 7461            "Insta
-00018140: 6e74 2220 6966 206e 6f74 2061 6f73 3130  nt" if not aos10
-00018150: 2065 6c73 6520 2241 4f53 3130 220a 2020   else "AOS10".  
-00018160: 2020 2020 2020 6966 2022 4163 6365 7373        if "Access
-00018170: 506f 696e 7473 2220 696e 2061 6c6c 6f77  Points" in allow
-00018180: 6564 5f74 7970 6573 3a0a 2020 2020 2020  ed_types:.      
-00018190: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-000181a0: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
-000181b0: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
-000181c0: 7274 6965 7322 5d5b 2241 704e 6574 776f  rties"]["ApNetwo
-000181d0: 726b 526f 6c65 225d 203d 205c 0a20 2020  rkRole"] = \.   
-000181e0: 2020 2020 2020 2020 2020 2020 2022 5374               "St
-000181f0: 616e 6461 7264 2220 6966 206e 6f74 206d  andard" if not m
-00018200: 6963 726f 6272 616e 6368 2065 6c73 6520  icrobranch else 
-00018210: 224d 6963 726f 6272 616e 6368 220a 2020  "Microbranch".  
-00018220: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
-00018230: 6174 615b 2267 726f 7570 5f61 7474 7269  ata["group_attri
-00018240: 6275 7465 7322 5d5b 2267 726f 7570 5f70  butes"]["group_p
-00018250: 726f 7065 7274 6965 7322 5d5b 2241 7263  roperties"]["Arc
-00018260: 6869 7465 6374 7572 6522 5d20 3d20 5c0a  hitecture"] = \.
-00018270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018280: 2249 6e73 7461 6e74 2220 6966 206e 6f74  "Instant" if not
-00018290: 2061 6f73 3130 2065 6c73 6520 2241 4f53   aos10 else "AOS
-000182a0: 3130 220a 2020 2020 2020 2020 6966 2022  10".        if "
-000182b0: 5377 6974 6368 6573 2220 696e 2061 6c6c  Switches" in all
-000182c0: 6f77 6564 5f74 7970 6573 3a0a 2020 2020  owed_types:.    
-000182d0: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-000182e0: 615b 2267 726f 7570 5f61 7474 7269 6275  a["group_attribu
-000182f0: 7465 7322 5d5b 2267 726f 7570 5f70 726f  tes"]["group_pro
-00018300: 7065 7274 6965 7322 5d5b 2241 6c6c 6f77  perties"]["Allow
-00018310: 6564 5377 6974 6368 5479 7065 7322 5d20  edSwitchTypes"] 
-00018320: 3d20 5c0a 2020 2020 2020 2020 2020 2020  = \.            
-00018330: 2020 2020 616c 6c6f 7765 645f 7377 6974      allowed_swit
-00018340: 6368 5f74 7970 6573 0a20 2020 2020 2020  ch_types.       
-00018350: 2020 2020 2069 6620 6d6f 6e5f 6f6e 6c79       if mon_only
-00018360: 5f73 7769 7463 6865 733a 0a20 2020 2020  _switches:.     
-00018370: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
-00018380: 6461 7461 5b22 6772 6f75 705f 6174 7472  data["group_attr
-00018390: 6962 7574 6573 225d 5b22 6772 6f75 705f  ibutes"]["group_
-000183a0: 7072 6f70 6572 7469 6573 225d 5b22 4d6f  properties"]["Mo
-000183b0: 6e69 746f 724f 6e6c 7922 5d20 3d20 5c0a  nitorOnly"] = \.
-000183c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183d0: 2020 2020 6d6f 6e5f 6f6e 6c79 5f73 7769      mon_only_swi
-000183e0: 7463 6865 730a 0a20 2020 2020 2020 2072  tches..        r
-000183f0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00018400: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00018410: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-00018420: 0a20 2020 2061 7379 6e63 2064 6566 2063  .    async def c
-00018430: 6c6f 6e65 5f67 726f 7570 280a 2020 2020  lone_group(.    
-00018440: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00018450: 2020 636c 6f6e 655f 6772 6f75 703a 2073    clone_group: s
-00018460: 7472 2c0a 2020 2020 2020 2020 6e65 775f  tr,.        new_
-00018470: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
-00018480: 2020 2020 7570 6772 6164 655f 616f 7331      upgrade_aos1
-00018490: 303a 2062 6f6f 6c20 3d20 4661 6c73 652c  0: bool = False,
-000184a0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-000184b0: 7365 3a0a 2020 2020 2020 2020 2222 2243  se:.        """C
-000184c0: 6c6f 6e65 2061 6e64 2063 7265 6174 6520  lone and create 
-000184d0: 6e65 7720 6772 6f75 702e 0a0a 2020 2020  new group...    
-000184e0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-000184f0: 2020 2020 2020 636c 6f6e 655f 6772 6f75        clone_grou
-00018500: 7020 2873 7472 293a 2047 726f 7570 2074  p (str): Group t
-00018510: 6f20 6265 2063 6c6f 6e65 642e 0a20 2020  o be cloned..   
-00018520: 2020 2020 2020 2020 206e 6577 5f67 726f           new_gro
-00018530: 7570 2028 7374 7229 3a20 4e61 6d65 206f  up (str): Name o
-00018540: 6620 6772 6f75 7020 746f 2062 6520 6372  f group to be cr
-00018550: 6561 7465 6420 6261 7365 6420 6f6e 2063  eated based on c
-00018560: 6c6f 6e65 2e0a 2020 2020 2020 2020 2020  lone..          
-00018570: 2020 7570 6772 6164 655f 616f 7331 3020    upgrade_aos10 
-00018580: 2862 6f6f 6c29 3a20 5365 7420 5472 7565  (bool): Set True
-00018590: 2074 6f20 5570 6461 7465 2074 6865 206e   to Update the n
-000185a0: 6577 2063 6c6f 6e65 6420 6772 6f75 7020  ew cloned group 
-000185b0: 746f 2041 4f53 3130 2e0a 0a20 2020 2020  to AOS10...     
-000185c0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000185d0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-000185e0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-000185f0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00018600: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00018610: 2075 726c 203d 2022 2f63 6f6e 6669 6775   url = "/configu
-00018620: 7261 7469 6f6e 2f76 322f 6772 6f75 7073  ration/v2/groups
-00018630: 2f63 6c6f 6e65 220a 0a20 2020 2020 2020  /clone"..       
-00018640: 2069 6620 7570 6772 6164 655f 616f 7331   if upgrade_aos1
-00018650: 303a 0a20 2020 2020 2020 2020 2020 206c  0:.            l
-00018660: 6f67 2e77 6172 6e69 6e67 280a 2020 2020  og.warning(.    
-00018670: 2020 2020 2020 2020 2020 2020 2247 726f              "Gro
-00018680: 7570 206d 6179 206e 6f74 2062 6520 7570  up may not be up
-00018690: 6772 6164 6564 2074 6f20 414f 5331 302c  graded to AOS10,
-000186a0: 2041 5049 206d 6574 686f 6420 6170 7065   API method appe
-000186b0: 6172 7320 746f 2068 6176 6520 736f 6d65  ars to have some
-000186c0: 2063 6176 6561 7473 2e2e 2e20 446f 6573   caveats... Does
-000186d0: 6e27 7420 616c 7761 7973 2077 6f72 6b2e  n't always work.
-000186e0: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
-000186f0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-00018700: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-00018710: 2020 2027 6772 6f75 7027 3a20 6e65 775f     'group': new_
-00018720: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
-00018730: 2020 2027 636c 6f6e 655f 6772 6f75 7027     'clone_group'
-00018740: 3a20 636c 6f6e 655f 6772 6f75 702c 0a20  : clone_group,. 
-00018750: 2020 2020 2020 2020 2020 2027 7570 6772             'upgr
-00018760: 6164 655f 6172 6368 6974 6563 7475 7265  ade_architecture
-00018770: 273a 2075 7067 7261 6465 5f61 6f73 3130  ': upgrade_aos10
-00018780: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
-00018790: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-000187a0: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
-000187b0: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
-000187c0: 6461 7461 290a 0a20 2020 2023 2041 5049  data)..    # API
-000187d0: 2d46 4c41 5720 6164 6420 6170 2061 6e64  -FLAW add ap and
-000187e0: 2067 7720 746f 2067 726f 7570 2077 6974   gw to group wit
-000187f0: 6820 6777 2d72 6f6c 6520 6173 2077 6c61  h gw-role as wla
-00018800: 6e20 616e 6420 7570 6772 6164 6520 746f  n and upgrade to
-00018810: 2061 6f73 3130 2e20 2052 6574 7572 6e73   aos10.  Returns
-00018820: 2032 3030 2c20 6275 7420 6e6f 2063 6861   200, but no cha
-00018830: 6e67 6573 206d 6164 650a 2020 2020 6173  nges made.    as
-00018840: 796e 6320 6465 6620 7570 6461 7465 5f67  ync def update_g
-00018850: 726f 7570 5f70 726f 7065 7274 6965 7328  roup_properties(
-00018860: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00018870: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-00018880: 722c 0a20 2020 2020 2020 2061 6c6c 6f77  r,.        allow
-00018890: 6564 5f74 7970 6573 3a20 556e 696f 6e5b  ed_types: Union[
-000188a0: 636f 6e73 7461 6e74 732e 416c 6c44 6576  constants.AllDev
-000188b0: 5479 7065 732c 204c 6973 745b 636f 6e73  Types, List[cons
-000188c0: 7461 6e74 732e 416c 6c44 6576 5479 7065  tants.AllDevType
-000188d0: 735d 5d20 3d20 4e6f 6e65 2c0a 2020 2020  s]] = None,.    
-000188e0: 2020 2020 7769 7265 645f 7467 3a20 626f      wired_tg: bo
-000188f0: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
-00018900: 2020 2077 6c61 6e5f 7467 3a20 626f 6f6c     wlan_tg: bool
-00018910: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00018920: 2061 6f73 3130 3a20 626f 6f6c 203d 204e   aos10: bool = N
-00018930: 6f6e 652c 0a20 2020 2020 2020 206d 6963  one,.        mic
-00018940: 726f 6272 616e 6368 3a20 626f 6f6c 203d  robranch: bool =
-00018950: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-00018960: 775f 726f 6c65 3a20 636f 6e73 7461 6e74  w_role: constant
-00018970: 732e 4761 7465 7761 7952 6f6c 6520 3d20  s.GatewayRole = 
-00018980: 4e6f 6e65 2c0a 2020 2020 2020 2020 6d6f  None,.        mo
-00018990: 6e69 746f 725f 6f6e 6c79 5f73 773a 2062  nitor_only_sw: b
-000189a0: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
-000189b0: 2020 2020 6d6f 6e69 746f 725f 6f6e 6c79      monitor_only
-000189c0: 5f63 783a 2062 6f6f 6c20 3d20 4e6f 6e65  _cx: bool = None
-000189d0: 2c20 2023 204e 6f74 2073 7570 706f 7274  ,  # Not support
-000189e0: 6564 2062 7920 6365 6e74 7261 6c20 7965  ed by central ye
-000189f0: 740a 2020 2020 2920 2d3e 2052 6573 706f  t.    ) -> Respo
-00018a00: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00018a10: 5570 6461 7465 2070 726f 7065 7274 6965  Update propertie
-00018a20: 7320 666f 7220 7468 6520 6769 7665 6e20  s for the given 
-00018a30: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
-00018a40: 2f2f 2055 7365 6420 6279 2075 7064 6174  // Used by updat
-00018a50: 6520 6772 6f75 7020 2f2f 0a0a 2020 2020  e group //..    
-00018a60: 2020 2020 2d20 5468 6520 7570 6461 7465      - The update
-00018a70: 206f 6620 7065 7273 6f6e 6120 616e 6420   of persona and 
-00018a80: 636f 6e66 6967 7572 6174 696f 6e20 6d6f  configuration mo
-00018a90: 6465 2073 6574 2066 6f72 2065 7869 7374  de set for exist
-00018aa0: 696e 6720 6465 7669 6365 2074 7970 6573  ing device types
-00018ab0: 2069 7320 6e6f 7420 7065 726d 6974 7465   is not permitte
-00018ac0: 642e 0a20 2020 2020 2020 202d 2043 616e  d..        - Can
-00018ad0: 2075 7064 6174 6520 6672 6f6d 2073 7461   update from sta
-00018ae0: 6e64 6172 6420 4150 2074 6f20 4d69 6372  ndard AP to Micr
-00018af0: 6f42 7261 6e63 682c 2062 7574 2063 616e  oBranch, but can
-00018b00: 2774 2067 6f20 6261 636b 0a20 2020 2020  't go back.     
-00018b10: 2020 202d 2043 616e 2075 7064 6174 6520     - Can update 
-00018b20: 746f 2041 4f53 3130 2c20 6275 7420 6361  to AOS10, but ca
-00018b30: 6e27 7420 676f 2062 6163 6b0a 2020 2020  n't go back.    
-00018b40: 2020 2020 2d20 4361 6e20 4164 6420 416c      - Can Add Al
-00018b50: 6c6f 7765 6420 4465 7669 6365 2054 7970  lowed Device Typ
-00018b60: 6573 2c20 6275 7420 6361 6e27 7420 7265  es, but can't re
-00018b70: 6d6f 7665 2e0a 2020 2020 2020 2020 2d20  move..        - 
-00018b80: 4361 6e20 4164 6420 416c 6c6f 7765 6420  Can Add Allowed 
-00018b90: 5377 6974 6368 2054 7970 6573 2c20 6275  Switch Types, bu
-00018ba0: 7420 6361 6e27 7420 7265 6d6f 7665 2e0a  t can't remove..
-00018bb0: 2020 2020 2020 2020 2d20 4361 6e20 6f6e          - Can on
-00018bc0: 6c79 2063 6861 6e67 6520 6d6f 6e5f 6f6e  ly change mon_on
-00018bd0: 6c79 5f73 7720 616e 6420 7769 7265 645f  ly_sw and wired_
-00018be0: 7467 2077 6865 6e20 6164 6469 6e67 2073  tg when adding s
-00018bf0: 7769 7463 6865 7320 2863 782c 2073 7729  witches (cx, sw)
-00018c00: 2074 6f20 616c 6c6f 7765 645f 6465 7669   to allowed_devi
-00018c10: 6365 5f74 7970 6573 0a0a 0a20 2020 2020  ce_types...     
-00018c20: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00018c30: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
-00018c40: 3a20 4772 6f75 7020 4e61 6d65 0a20 2020  : Group Name.   
-00018c50: 2020 2020 2020 2020 2061 6c6c 6f77 6564           allowed
-00018c60: 5f74 7970 6573 2028 7374 722c 204c 6973  _types (str, Lis
-00018c70: 745b 7374 725d 293a 2041 6c6c 6f77 6564  t[str]): Allowed
-00018c80: 2044 6576 6963 6520 5479 7065 7320 696e   Device Types in
-00018c90: 2074 6865 2067 726f 7570 2e20 5461 6273   the group. Tabs
-00018ca0: 2066 6f72 2064 6576 6963 6573 206e 6f74   for devices not
-00018cb0: 2061 6c6c 6f77 6564 0a20 2020 2020 2020   allowed.       
-00018cc0: 2020 2020 2020 2020 2077 6f6e 2774 2064           won't d
-00018cd0: 6973 706c 6179 2069 6e20 5549 2e20 2076  isplay in UI.  v
-00018ce0: 616c 6964 2076 616c 7565 7320 2261 7022  alid values "ap"
-00018cf0: 2c20 2267 7722 2c20 2263 7822 2c20 2273  , "gw", "cx", "s
-00018d00: 7722 2c20 2273 7769 7463 6822 0a20 2020  w", "switch".   
-00018d10: 2020 2020 2020 2020 2020 2020 2028 2273               ("s
-00018d20: 7769 7463 6822 2069 7320 6765 6e65 7269  witch" is generi
-00018d30: 632c 2077 696c 6c20 656e 6162 6c65 2062  c, will enable b
-00018d40: 6f74 6820 6378 2061 6e64 2073 7729 0a20  oth cx and sw). 
-00018d50: 2020 2020 2020 2020 2020 2077 6972 6564             wired
-00018d60: 5f74 6720 2862 6f6f 6c2c 206f 7074 696f  _tg (bool, optio
-00018d70: 6e61 6c29 3a20 5365 7420 746f 2074 7275  nal): Set to tru
-00018d80: 6520 6966 2077 6972 6564 2853 7769 7463  e if wired(Switc
-00018d90: 6829 2063 6f6e 6669 6775 7261 7469 6f6e  h) configuration
-00018da0: 2069 6e20 6120 6772 6f75 7020 6973 206d   in a group is m
-00018db0: 616e 6167 6564 0a20 2020 2020 2020 2020  anaged.         
-00018dc0: 2020 2020 2020 2075 7369 6e67 2074 656d         using tem
-00018dd0: 706c 6174 6573 2e0a 2020 2020 2020 2020  plates..        
-00018de0: 2020 2020 776c 616e 5f74 6720 2862 6f6f      wlan_tg (boo
-00018df0: 6c2c 206f 7074 696f 6e61 6c29 3a20 5365  l, optional): Se
-00018e00: 7420 746f 2074 7275 6520 6966 2077 6972  t to true if wir
-00018e10: 656c 6573 7328 4941 502c 2047 6174 6577  eless(IAP, Gatew
-00018e20: 6179 7329 2063 6f6e 6669 6775 7261 7469  ays) configurati
-00018e30: 6f6e 2069 6e20 610a 2020 2020 2020 2020  on in a.        
-00018e40: 2020 2020 2020 2020 6772 6f75 7020 6973          group is
-00018e50: 206d 616e 6167 6564 2075 7369 6e67 2074   managed using t
-00018e60: 656d 706c 6174 6573 2e0a 2020 2020 2020  emplates..      
-00018e70: 2020 2020 2020 616f 7331 303a 2028 626f        aos10: (bo
-00018e80: 6f6c 293a 2069 6620 5472 7565 2075 7365  ol): if True use
-00018e90: 2041 4f53 3130 2061 7263 6869 7465 6374   AOS10 architect
-00018ea0: 7572 6520 666f 7220 7468 6520 6163 6365  ure for the acce
-00018eb0: 7373 2070 6f69 6e74 7320 616e 6420 6761  ss points and ga
-00018ec0: 7465 7761 7973 2069 6e20 7468 6520 6772  teways in the gr
-00018ed0: 6f75 702e 0a20 2020 2020 2020 2020 2020  oup..           
-00018ee0: 2020 2020 2064 6566 6175 6c74 2046 616c       default Fal
-00018ef0: 7365 2028 496e 7374 616e 7429 0a20 2020  se (Instant).   
-00018f00: 2020 2020 2020 2020 206d 6963 726f 6272           microbr
-00018f10: 616e 6368 2028 626f 6f6c 293a 2054 7275  anch (bool): Tru
-00018f20: 6520 746f 2065 6e61 626c 6520 4d69 6372  e to enable Micr
-00018f30: 6f62 7261 6e63 6820 6e65 7477 6f72 6b20  obranch network 
-00018f40: 726f 6c65 2066 6f72 2041 5073 2069 7320  role for APs is 
-00018f50: 6170 706c 6963 6162 6c65 206f 6e6c 7920  applicable only 
-00018f60: 666f 7220 414f 5331 3020 6172 6368 6974  for AOS10 archit
-00018f70: 6563 7475 7265 2e0a 2020 2020 2020 2020  ecture..        
-00018f80: 2020 2020 6777 5f72 6f6c 6520 2847 6174      gw_role (Gat
-00018f90: 6577 6179 526f 6c65 293a 2047 6174 6577  ewayRole): Gatew
-00018fa0: 6179 2072 6f6c 6520 7661 6c69 6420 7661  ay role valid va
-00018fb0: 6c75 6573 2022 6272 616e 6368 222c 2022  lues "branch", "
-00018fc0: 7670 6e63 222c 2022 776c 616e 2220 2822  vpnc", "wlan" ("
-00018fd0: 776c 616e 2220 6f6e 6c79 2076 616c 6964  wlan" only valid
-00018fe0: 206f 6e20 414f 5331 3020 6772 6f75 7029   on AOS10 group)
-00018ff0: 0a20 2020 2020 2020 2020 2020 206d 6f6e  .            mon
-00019000: 6974 6f72 5f6f 6e6c 795f 7377 3a20 4d6f  itor_only_sw: Mo
-00019010: 6e69 746f 7220 6f6e 6c79 2041 7275 6261  nitor only Aruba
-00019020: 4f53 2d53 5720 7377 6974 6368 6573 2c20  OS-SW switches, 
-00019030: 6170 706c 6965 7320 746f 2055 4920 6772  applies to UI gr
-00019040: 6f75 7020 6f6e 6c79 0a20 2020 2020 2020  oup only.       
-00019050: 2020 2020 206d 6f6e 6974 6f72 5f6f 6e6c       monitor_onl
-00019060: 795f 6378 3a20 4d6f 6e69 746f 7220 6f6e  y_cx: Monitor on
-00019070: 6c79 2041 7275 6261 4f53 2d43 5820 7377  ly ArubaOS-CX sw
-00019080: 6974 6368 6573 2c20 6170 706c 6965 7320  itches, applies 
-00019090: 746f 2055 4920 6772 6f75 7020 6f6e 6c79  to UI group only
-000190a0: 2028 4675 7475 7265 2063 6170 6162 696c   (Future capabil
-000190b0: 6974 7929 0a0a 2020 2020 2020 2020 5265  ity)..        Re
-000190c0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-000190d0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-000190e0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000190f0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00019100: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00019110: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-00019120: 6f6e 2f76 322f 6772 6f75 7073 2f7b 6772  on/v2/groups/{gr
-00019130: 6f75 707d 2f70 726f 7065 7274 6965 7322  oup}/properties"
-00019140: 0a0a 2020 2020 2020 2020 7265 7370 203d  ..        resp =
-00019150: 2061 7761 6974 2073 656c 662e 6765 745f   await self.get_
-00019160: 6772 6f75 7073 5f70 726f 7065 7274 6965  groups_propertie
-00019170: 7328 6772 6f75 7029 0a20 2020 2020 2020  s(group).       
-00019180: 2069 6620 7265 7370 3a0a 2020 2020 2020   if resp:.      
-00019190: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
-000191a0: 6e73 7461 6e63 6528 7265 7370 2e6f 7574  nstance(resp.out
-000191b0: 7075 742c 206c 6973 7429 3a0a 2020 2020  put, list):.    
-000191c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000191d0: 6520 5661 6c75 6545 7272 6f72 2866 2245  e ValueError(f"E
-000191e0: 7870 6563 7465 6420 6c69 7374 206f 6620  xpected list of 
-000191f0: 6469 6374 7320 6672 6f6d 2067 6574 5f67  dicts from get_g
-00019200: 726f 7570 735f 7072 6f70 6572 7469 6573  roups_properties
-00019210: 2067 6f74 207b 7479 7065 2872 6573 702e   got {type(resp.
-00019220: 6f75 7470 7574 297d 2229 0a20 2020 2020  output)}").     
-00019230: 2020 2020 2020 2063 7572 5f67 726f 7570         cur_group
-00019240: 5f70 726f 7073 203d 2072 6573 702e 6f75  _props = resp.ou
-00019250: 7470 7574 5b2d 315d 5b22 7072 6f70 6572  tput[-1]["proper
-00019260: 7469 6573 225d 0a20 2020 2020 2020 2065  ties"].        e
-00019270: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00019280: 206c 6f67 2e65 7272 6f72 2866 2255 6e61   log.error(f"Una
-00019290: 626c 6520 746f 2070 6572 666f 726d 2063  ble to perform c
-000192a0: 616c 6c20 746f 2075 7064 6174 6520 6772  all to update gr
-000192b0: 6f75 7020 7b67 726f 7570 7d20 7072 6f70  oup {group} prop
-000192c0: 6572 7469 6573 2e20 2043 616c 6c20 746f  erties.  Call to
-000192d0: 2067 6574 2063 7572 7265 6e74 2070 726f   get current pro
-000192e0: 7065 7274 6965 7320 6661 696c 6564 2e22  perties failed."
-000192f0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00019300: 7475 726e 2072 6573 700a 0a20 2020 2020  turn resp..     
-00019310: 2020 2069 6620 6375 725f 6772 6f75 705f     if cur_group_
-00019320: 7072 6f70 735b 2241 4f53 5665 7273 696f  props["AOSVersio
-00019330: 6e22 5d20 3d3d 2022 414f 535f 3130 5822  n"] == "AOS_10X"
-00019340: 2061 6e64 2061 6f73 3130 2069 7320 4661   and aos10 is Fa
-00019350: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00019360: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
-00019370: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00019380: 2020 6572 726f 723d 6622 7b67 726f 7570    error=f"{group
-00019390: 7d20 6973 2063 7572 7265 6e74 6c79 2061  } is currently a
-000193a0: 6e20 414f 5331 3020 6772 6f75 702e 2020  n AOS10 group.  
-000193b0: 5570 6772 6164 696e 6720 746f 2041 4f53  Upgrading to AOS
-000193c0: 3130 2069 7320 7375 7070 6f72 7465 642c  10 is supported,
-000193d0: 2072 6576 6572 7469 6e67 2062 6163 6b20   reverting back 
-000193e0: 6973 206e 6f74 2e22 2c0a 2020 2020 2020  is not.",.      
-000193f0: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
-00019400: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
-00019410: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00019420: 6966 2061 6f73 3130 2069 7320 5472 7565  if aos10 is True
-00019430: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00000170: 706c 652c 2055 6e69 6f6e 0a66 726f 6d20  ple, Union.from 
+00000180: 7961 726c 2069 6d70 6f72 7420 5552 4c0a  yarl import URL.
+00000190: 0a23 2066 726f 6d20 6169 6f68 7474 7020  .# from aiohttp 
+000001a0: 696d 706f 7274 2043 6c69 656e 7453 6573  import ClientSes
+000001b0: 7369 6f6e 0a69 6d70 6f72 7420 6169 6f68  sion.import aioh
+000001c0: 7474 700a 6672 6f6d 2070 7963 656e 7472  ttp.from pycentr
+000001d0: 616c 2e62 6173 655f 7574 696c 7320 696d  al.base_utils im
+000001e0: 706f 7274 2074 6f6b 656e 4c6f 6361 6c53  port tokenLocalS
+000001f0: 746f 7265 5574 696c 0a0a 6672 6f6d 202e  toreUtil..from .
+00000200: 2069 6d70 6f72 7420 2841 7275 6261 4365   import (ArubaCe
+00000210: 6e74 7261 6c42 6173 652c 204d 794c 6f67  ntralBase, MyLog
+00000220: 6765 722c 2063 6c65 616e 6572 2c20 636f  ger, cleaner, co
+00000230: 6e66 6967 2c20 636f 6e73 7461 6e74 732c  nfig, constants,
+00000240: 206c 6f67 2c0a 2020 2020 2020 2020 2020   log,.          
+00000250: 2020 2020 206d 6f64 656c 732c 2075 7469       models, uti
+00000260: 6c73 290a 6672 6f6d 202e 7574 696c 7320  ls).from .utils 
+00000270: 696d 706f 7274 204d 6163 0a66 726f 6d20  import Mac.from 
+00000280: 2e72 6573 706f 6e73 6520 696d 706f 7274  .response import
+00000290: 2052 6573 706f 6e73 652c 2053 6573 7369   Response, Sessi
+000002a0: 6f6e 0a66 726f 6d20 2e65 7863 6570 7469  on.from .excepti
+000002b0: 6f6e 7320 696d 706f 7274 2043 656e 7472  ons import Centr
+000002c0: 616c 436c 6945 7863 6570 7469 6f6e 0a23  alCliException.#
+000002d0: 2062 7572 6965 6420 696d 706f 7274 3a20   buried import: 
+000002e0: 7265 7175 6573 7473 2069 7320 696d 706f  requests is impo
+000002f0: 7274 6564 2069 6e20 6164 645f 7465 6d70  rted in add_temp
+00000300: 6c61 7465 2061 6e64 2063 6c6f 7564 6175  late and cloudau
+00000310: 7468 5f75 706c 6f61 6420 6173 2061 2077  th_upload as a w
+00000320: 6f72 6b61 726f 756e 6420 756e 7469 6c20  orkaround until 
+00000330: 6669 6775 7265 206f 7574 2061 696f 6874  figure out aioht
+00000340: 7470 2066 6f72 6d20 6461 7461 0a0a 0a0a  tp form data....
+00000350: 0a63 6f6c 6f72 203d 2075 7469 6c73 2e63  .color = utils.c
+00000360: 6f6c 6f72 0a0a 0a23 2068 7474 7073 3a2f  olor...# https:/
+00000370: 2f67 6974 6875 622e 636f 6d2f 6169 6f2d  /github.com/aio-
+00000380: 6c69 6273 2f61 696f 6874 7470 2f69 7373  libs/aiohttp/iss
+00000390: 7565 732f 3433 3234 0a64 6566 2073 696c  ues/4324.def sil
+000003a0: 656e 6365 5f65 7665 6e74 5f6c 6f6f 705f  ence_event_loop_
+000003b0: 636c 6f73 6564 2866 756e 6329 3a0a 2020  closed(func):.  
+000003c0: 2020 4077 7261 7073 2866 756e 6329 0a20    @wraps(func). 
+000003d0: 2020 2064 6566 2077 7261 7070 6572 2873     def wrapper(s
+000003e0: 656c 662c 202a 6172 6773 2c20 2a2a 6b77  elf, *args, **kw
+000003f0: 6172 6773 293a 0a20 2020 2020 2020 2074  args):.        t
+00000400: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00000410: 7265 7475 726e 2066 756e 6328 7365 6c66  return func(self
+00000420: 2c20 2a61 7267 732c 202a 2a6b 7761 7267  , *args, **kwarg
+00000430: 7329 0a20 2020 2020 2020 2065 7863 6570  s).        excep
+00000440: 7420 5275 6e74 696d 6545 7272 6f72 2061  t RuntimeError a
+00000450: 7320 653a 0a20 2020 2020 2020 2020 2020  s e:.           
+00000460: 2069 6620 7374 7228 6529 2021 3d20 2245   if str(e) != "E
+00000470: 7665 6e74 206c 6f6f 7020 6973 2063 6c6f  vent loop is clo
+00000480: 7365 6422 3a0a 2020 2020 2020 2020 2020  sed":.          
+00000490: 2020 2020 2020 7261 6973 650a 0a20 2020        raise..   
+000004a0: 2072 6574 7572 6e20 7772 6170 7065 720a   return wrapper.
+000004b0: 0a0a 5f50 726f 6163 746f 7242 6173 6550  .._ProactorBaseP
+000004c0: 6970 6554 7261 6e73 706f 7274 2e5f 5f64  ipeTransport.__d
+000004d0: 656c 5f5f 203d 2073 696c 656e 6365 5f65  el__ = silence_e
+000004e0: 7665 6e74 5f6c 6f6f 705f 636c 6f73 6564  vent_loop_closed
+000004f0: 285f 5072 6f61 6374 6f72 4261 7365 5069  (_ProactorBasePi
+00000500: 7065 5472 616e 7370 6f72 742e 5f5f 6465  peTransport.__de
+00000510: 6c5f 5f29 0a0a 0a44 4546 4155 4c54 5f54  l__)...DEFAULT_T
+00000520: 4f4b 454e 5f53 544f 5245 203d 207b 2274  OKEN_STORE = {"t
+00000530: 7970 6522 3a20 226c 6f63 616c 222c 2022  ype": "local", "
+00000540: 7061 7468 223a 2066 227b 636f 6e66 6967  path": f"{config
+00000550: 2e64 6972 2e6a 6f69 6e70 6174 6828 272e  .dir.joinpath('.
+00000560: 6361 6368 6527 297d 227d 0a44 4546 4155  cache')}"}.DEFAU
+00000570: 4c54 5f41 4343 4553 535f 5255 4c45 5320  LT_ACCESS_RULES 
+00000580: 3d20 7b0a 2020 2020 2241 4c4c 4f57 5f41  = {.    "ALLOW_A
+00000590: 4c4c 223a 205b 0a20 2020 2020 2020 207b  LL": [.        {
+000005a0: 0a20 2020 2020 2020 2020 2020 2022 6163  .            "ac
+000005b0: 7469 6f6e 223a 2022 616c 6c6f 7722 2c0a  tion": "allow",.
+000005c0: 2020 2020 2020 2020 2020 2020 2265 706f              "epo
+000005d0: 7274 223a 2022 616e 7922 2c0a 2020 2020  rt": "any",.    
+000005e0: 2020 2020 2020 2020 2269 7061 6464 7222          "ipaddr"
+000005f0: 3a20 2261 6e79 222c 0a20 2020 2020 2020  : "any",.       
+00000600: 2020 2020 2022 6d61 7463 6822 3a20 226d       "match": "m
+00000610: 6174 6368 222c 0a20 2020 2020 2020 2020  atch",.         
+00000620: 2020 2022 6e65 746d 6173 6b22 3a20 2261     "netmask": "a
+00000630: 6e79 222c 0a20 2020 2020 2020 2020 2020  ny",.           
+00000640: 2022 7072 6f74 6f63 6f6c 223a 2022 616e   "protocol": "an
+00000650: 7922 2c0a 2020 2020 2020 2020 2020 2020  y",.            
+00000660: 2273 6572 7669 6365 5f6e 616d 6522 3a20  "service_name": 
+00000670: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
+00000680: 2273 6572 7669 6365 5f74 7970 6522 3a20  "service_type": 
+00000690: 226e 6574 776f 726b 222c 0a20 2020 2020  "network",.     
+000006a0: 2020 2020 2020 2022 7370 6f72 7422 3a20         "sport": 
+000006b0: 2261 6e79 222c 0a20 2020 2020 2020 2020  "any",.         
+000006c0: 2020 2022 7468 726f 7474 6c65 5f64 6f77     "throttle_dow
+000006d0: 6e73 7472 6561 6d22 3a20 2222 2c0a 2020  nstream": "",.  
+000006e0: 2020 2020 2020 2020 2020 2274 6872 6f74            "throt
+000006f0: 746c 655f 7570 7374 7265 616d 223a 2022  tle_upstream": "
+00000700: 220a 2020 2020 2020 2020 7d0a 2020 2020  ".        }.    
+00000710: 5d2c 0a7d 0a0a 5354 4152 5420 3d20 7469  ],.}..START = ti
+00000720: 6d65 2e6d 6f6e 6f74 6f6e 6963 2829 0a0a  me.monotonic()..
+00000730: 636c 6173 7320 576c 616e 5479 7065 2873  class WlanType(s
+00000740: 7472 2c20 456e 756d 293a 0a20 2020 2065  tr, Enum):.    e
+00000750: 6d70 6c6f 7965 6520 3d20 2265 6d70 6c6f  mployee = "emplo
+00000760: 7965 6522 0a20 2020 2067 7565 7374 203d  yee".    guest =
+00000770: 2022 6775 6573 7422 0a0a 436c 6f75 6441   "guest"..CloudA
+00000780: 7574 6855 706c 6f61 6454 7970 6520 3d20  uthUploadType = 
+00000790: 636f 6e73 7461 6e74 732e 436c 6f75 6441  constants.CloudA
+000007a0: 7574 6855 706c 6f61 6454 7970 650a 0a64  uthUploadType..d
+000007b0: 6566 206d 756c 7469 7061 7274 6966 7928  ef multipartify(
+000007c0: 6461 7461 2c20 7061 7265 6e74 5f6b 6579  data, parent_key
+000007d0: 3d4e 6f6e 652c 2066 6f72 6d61 7474 6572  =None, formatter
+000007e0: 3a20 6361 6c6c 6162 6c65 203d 204e 6f6e  : callable = Non
+000007f0: 6529 202d 3e20 6469 6374 3a0a 2020 2020  e) -> dict:.    
+00000800: 6966 2066 6f72 6d61 7474 6572 2069 7320  if formatter is 
+00000810: 4e6f 6e65 3a0a 2020 2020 2020 2020 666f  None:.        fo
+00000820: 726d 6174 7465 7220 3d20 6c61 6d62 6461  rmatter = lambda
+00000830: 2076 3a20 284e 6f6e 652c 2076 2920 2023   v: (None, v)  #
+00000840: 206e 6f71 6120 4d75 6c74 6970 6172 7420   noqa Multipart 
+00000850: 7265 7072 6573 656e 7461 7469 6f6e 206f  representation o
+00000860: 6620 7661 6c75 650a 0a20 2020 2069 6620  f value..    if 
+00000870: 6e6f 7420 6973 696e 7374 616e 6365 2864  not isinstance(d
+00000880: 6174 612c 2064 6963 7429 3a0a 2020 2020  ata, dict):.    
+00000890: 2020 2020 7265 7475 726e 207b 7061 7265      return {pare
+000008a0: 6e74 5f6b 6579 3a20 666f 726d 6174 7465  nt_key: formatte
+000008b0: 7228 6461 7461 297d 0a0a 2020 2020 636f  r(data)}..    co
+000008c0: 6e76 6572 7465 6420 3d20 5b5d 0a0a 2020  nverted = []..  
+000008d0: 2020 666f 7220 6b65 792c 2076 616c 7565    for key, value
+000008e0: 2069 6e20 6461 7461 2e69 7465 6d73 2829   in data.items()
+000008f0: 3a0a 2020 2020 2020 2020 6375 7272 656e  :.        curren
+00000900: 745f 6b65 7920 3d20 6b65 7920 6966 2070  t_key = key if p
+00000910: 6172 656e 745f 6b65 7920 6973 204e 6f6e  arent_key is Non
+00000920: 6520 656c 7365 2066 227b 7061 7265 6e74  e else f"{parent
+00000930: 5f6b 6579 7d5b 7b6b 6579 7d5d 220a 2020  _key}[{key}]".  
+00000940: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00000950: 6e63 6528 7661 6c75 652c 2064 6963 7429  nce(value, dict)
+00000960: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00000970: 6e76 6572 7465 642e 6578 7465 6e64 286d  nverted.extend(m
+00000980: 756c 7469 7061 7274 6966 7928 7661 6c75  ultipartify(valu
+00000990: 652c 2063 7572 7265 6e74 5f6b 6579 2c20  e, current_key, 
+000009a0: 666f 726d 6174 7465 7229 2e69 7465 6d73  formatter).items
+000009b0: 2829 290a 2020 2020 2020 2020 656c 6966  ()).        elif
+000009c0: 2069 7369 6e73 7461 6e63 6528 7661 6c75   isinstance(valu
+000009d0: 652c 206c 6973 7429 3a0a 2020 2020 2020  e, list):.      
+000009e0: 2020 2020 2020 666f 7220 696e 642c 206c        for ind, l
+000009f0: 6973 745f 7661 6c75 6520 696e 2065 6e75  ist_value in enu
+00000a00: 6d65 7261 7465 2876 616c 7565 293a 0a20  merate(value):. 
+00000a10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00000a20: 7465 725f 6b65 7920 3d20 6622 7b63 7572  ter_key = f"{cur
+00000a30: 7265 6e74 5f6b 6579 7d5b 7b69 6e64 7d5d  rent_key}[{ind}]
+00000a40: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00000a50: 2020 636f 6e76 6572 7465 642e 6578 7465    converted.exte
+00000a60: 6e64 286d 756c 7469 7061 7274 6966 7928  nd(multipartify(
+00000a70: 6c69 7374 5f76 616c 7565 2c20 6974 6572  list_value, iter
+00000a80: 5f6b 6579 2c20 666f 726d 6174 7465 7229  _key, formatter)
+00000a90: 2e69 7465 6d73 2829 290a 2020 2020 2020  .items()).      
+00000aa0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00000ab0: 2020 2020 636f 6e76 6572 7465 642e 6170      converted.ap
+00000ac0: 7065 6e64 2828 6375 7272 656e 745f 6b65  pend((current_ke
+00000ad0: 792c 2066 6f72 6d61 7474 6572 2876 616c  y, formatter(val
+00000ae0: 7565 2929 290a 0a20 2020 2072 6574 7572  ue)))..    retur
+00000af0: 6e20 6469 6374 2863 6f6e 7665 7274 6564  n dict(converted
+00000b00: 290a 0a0a 6465 6620 6765 745f 636f 6e6e  )...def get_conn
+00000b10: 5f66 726f 6d5f 6669 6c65 2861 6363 6f75  _from_file(accou
+00000b20: 6e74 5f6e 616d 652c 206c 6f67 6765 723a  nt_name, logger:
+00000b30: 204d 794c 6f67 6765 7220 3d20 6c6f 6729   MyLogger = log)
+00000b40: 3a0a 2020 2020 2222 2243 7265 6174 6573  :.    """Creates
+00000b50: 2061 6e20 696e 7374 616e 6365 206f 6620   an instance of 
+00000b60: 636c 6173 7360 7079 6365 6e74 7261 6c2e  class`pycentral.
+00000b70: 4172 7562 6143 656e 7472 616c 4261 7365  ArubaCentralBase
+00000b80: 6020 6261 7365 6420 6f6e 2063 6f6e 6669  ` based on confi
+00000b90: 6720 6669 6c65 2e0a 0a20 2020 2070 726f  g file...    pro
+00000ba0: 7669 6465 6420 696e 2074 6865 2059 414d  vided in the YAM
+00000bb0: 4c2f 4a53 4f4e 2063 6f6e 6669 6720 6669  L/JSON config fi
+00000bc0: 6c65 3a0a 2020 2020 2020 2020 2a20 6b65  le:.        * ke
+00000bd0: 7977 6f72 6420 6365 6e74 7261 6c5f 696e  yword central_in
+00000be0: 666f 3a20 4120 6469 6374 2063 6f6e 7461  fo: A dict conta
+00000bf0: 696e 696e 6720 6172 6775 6d65 6e74 7320  ining arguments 
+00000c00: 6173 2061 6363 6570 7465 6420 6279 2063  as accepted by c
+00000c10: 6c61 7373 6070 7963 656e 7472 616c 2e41  lass`pycentral.A
+00000c20: 7275 6261 4365 6e74 7261 6c42 6173 6560  rubaCentralBase`
+00000c30: 0a20 2020 2020 2020 202a 206b 6579 776f  .        * keywo
+00000c40: 7264 2073 736c 5f76 6572 6966 793a 2041  rd ssl_verify: A
+00000c50: 2062 6f6f 6c65 616e 2077 6865 6e20 7365   boolean when se
+00000c60: 7420 746f 2054 7275 652c 2074 6865 2070  t to True, the p
+00000c70: 7974 686f 6e20 636c 6965 6e74 2076 616c  ython client val
+00000c80: 6964 6174 6573 2041 7275 6261 2043 656e  idates Aruba Cen
+00000c90: 7472 616c 2773 2053 534c 2063 6572 7473  tral's SSL certs
+00000ca0: 2e0a 2020 2020 2020 2020 2a20 6b65 7977  ..        * keyw
+00000cb0: 6f72 6420 746f 6b65 6e5f 7374 6f72 653a  ord token_store:
+00000cc0: 204f 7074 696f 6e61 6c2e 2044 6566 6175   Optional. Defau
+00000cd0: 6c74 7320 746f 204e 6f6e 652e 0a0a 2020  lts to None...  
+00000ce0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00000cf0: 6163 636f 756e 745f 6e61 6d65 2028 7374  account_name (st
+00000d00: 7229 3a20 4163 636f 756e 7420 6e61 6d65  r): Account name
+00000d10: 2064 6566 696e 6564 2069 6e20 7468 6520   defined in the 
+00000d20: 636f 6e66 6967 2066 696c 652e 0a20 2020  config file..   
+00000d30: 2020 2020 206c 6f67 6765 7220 284d 794c       logger (MyL
+00000d40: 6f67 6765 722c 206f 7074 696f 6e61 6c29  ogger, optional)
+00000d50: 3a20 6c6f 6720 6d65 7468 6f64 2e20 4465  : log method. De
+00000d60: 6661 756c 7473 2074 6f20 6c6f 672e 0a0a  faults to log...
+00000d70: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00000d80: 2020 2020 205b 7079 6365 6e74 7261 6c2e       [pycentral.
+00000d90: 4172 7562 6143 656e 7472 616c 4261 7365  ArubaCentralBase
+00000da0: 5d3a 2041 6e20 696e 7374 616e 6365 206f  ]: An instance o
+00000db0: 6620 636c 6173 733a 6070 7963 656e 7472  f class:`pycentr
+00000dc0: 616c 2e41 7275 6261 4365 6e74 7261 6c42  al.ArubaCentralB
+00000dd0: 6173 6560 2c0a 2020 2020 2020 2020 2020  ase`,.          
+00000de0: 2020 5573 6564 2074 6f20 6d61 6e61 6765    Used to manage
+00000df0: 2041 7574 6820 616e 6420 546f 6b65 6e73   Auth and Tokens
+00000e00: 2e0a 2020 2020 2222 220a 2020 2020 6966  ..    """.    if
+00000e10: 2061 6363 6f75 6e74 5f6e 616d 6520 696e   account_name in
+00000e20: 2063 6f6e 6669 672e 6461 7461 3a0a 2020   config.data:.  
+00000e30: 2020 2020 2020 6365 6e74 7261 6c5f 696e        central_in
+00000e40: 666f 203d 2063 6f6e 6669 672e 6461 7461  fo = config.data
+00000e50: 5b61 6363 6f75 6e74 5f6e 616d 655d 0a20  [account_name]. 
+00000e60: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00000e70: 2023 2041 6363 6f75 6e74 206e 616d 6520   # Account name 
+00000e80: 6361 6c6c 6261 636b 2077 696c 6c20 6b69  callback will ki
+00000e90: 636b 2062 6163 6b20 6572 726f 7273 0a20  ck back errors. 
+00000ea0: 2020 2020 2020 2023 2066 616c 6c69 6e67         # falling
+00000eb0: 2062 6163 6b20 746f 2064 6566 6175 6c74   back to default
+00000ec0: 2066 6f72 206c 6f61 6420 6f66 2063 656e   for load of cen
+00000ed0: 7472 616c 2066 6f72 2061 7574 6f20 636f  tral for auto co
+00000ee0: 6d70 6c65 7469 6f6e 0a20 2020 2020 2020  mpletion.       
+00000ef0: 2063 656e 7472 616c 5f69 6e66 6f20 3d20   central_info = 
+00000f00: 636f 6e66 6967 2e64 6174 615b 2263 656e  config.data["cen
+00000f10: 7472 616c 5f69 6e66 6f22 5d0a 2020 2020  tral_info"].    
+00000f20: 746f 6b65 6e5f 7374 6f72 6520 3d20 636f  token_store = co
+00000f30: 6e66 6967 2e74 6f6b 656e 5f73 746f 7265  nfig.token_store
+00000f40: 0a20 2020 2073 736c 5f76 6572 6966 7920  .    ssl_verify 
+00000f50: 3d20 6365 6e74 7261 6c5f 696e 666f 2e67  = central_info.g
+00000f60: 6574 2822 7373 6c5f 7665 7269 6679 222c  et("ssl_verify",
+00000f70: 2063 6f6e 6669 672e 6461 7461 2e67 6574   config.data.get
+00000f80: 2822 7373 6c5f 7665 7269 6679 222c 2054  ("ssl_verify", T
+00000f90: 7275 6529 290a 0a20 2020 2063 6f6e 6e20  rue))..    conn 
+00000fa0: 3d20 4172 7562 6143 656e 7472 616c 4261  = ArubaCentralBa
+00000fb0: 7365 2863 656e 7472 616c 5f69 6e66 6f2c  se(central_info,
+00000fc0: 2074 6f6b 656e 5f73 746f 7265 3d74 6f6b   token_store=tok
+00000fd0: 656e 5f73 746f 7265 2c20 6c6f 6767 6572  en_store, logger
+00000fe0: 3d6c 6f67 6765 722c 2073 736c 5f76 6572  =logger, ssl_ver
+00000ff0: 6966 793d 7373 6c5f 7665 7269 6679 290a  ify=ssl_verify).
+00001000: 2020 2020 746f 6b65 6e5f 6361 6368 6520      token_cache 
+00001010: 3d20 5061 7468 2874 6f6b 656e 4c6f 6361  = Path(tokenLoca
+00001020: 6c53 746f 7265 5574 696c 2874 6f6b 656e  lStoreUtil(token
+00001030: 5f73 746f 7265 2c20 6365 6e74 7261 6c5f  _store, central_
+00001040: 696e 666f 5b22 6375 7374 6f6d 6572 5f69  info["customer_i
+00001050: 6422 5d2c 2063 656e 7472 616c 5f69 6e66  d"], central_inf
+00001060: 6f5b 2263 6c69 656e 745f 6964 225d 2929  o["client_id"]))
+00001070: 0a0a 2020 2020 2320 616c 7761 7973 2063  ..    # always c
+00001080: 7265 6174 6520 746f 6b65 6e20 6361 6368  reate token cach
+00001090: 6520 6966 2069 7420 646f 6573 6e27 7420  e if it doesn't 
+000010a0: 6578 6973 7420 616e 6420 616c 7761 7973  exist and always
+000010b0: 2075 7365 2069 7420 6669 7273 740a 2020   use it first.  
+000010c0: 2020 2320 686f 7765 7665 7220 6966 2063    # however if c
+000010d0: 6f6e 6669 6720 6861 7320 6265 656e 206d  onfig has been m
+000010e0: 6f64 6966 6965 6420 6d6f 7265 2072 6563  odified more rec
+000010f0: 656e 746c 7920 616e 7920 746f 6b65 6e73  ently any tokens
+00001100: 2069 6e20 7468 6520 636f 6e66 6967 2077   in the config w
+00001110: 696c 6c20 6265 2074 7269 6564 2066 6972  ill be tried fir
+00001120: 7374 0a20 2020 2023 2069 6620 626f 7468  st.    # if both
+00001130: 2066 6169 6c20 7573 6572 2077 696c 6c20   fail user will 
+00001140: 6265 2070 726f 6d70 7465 6420 666f 7220  be prompted for 
+00001150: 746f 6b65 6e20 6966 206e 6f20 7573 6572  token if no user
+00001160: 2f70 6173 7320 6f72 206f 6e20 496e 7465  /pass or on Inte
+00001170: 726e 616c 2043 6c75 7374 6572 2e0a 2020  rnal Cluster..  
+00001180: 2020 6966 2074 6f6b 656e 5f63 6163 6865    if token_cache
+00001190: 2e69 735f 6669 6c65 2829 3a0a 2020 2020  .is_file():.    
+000011a0: 2020 2020 6361 6368 655f 746f 6b65 6e20      cache_token 
+000011b0: 3d20 636f 6e6e 2e6c 6f61 6454 6f6b 656e  = conn.loadToken
+000011c0: 2829 0a20 2020 2020 2020 2069 6620 6361  ().        if ca
+000011d0: 6368 655f 746f 6b65 6e3a 0a20 2020 2020  che_token:.     
+000011e0: 2020 2020 2020 2069 6620 746f 6b65 6e5f         if token_
+000011f0: 6361 6368 652e 7374 6174 2829 2e73 745f  cache.stat().st_
+00001200: 6d74 696d 6520 3e20 636f 6e66 6967 2e66  mtime > config.f
+00001210: 696c 652e 7374 6174 2829 2e73 745f 6d74  ile.stat().st_mt
+00001220: 696d 653a 0a20 2020 2020 2020 2020 2020  ime:.           
+00001230: 2020 2020 2063 6f6e 6e2e 6365 6e74 7261       conn.centra
+00001240: 6c5f 696e 666f 5b22 7265 7472 795f 746f  l_info["retry_to
+00001250: 6b65 6e22 5d20 3d20 636f 6e6e 2e63 656e  ken"] = conn.cen
+00001260: 7472 616c 5f69 6e66 6f5b 2274 6f6b 656e  tral_info["token
+00001270: 225d 0a20 2020 2020 2020 2020 2020 2020  "].             
+00001280: 2020 2063 6f6e 6e2e 6365 6e74 7261 6c5f     conn.central_
+00001290: 696e 666f 5b22 746f 6b65 6e22 5d20 3d20  info["token"] = 
+000012a0: 6361 6368 655f 746f 6b65 6e0a 2020 2020  cache_token.    
+000012b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000012c0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000012d0: 6e6e 2e63 656e 7472 616c 5f69 6e66 6f5b  nn.central_info[
+000012e0: 2272 6574 7279 5f74 6f6b 656e 225d 203d  "retry_token"] =
+000012f0: 2063 6163 6865 5f74 6f6b 656e 0a0a 2020   cache_token..  
+00001300: 2020 2020 2020 2020 2020 2320 436f 6d70            # Comp
+00001310: 6172 6520 746f 6b65 6e73 2061 6e64 2072  are tokens and r
+00001320: 656d 6f76 6520 7265 7472 7920 746f 6b65  emove retry toke
+00001330: 6e20 6966 2074 6865 7920 6172 6520 7468  n if they are th
+00001340: 6520 7361 6d65 2e20 2052 6172 6520 7363  e same.  Rare sc
+00001350: 656e 6172 696f 0a20 2020 2020 2020 2020  enario.         
+00001360: 2020 2069 6620 636f 6e6e 2e63 656e 7472     if conn.centr
+00001370: 616c 5f69 6e66 6f5b 2272 6574 7279 5f74  al_info["retry_t
+00001380: 6f6b 656e 225d 5b22 7265 6672 6573 685f  oken"]["refresh_
+00001390: 746f 6b65 6e22 5d20 3d3d 2063 6f6e 6e2e  token"] == conn.
+000013a0: 6365 6e74 7261 6c5f 696e 666f 5b22 746f  central_info["to
+000013b0: 6b65 6e22 5d5b 2272 6566 7265 7368 5f74  ken"]["refresh_t
+000013c0: 6f6b 656e 225d 3a0a 2020 2020 2020 2020  oken"]:.        
+000013d0: 2020 2020 2020 2020 6465 6c20 636f 6e6e          del conn
+000013e0: 2e63 656e 7472 616c 5f69 6e66 6f5b 2272  .central_info["r
+000013f0: 6574 7279 5f74 6f6b 656e 225d 0a20 2020  etry_token"].   
+00001400: 2065 6c73 653a 0a20 2020 2020 2020 2069   else:.        i
+00001410: 6620 6e6f 7420 636f 6e6e 2e73 746f 7265  f not conn.store
+00001420: 546f 6b65 6e28 636f 6e6e 2e63 656e 7472  Token(conn.centr
+00001430: 616c 5f69 6e66 6f2e 6765 7428 2274 6f6b  al_info.get("tok
+00001440: 656e 2229 293a 0a20 2020 2020 2020 2020  en")):.         
+00001450: 2020 206c 6f67 2e77 6172 6e69 6e67 2822     log.warning("
+00001460: 4661 696c 6564 2074 6f20 5374 6f72 6520  Failed to Store 
+00001470: 546f 6b65 6e20 616e 6420 746f 6b65 6e20  Token and token 
+00001480: 6361 6368 6520 646f 6573 6e27 7420 6578  cache doesn't ex
+00001490: 6973 7420 7965 742e 222c 2073 686f 773d  ist yet.", show=
+000014a0: 5472 7565 290a 0a20 2020 2072 6574 7572  True)..    retur
+000014b0: 6e20 636f 6e6e 0a0a 636c 6173 7320 4365  n conn..class Ce
+000014c0: 6e74 7261 6c41 7069 2853 6573 7369 6f6e  ntralApi(Session
+000014d0: 293a 0a20 2020 2064 6566 205f 5f69 6e69  ):.    def __ini
+000014e0: 745f 5f28 7365 6c66 2c20 6163 636f 756e  t__(self, accoun
+000014f0: 745f 6e61 6d65 3a20 7374 7220 3d20 2263  t_name: str = "c
+00001500: 656e 7472 616c 5f69 6e66 6f22 293a 0a20  entral_info"):. 
+00001510: 2020 2020 2020 2073 656c 662e 7369 6c65         self.sile
+00001520: 6e74 203d 2046 616c 7365 2020 2320 746f  nt = False  # to
+00001530: 6767 6c65 6420 696e 205f 6261 7463 685f  ggled in _batch_
+00001540: 7265 7175 6573 7420 746f 2073 7175 656c  request to squel
+00001550: 6368 2041 7574 6f20 6c6f 6767 696e 6720  ch Auto logging 
+00001560: 696e 2052 6573 706f 6e73 650a 2020 2020  in Response.    
+00001570: 2020 2020 6966 2063 6f6e 6669 672e 7661      if config.va
+00001580: 6c69 6420 616e 6420 636f 6e73 7461 6e74  lid and constant
+00001590: 732e 646f 5f6c 6f61 645f 7079 6365 6e74  s.do_load_pycent
+000015a0: 7261 6c28 293a 0a20 2020 2020 2020 2020  ral():.         
+000015b0: 2020 2073 656c 662e 6175 7468 203d 2067     self.auth = g
+000015c0: 6574 5f63 6f6e 6e5f 6672 6f6d 5f66 696c  et_conn_from_fil
+000015d0: 6528 6163 636f 756e 745f 6e61 6d65 290a  e(account_name).
+000015e0: 2020 2020 2020 2020 2020 2020 7375 7065              supe
+000015f0: 7228 292e 5f5f 696e 6974 5f5f 2861 7574  r().__init__(aut
+00001600: 683d 7365 6c66 2e61 7574 6829 0a0a 2020  h=self.auth)..  
+00001610: 2020 4073 7461 7469 636d 6574 686f 640a    @staticmethod.
+00001620: 2020 2020 6465 6620 5f6d 616b 655f 666f      def _make_fo
+00001630: 726d 5f64 6174 6128 6461 7461 3a20 6469  rm_data(data: di
+00001640: 6374 293a 0a20 2020 2020 2020 2023 2054  ct):.        # T
+00001650: 4f44 4f20 686f 7720 746f 2070 6163 6b61  ODO how to packa
+00001660: 6765 2070 7974 686f 6e20 6461 7461 2073  ge python data s
+00001670: 7472 7563 7420 696e 746f 2066 6f72 6d2d  truct into form-
+00001680: 6461 7461 2066 6f72 2041 5049 2063 616c  data for API cal
+00001690: 6c0a 2020 2020 2020 2020 2320 692e 652e  l.        # i.e.
+000016a0: 2075 7064 6174 655f 7661 7269 6162 6c65   update_variable
+000016b0: 730a 2020 2020 2020 2020 666f 726d 203d  s.        form =
+000016c0: 2061 696f 6874 7470 2e46 6f72 6d44 6174   aiohttp.FormDat
+000016d0: 6128 290a 2020 2020 2020 2020 666f 7220  a().        for 
+000016e0: 6b65 792c 2076 616c 7565 2069 6e20 6461  key, value in da
+000016f0: 7461 2e69 7465 6d73 2829 3a0a 2020 2020  ta.items():.    
+00001700: 2020 2020 2020 2020 666f 726d 2e61 6464          form.add
+00001710: 5f66 6965 6c64 280a 2020 2020 2020 2020  _field(.        
+00001720: 2020 2020 2020 2020 6b65 792c 0a20 2020          key,.   
+00001730: 2020 2020 2020 2020 2020 2020 206a 736f               jso
+00001740: 6e2e 6475 6d70 7328 7661 6c75 6529 2069  n.dumps(value) i
+00001750: 6620 6973 696e 7374 616e 6365 2876 616c  f isinstance(val
+00001760: 7565 2c20 286c 6973 742c 2064 6963 7429  ue, (list, dict)
+00001770: 2920 656c 7365 2076 616c 7565 2c0a 2020  ) else value,.  
+00001780: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00001790: 6e74 656e 745f 7479 7065 3d22 6d75 6c74  ntent_type="mult
+000017a0: 6970 6172 742f 666f 726d 2d64 6174 6122  ipart/form-data"
+000017b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000017c0: 2020 6669 6c65 6e61 6d65 3d22 7570 6c6f    filename="uplo
+000017d0: 6164 220a 2020 2020 2020 2020 2020 2020  ad".            
+000017e0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+000017f0: 6e20 666f 726d 0a0a 2020 2020 4073 7461  n form..    @sta
+00001800: 7469 636d 6574 686f 640a 2020 2020 6465  ticmethod.    de
+00001810: 6620 7374 7269 705f 6e6f 6e65 285f 6469  f strip_none(_di
+00001820: 6374 3a20 556e 696f 6e5b 6469 6374 2c20  ct: Union[dict, 
+00001830: 4e6f 6e65 5d29 202d 3e20 556e 696f 6e5b  None]) -> Union[
+00001840: 6469 6374 2c20 4e6f 6e65 5d3a 0a20 2020  dict, None]:.   
+00001850: 2020 2020 2022 2222 7374 7269 7020 616c       """strip al
+00001860: 6c20 6b65 7973 2066 726f 6d20 6120 6469  l keys from a di
+00001870: 6374 2077 6865 7265 2076 616c 7565 2069  ct where value i
+00001880: 7320 4e6f 6e65 5479 7065 2222 220a 2020  s NoneType""".  
+00001890: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
+000018a0: 6e73 7461 6e63 6528 5f64 6963 742c 2064  nstance(_dict, d
+000018b0: 6963 7429 3a0a 2020 2020 2020 2020 2020  ict):.          
+000018c0: 2020 7265 7475 726e 205f 6469 6374 0a0a    return _dict..
+000018d0: 2020 2020 2020 2020 7265 7475 726e 207b          return {
+000018e0: 6b3a 2076 2066 6f72 206b 2c20 7620 696e  k: v for k, v in
+000018f0: 205f 6469 6374 2e69 7465 6d73 2829 2069   _dict.items() i
+00001900: 6620 7620 6973 206e 6f74 204e 6f6e 657d  f v is not None}
+00001910: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00001920: 6765 745f 7377 6172 6d73 280a 2020 2020  get_swarms(.    
+00001930: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00001940: 2020 6772 6f75 703a 2073 7472 203d 204e    group: str = N
+00001950: 6f6e 652c 0a20 2020 2020 2020 2073 7461  one,.        sta
+00001960: 7475 733a 2073 7472 203d 204e 6f6e 652c  tus: str = None,
+00001970: 0a20 2020 2020 2020 2070 7562 6c69 635f  .        public_
+00001980: 6970 5f61 6464 7265 7373 3a20 7374 7220  ip_address: str 
+00001990: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000019a0: 6669 656c 6473 3a20 7374 7220 3d20 4e6f  fields: str = No
+000019b0: 6e65 2c0a 2020 2020 2020 2020 6361 6c63  ne,.        calc
+000019c0: 756c 6174 655f 746f 7461 6c3a 2062 6f6f  ulate_total: boo
+000019d0: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2020  l = None,.      
+000019e0: 2020 736f 7274 3a20 7374 7220 3d20 4e6f    sort: str = No
+000019f0: 6e65 2c0a 2020 2020 2020 2020 7377 6172  ne,.        swar
+00001a00: 6d5f 6e61 6d65 3a20 7374 7220 3d20 4e6f  m_name: str = No
+00001a10: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
+00001a20: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
+00001a30: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+00001a40: 3d20 3130 302c 0a20 2020 2029 202d 3e20  = 100,.    ) -> 
+00001a50: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00001a60: 2020 2222 224c 6973 7420 5377 6172 6d73    """List Swarms
+00001a70: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00001a80: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+00001a90: 7570 2028 7374 722c 206f 7074 696f 6e61  up (str, optiona
+00001aa0: 6c29 3a20 4669 6c74 6572 2062 7920 6772  l): Filter by gr
+00001ab0: 6f75 7020 6e61 6d65 0a20 2020 2020 2020  oup name.       
+00001ac0: 2020 2020 2073 7461 7475 7320 2873 7472       status (str
+00001ad0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00001ae0: 7465 7220 6279 2053 7761 726d 2073 7461  ter by Swarm sta
+00001af0: 7475 730a 2020 2020 2020 2020 2020 2020  tus.            
+00001b00: 7075 626c 6963 5f69 705f 6164 6472 6573  public_ip_addres
+00001b10: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
+00001b20: 293a 2046 696c 7465 7220 6279 2070 7562  ): Filter by pub
+00001b30: 6c69 6320 6970 2061 6464 7265 7373 0a20  lic ip address. 
+00001b40: 2020 2020 2020 2020 2020 2066 6965 6c64             field
+00001b50: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
+00001b60: 293a 2043 6f6d 6d61 2073 6570 6172 6174  ): Comma separat
+00001b70: 6564 206c 6973 7420 6f66 2066 6965 6c64  ed list of field
+00001b80: 7320 746f 2062 6520 7265 7475 726e 6564  s to be returned
+00001b90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001ba0: 2056 616c 6964 2066 6965 6c64 7320 6172   Valid fields ar
+00001bb0: 653a 2073 7461 7475 732c 2069 705f 6164  e: status, ip_ad
+00001bc0: 6472 6573 732c 2070 7562 6c69 635f 6970  dress, public_ip
+00001bd0: 5f61 6464 7265 7373 2c20 6669 726d 7761  _address, firmwa
+00001be0: 7265 5f76 6572 7369 6f6e 0a20 2020 2020  re_version.     
+00001bf0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+00001c00: 5f74 6f74 616c 2028 626f 6f6c 2c20 6f70  _total (bool, op
+00001c10: 7469 6f6e 616c 293a 2057 6865 7468 6572  tional): Whether
+00001c20: 2074 6f20 6361 6c63 756c 6174 6520 746f   to calculate to
+00001c30: 7461 6c20 5377 6172 6d73 0a20 2020 2020  tal Swarms.     
+00001c40: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
+00001c50: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
+00001c60: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
+00001c70: 6265 206f 6e65 206f 6620 2b73 7761 726d  be one of +swarm
+00001c80: 5f69 642c 202d 7377 6172 6d5f 6964 0a20  _id, -swarm_id. 
+00001c90: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+00001ca0: 5f6e 616d 6520 2873 7472 2c20 6f70 7469  _name (str, opti
+00001cb0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00001cc0: 2073 7761 726d 206e 616d 650a 2020 2020   swarm name.    
+00001cd0: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
+00001ce0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00001cf0: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
+00001d00: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
+00001d10: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+00001d20: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+00001d30: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
+00001d40: 696d 6974 2e20 4465 6661 756c 7420 6973  imit. Default is
+00001d50: 2031 3030 2061 6e64 206d 6178 2069 7320   100 and max is 
+00001d60: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
+00001d70: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
+00001d80: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00001d90: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00001da0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00001db0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00001dc0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00001dd0: 203d 2022 2f6d 6f6e 6974 6f72 696e 672f   = "/monitoring/
+00001de0: 7631 2f73 7761 726d 7322 0a0a 2020 2020  v1/swarms"..    
+00001df0: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00001e00: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
+00001e10: 7027 3a20 6772 6f75 702c 0a20 2020 2020  p': group,.     
+00001e20: 2020 2020 2020 2027 7374 6174 7573 273a         'status':
+00001e30: 2073 7461 7475 732c 0a20 2020 2020 2020   status,.       
+00001e40: 2020 2020 2027 7075 626c 6963 5f69 705f       'public_ip_
+00001e50: 6164 6472 6573 7327 3a20 7075 626c 6963  address': public
+00001e60: 5f69 705f 6164 6472 6573 732c 0a20 2020  _ip_address,.   
+00001e70: 2020 2020 2020 2020 2027 6669 656c 6473           'fields
+00001e80: 273a 2066 6965 6c64 732c 0a20 2020 2020  ': fields,.     
+00001e90: 2020 2020 2020 2027 6361 6c63 756c 6174         'calculat
+00001ea0: 655f 746f 7461 6c27 3a20 6361 6c63 756c  e_total': calcul
+00001eb0: 6174 655f 746f 7461 6c2c 0a20 2020 2020  ate_total,.     
+00001ec0: 2020 2020 2020 2027 736f 7274 273a 2073         'sort': s
+00001ed0: 6f72 742c 0a20 2020 2020 2020 2020 2020  ort,.           
+00001ee0: 2027 7377 6172 6d5f 6e61 6d65 273a 2073   'swarm_name': s
+00001ef0: 7761 726d 5f6e 616d 652c 0a20 2020 2020  warm_name,.     
+00001f00: 2020 2020 2020 2027 6f66 6673 6574 273a         'offset':
+00001f10: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
+00001f20: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
+00001f30: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
+00001f40: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00001f50: 7574 696c 732e 7374 7269 705f 6e6f 6e65  utils.strip_none
+00001f60: 2870 6172 616d 7329 0a0a 2020 2020 2020  (params)..      
+00001f70: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00001f80: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00001f90: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+00001fa0: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
+00001fb0: 7761 726d 5f64 6574 6169 6c73 2873 656c  warm_details(sel
+00001fc0: 662c 2073 7761 726d 5f69 643a 2073 7472  f, swarm_id: str
+00001fd0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00001fe0: 2020 2020 2020 2022 2222 5377 6172 6d20         """Swarm 
+00001ff0: 4465 7461 696c 732e 0a0a 2020 2020 2020  Details...      
+00002000: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00002010: 2020 2020 7377 6172 6d5f 6964 2028 7374      swarm_id (st
+00002020: 7229 3a20 5377 6172 6d20 4944 0a0a 2020  r): Swarm ID..  
+00002030: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00002040: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00002050: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00002060: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00002070: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00002080: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
+00002090: 6974 6f72 696e 672f 7631 2f73 7761 726d  itoring/v1/swarm
+000020a0: 732f 7b73 7761 726d 5f69 647d 220a 0a20  s/{swarm_id}".. 
+000020b0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000020c0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+000020d0: 290a 0a20 2020 2023 2054 4f44 4f20 6e6f  )..    # TODO no
+000020e0: 7420 6120 6661 6e20 6f66 202a 6172 6773  t a fan of *args
+000020f0: 2073 6565 2069 6620 7765 2063 616e 2064   see if we can d
+00002100: 6566 696e 6520 616c 6c20 7061 7261 6d73  efine all params
+00002110: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+00002120: 6574 5f63 6c69 656e 7473 280a 2020 2020  et_clients(.    
+00002130: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00002140: 2020 2a61 7267 733a 2054 7570 6c65 5b73    *args: Tuple[s
+00002150: 7472 5d2c 0a20 2020 2020 2020 2067 726f  tr],.        gro
+00002160: 7570 3a20 7374 7220 3d20 4e6f 6e65 2c0a  up: str = None,.
+00002170: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
+00002180: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00002190: 2020 2020 2020 6c61 6265 6c3a 2073 7472        label: str
+000021a0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000021b0: 206e 6574 776f 726b 3a20 7374 7220 3d20   network: str = 
+000021c0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
+000021d0: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
+000021e0: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+000021f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00002200: 2020 2020 6f73 5f74 7970 653a 2073 7472      os_type: str
+00002210: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00002220: 2073 7461 636b 5f69 643a 2073 7472 203d   stack_id: str =
+00002230: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+00002240: 6c75 7374 6572 5f69 643a 2073 7472 203d  luster_id: str =
+00002250: 204e 6f6e 652c 0a20 2020 2020 2020 2062   None,.        b
+00002260: 616e 643a 2073 7472 203d 204e 6f6e 652c  and: str = None,
+00002270: 0a20 2020 2020 2020 206d 6163 3a20 7374  .        mac: st
+00002280: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00002290: 2020 2320 736f 7274 5f62 793a 2073 7472    # sort_by: str
+000022a0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000022b0: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+000022c0: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+000022d0: 2069 6e74 203d 2031 3030 302c 0a20 2020   int = 1000,.   
+000022e0: 2020 2020 2023 202a 2a6b 7761 7267 732c       # **kwargs,
+000022f0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00002300: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
+00002310: 6574 2043 6c69 656e 7473 2064 6574 6169  et Clients detai
+00002320: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
+00002330: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+00002340: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00002350: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00002360: 4772 6f75 702e 2044 6566 6175 6c74 7320  Group. Defaults 
+00002370: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00002380: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
+00002390: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+000023a0: 696c 7465 7220 6279 2073 7761 726d 2e20  ilter by swarm. 
+000023b0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+000023c0: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
+000023d0: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
+000023e0: 616c 293a 2046 696c 7465 7220 6279 206c  al): Filter by l
+000023f0: 6162 656c 2e20 4465 6661 756c 7473 2074  abel. Defaults t
+00002400: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00002410: 2020 2020 6e65 7477 6f72 6b20 2873 7472      network (str
+00002420: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00002430: 7465 7220 6279 2057 4c41 4e20 5353 4944  ter by WLAN SSID
+00002440: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00002450: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+00002460: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
+00002470: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00002480: 7369 7465 2e20 4465 6661 756c 7473 2074  site. Defaults t
+00002490: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+000024a0: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
+000024b0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+000024c0: 6572 2062 7920 636f 6e6e 6563 7465 6420  er by connected 
+000024d0: 6465 7669 6365 2073 6572 6961 6c2e 2044  device serial. D
+000024e0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+000024f0: 0a20 2020 2020 2020 2020 2020 206f 735f  .            os_
+00002500: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+00002510: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00002520: 636c 6965 6e74 204f 5320 7479 7065 2e20  client OS type. 
+00002530: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00002540: 2e0a 2020 2020 2020 2020 2020 2020 7374  ..            st
+00002550: 6163 6b5f 6964 2028 7374 722c 206f 7074  ack_id (str, opt
+00002560: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+00002570: 7920 5374 6163 6b20 4944 2e20 4465 6661  y Stack ID. Defa
+00002580: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+00002590: 2020 2020 2020 2020 2020 636c 7573 7465            cluste
+000025a0: 725f 6964 2028 7374 722c 206f 7074 696f  r_id (str, optio
+000025b0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+000025c0: 436c 7573 7465 7220 4944 2e20 4465 6661  Cluster ID. Defa
+000025d0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+000025e0: 2020 2020 2020 2020 2020 6261 6e64 2028            band (
+000025f0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00002600: 4669 6c74 6572 2062 7920 6261 6e64 2e20  Filter by band. 
+00002610: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00002620: 2e0a 2020 2020 2020 2020 2020 2020 6d61  ..            ma
+00002630: 6320 2873 7472 2c20 6f70 7469 6f6e 616c  c (str, optional
+00002640: 293a 2046 696c 7465 7220 6279 2063 6c69  ): Filter by cli
+00002650: 656e 7420 4d41 432e 2044 6566 6175 6c74  ent MAC. Default
+00002660: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+00002670: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
+00002680: 6e74 2c20 6f70 7469 6f6e 616c 293a 2041  nt, optional): A
+00002690: 5049 2050 6167 696e 6720 6f66 6673 6574  PI Paging offset
+000026a0: 2e20 4465 6661 756c 7473 2074 6f20 302e  . Defaults to 0.
+000026b0: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+000026c0: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+000026d0: 6c29 3a20 4150 4920 7265 636f 7264 206c  l): API record l
+000026e0: 696d 6974 2070 6572 2072 6571 7565 7374  imit per request
+000026f0: 2e20 4465 6661 756c 7473 2074 6f20 3130  . Defaults to 10
+00002700: 3030 204d 6178 2031 3030 302e 0a0a 2020  00 Max 1000...  
+00002710: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00002720: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00002730: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00002740: 5265 7370 6f6e 7365 204f 626a 6563 740a  Response Object.
+00002750: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00002760: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00002770: 2020 2020 2020 2020 2020 2022 6772 6f75             "grou
+00002780: 7022 3a20 6772 6f75 702c 0a20 2020 2020  p": group,.     
+00002790: 2020 2020 2020 2022 7377 6172 6d5f 6964         "swarm_id
+000027a0: 223a 2073 7761 726d 5f69 642c 0a20 2020  ": swarm_id,.   
+000027b0: 2020 2020 2020 2020 2022 6c61 6265 6c22           "label"
+000027c0: 3a20 6c61 6265 6c2c 0a20 2020 2020 2020  : label,.       
+000027d0: 2020 2020 2022 7369 7465 223a 2073 6974       "site": sit
+000027e0: 652c 0a20 2020 2020 2020 2020 2020 2022  e,.            "
+000027f0: 7365 7269 616c 223a 2073 6572 6961 6c2c  serial": serial,
+00002800: 0a20 2020 2020 2020 2020 2020 2022 636c  .            "cl
+00002810: 7573 7465 725f 6964 223a 2063 6c75 7374  uster_id": clust
+00002820: 6572 5f69 642c 0a20 2020 2020 2020 2020  er_id,.         
+00002830: 2020 2023 2027 6669 656c 6473 273a 2066     # 'fields': f
+00002840: 6965 6c64 732c 0a20 2020 2020 2020 2020  ields,.         
+00002850: 2020 2023 2027 736f 7274 5f62 7927 3a20     # 'sort_by': 
+00002860: 736f 7274 5f62 792c 0a20 2020 2020 2020  sort_by,.       
+00002870: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00002880: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00002890: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+000028a0: 742c 0a20 2020 2020 2020 207d 0a20 2020  t,.        }.   
+000028b0: 2020 2020 2077 6c61 6e5f 6f6e 6c79 5f70       wlan_only_p
+000028c0: 6172 616d 7320 3d20 7b22 6e65 7477 6f72  arams = {"networ
+000028d0: 6b22 3a20 6e65 7477 6f72 6b2c 2022 6f73  k": network, "os
+000028e0: 5f74 7970 6522 3a20 6f73 5f74 7970 652c  _type": os_type,
+000028f0: 2022 6261 6e64 223a 2062 616e 647d 0a20   "band": band}. 
+00002900: 2020 2020 2020 2077 6972 6564 5f6f 6e6c         wired_onl
+00002910: 795f 7061 7261 6d73 203d 207b 2273 7461  y_params = {"sta
+00002920: 636b 5f69 6422 3a20 7374 6163 6b5f 6964  ck_id": stack_id
+00002930: 7d0a 2020 2020 2020 2020 616c 6c5f 7061  }.        all_pa
+00002940: 7261 6d73 203d 207b 2a2a 7061 7261 6d73  rams = {**params
+00002950: 2c20 2a2a 776c 616e 5f6f 6e6c 795f 7061  , **wlan_only_pa
+00002960: 7261 6d73 2c20 2a2a 7769 7265 645f 6f6e  rams, **wired_on
+00002970: 6c79 5f70 6172 616d 737d 0a20 2020 2020  ly_params}.     
+00002980: 2020 2077 6972 6564 5f70 6172 616d 7320     wired_params 
+00002990: 3d20 7b2a 2a70 6172 616d 732c 202a 2a77  = {**params, **w
+000029a0: 6972 6564 5f6f 6e6c 795f 7061 7261 6d73  ired_only_params
+000029b0: 7d0a 2020 2020 2020 2020 776c 616e 5f70  }.        wlan_p
+000029c0: 6172 616d 7320 3d20 7b2a 2a70 6172 616d  arams = {**param
+000029d0: 732c 202a 2a77 6c61 6e5f 6f6e 6c79 5f70  s, **wlan_only_p
+000029e0: 6172 616d 737d 0a20 2020 2020 2020 2069  arams}.        i
+000029f0: 6620 5472 7565 2069 6e20 5b6e 6574 776f  f True in [netwo
+00002a00: 726b 2c20 6f73 5f74 7970 652c 2062 616e  rk, os_type, ban
+00002a10: 645d 2061 6e64 2022 7769 7265 6c65 7373  d] and "wireless
+00002a20: 2220 6e6f 7420 696e 2061 7267 733a 0a20  " not in args:. 
+00002a30: 2020 2020 2020 2020 2020 2061 7267 7320             args 
+00002a40: 3d20 2822 7769 7265 6c65 7373 222c 202a  = ("wireless", *
+00002a50: 6172 6773 290a 2020 2020 2020 2020 6966  args).        if
+00002a60: 2073 7461 636b 5f69 6420 616e 6420 2277   stack_id and "w
+00002a70: 6972 6564 2220 6e6f 7420 696e 2061 7267  ired" not in arg
+00002a80: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
+00002a90: 7267 7320 3d20 2822 7769 7265 6422 2c20  rgs = ("wired", 
+00002aa0: 2a61 7267 7329 0a0a 2020 2020 2020 2020  *args)..        
+00002ab0: 6966 206d 6163 206f 7220 2822 6d61 6322  if mac or ("mac"
+00002ac0: 2069 6e20 6172 6773 2061 6e64 2061 7267   in args and arg
+00002ad0: 732e 696e 6465 7828 226d 6163 2229 203c  s.index("mac") <
+00002ae0: 206c 656e 2861 7267 7329 293a 0a20 2020   len(args)):.   
+00002af0: 2020 2020 2020 2020 2069 6620 6d61 633a           if mac:
+00002b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002b10: 205f 6d61 6320 3d20 7574 696c 732e 4d61   _mac = utils.Ma
+00002b20: 6328 0a20 2020 2020 2020 2020 2020 2020  c(.             
+00002b30: 2020 2020 2020 206d 6163 2c0a 2020 2020         mac,.    
+00002b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b50: 6675 7a7a 793d 5472 7565 2c0a 2020 2020  fuzzy=True,.    
+00002b60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00002b70: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00002b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b90: 5f6d 6163 203d 2075 7469 6c73 2e4d 6163  _mac = utils.Mac
+00002ba0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00002bb0: 2020 2020 2020 6172 6773 5b61 7267 732e        args[args.
+00002bc0: 696e 6465 7828 226d 6163 2229 202b 2031  index("mac") + 1
+00002bd0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00002be0: 2020 2020 2020 2066 757a 7a79 3d54 7275         fuzzy=Tru
+00002bf0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00002c00: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00002c10: 2069 6620 5f6d 6163 2e6f 6b3a 0a20 2020   if _mac.ok:.   
+00002c20: 2020 2020 2020 2020 2020 2020 206d 6163               mac
+00002c30: 203d 205f 6d61 630a 2020 2020 2020 2020   = _mac.        
+00002c40: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00002c50: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00002c60: 2052 6573 706f 6e73 6528 6572 726f 723d   Response(error=
+00002c70: 2249 4e56 414c 4944 204d 4143 222c 206f  "INVALID MAC", o
+00002c80: 7574 7075 743d 6622 5468 6520 5072 6f76  utput=f"The Prov
+00002c90: 6964 6564 204d 4143 207b 5f6d 6163 7d20  ided MAC {_mac} 
+00002ca0: 4170 7065 6172 7320 746f 2062 6520 696e  Appears to be in
+00002cb0: 7661 6c69 642e 2229 0a0a 2020 2020 2020  valid.")..      
+00002cc0: 2020 6966 206e 6f74 2061 7267 7320 6f72    if not args or
+00002cd0: 2022 616c 6c22 2069 6e20 6172 6773 3a0a   "all" in args:.
+00002ce0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+00002cf0: 6163 3a0a 2020 2020 2020 2020 2020 2020  ac:.            
+00002d00: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00002d10: 2073 656c 662e 6765 745f 636c 6965 6e74   self.get_client
+00002d20: 5f64 6574 6169 6c73 286d 6163 2c29 0a20  _details(mac,). 
+00002d30: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00002d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002d50: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00002d60: 6c66 2e67 6574 5f61 6c6c 5f63 6c69 656e  lf.get_all_clien
+00002d70: 7473 282a 2a61 6c6c 5f70 6172 616d 732c  ts(**all_params,
+00002d80: 290a 2020 2020 2020 2020 656c 6966 2022  ).        elif "
+00002d90: 7769 7265 6422 2069 6e20 6172 6773 3a0a  wired" in args:.
+00002da0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+00002db0: 6163 3a0a 2020 2020 2020 2020 2020 2020  ac:.            
+00002dc0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00002dd0: 2073 656c 662e 6765 745f 636c 6965 6e74   self.get_client
+00002de0: 5f64 6574 6169 6c73 286d 6163 2c20 6465  _details(mac, de
+00002df0: 765f 7479 7065 3d22 7769 7265 6422 2c29  v_type="wired",)
+00002e00: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00002e10: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00002e20: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00002e30: 7365 6c66 2e67 6574 5f77 6972 6564 5f63  self.get_wired_c
+00002e40: 6c69 656e 7473 282a 2a77 6972 6564 5f70  lients(**wired_p
+00002e50: 6172 616d 732c 290a 2020 2020 2020 2020  arams,).        
+00002e60: 656c 6966 2022 7769 7265 6c65 7373 2220  elif "wireless" 
+00002e70: 696e 2061 7267 733a 0a20 2020 2020 2020  in args:.       
+00002e80: 2020 2020 2069 6620 6d61 633a 0a20 2020       if mac:.   
+00002e90: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00002ea0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00002eb0: 6574 5f63 6c69 656e 745f 6465 7461 696c  et_client_detail
+00002ec0: 7328 6d61 632c 2064 6576 5f74 7970 653d  s(mac, dev_type=
+00002ed0: 2277 6972 656c 6573 7322 2c29 0a20 2020  "wireless",).   
+00002ee0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00002ef0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00002f00: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00002f10: 2e67 6574 5f77 6972 656c 6573 735f 636c  .get_wireless_cl
+00002f20: 6965 6e74 7328 2a2a 776c 616e 5f70 6172  ients(**wlan_par
+00002f30: 616d 732c 290a 2020 2020 2020 2020 656c  ams,).        el
+00002f40: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00002f50: 7265 7475 726e 2052 6573 706f 6e73 6528  return Response(
+00002f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002f70: 2065 7272 6f72 3d22 494e 5641 4c49 4420   error="INVALID 
+00002f80: 4152 4755 4d45 4e54 222c 0a20 2020 2020  ARGUMENT",.     
+00002f90: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
+00002fa0: 743d 6622 7b61 7267 737d 2061 7070 6561  t=f"{args} appea
+00002fb0: 7273 2074 6f20 6265 2069 6e76 616c 6964  rs to be invalid
+00002fc0: 222c 0a20 2020 2020 2020 2020 2020 2029  ",.            )
+00002fd0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00002fe0: 6765 745f 616c 6c5f 636c 6965 6e74 7328  get_all_clients(
+00002ff0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+00003000: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
+00003010: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00003020: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
+00003030: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00003040: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
+00003050: 652c 0a20 2020 2020 2020 206e 6574 776f  e,.        netwo
+00003060: 726b 3a20 7374 7220 3d20 4e6f 6e65 2c0a  rk: str = None,.
+00003070: 2020 2020 2020 2020 7369 7465 3a20 7374          site: st
+00003080: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00003090: 2020 7365 7269 616c 3a20 7374 7220 3d20    serial: str = 
+000030a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f73  None,.        os
+000030b0: 5f74 7970 653a 2073 7472 203d 204e 6f6e  _type: str = Non
+000030c0: 652c 0a20 2020 2020 2020 2073 7461 636b  e,.        stack
+000030d0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+000030e0: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
+000030f0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+00003100: 0a20 2020 2020 2020 2062 616e 643a 2073  .        band: s
+00003110: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00003120: 2020 2023 2073 6f72 745f 6279 3a20 7374     # sort_by: st
+00003130: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00003140: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+00003150: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+00003160: 3a20 696e 7420 3d20 3130 3030 2c0a 2020  : int = 1000,.  
+00003170: 2020 2020 2020 2320 2a2a 6b77 6172 6773        # **kwargs
+00003180: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00003190: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000031a0: 4765 7420 416c 6c20 636c 6965 6e74 730a  Get All clients.
+000031b0: 0a20 2020 2020 2020 202f 2f20 5573 6564  .        // Used
+000031c0: 2069 6e64 6972 6563 746c 7920 6279 2073   indirectly by s
+000031d0: 686f 7720 636c 6965 6e74 7320 2f2f 0a0a  how clients //..
+000031e0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+000031f0: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
+00003200: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00003210: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
+00003220: 636f 6e6e 6563 7465 6420 746f 2064 6576  connected to dev
+00003230: 6963 6573 2069 6e20 6120 6769 7665 6e20  ices in a given 
+00003240: 6772 6f75 702e 2044 6566 6175 6c74 7320  group. Defaults 
+00003250: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00003260: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
+00003270: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
+00003280: 6574 7572 6e20 636c 6965 6e74 7320 636f  eturn clients co
+00003290: 6e6e 6563 7465 6420 746f 2073 7761 726d  nnected to swarm
+000032a0: 2062 7920 7377 6172 6d5f 6964 2e20 4465   by swarm_id. De
+000032b0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+000032c0: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+000032d0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+000032e0: 293a 2052 6574 7572 6e20 636c 6965 6e74  ): Return client
+000032f0: 7320 636f 6e6e 6563 7465 6420 746f 2064  s connected to d
+00003300: 6576 6963 6520 7769 7468 2070 726f 7669  evice with provi
+00003310: 6465 6420 6c61 6265 6c2e 0a20 2020 2020  ded label..     
+00003320: 2020 2020 2020 2020 2020 2044 6566 6175             Defau
+00003330: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00003340: 2020 2020 2020 2020 206e 6574 776f 726b           network
+00003350: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00003360: 3a20 5265 7475 726e 2063 6c69 656e 7473  : Return clients
+00003370: 2066 6f72 2067 6976 656e 206e 6574 776f   for given netwo
+00003380: 726b 2028 5353 4944 292e 2044 6566 6175  rk (SSID). Defau
+00003390: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+000033a0: 2020 2020 2020 2020 2073 6974 6520 2873           site (s
+000033b0: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
+000033c0: 6574 7572 6e20 636c 6965 6e74 7320 696e  eturn clients in
+000033d0: 2061 2070 6172 7469 6375 6c61 7220 7369   a particular si
+000033e0: 7465 2e20 4465 6661 756c 7473 2074 6f20  te. Defaults to 
+000033f0: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00003400: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
+00003410: 7074 696f 6e61 6c29 3a20 5265 7475 726e  ptional): Return
+00003420: 2063 6c69 656e 7473 2063 6f6e 6e65 6374   clients connect
+00003430: 6564 2074 6f20 7468 6520 6465 7669 6365  ed to the device
+00003440: 2077 6974 6820 6769 7665 6e20 7365 7269   with given seri
+00003450: 616c 2e20 4465 6661 756c 7473 2074 6f20  al. Defaults to 
+00003460: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00003470: 2020 6f73 5f74 7970 6520 2873 7472 2c20    os_type (str, 
+00003480: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
+00003490: 6e20 636c 6965 6e74 7320 7769 7468 2070  n clients with p
+000034a0: 726f 7669 6465 6420 6f73 5f74 7970 652e  rovided os_type.
+000034b0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+000034c0: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+000034d0: 7461 636b 5f69 6420 2873 7472 2c20 6f70  tack_id (str, op
+000034e0: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
+000034f0: 636c 6965 6e74 7320 636f 6e6e 6563 7465  clients connecte
+00003500: 6420 746f 2073 7461 636b 2077 6974 6820  d to stack with 
+00003510: 7072 6f76 6964 6564 2069 642e 2044 6566  provided id. Def
+00003520: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+00003530: 2020 2020 2020 2020 2020 2063 6c75 7374             clust
+00003540: 6572 5f69 6420 2873 7472 2c20 6f70 7469  er_id (str, opti
+00003550: 6f6e 616c 293a 2052 6574 7572 6e20 636c  onal): Return cl
+00003560: 6965 6e74 7320 636f 6e6e 6563 7465 6420  ients connected 
+00003570: 746f 2063 6c75 7374 6572 2077 6974 6820  to cluster with 
+00003580: 7072 6f76 6964 6564 2069 642e 2044 6566  provided id. Def
+00003590: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+000035a0: 2020 2020 2020 2020 2020 2062 616e 6420             band 
+000035b0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+000035c0: 2052 6574 7572 6e20 2857 4c41 4e29 2063   Return (WLAN) c
+000035d0: 6c69 656e 7473 2063 6f6e 6e65 6374 6564  lients connected
+000035e0: 2074 6f20 7072 6f76 6964 6564 2062 616e   to provided ban
+000035f0: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
+00003600: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+00003610: 2046 4958 4d45 2073 6f72 745f 6279 2028   FIXME sort_by (
+00003620: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00003630: 536f 7274 204f 7574 7075 7420 6f6e 2070  Sort Output on p
+00003640: 726f 7669 6465 6420 6b65 7920 6669 656c  rovided key fiel
+00003650: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
+00003660: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+00003670: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+00003680: 7469 6f6e 616c 293a 2041 5049 206f 6666  tional): API off
+00003690: 7365 742e 2044 6566 6175 6c74 7320 746f  set. Defaults to
+000036a0: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+000036b0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+000036c0: 6f6e 616c 293a 2041 5049 2072 6563 6f72  onal): API recor
+000036d0: 6420 6c69 6d69 742e 2044 6566 6175 6c74  d limit. Default
+000036e0: 7320 746f 2031 3030 302c 204d 6178 2031  s to 1000, Max 1
+000036f0: 3030 302e 0a0a 2020 2020 2020 2020 5265  000...        Re
+00003700: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00003710: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00003720: 7472 616c 436c 692e 5265 7370 6f6e 7365  tralCli.Response
+00003730: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00003740: 2222 220a 2020 2020 2020 2020 7061 7261  """.        para
+00003750: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+00003760: 2020 2022 6772 6f75 7022 3a20 6772 6f75     "group": grou
+00003770: 702c 0a20 2020 2020 2020 2020 2020 2022  p,.            "
+00003780: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
+00003790: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
+000037a0: 2022 6c61 6265 6c22 3a20 6c61 6265 6c2c   "label": label,
+000037b0: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
+000037c0: 7465 223a 2073 6974 652c 0a20 2020 2020  te": site,.     
+000037d0: 2020 2020 2020 2022 7365 7269 616c 223a         "serial":
+000037e0: 2073 6572 6961 6c2c 0a20 2020 2020 2020   serial,.       
+000037f0: 2020 2020 2022 636c 7573 7465 725f 6964       "cluster_id
+00003800: 223a 2063 6c75 7374 6572 5f69 642c 0a20  ": cluster_id,. 
+00003810: 2020 2020 2020 2020 2020 2023 2027 6669             # 'fi
+00003820: 656c 6473 273a 2066 6965 6c64 732c 0a20  elds': fields,. 
+00003830: 2020 2020 2020 2020 2020 2023 2027 736f             # 'so
+00003840: 7274 5f62 7927 3a20 736f 7274 5f62 792c  rt_by': sort_by,
+00003850: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
+00003860: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
+00003870: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
+00003880: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
+00003890: 2020 2020 2020 2022 6361 6c63 756c 6174         "calculat
+000038a0: 655f 746f 7461 6c22 3a20 5472 7565 0a20  e_total": True. 
+000038b0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+000038c0: 2077 6c61 6e5f 6f6e 6c79 5f70 6172 616d   wlan_only_param
+000038d0: 7320 3d20 7b22 6e65 7477 6f72 6b22 3a20  s = {"network": 
+000038e0: 6e65 7477 6f72 6b2c 2022 6f73 5f74 7970  network, "os_typ
+000038f0: 6522 3a20 6f73 5f74 7970 652c 2022 6261  e": os_type, "ba
+00003900: 6e64 223a 2062 616e 647d 0a20 2020 2020  nd": band}.     
+00003910: 2020 2077 6972 6564 5f6f 6e6c 795f 7061     wired_only_pa
+00003920: 7261 6d73 203d 207b 2273 7461 636b 5f69  rams = {"stack_i
+00003930: 6422 3a20 7374 6163 6b5f 6964 7d0a 0a20  d": stack_id}.. 
+00003940: 2020 2020 2020 2023 2072 6573 7020 3d20         # resp = 
+00003950: 6177 6169 7420 7365 6c66 2e67 6574 5f77  await self.get_w
+00003960: 6972 656c 6573 735f 636c 6965 6e74 7328  ireless_clients(
+00003970: 2a2a 7b2a 2a70 6172 616d 732c 202a 2a77  **{**params, **w
+00003980: 6c61 6e5f 6f6e 6c79 5f70 6172 616d 737d  lan_only_params}
+00003990: 2c29 2020 2320 2a2a 6b77 6172 6773 290a  ,)  # **kwargs).
+000039a0: 2020 2020 2020 2020 2320 6966 2072 6573          # if res
+000039b0: 702e 6f6b 3a0a 2020 2020 2020 2020 2320  p.ok:.        # 
+000039c0: 2020 2020 776c 616e 5f72 6573 7020 3d20      wlan_resp = 
+000039d0: 7265 7370 0a20 2020 2020 2020 2023 2020  resp.        #  
+000039e0: 2020 2077 6972 6564 5f72 6573 7020 3d20     wired_resp = 
+000039f0: 6177 6169 7420 7365 6c66 2e67 6574 5f77  await self.get_w
+00003a00: 6972 6564 5f63 6c69 656e 7473 282a 2a7b  ired_clients(**{
+00003a10: 2a2a 7061 7261 6d73 2c20 2a2a 7769 7265  **params, **wire
+00003a20: 645f 6f6e 6c79 5f70 6172 616d 737d 2920  d_only_params}) 
+00003a30: 2023 202a 2a6b 7761 7267 7329 0a20 2020   # **kwargs).   
+00003a40: 2020 2020 2023 2020 2020 2069 6620 7769       #     if wi
+00003a50: 7265 645f 7265 7370 2e6f 6b3a 0a20 2020  red_resp.ok:.   
+00003a60: 2020 2020 2023 2020 2020 2020 2020 2072       #         r
+00003a70: 6573 702e 6f75 7470 7574 203d 2077 6c61  esp.output = wla
+00003a80: 6e5f 7265 7370 2e6f 7574 7075 7420 2b20  n_resp.output + 
+00003a90: 7769 7265 645f 7265 7370 2e6f 7574 7075  wired_resp.outpu
+00003aa0: 740a 0a20 2020 2020 2020 2072 6571 7320  t..        reqs 
+00003ab0: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
+00003ac0: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
+00003ad0: 7428 7365 6c66 2e67 6574 5f77 6972 656c  t(self.get_wirel
+00003ae0: 6573 735f 636c 6965 6e74 732c 202a 2a7b  ess_clients, **{
+00003af0: 2a2a 7061 7261 6d73 2c20 2a2a 776c 616e  **params, **wlan
+00003b00: 5f6f 6e6c 795f 7061 7261 6d73 7d29 2c0a  _only_params}),.
+00003b10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00003b20: 2e42 6174 6368 5265 7175 6573 7428 7365  .BatchRequest(se
+00003b30: 6c66 2e67 6574 5f77 6972 6564 5f63 6c69  lf.get_wired_cli
+00003b40: 656e 7473 2c20 2a2a 7b2a 2a70 6172 616d  ents, **{**param
+00003b50: 732c 202a 2a77 6972 6564 5f6f 6e6c 795f  s, **wired_only_
+00003b60: 7061 7261 6d73 7d29 0a20 2020 2020 2020  params}).       
+00003b70: 205d 0a20 2020 2020 2020 2023 2046 4958   ].        # FIX
+00003b80: 4d45 2069 6620 7769 7265 6c65 7373 2063  ME if wireless c
+00003b90: 6c69 656e 7473 2063 616c 6c20 7061 7373  lients call pass
+00003ba0: 6573 2062 7574 2077 6972 6564 2066 6169  es but wired fai
+00003bb0: 6c73 2074 6865 7265 2069 7320 6e6f 2069  ls there is no i
+00003bc0: 6e64 6963 6174 696f 6e20 696e 2063 656e  ndication in cen
+00003bd0: 636c 6920 7368 6f77 2063 6c69 656e 7473  cli show clients
+00003be0: 206f 7574 7075 740a 2020 2020 2020 2020   output.        
+00003bf0: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
+00003c00: 662e 5f62 6174 6368 5f72 6571 7565 7374  f._batch_request
+00003c10: 2872 6571 7329 0a20 2020 2020 2020 2069  (reqs).        i
+00003c20: 6620 6c65 6e28 7265 7370 2920 3d3d 2032  f len(resp) == 2
+00003c30: 3a20 2023 2061 6e64 2061 6c6c 2878 2e6f  :  # and all(x.o
+00003c40: 6b20 666f 7220 7820 696e 2072 6573 7029  k for x in resp)
+00003c50: 3a0a 2020 2020 2020 2020 2020 2020 6f75  :.            ou
+00003c60: 7420 3d20 5b5d 0a20 2020 2020 2020 2020  t = [].         
+00003c70: 2020 2066 6f72 2072 2069 6e20 7265 7370     for r in resp
+00003c80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00003c90: 2020 6966 2072 2e6f 6b3a 0a20 2020 2020    if r.ok:.     
+00003ca0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00003cb0: 7574 202b 3d20 722e 6f75 7470 7574 0a20  ut += r.output. 
+00003cc0: 2020 2020 2020 2020 2020 2072 6177 203d             raw =
+00003cd0: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
+00003ce0: 2020 207b 2272 6177 5f77 6972 656c 6573     {"raw_wireles
+00003cf0: 735f 7265 7370 6f6e 7365 223a 2072 6573  s_response": res
+00003d00: 705b 305d 2e72 6177 7d2c 0a20 2020 2020  p[0].raw},.     
+00003d10: 2020 2020 2020 2020 2020 207b 2272 6177             {"raw
+00003d20: 5f77 6972 6564 5f72 6573 706f 6e73 6522  _wired_response"
+00003d30: 3a20 7265 7370 5b31 5d2e 7261 777d 0a20  : resp[1].raw}. 
+00003d40: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
+00003d50: 2020 2020 2020 2020 2072 6573 7020 3d20           resp = 
+00003d60: 7265 7370 5b31 5d20 6966 2072 6573 705b  resp[1] if resp[
+00003d70: 315d 2e6f 6b20 656c 7365 2072 6573 705b  1].ok else resp[
+00003d80: 305d 0a20 2020 2020 2020 2020 2020 2072  0].            r
+00003d90: 6573 702e 6f75 7470 7574 203d 206f 7574  esp.output = out
+00003da0: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
+00003db0: 702e 7261 7720 3d20 7261 770a 2020 2020  p.raw = raw.    
+00003dc0: 2020 2020 2020 2020 2320 544f 444f 206e          # TODO n
+00003dd0: 6565 6420 5265 7370 6f6e 7365 2074 6f20  eed Response to 
+00003de0: 6861 7665 2061 6e20 6174 7472 6962 7574  have an attribut
+00003df0: 6520 7468 6174 2073 746f 7265 7320 6661  e that stores fa
+00003e00: 696c 6564 2063 616c 6c73 2073 6f20 636c  iled calls so cl
+00003e10: 6920 636f 6d6d 616e 6473 2063 616e 2064  i commands can d
+00003e20: 6973 706c 6179 206f 7574 7075 7420 6f66  isplay output of
+00003e30: 2070 6173 7365 6420 6361 6c6c 7320 616e   passed calls an
+00003e40: 6420 6465 7461 696c 7320 6f6e 2065 7272  d details on err
+00003e50: 6f72 7320 2877 6865 6e20 736f 6d65 2063  ors (when some c
+00003e60: 616c 6c73 2066 6169 6c29 0a0a 2020 2020  alls fail)..    
+00003e70: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+00003e80: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+00003e90: 6574 5f63 6c69 656e 745f 726f 616d 696e  et_client_roamin
+00003ea0: 675f 6869 7374 6f72 7928 0a20 2020 2020  g_history(.     
+00003eb0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00003ec0: 206d 6163 6164 6472 3a20 7374 722c 0a20   macaddr: str,. 
+00003ed0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+00003ee0: 5f74 6f74 616c 3a20 626f 6f6c 203d 204e  _total: bool = N
+00003ef0: 6f6e 652c 0a20 2020 2020 2020 2066 726f  one,.        fro
+00003f00: 6d5f 7469 6d65 7374 616d 703a 2069 6e74  m_timestamp: int
+00003f10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00003f20: 2074 6f5f 7469 6d65 7374 616d 703a 2069   to_timestamp: i
+00003f30: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00003f40: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
+00003f50: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
+00003f60: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
+00003f70: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00003f80: 0a20 2020 2020 2020 2022 2222 5769 7265  .        """Wire
+00003f90: 6c65 7373 2043 6c69 656e 7420 4d6f 6269  less Client Mobi
+00003fa0: 6c69 7479 2054 7261 696c 2e0a 0a20 2020  lity Trail...   
+00003fb0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00003fc0: 2020 2020 2020 206d 6163 6164 6472 2028         macaddr (
+00003fd0: 7374 7229 3a20 4d41 4320 6164 6472 6573  str): MAC addres
+00003fe0: 7320 6f66 2074 6865 2057 6972 656c 6573  s of the Wireles
+00003ff0: 7320 436c 6965 6e74 2074 6f20 6265 2071  s Client to be q
+00004000: 7565 7269 6564 0a20 2020 2020 2020 2020  ueried.         
+00004010: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
+00004020: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
+00004030: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
+00004040: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
+00004050: 7472 616e 7369 7469 6f6e 730a 2020 2020  transitions.    
+00004060: 2020 2020 2020 2020 6672 6f6d 5f74 696d          from_tim
+00004070: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
+00004080: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
+00004090: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
+000040a0: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
+000040b0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
+000040c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000040d0: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
+000040e0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
+000040f0: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
+00004100: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
+00004110: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
+00004120: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00004130: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+00004140: 6f6e 2074 6f20 7468 6973 2074 696d 6573  on to this times
+00004150: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+00004160: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
+00004170: 2020 2020 2020 2020 2020 2020 7365 636f              seco
+00004180: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
+00004190: 6375 7272 656e 7420 7469 6d65 7374 616d  current timestam
+000041a0: 700a 2020 2020 2020 2020 2020 2020 6f66  p.            of
+000041b0: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+000041c0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+000041d0: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
+000041e0: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+000041f0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+00004200: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+00004210: 7469 6f6e 206c 696d 6974 2e20 4465 6661  tion limit. Defa
+00004220: 756c 7420 6973 2031 3030 302c 206d 6178  ult is 1000, max
+00004230: 2069 7320 3130 3030 2e0a 0a20 2020 2020   is 1000...     
+00004240: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00004250: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00004260: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00004270: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00004280: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00004290: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
+000042a0: 7269 6e67 2f76 312f 636c 6965 6e74 732f  ring/v1/clients/
+000042b0: 7769 7265 6c65 7373 2f7b 6d61 6361 6464  wireless/{macadd
+000042c0: 727d 2f6d 6f62 696c 6974 795f 7472 6169  r}/mobility_trai
+000042d0: 6c22 0a0a 2020 2020 2020 2020 7061 7261  l"..        para
+000042e0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+000042f0: 2020 2027 6361 6c63 756c 6174 655f 746f     'calculate_to
+00004300: 7461 6c27 3a20 6361 6c63 756c 6174 655f  tal': calculate_
+00004310: 746f 7461 6c2c 0a20 2020 2020 2020 2020  total,.         
+00004320: 2020 2027 6672 6f6d 5f74 696d 6573 7461     'from_timesta
+00004330: 6d70 273a 2066 726f 6d5f 7469 6d65 7374  mp': from_timest
+00004340: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
+00004350: 2027 746f 5f74 696d 6573 7461 6d70 273a   'to_timestamp':
+00004360: 2074 6f5f 7469 6d65 7374 616d 702c 0a20   to_timestamp,. 
+00004370: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
+00004380: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
+00004390: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
+000043a0: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
+000043b0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+000043c0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+000043d0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+000043e0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+000043f0: 6465 6620 6765 745f 7769 7265 6c65 7373  def get_wireless
+00004400: 5f63 6c69 656e 7473 280a 2020 2020 2020  _clients(.      
+00004410: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00004420: 6772 6f75 703a 2073 7472 203d 204e 6f6e  group: str = Non
+00004430: 652c 0a20 2020 2020 2020 2073 7761 726d  e,.        swarm
+00004440: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+00004450: 0a20 2020 2020 2020 206c 6162 656c 3a20  .        label: 
+00004460: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00004470: 2020 2020 7369 7465 3a20 7374 7220 3d20      site: str = 
+00004480: 4e6f 6e65 2c0a 2020 2020 2020 2020 6e65  None,.        ne
+00004490: 7477 6f72 6b3a 2073 7472 203d 204e 6f6e  twork: str = Non
+000044a0: 652c 0a20 2020 2020 2020 2073 6572 6961  e,.        seria
+000044b0: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
+000044c0: 2020 2020 2020 206f 735f 7479 7065 3a20         os_type: 
+000044d0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000044e0: 2020 2020 636c 7573 7465 725f 6964 3a20      cluster_id: 
+000044f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00004500: 2020 2020 6261 6e64 3a20 7374 7220 3d20      band: str = 
+00004510: 4e6f 6e65 2c0a 2020 2020 2020 2020 6669  None,.        fi
+00004520: 656c 6473 3a20 7374 7220 3d20 4e6f 6e65  elds: str = None
+00004530: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
+00004540: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
+00004550: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+00004560: 2320 736f 7274 5f62 793a 2073 7472 203d  # sort_by: str =
+00004570: 204e 6f6e 652c 0a20 2020 2020 2020 206f   None,.        o
+00004580: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
+00004590: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
+000045a0: 6e74 203d 2031 3030 302c 0a20 2020 2020  nt = 1000,.     
+000045b0: 2020 2023 202a 2a6b 7761 7267 732c 0a20     # **kwargs,. 
+000045c0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000045d0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
+000045e0: 7420 5769 7265 6c65 7373 2043 6c69 656e  t Wireless Clien
+000045f0: 7473 2e0a 0a20 2020 2020 2020 2041 7267  ts...        Arg
+00004600: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+00004610: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00004620: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00004630: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
+00004640: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+00004650: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00004660: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
+00004670: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+00004680: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+00004690: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+000046a0: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
+000046b0: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
+000046c0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+000046d0: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
+000046e0: 650a 2020 2020 2020 2020 2020 2020 6e65  e.            ne
+000046f0: 7477 6f72 6b20 2873 7472 2c20 6f70 7469  twork (str, opti
+00004700: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00004710: 206e 6574 776f 726b 206e 616d 650a 2020   network name.  
+00004720: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00004730: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00004740: 3a20 4669 6c74 6572 2062 7920 4150 2073  : Filter by AP s
+00004750: 6572 6961 6c20 6e75 6d62 6572 0a20 2020  erial number.   
+00004760: 2020 2020 2020 2020 206f 735f 7479 7065           os_type
+00004770: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00004780: 3a20 4669 6c74 6572 2062 7920 636c 6965  : Filter by clie
+00004790: 6e74 206f 7320 7479 7065 0a20 2020 2020  nt os type.     
+000047a0: 2020 2020 2020 2063 6c75 7374 6572 5f69         cluster_i
+000047b0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+000047c0: 293a 2046 696c 7465 7220 6279 204d 6f62  ): Filter by Mob
+000047d0: 696c 6974 7920 436f 6e74 726f 6c6c 6572  ility Controller
+000047e0: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+000047f0: 2020 2020 2020 2020 2020 2062 616e 6420             band 
+00004800: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00004810: 2046 696c 7465 7220 6279 2062 616e 642e   Filter by band.
+00004820: 2056 616c 7565 2063 616e 2062 6520 6569   Value can be ei
+00004830: 7468 6572 2022 322e 3422 206f 7220 2235  ther "2.4" or "5
+00004840: 220a 2020 2020 2020 2020 2020 2020 6669  ".            fi
+00004850: 656c 6473 2028 7374 722c 206f 7074 696f  elds (str, optio
+00004860: 6e61 6c29 3a20 436f 6d6d 6120 7365 7061  nal): Comma sepa
+00004870: 7261 7465 6420 6c69 7374 206f 6620 6669  rated list of fi
+00004880: 656c 6473 2074 6f20 6265 2072 6574 7572  elds to be retur
+00004890: 6e65 642e 2056 616c 6964 2066 6965 6c64  ned. Valid field
+000048a0: 7320 6172 650a 2020 2020 2020 2020 2020  s are.          
+000048b0: 2020 2020 2020 6e61 6d65 2c20 6970 5f61        name, ip_a
+000048c0: 6464 7265 7373 2c20 7573 6572 6e61 6d65  ddress, username
+000048d0: 2c20 6f73 5f74 7970 652c 2063 6f6e 6e65  , os_type, conne
+000048e0: 6374 696f 6e2c 2061 7373 6f63 6961 7465  ction, associate
+000048f0: 645f 6465 7669 6365 2c20 6772 6f75 705f  d_device, group_
+00004900: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+00004910: 2020 2020 2020 7377 6172 6d5f 6964 2c20        swarm_id, 
+00004920: 6e65 7477 6f72 6b2c 2072 6164 696f 5f6d  network, radio_m
+00004930: 6163 2c20 6d61 6e75 6661 6374 7572 6572  ac, manufacturer
+00004940: 2c20 766c 616e 2c20 656e 6372 7970 7469  , vlan, encrypti
+00004950: 6f6e 5f6d 6574 686f 642c 2072 6164 696f  on_method, radio
+00004960: 5f6e 756d 6265 722c 0a20 2020 2020 2020  _number,.       
+00004970: 2020 2020 2020 2020 2073 7065 6564 2c20           speed, 
+00004980: 7573 6167 652c 2068 6561 6c74 682c 206c  usage, health, l
+00004990: 6162 656c 732c 2073 6974 652c 2073 6967  abels, site, sig
+000049a0: 6e61 6c5f 7374 7265 6e67 7468 2c20 7369  nal_strength, si
+000049b0: 676e 616c 5f64 622c 2073 6e72 0a20 2020  gnal_db, snr.   
+000049c0: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
+000049d0: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
+000049e0: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
+000049f0: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
+00004a00: 746f 7461 6c20 7769 7265 6c65 7373 2043  total wireless C
+00004a10: 6c69 656e 7473 0a20 2020 2020 2020 2020  lients.         
+00004a20: 2020 2073 6f72 7420 2873 7472 2c20 6f70     sort (str, op
+00004a30: 7469 6f6e 616c 293a 2053 6f72 7420 7061  tional): Sort pa
+00004a40: 7261 6d65 7465 7220 6d61 7920 6265 206f  rameter may be o
+00004a50: 6e65 206f 6620 2b6d 6163 6164 6472 2c20  ne of +macaddr, 
+00004a60: 2d6d 6163 6164 6472 2e20 2044 6566 6175  -macaddr.  Defau
+00004a70: 6c74 2069 730a 2020 2020 2020 2020 2020  lt is.          
+00004a80: 2020 2020 2020 272b 6d61 6361 6464 7227        '+macaddr'
+00004a90: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+00004aa0: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+00004ab0: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+00004ac0: 6f66 6673 6574 2044 6566 6175 6c74 7320  offset Defaults 
+00004ad0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+00004ae0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+00004af0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+00004b00: 696f 6e20 6c69 6d69 742e 2044 6566 6175  ion limit. Defau
+00004b10: 6c74 2069 7320 3130 3030 2c20 6d61 7820  lt is 1000, max 
+00004b20: 3130 3030 2e0a 0a20 2020 2020 2020 2052  1000...        R
+00004b30: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00004b40: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00004b50: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00004b60: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00004b70: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00004b80: 203d 2022 2f6d 6f6e 6974 6f72 696e 672f   = "/monitoring/
+00004b90: 7631 2f63 6c69 656e 7473 2f77 6972 656c  v1/clients/wirel
+00004ba0: 6573 7322 0a0a 2020 2020 2020 2020 7061  ess"..        pa
+00004bb0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00004bc0: 2020 2020 2022 6772 6f75 7022 3a20 6772       "group": gr
+00004bd0: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
+00004be0: 2022 7377 6172 6d5f 6964 223a 2073 7761   "swarm_id": swa
+00004bf0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
+00004c00: 2020 2022 6c61 6265 6c22 3a20 6c61 6265     "label": labe
+00004c10: 6c2c 0a20 2020 2020 2020 2020 2020 2022  l,.            "
+00004c20: 7369 7465 223a 2073 6974 652c 0a20 2020  site": site,.   
+00004c30: 2020 2020 2020 2020 2022 6e65 7477 6f72           "networ
+00004c40: 6b22 3a20 6e65 7477 6f72 6b2c 0a20 2020  k": network,.   
+00004c50: 2020 2020 2020 2020 2022 7365 7269 616c           "serial
+00004c60: 223a 2073 6572 6961 6c2c 0a20 2020 2020  ": serial,.     
+00004c70: 2020 2020 2020 2022 6f73 5f74 7970 6522         "os_type"
+00004c80: 3a20 6f73 5f74 7970 652c 0a20 2020 2020  : os_type,.     
+00004c90: 2020 2020 2020 2022 636c 7573 7465 725f         "cluster_
+00004ca0: 6964 223a 2063 6c75 7374 6572 5f69 642c  id": cluster_id,
+00004cb0: 0a20 2020 2020 2020 2020 2020 2022 6261  .            "ba
+00004cc0: 6e64 223a 2062 616e 642c 0a20 2020 2020  nd": band,.     
+00004cd0: 2020 2020 2020 2022 6669 656c 6473 223a         "fields":
+00004ce0: 2066 6965 6c64 732c 0a20 2020 2020 2020   fields,.       
+00004cf0: 2020 2020 2022 6361 6c63 756c 6174 655f       "calculate_
+00004d00: 746f 7461 6c22 3a20 7374 7228 6361 6c63  total": str(calc
+00004d10: 756c 6174 655f 746f 7461 6c29 2e6c 6f77  ulate_total).low
+00004d20: 6572 2829 2c0a 2020 2020 2020 2020 2020  er(),.          
+00004d30: 2020 2320 2773 6f72 7427 3a20 736f 7274    # 'sort': sort
+00004d40: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
+00004d50: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+00004d60: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+00004d70: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
+00004d80: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00004d90: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00004da0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00004db0: 616d 733d 7061 7261 6d73 2c29 0a0a 2020  ams=params,)..  
+00004dc0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00004dd0: 7769 7265 645f 636c 6965 6e74 7328 0a20  wired_clients(. 
+00004de0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00004df0: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+00004e00: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00004e10: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+00004e20: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
+00004e30: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
+00004e40: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
+00004e50: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00004e60: 2020 2073 6572 6961 6c3a 2073 7472 203d     serial: str =
+00004e70: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+00004e80: 6c75 7374 6572 5f69 643a 2073 7472 203d  luster_id: str =
+00004e90: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00004ea0: 7461 636b 5f69 643a 2073 7472 203d 204e  tack_id: str = N
+00004eb0: 6f6e 652c 0a20 2020 2020 2020 2066 6965  one,.        fie
+00004ec0: 6c64 733a 2073 7472 203d 204e 6f6e 652c  lds: str = None,
+00004ed0: 0a20 2020 2020 2020 2063 616c 6375 6c61  .        calcula
+00004ee0: 7465 5f74 6f74 616c 3a20 626f 6f6c 203d  te_total: bool =
+00004ef0: 2054 7275 652c 0a20 2020 2020 2020 2023   True,.        #
+00004f00: 2073 6f72 745f 6279 3a20 7374 7220 3d20   sort_by: str = 
+00004f10: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
+00004f20: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+00004f30: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+00004f40: 7420 3d20 3130 3030 2c0a 2020 2020 2020  t = 1000,.      
+00004f50: 2020 2320 2a2a 6b77 6172 6773 2c0a 2020    # **kwargs,.  
+00004f60: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00004f70: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
+00004f80: 2057 6972 6564 2043 6c69 656e 7473 2e0a   Wired Clients..
+00004f90: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00004fa0: 2020 2020 2020 2020 2020 2067 726f 7570             group
+00004fb0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00004fc0: 3a20 4669 6c74 6572 2062 7920 6772 6f75  : Filter by grou
+00004fd0: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
+00004fe0: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+00004ff0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00005000: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+00005010: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+00005020: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+00005030: 293a 2046 696c 7465 7220 6279 204c 6162  ): Filter by Lab
+00005040: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
+00005050: 2020 2020 7369 7465 2028 7374 722c 206f      site (str, o
+00005060: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00005070: 2062 7920 5369 7465 206e 616d 650a 2020   by Site name.  
+00005080: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00005090: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000050a0: 3a20 4669 6c74 6572 2062 7920 5377 6974  : Filter by Swit
+000050b0: 6368 206f 7220 4150 2073 6572 6961 6c20  ch or AP serial 
+000050c0: 6e75 6d62 6572 0a20 2020 2020 2020 2020  number.         
+000050d0: 2020 2063 6c75 7374 6572 5f69 6420 2873     cluster_id (s
+000050e0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+000050f0: 696c 7465 7220 6279 204d 6f62 696c 6974  ilter by Mobilit
+00005100: 7920 436f 6e74 726f 6c6c 6572 2073 6572  y Controller ser
+00005110: 6961 6c20 6e75 6d62 6572 0a20 2020 2020  ial number.     
+00005120: 2020 2020 2020 2073 7461 636b 5f69 6420         stack_id 
+00005130: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00005140: 2046 696c 7465 7220 6279 2053 7769 7463   Filter by Switc
+00005150: 6820 7374 6163 6b5f 6964 0a20 2020 2020  h stack_id.     
+00005160: 2020 2020 2020 2066 6965 6c64 7320 2873         fields (s
+00005170: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
+00005180: 6f6d 6d61 2073 6570 6172 6174 6564 206c  omma separated l
+00005190: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
+000051a0: 2062 6520 7265 7475 726e 6564 2e20 5661   be returned. Va
+000051b0: 6c69 6420 6669 656c 6473 2061 7265 0a20  lid fields are. 
+000051c0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+000051d0: 616d 652c 2069 705f 6164 6472 6573 732c  ame, ip_address,
+000051e0: 2075 7365 726e 616d 652c 2061 7373 6f63   username, assoc
+000051f0: 6961 7465 645f 6465 7669 6365 2c20 6772  iated_device, gr
+00005200: 6f75 705f 6e61 6d65 2c20 696e 7465 7266  oup_name, interf
+00005210: 6163 655f 6d61 632c 2076 6c61 6e0a 2020  ace_mac, vlan.  
+00005220: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
+00005230: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
+00005240: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
+00005250: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
+00005260: 2074 6f74 616c 2077 6972 6564 2043 6c69   total wired Cli
+00005270: 656e 7473 0a20 2020 2020 2020 2020 2020  ents.           
+00005280: 2046 4958 4d45 2073 6f72 7420 2873 7472   FIXME sort (str
+00005290: 2c20 6f70 7469 6f6e 616c 293a 2046 6965  , optional): Fie
+000052a0: 6c64 2074 6f20 736f 7274 206f 6e2e 2020  ld to sort on.  
+000052b0: 4465 6661 756c 7473 2074 6f20 6d61 630a  Defaults to mac.
+000052c0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
+000052d0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
+000052e0: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
+000052f0: 6666 7365 7420 4465 6661 756c 7473 2074  ffset Defaults t
+00005300: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+00005310: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00005320: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
+00005330: 6f6e 206c 696d 6974 2e20 4465 6661 756c  on limit. Defaul
+00005340: 7420 3130 3030 2c20 6d61 7820 3130 3030  t 1000, max 1000
+00005350: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00005360: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00005370: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00005380: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00005390: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+000053a0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+000053b0: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f63  /monitoring/v1/c
+000053c0: 6c69 656e 7473 2f77 6972 6564 220a 0a20  lients/wired".. 
+000053d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+000053e0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
+000053f0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
+00005400: 2020 2020 2020 2020 2020 2273 7761 726d            "swarm
+00005410: 5f69 6422 3a20 7377 6172 6d5f 6964 2c0a  _id": swarm_id,.
+00005420: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+00005430: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+00005440: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
+00005450: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+00005460: 2020 2273 6572 6961 6c22 3a20 7365 7269    "serial": seri
+00005470: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+00005480: 2263 6c75 7374 6572 5f69 6422 3a20 636c  "cluster_id": cl
+00005490: 7573 7465 725f 6964 2c0a 2020 2020 2020  uster_id,.      
+000054a0: 2020 2020 2020 2273 7461 636b 5f69 6422        "stack_id"
+000054b0: 3a20 7374 6163 6b5f 6964 2c0a 2020 2020  : stack_id,.    
+000054c0: 2020 2020 2020 2020 2266 6965 6c64 7322          "fields"
+000054d0: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+000054e0: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
+000054f0: 5f74 6f74 616c 223a 2073 7472 2863 616c  _total": str(cal
+00005500: 6375 6c61 7465 5f74 6f74 616c 292e 6c6f  culate_total).lo
+00005510: 7765 7228 292c 0a20 2020 2020 2020 2020  wer(),.         
+00005520: 2020 2023 2027 736f 7274 273a 2073 6f72     # 'sort': sor
+00005530: 745f 6279 2c0a 2020 2020 2020 2020 2020  t_by,.          
+00005540: 2020 226f 6666 7365 7422 3a20 6f66 6673    "offset": offs
+00005550: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+00005560: 226c 696d 6974 223a 206c 696d 6974 2c0a  "limit": limit,.
+00005570: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00005580: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00005590: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+000055a0: 7261 6d73 3d70 6172 616d 732c 290a 0a20  rams=params,).. 
+000055b0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+000055c0: 5f63 6c69 656e 745f 6465 7461 696c 7328  _client_details(
+000055d0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+000055e0: 2020 2020 2020 206d 6163 3a20 4d61 632c         mac: Mac,
+000055f0: 0a20 2020 2020 2020 2064 6576 5f74 7970  .        dev_typ
+00005600: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+00005610: 2020 2020 2020 2023 2073 6f72 745f 6279         # sort_by
+00005620: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00005630: 2020 2020 2020 2a2a 6b77 6172 6773 0a20        **kwargs. 
+00005640: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00005650: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+00005660: 2057 6972 6564 2f57 6972 656c 6573 7320   Wired/Wireless 
+00005670: 436c 6965 6e74 2044 6574 6169 6c73 2e0a  Client Details..
+00005680: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00005690: 2020 2020 2020 2020 2020 206d 6163 2028             mac (
+000056a0: 7574 696c 732e 4d61 6329 3a20 4d41 4320  utils.Mac): MAC 
+000056b0: 6164 6472 6573 7320 6f66 2074 6865 2057  address of the W
+000056c0: 6972 656c 6573 7320 436c 6965 6e74 2074  ireless Client t
+000056d0: 6f20 6265 2071 7565 7269 6564 0a20 2020  o be queried.   
+000056e0: 2020 2020 2020 2020 2020 2020 2041 5049               API
+000056f0: 2077 696c 6c20 7265 7475 726e 2072 6573   will return res
+00005700: 756c 7473 206d 6174 6368 696e 6720 6120  ults matching a 
+00005710: 7061 7274 6961 6c20 4d61 630a 0a20 2020  partial Mac..   
+00005720: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00005730: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00005740: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00005750: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00005760: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00005770: 2020 2023 2041 5049 2d46 4c41 5720 5468     # API-FLAW Th
+00005780: 6973 206c 6f67 6963 2069 7320 6865 7265  is logic is here
+00005790: 2062 6563 6175 7365 2043 656e 7472 616c   because Central
+000057a0: 2068 6173 2062 6f74 6820 6d65 7468 6f64   has both method
+000057b0: 732c 2062 7574 2067 6976 656e 2061 2077  s, but given a w
+000057c0: 6c61 6e20 636c 6965 6e74 206d 6163 0a20  lan client mac. 
+000057d0: 2020 2020 2020 2023 2063 656e 7472 616c         # central
+000057e0: 2077 696c 6c20 7265 7475 726e 2074 6865   will return the
+000057f0: 2063 6c69 656e 7420 6465 7461 696c 7320   client details 
+00005800: 6576 656e 2077 6865 6e20 7573 696e 6720  even when using 
+00005810: 7468 6520 7769 7265 6420 7572 6c0a 0a20  the wired url.. 
+00005820: 2020 2020 2020 2023 204d 6163 206d 6174         # Mac mat
+00005830: 6368 206c 6f67 6963 2069 7320 6a61 636b  ch logic is jack
+00005840: 6564 2069 6e20 6365 6e74 7261 6c0a 2020  ed in central.  
+00005850: 2020 2020 2020 2320 6769 7665 6e20 6120        # given a 
+00005860: 636c 6965 6e74 2077 6974 6820 6120 4d41  client with a MA
+00005870: 4320 6f66 2061 633a 3337 3a34 333a 3461  C of ac:37:43:4a
+00005880: 3a38 653a 6661 0a20 2020 2020 2020 2023  :8e:fa.        #
+00005890: 0a20 2020 2020 2020 2023 204d 616b 6520  .        # Make 
+000058a0: 4d41 4320 696e 7661 6c69 6420 2863 6861  MAC invalid (cha
+000058b0: 6e67 6564 206c 6173 7420 6f63 7465 7429  nged last octet)
+000058c0: 3a0a 2020 2020 2020 2020 2320 2020 6163  :.        #   ac
+000058d0: 3a33 373a 3433 3a34 613a 3865 3a66 6620  :37:43:4a:8e:ff 
+000058e0: 4e6f 204d 6174 6368 0a20 2020 2020 2020  No Match.       
+000058f0: 2023 2020 2061 6333 3734 3334 6138 6566   #   ac37434a8ef
+00005900: 6620 4e6f 204d 6174 6368 0a20 2020 2020  f No Match.     
+00005910: 2020 2023 2020 2061 633a 3337 3a34 333a     #   ac:37:43:
+00005920: 3461 3a38 652d 6666 2020 5265 7475 726e  4a:8e-ff  Return
+00005930: 7320 4d41 5443 480a 2020 2020 2020 2020  s MATCH.        
+00005940: 2320 2020 6163 3a33 373a 3433 3a34 613a  #   ac:37:43:4a:
+00005950: 3865 6666 2020 5265 7475 726e 7320 4d41  8eff  Returns MA
+00005960: 5443 480a 2020 2020 2020 2020 2320 2020  TCH.        #   
+00005970: 6163 3a33 373a 3433 3a34 613a 3865 6666  ac:37:43:4a:8eff
+00005980: 2020 5265 7475 726e 7320 4d41 5443 480a    Returns MATCH.
+00005990: 2020 2020 2020 2020 2320 2020 6163 3337          #   ac37
+000059a0: 3433 3461 3865 3a66 6620 2052 6574 7572  434a8e:ff  Retur
+000059b0: 6e73 204d 4154 4348 0a20 2020 2020 2020  ns MATCH.       
+000059c0: 2023 2020 2061 632d 3337 2d34 332d 3461   #   ac-37-43-4a
+000059d0: 2d38 652d 6666 2052 6574 7572 6e20 4d41  -8e-ff Return MA
+000059e0: 5443 480a 2020 2020 2020 2020 2320 2020  TCH.        #   
+000059f0: 6163 3337 2e34 3334 612e 3865 6666 2052  ac37.434a.8eff R
+00005a00: 6574 7572 6e73 204d 4154 4348 0a20 2020  eturns MATCH.   
+00005a10: 2020 2020 2069 6620 6e6f 7420 6465 765f       if not dev_
+00005a20: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
+00005a30: 2020 666f 7220 5f64 6576 5f74 7970 6520    for _dev_type 
+00005a40: 696e 205b 2277 6972 656c 6573 7322 2c20  in ["wireless", 
+00005a50: 2277 6972 6564 225d 3a0a 2020 2020 2020  "wired"]:.      
+00005a60: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
+00005a70: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
+00005a80: 2f63 6c69 656e 7473 2f7b 5f64 6576 5f74  /clients/{_dev_t
+00005a90: 7970 657d 2f7b 6d61 632e 7572 6c7d 220a  ype}/{mac.url}".
+00005aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ab0: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
+00005ac0: 662e 6765 7428 7572 6c2c 2920 2023 2063  f.get(url,)  # c
+00005ad0: 616c 6c62 6163 6b3d 636c 6561 6e65 722e  allback=cleaner.
+00005ae0: 6765 745f 636c 6965 6e74 732c 202a 2a6b  get_clients, **k
+00005af0: 7761 7267 7329 0a20 2020 2020 2020 2020  wargs).         
+00005b00: 2020 2020 2020 2069 6620 7265 7370 3a0a         if resp:.
+00005b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b20: 2020 2020 2320 7265 7370 2e6f 7574 7075      # resp.outpu
+00005b30: 7420 3d20 5b7b 2a2a 7b22 636c 6965 6e74  t = [{**{"client
+00005b40: 5f74 7970 6522 3a20 5f64 6576 5f74 7970  _type": _dev_typ
+00005b50: 652e 7570 7065 7228 297d 2c20 2a2a 647d  e.upper()}, **d}
+00005b60: 2066 6f72 2064 2069 6e20 7265 7370 2e6f   for d in resp.o
+00005b70: 7574 7075 745d 0a20 2020 2020 2020 2020  utput].         
+00005b80: 2020 2020 2020 2020 2020 2062 7265 616b             break
+00005b90: 0a0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00005ba0: 7475 726e 2072 6573 700a 2020 2020 2020  turn resp.      
+00005bb0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00005bc0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
+00005bd0: 6974 6f72 696e 672f 7631 2f63 6c69 656e  itoring/v1/clien
+00005be0: 7473 2f7b 6465 765f 7479 7065 7d2f 7b6d  ts/{dev_type}/{m
+00005bf0: 6163 2e75 726c 7d22 0a20 2020 2020 2020  ac.url}".       
+00005c00: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00005c10: 7420 7365 6c66 2e67 6574 2875 726c 2c29  t self.get(url,)
+00005c20: 2020 2320 6361 6c6c 6261 636b 3d63 6c65    # callback=cle
+00005c30: 616e 6572 2e67 6574 5f63 6c69 656e 7473  aner.get_clients
+00005c40: 2c20 2a2a 6b77 6172 6773 290a 0a20 2020  , **kwargs)..   
+00005c50: 2061 7379 6e63 2064 6566 2067 6574 5f63   async def get_c
+00005c60: 6572 7469 6669 6361 7465 7328 0a20 2020  ertificates(.   
+00005c70: 2020 2020 2073 656c 662c 2071 3a20 7374       self, q: st
+00005c80: 7220 3d20 4e6f 6e65 2c20 6f66 6673 6574  r = None, offset
+00005c90: 3a20 696e 7420 3d20 302c 206c 696d 6974  : int = 0, limit
+00005ca0: 3a20 696e 7420 3d20 3230 2c20 6361 6c6c  : int = 20, call
+00005cb0: 6261 636b 3a20 6361 6c6c 6162 6c65 203d  back: callable =
+00005cc0: 204e 6f6e 652c 2063 616c 6c62 6163 6b5f   None, callback_
+00005cd0: 6b77 6172 6773 3a20 6469 6374 203d 204e  kwargs: dict = N
+00005ce0: 6f6e 650a 2020 2020 2920 2d3e 2052 6573  one.    ) -> Res
+00005cf0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00005d00: 2222 4765 7420 4365 7274 6966 6963 6174  ""Get Certificat
+00005d10: 6573 2064 6574 6169 6c73 2e0a 0a20 2020  es details...   
+00005d20: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00005d30: 2020 2020 2020 2071 2028 7374 722c 206f         q (str, o
+00005d40: 7074 696f 6e61 6c29 3a20 5365 6172 6368  ptional): Search
+00005d50: 2066 6f72 2061 2070 6172 7469 6375 6c61   for a particula
+00005d60: 7220 6365 7274 6966 6963 6174 6520 6279  r certificate by
+00005d70: 2069 7473 206e 616d 652c 206d 6435 2068   its name, md5 h
+00005d80: 6173 6820 6f72 2073 6861 315f 6861 7368  ash or sha1_hash
+00005d90: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+00005da0: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+00005db0: 616c 293a 204e 756d 6265 7220 6f66 2069  al): Number of i
+00005dc0: 7465 6d73 2074 6f20 6265 2073 6b69 7070  tems to be skipp
+00005dd0: 6564 2062 6566 6f72 6520 7265 7475 726e  ed before return
+00005de0: 696e 6720 7468 6520 6461 7461 2c20 7573  ing the data, us
+00005df0: 6566 756c 0a20 2020 2020 2020 2020 2020  eful.           
+00005e00: 2020 2020 2066 6f72 2070 6167 696e 6174       for paginat
+00005e10: 696f 6e2e 2044 6566 6175 6c74 7320 746f  ion. Defaults to
+00005e20: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+00005e30: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+00005e40: 6f6e 616c 293a 204d 6178 696d 756d 206e  onal): Maximum n
+00005e50: 756d 6265 7220 6f66 2072 6563 6f72 6473  umber of records
+00005e60: 2074 6f20 6265 2072 6574 7572 6e65 642e   to be returned.
+00005e70: 2044 6566 6175 6c74 7320 746f 2032 302c   Defaults to 20,
+00005e80: 204d 6178 2032 302e 0a0a 2020 2020 2020   Max 20...      
+00005e90: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00005ea0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00005eb0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00005ec0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00005ed0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00005ee0: 7572 6c20 3d20 222f 636f 6e66 6967 7572  url = "/configur
+00005ef0: 6174 696f 6e2f 7631 2f63 6572 7469 6669  ation/v1/certifi
+00005f00: 6361 7465 7322 0a0a 2020 2020 2020 2020  cates"..        
+00005f10: 2320 6f66 6673 6574 2061 6e64 206c 696d  # offset and lim
+00005f20: 6974 2061 7265 2062 6f74 6820 7265 7175  it are both requ
+00005f30: 6972 6564 2062 7920 7468 6520 4150 4920  ired by the API 
+00005f40: 6d65 7468 6f64 2e0a 2020 2020 2020 2020  method..        
+00005f50: 7061 7261 6d73 203d 207b 2271 223a 2071  params = {"q": q
+00005f60: 2c20 226f 6666 7365 7422 3a20 6f66 6673  , "offset": offs
+00005f70: 6574 2c20 226c 696d 6974 223a 206c 696d  et, "limit": lim
+00005f80: 6974 7d0a 0a20 2020 2020 2020 2072 6574  it}..        ret
+00005f90: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00005fa0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00005fb0: 6172 616d 732c 2063 616c 6c62 6163 6b3d  arams, callback=
+00005fc0: 6361 6c6c 6261 636b 2c20 6361 6c6c 6261  callback, callba
+00005fd0: 636b 5f6b 7761 7267 733d 6361 6c6c 6261  ck_kwargs=callba
+00005fe0: 636b 5f6b 7761 7267 7329 0a0a 2020 2020  ck_kwargs)..    
+00005ff0: 6173 796e 6320 6465 6620 6765 745f 7465  async def get_te
+00006000: 6d70 6c61 7465 2873 656c 662c 2067 726f  mplate(self, gro
+00006010: 7570 3a20 7374 722c 2074 656d 706c 6174  up: str, templat
+00006020: 653a 2073 7472 2920 2d3e 2052 6573 706f  e: str) -> Respo
+00006030: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
+00006040: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+00006050: 696f 6e2f 7631 2f67 726f 7570 732f 7b67  ion/v1/groups/{g
+00006060: 726f 7570 7d2f 7465 6d70 6c61 7465 732f  roup}/templates/
+00006070: 7b74 656d 706c 6174 657d 220a 2020 2020  {template}".    
+00006080: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00006090: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+000060a0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+000060b0: 745f 7465 6d70 6c61 7465 5f64 6574 6169  t_template_detai
+000060c0: 6c73 5f66 6f72 5f64 6576 6963 6528 7365  ls_for_device(se
+000060d0: 6c66 2c20 6465 7669 6365 5f73 6572 6961  lf, device_seria
+000060e0: 6c3a 2073 7472 2c20 6465 7461 696c 733a  l: str, details:
+000060f0: 2062 6f6f 6c20 3d20 4661 6c73 6529 202d   bool = False) -
+00006100: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00006110: 2020 2020 2222 2247 6574 2063 6f6e 6669      """Get confi
+00006120: 6775 7261 7469 6f6e 2064 6574 6169 6c73  guration details
+00006130: 2066 6f72 2061 2064 6576 6963 6520 286f   for a device (o
+00006140: 6e6c 7920 666f 7220 7465 6d70 6c61 7465  nly for template
+00006150: 2067 726f 7570 7329 2e0a 0a20 2020 2020   groups)...     
+00006160: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00006170: 2020 2020 2064 6576 6963 655f 7365 7269       device_seri
+00006180: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
+00006190: 206e 756d 6265 7220 6f66 2074 6865 2064   number of the d
+000061a0: 6576 6963 652e 0a20 2020 2020 2020 2020  evice..         
+000061b0: 2020 2064 6574 6169 6c73 2028 626f 6f6c     details (bool
+000061c0: 2c20 6f70 7469 6f6e 616c 293a 2055 7375  , optional): Usu
+000061d0: 616c 6c79 2070 6173 7320 6661 6c73 6520  ally pass false 
+000061e0: 746f 2067 6574 206f 6e6c 7920 7468 6520  to get only the 
+000061f0: 7375 6d6d 6172 7920 6f66 2061 2064 6576  summary of a dev
+00006200: 6963 6527 730a 2020 2020 2020 2020 2020  ice's.          
+00006210: 2020 2020 2020 636f 6e66 6967 7572 6174        configurat
+00006220: 696f 6e20 7374 6174 7573 2e0a 2020 2020  ion status..    
+00006230: 2020 2020 2020 2020 2020 2020 5061 7373              Pass
+00006240: 2074 7275 6520 6f6e 6c79 2069 6620 6465   true only if de
+00006250: 7461 696c 6564 2072 6573 706f 6e73 6520  tailed response 
+00006260: 6f66 2061 2064 6576 6963 6527 7320 636f  of a device's co
+00006270: 6e66 6967 7572 6174 696f 6e20 7374 6174  nfiguration stat
+00006280: 7573 2069 7320 7265 7175 6972 6564 2e0a  us is required..
+00006290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000062a0: 5061 7373 696e 6720 7472 7565 206d 6967  Passing true mig
+000062b0: 6874 2072 6573 756c 7420 696e 2073 6c6f  ht result in slo
+000062c0: 7765 7220 4150 4920 7265 7370 6f6e 7365  wer API response
+000062d0: 2061 6e64 2070 6572 666f 726d 616e 6365   and performance
+000062e0: 2065 6666 6563 740a 2020 2020 2020 2020   effect.        
+000062f0: 2020 2020 2020 2020 636f 6d70 6172 6174          comparat
+00006300: 6976 656c 792e 0a0a 2020 2020 2020 2020  ively...        
+00006310: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00006320: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00006330: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00006340: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00006350: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
+00006360: 4150 492d 4e4f 5445 2072 6574 7572 6e73  API-NOTE returns
+00006370: 2066 6f72 6d2d 6461 7461 2028 6120 6269   form-data (a bi
+00006380: 6720 7374 7229 0a20 2020 2020 2020 2023  g str).        #
+00006390: 2020 4120 636c 6561 6e65 7220 6861 7320    A cleaner has 
+000063a0: 6265 656e 2063 7265 6174 6564 2074 6861  been created tha
+000063b0: 7420 7061 7273 6573 2074 6865 2072 6573  t parses the res
+000063c0: 7020 696e 746f 2064 6963 740a 2020 2020  p into dict.    
+000063d0: 2020 2020 2320 2077 6974 6820 7375 6d6d      #  with summ
+000063e0: 6172 7928 6469 6374 2920 616e 6420 7275  ary(dict) and ru
+000063f0: 6e6e 696e 672f 6365 6e74 7261 6c5f 7369  nning/central_si
+00006400: 6465 2063 6f6e 6669 6773 2028 7374 7229  de configs (str)
+00006410: 0a20 2020 2020 2020 2023 204e 6565 6420  .        # Need 
+00006420: 636c 6561 6e65 7220 746f 2070 6172 7365  cleaner to parse
+00006430: 2061 6e64 2063 6f6e 7665 7274 2074 6f20   and convert to 
+00006440: 6469 6374 0a20 2020 2020 2020 2023 202d  dict.        # -
+00006450: 2d66 6433 6c6f 6e67 616c 7068 616e 756d  -fd3longalphanum
+00006460: 6572 6963 7374 7269 6e67 3633 0a20 2020  ericstring63.   
+00006470: 2020 2020 2023 2043 6f6e 7465 6e74 2d44       # Content-D
+00006480: 6973 706f 7369 7469 6f6e 3a20 666f 726d  isposition: form
+00006490: 2d64 6174 613b 206e 616d 653d 2253 756d  -data; name="Sum
+000064a0: 6d61 7279 220a 2020 2020 2020 2020 2320  mary".        # 
+000064b0: 436f 6e74 656e 742d 5479 7065 3a20 6170  Content-Type: ap
+000064c0: 706c 6963 6174 696f 6e2f 6a73 6f6e 0a0a  plication/json..
+000064d0: 2020 2020 2020 2020 2320 7b0a 2020 2020          # {.    
+000064e0: 2020 2020 2320 2020 2020 2244 6576 6963      #     "Devic
+000064f0: 655f 7365 7269 616c 223a 2022 7265 6461  e_serial": "reda
+00006500: 6374 6564 222c 0a20 2020 2020 2020 2023  cted",.        #
+00006510: 2020 2020 2022 4465 7669 6365 5f74 7970       "Device_typ
+00006520: 6522 3a20 2241 7275 6261 5377 6974 6368  e": "ArubaSwitch
+00006530: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00006540: 2022 4772 6f75 7022 3a20 2257 6164 654c   "Group": "WadeL
+00006550: 6162 222c 0a20 2020 2020 2020 2023 2020  ab",.        #  
+00006560: 2020 2022 436f 6e66 6967 7572 6174 696f     "Configuratio
+00006570: 6e5f 6572 726f 725f 7374 6174 7573 223a  n_error_status":
+00006580: 2066 616c 7365 2c0a 2020 2020 2020 2020   false,.        
+00006590: 2320 2020 2020 224f 7665 7272 6964 655f  #     "Override_
+000065a0: 7374 6174 7573 223a 2066 616c 7365 2c0a  status": false,.
+000065b0: 2020 2020 2020 2020 2320 2020 2020 2254          #     "T
+000065c0: 656d 706c 6174 655f 6e61 6d65 223a 2022  emplate_name": "
+000065d0: 3239 3330 462d 3822 2c0a 2020 2020 2020  2930F-8",.      
+000065e0: 2020 2320 2020 2020 2254 656d 706c 6174    #     "Templat
+000065f0: 655f 6861 7368 223a 2022 3436 612d 7265  e_hash": "46a-re
+00006600: 6461 6374 6564 2d30 6422 2c0a 2020 2020  dacted-0d",.    
+00006610: 2020 2020 2320 2020 2020 2254 656d 706c      #     "Templ
+00006620: 6174 655f 6572 726f 725f 7374 6174 7573  ate_error_status
+00006630: 223a 2066 616c 7365 0a20 2020 2020 2020  ": false.       
+00006640: 2023 207d 0a20 2020 2020 2020 2023 202d   # }.        # -
+00006650: 2d66 6433 6c6f 6e67 616c 7068 616e 756d  -fd3longalphanum
+00006660: 6572 6963 7374 7269 6e67 3633 0a20 2020  ericstring63.   
+00006670: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
+00006680: 6e66 6967 7572 6174 696f 6e2f 7631 2f64  nfiguration/v1/d
+00006690: 6576 6963 6573 2f7b 6465 7669 6365 5f73  evices/{device_s
+000066a0: 6572 6961 6c7d 2f63 6f6e 6669 675f 6465  erial}/config_de
+000066b0: 7461 696c 7322 0a20 2020 2020 2020 2068  tails".        h
+000066c0: 6561 6465 7273 203d 207b 2241 6363 6570  eaders = {"Accep
+000066d0: 7422 3a20 226d 756c 7469 7061 7274 2f66  t": "multipart/f
+000066e0: 6f72 6d2d 6461 7461 227d 0a20 2020 2020  orm-data"}.     
+000066f0: 2020 2070 6172 616d 7320 3d20 7b22 6465     params = {"de
+00006700: 7461 696c 7322 3a20 7374 7228 6465 7461  tails": str(deta
+00006710: 696c 7329 7d0a 2020 2020 2020 2020 7265  ils)}.        re
+00006720: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00006730: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+00006740: 7061 7261 6d73 2c20 6865 6164 6572 733d  params, headers=
+00006750: 6865 6164 6572 7329 0a0a 2020 2020 6173  headers)..    as
+00006760: 796e 6320 6465 6620 6765 745f 616c 6c5f  ync def get_all_
+00006770: 7465 6d70 6c61 7465 735f 696e 5f67 726f  templates_in_gro
+00006780: 7570 280a 2020 2020 2020 2020 7365 6c66  up(.        self
+00006790: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+000067a0: 2073 7472 2c0a 2020 2020 2020 2020 6e61   str,.        na
+000067b0: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+000067c0: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
+000067d0: 7970 653a 204c 6974 6572 616c 5b22 6170  ype: Literal["ap
+000067e0: 222c 2022 7377 222c 2022 6378 222c 2022  ", "sw", "cx", "
+000067f0: 6777 225d 203d 204e 6f6e 652c 0a20 2020  gw"] = None,.   
+00006800: 2020 2020 2076 6572 7369 6f6e 3a20 7374       version: st
+00006810: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00006820: 2020 6d6f 6465 6c3a 2073 7472 203d 204e    model: str = N
+00006830: 6f6e 652c 0a20 2020 2029 202d 3e20 5265  one,.    ) -> Re
+00006840: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00006850: 6966 2064 6576 6963 655f 7479 7065 3a0a  if device_type:.
+00006860: 2020 2020 2020 2020 2020 2020 6465 7669              devi
+00006870: 6365 5f74 7970 6520 3d20 636f 6e73 7461  ce_type = consta
+00006880: 6e74 732e 6c69 625f 746f 5f61 7069 2822  nts.lib_to_api("
+00006890: 7465 6d70 6c61 7465 222c 2064 6576 6963  template", devic
+000068a0: 655f 7479 7065 290a 0a20 2020 2020 2020  e_type)..       
+000068b0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+000068c0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
+000068d0: 3a20 302c 0a20 2020 2020 2020 2020 2020  : 0,.           
+000068e0: 2022 6c69 6d69 7422 3a20 3230 2c20 2023   "limit": 20,  #
+000068f0: 2032 3020 6973 2074 6865 206d 6178 0a20   20 is the max. 
+00006900: 2020 2020 2020 2020 2020 2022 7465 6d70             "temp
+00006910: 6c61 7465 223a 206e 616d 652c 0a20 2020  late": name,.   
+00006920: 2020 2020 2020 2020 2022 6465 7669 6365           "device
+00006930: 5f74 7970 6522 3a20 6465 7669 6365 5f74  _type": device_t
+00006940: 7970 652c 2020 2320 7661 6c69 6420 3d20  ype,  # valid = 
+00006950: 4941 502c 2041 7275 6261 5377 6974 6368  IAP, ArubaSwitch
+00006960: 2c20 4d6f 6269 6c69 7479 436f 6e74 726f  , MobilityContro
+00006970: 6c6c 6572 2c20 4358 0a20 2020 2020 2020  ller, CX.       
+00006980: 2020 2020 2022 7665 7273 696f 6e22 3a20       "version": 
+00006990: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+000069a0: 2020 2020 2022 6d6f 6465 6c22 3a20 6d6f       "model": mo
+000069b0: 6465 6c2c 0a20 2020 2020 2020 207d 0a20  del,.        }. 
+000069c0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+000069d0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+000069e0: 2f67 726f 7570 732f 7b67 726f 7570 7d2f  /groups/{group}/
+000069f0: 7465 6d70 6c61 7465 7322 0a20 2020 2020  templates".     
+00006a00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00006a10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00006a20: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00006a30: 2020 2320 4649 584d 4520 2320 544f 444f    # FIXME # TODO
+00006a40: 2023 2057 6861 7420 7468 6520 4162 736f   # What the Abso
+00006a50: 6c75 7465 2046 3f21 2020 6e6f 7420 6162  lute F?!  not ab
+00006a60: 6c65 2074 6f20 7365 6e64 2074 656d 706c  le to send templ
+00006a70: 6174 6520 6173 2066 6f72 6d64 6174 6120  ate as formdata 
+00006a80: 7072 6f70 6572 6c79 2077 6974 6820 6169  properly with ai
+00006a90: 6f68 7474 700a 2020 2020 2320 2020 2020  ohttp.    #     
+00006aa0: 2020 7265 7175 6573 7473 206d 6f64 756c    requests modul
+00006ab0: 6520 776f 726b 732c 2062 7574 206e 6f20  e works, but no 
+00006ac0: 6c75 636b 2061 6674 6572 2068 6f75 7273  luck after hours
+00006ad0: 206d 6573 7369 6e67 2077 6974 6820 666f   messing with fo
+00006ae0: 726d 2d64 6174 6120 696e 2061 696f 6874  rm-data in aioht
+00006af0: 7470 0a20 2020 2061 7379 6e63 2064 6566  tp.    async def
+00006b00: 2061 6464 5f74 656d 706c 6174 6528 0a20   add_template(. 
+00006b10: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00006b20: 2020 2020 206e 616d 653a 2073 7472 2c0a       name: str,.
+00006b30: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+00006b40: 7472 2c0a 2020 2020 2020 2020 7465 6d70  tr,.        temp
+00006b50: 6c61 7465 3a20 556e 696f 6e5b 5061 7468  late: Union[Path
+00006b60: 2c20 7374 722c 2062 7974 6573 5d2c 0a20  , str, bytes],. 
+00006b70: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+00006b80: 7065 3a20 636f 6e73 7461 6e74 732e 4465  pe: constants.De
+00006b90: 7654 7970 6573 203d 2261 7022 2c0a 2020  vTypes ="ap",.  
+00006ba0: 2020 2020 2020 7665 7273 696f 6e3a 2073        version: s
+00006bb0: 7472 203d 2022 414c 4c22 2c0a 2020 2020  tr = "ALL",.    
+00006bc0: 2020 2020 6d6f 6465 6c3a 2073 7472 203d      model: str =
+00006bd0: 2022 414c 4c22 2c0a 2020 2020 2920 2d3e   "ALL",.    ) ->
+00006be0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00006bf0: 2020 2022 2222 4372 6561 7465 206e 6577     """Create new
+00006c00: 2074 656d 706c 6174 652e 0a0a 2020 2020   template...    
+00006c10: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00006c20: 2020 2020 2020 6e61 6d65 2028 7374 7229        name (str)
+00006c30: 3a20 4e61 6d65 206f 6620 7465 6d70 6c61  : Name of templa
+00006c40: 7465 2e0a 2020 2020 2020 2020 2020 2020  te..            
+00006c50: 6772 6f75 7020 2873 7472 293a 204e 616d  group (str): Nam
+00006c60: 6520 6f66 2074 6865 2067 726f 7570 2066  e of the group f
+00006c70: 6f72 2077 6869 6368 2074 6865 2074 656d  or which the tem
+00006c80: 706c 6174 6520 6973 2074 6f20 6265 2063  plate is to be c
+00006c90: 7265 6174 6564 2e0a 2020 2020 2020 2020  reated..        
+00006ca0: 2020 2020 7465 6d70 6c61 7465 2028 556e      template (Un
+00006cb0: 696f 6e5b 5061 7468 2c20 7374 722c 2062  ion[Path, str, b
+00006cc0: 7974 6573 5d29 3a20 5465 6d70 6c61 7465  ytes]): Template
+00006cd0: 2046 696c 6520 6f72 2065 6e63 6f64 6564   File or encoded
+00006ce0: 2074 656d 706c 6174 6520 636f 6e74 656e   template conten
+00006cf0: 742e 0a20 2020 2020 2020 2020 2020 2020  t..             
+00006d00: 2020 2046 6f72 2073 7720 2841 4f53 2d53     For sw (AOS-S
+00006d10: 7769 7463 6829 2064 6576 6963 655f 7479  witch) device_ty
+00006d20: 7065 2c20 7468 6520 7465 6d70 6c61 7465  pe, the template
+00006d30: 2074 6578 7420 7368 6f75 6c64 2069 6e63   text should inc
+00006d40: 6c75 6465 2074 6865 2066 6f6c 6c6f 7769  lude the followi
+00006d50: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
+00006d60: 2020 2063 6f6d 6d61 6e64 7320 746f 206d     commands to m
+00006d70: 6169 6e74 6169 6e20 636f 6e6e 6563 7469  aintain connecti
+00006d80: 6f6e 2077 6974 6820 6365 6e74 7261 6c2e  on with central.
+00006d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006da0: 2031 2e20 6172 7562 612d 6365 6e74 7261   1. aruba-centra
+00006db0: 6c20 656e 6162 6c65 2e0a 2020 2020 2020  l enable..      
+00006dc0: 2020 2020 2020 2020 2020 322e 2061 7275            2. aru
+00006dd0: 6261 2d63 656e 7472 616c 2075 726c 2068  ba-central url h
+00006de0: 7474 7073 3a2f 2f3c 5552 4c20 7c20 4950  ttps://<URL | IP
+00006df0: 3e2f 7773 2e0a 2020 2020 2020 2020 2020  >/ws..          
+00006e00: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
+00006e10: 7472 293a 2044 6576 6963 6520 7479 7065  tr): Device type
+00006e20: 206f 6620 7468 6520 7465 6d70 6c61 7465   of the template
+00006e30: 2e20 2056 616c 6964 2056 616c 7565 733a  .  Valid Values:
+00006e40: 2061 702c 2073 772c 2063 782c 2067 770a   ap, sw, cx, gw.
+00006e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006e60: 4465 6661 756c 7473 2074 6f20 6170 2e0a  Defaults to ap..
+00006e70: 2020 2020 2020 2020 2020 2020 7665 7273              vers
+00006e80: 696f 6e20 2873 7472 293a 2046 6972 6d77  ion (str): Firmw
+00006e90: 6172 6520 7665 7273 696f 6e20 7072 6f70  are version prop
+00006ea0: 6572 7479 206f 6620 7465 6d70 6c61 7465  erty of template
+00006eb0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00006ec0: 2020 4578 616d 706c 653a 2041 4c4c 2c20    Example: ALL, 
+00006ed0: 362e 352e 3420 6574 632e 0a20 2020 2020  6.5.4 etc..     
+00006ee0: 2020 2020 2020 206d 6f64 656c 2028 7374         model (st
+00006ef0: 7229 3a20 4d6f 6465 6c20 7072 6f70 6572  r): Model proper
+00006f00: 7479 206f 6620 7465 6d70 6c61 7465 2e0a  ty of template..
+00006f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006f20: 466f 7220 7377 2028 414f 532d 5377 6974  For sw (AOS-Swit
+00006f30: 6368 2920 6465 7669 6365 5f74 7970 652c  ch) device_type,
+00006f40: 2070 6172 7420 6e75 6d62 6572 2028 4a20   part number (J 
+00006f50: 6e75 6d62 6572 2920 6361 6e20 6265 2075  number) can be u
+00006f60: 7365 6420 666f 7220 7468 6520 6d6f 6465  sed for the mode
+00006f70: 6c0a 2020 2020 2020 2020 2020 2020 2020  l.              
+00006f80: 2020 7061 7261 6d65 7465 722e 2045 7861    parameter. Exa
+00006f90: 6d70 6c65 3a20 3239 3230 2c20 4a39 3732  mple: 2920, J972
+00006fa0: 3741 2c20 6574 632e 0a0a 2020 2020 2020  7A, etc...      
+00006fb0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00006fc0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00006fd0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00006fe0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00006ff0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007000: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+00007010: 7261 7469 6f6e 2f76 312f 6772 6f75 7073  ration/v1/groups
+00007020: 2f7b 6772 6f75 707d 2f74 656d 706c 6174  /{group}/templat
+00007030: 6573 220a 2020 2020 2020 2020 2320 666f  es".        # fo
+00007040: 726d 6461 7461 203d 2061 696f 6874 7470  rmdata = aiohttp
+00007050: 2e46 6f72 6d44 6174 6128 290a 2020 2020  .FormData().    
+00007060: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00007070: 6528 7465 6d70 6c61 7465 2c20 6279 7465  e(template, byte
+00007080: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+00007090: 2320 666f 726d 6461 7461 2e61 6464 5f66  # formdata.add_f
+000070a0: 6965 6c64 2822 7465 6d70 6c61 7465 222c  ield("template",
+000070b0: 207b 2274 656d 706c 6174 6522 3a20 7465   {"template": te
+000070c0: 6d70 6c61 7465 7d2c 2066 696c 656e 616d  mplate}, filenam
+000070d0: 653d 2274 656d 706c 6174 652e 7478 7422  e="template.txt"
+000070e0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+000070f0: 6669 6c65 7320 3d20 6169 6f68 7474 702e  files = aiohttp.
+00007100: 466f 726d 4461 7461 285b 2822 7465 6d70  FormData([("temp
+00007110: 6c61 7465 222c 2028 2274 656d 706c 6174  late", ("templat
+00007120: 652e 7478 7422 2c20 7465 6d70 6c61 7465  e.txt", template
+00007130: 292c 295d 290a 2020 2020 2020 2020 2020  ),)]).          
+00007140: 2020 6669 6c65 7320 3d20 7b27 7465 6d70    files = {'temp
+00007150: 6c61 7465 273a 2028 2774 656d 706c 6174  late': ('templat
+00007160: 652e 7478 7427 2c20 7465 6d70 6c61 7465  e.txt', template
+00007170: 297d 0a20 2020 2020 2020 2065 6c73 653a  )}.        else:
+00007180: 0a20 2020 2020 2020 2020 2020 2074 656d  .            tem
+00007190: 706c 6174 6520 3d20 7465 6d70 6c61 7465  plate = template
+000071a0: 2069 6620 6973 696e 7374 616e 6365 2874   if isinstance(t
+000071b0: 656d 706c 6174 652c 2050 6174 6829 2065  emplate, Path) e
+000071c0: 6c73 6520 5061 7468 2873 7472 2874 656d  lse Path(str(tem
+000071d0: 706c 6174 6529 290a 2020 2020 2020 2020  plate)).        
+000071e0: 2020 2020 6966 206e 6f74 2074 656d 706c      if not templ
+000071f0: 6174 652e 6578 6973 7473 2829 3a0a 2020  ate.exists():.  
+00007200: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00007210: 6973 6520 4669 6c65 4e6f 7446 6f75 6e64  ise FileNotFound
+00007220: 4572 726f 720a 0a20 2020 2020 2020 2020  Error..         
+00007230: 2020 2066 696c 6573 203d 207b 2774 656d     files = {'tem
+00007240: 706c 6174 6527 3a20 2827 7465 6d70 6c61  plate': ('templa
+00007250: 7465 2e74 7874 272c 2074 656d 706c 6174  te.txt', templat
+00007260: 652e 7265 6164 5f62 7974 6573 2829 297d  e.read_bytes())}
+00007270: 0a20 2020 2020 2020 2020 2020 2023 2066  .            # f
+00007280: 696c 6573 203d 2061 696f 6874 7470 2e46  iles = aiohttp.F
+00007290: 6f72 6d44 6174 6128 5b28 2274 656d 706c  ormData([("templ
+000072a0: 6174 6522 2c20 2822 7465 6d70 6c61 7465  ate", ("template
+000072b0: 2e74 7874 222c 2074 656d 706c 6174 652e  .txt", template.
+000072c0: 7265 6164 5f62 7974 6573 2829 292c 295d  read_bytes()),)]
+000072d0: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+000072e0: 666f 726d 6461 7461 2e61 6464 5f66 6965  formdata.add_fie
+000072f0: 6c64 2822 7465 6d70 6c61 7465 222c 2074  ld("template", t
+00007300: 656d 706c 6174 652e 7265 6164 5f62 7974  emplate.read_byt
+00007310: 6573 2829 2c20 6669 6c65 6e61 6d65 3d22  es(), filename="
+00007320: 7465 6d70 6c61 7465 2e74 7874 2229 0a20  template.txt"). 
+00007330: 2020 2020 2020 2020 2020 2023 2066 6f72             # for
+00007340: 6d64 6174 612e 6164 645f 6669 656c 6428  mdata.add_field(
+00007350: 2274 656d 706c 6174 6522 2c20 7465 6d70  "template", temp
+00007360: 6c61 7465 2e72 6561 645f 6279 7465 7328  late.read_bytes(
+00007370: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
+00007380: 2320 666f 726d 6461 7461 2e61 6464 5f66  # formdata.add_f
+00007390: 6965 6c64 280a 2020 2020 2020 2020 2020  ield(.          
+000073a0: 2020 2320 2020 2020 2274 656d 706c 6174    #     "templat
+000073b0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+000073c0: 2320 2020 2020 7465 6d70 6c61 7465 2e72  #     template.r
+000073d0: 6561 645f 7465 7874 2829 2c0a 2020 2020  ead_text(),.    
+000073e0: 2020 2020 2020 2020 2320 2020 2020 6669          #     fi
+000073f0: 6c65 6e61 6d65 3d22 7465 6d70 6c61 7465  lename="template
+00007400: 2e74 7874 222c 0a20 2020 2020 2020 2020  .txt",.         
+00007410: 2020 2023 2020 2020 2063 6f6e 7465 6e74     #     content
+00007420: 5f74 7970 653d 226d 756c 7469 7061 7274  _type="multipart
+00007430: 2f66 6f72 6d2d 6461 7461 220a 2020 2020  /form-data".    
+00007440: 2020 2020 2020 2020 2320 290a 0a20 2020          # )..   
+00007450: 2020 2020 2023 2077 7220 3d20 666f 726d       # wr = form
+00007460: 6461 7461 2829 0a20 2020 2020 2020 2023  data().        #
+00007470: 2064 6174 6120 3d20 6627 2d2d 7b77 722e   data = f'--{wr.
+00007480: 626f 756e 6461 7279 7d5c 725c 6e43 6f6e  boundary}\r\nCon
+00007490: 7465 6e74 2d44 6973 706f 7369 7469 6f6e  tent-Disposition
+000074a0: 3a20 666f 726d 2d64 6174 613b 206e 616d  : form-data; nam
+000074b0: 653d 2274 656d 706c 6174 6522 3b66 696c  e="template";fil
+000074c0: 656e 616d 653d 2274 656d 706c 6174 652e  ename="template.
+000074d0: 7478 7422 7b77 722e 5f70 6172 7473 5b30  txt"{wr._parts[0
+000074e0: 5d5b 305d 2e5f 7661 6c75 652e 6465 636f  ][0]._value.deco
+000074f0: 6465 2829 7d5c 725c 6e2d 2d7b 7772 2e62  de()}\r\n--{wr.b
+00007500: 6f75 6e64 6172 797d 272e 656e 636f 6465  oundary}'.encode
+00007510: 2822 7574 662d 3822 290a 0a20 2020 2020  ("utf-8")..     
+00007520: 2020 2023 202d 2d20 576f 726b 696e 6720     # -- Working 
+00007530: 666f 726d 2066 726f 6d20 7768 3273 6e6f  form from wh2sno
+00007540: 770a 2020 2020 2020 2020 2320 2320 4372  w.        # # Cr
+00007550: 6561 7465 2061 2046 6f72 6d44 6174 6120  eate a FormData 
+00007560: 6f62 6a65 6374 0a20 2020 2020 2020 2023  object.        #
+00007570: 205f 666f 726d 203d 2061 696f 6874 7470   _form = aiohttp
+00007580: 2e46 6f72 6d44 6174 6128 290a 0a20 2020  .FormData()..   
+00007590: 2020 2020 2023 2023 2041 6464 2073 6f6d       # # Add som
+000075a0: 6520 6461 7461 2074 6f20 7468 6520 666f  e data to the fo
+000075b0: 726d 0a20 2020 2020 2020 2023 205f 666f  rm.        # _fo
+000075c0: 726d 2e61 6464 5f66 6965 6c64 2827 6772  rm.add_field('gr
+000075d0: 616e 745f 7479 7065 272c 2027 7265 6672  ant_type', 'refr
+000075e0: 6573 685f 746f 6b65 6e27 290a 2020 2020  esh_token').    
+000075f0: 2020 2020 2320 5f66 6f72 6d2e 6164 645f      # _form.add_
+00007600: 6669 656c 6428 2763 6c69 656e 745f 6964  field('client_id
+00007610: 272c 2063 6f6e 6669 672e 736e 6f77 2e63  ', config.snow.c
+00007620: 6c69 656e 745f 6964 290a 2020 2020 2020  lient_id).      
+00007630: 2020 2320 5f66 6f72 6d2e 6164 645f 6669    # _form.add_fi
+00007640: 656c 6428 2763 6c69 656e 745f 7365 6372  eld('client_secr
+00007650: 6574 272c 2063 6f6e 6669 672e 736e 6f77  et', config.snow
+00007660: 2e63 6c69 656e 745f 7365 6372 6574 290a  .client_secret).
+00007670: 2020 2020 2020 2020 2320 5f66 6f72 6d2e          # _form.
+00007680: 6164 645f 6669 656c 6428 2772 6566 7265  add_field('refre
+00007690: 7368 5f74 6f6b 656e 272c 2074 6f6b 2e72  sh_token', tok.r
+000076a0: 6566 7265 7368 290a 2020 2020 2020 2020  efresh).        
+000076b0: 2320 6173 796e 6320 7769 7468 2061 696f  # async with aio
+000076c0: 6874 7470 2e43 6c69 656e 7453 6573 7369  http.ClientSessi
+000076d0: 6f6e 2829 2061 7320 7365 7373 696f 6e3a  on() as session:
+000076e0: 0a20 2020 2020 2020 2023 2020 2020 2072  .        #     r
+000076f0: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
+00007700: 7365 7373 696f 6e2e 706f 7374 2873 7472  session.post(str
+00007710: 2863 6f6e 6669 672e 736e 6f77 2e72 6566  (config.snow.ref
+00007720: 7265 7368 5f75 726c 292c 2064 6174 613d  resh_url), data=
+00007730: 5f66 6f72 6d29 0a20 2020 2020 2020 2064  _form).        d
+00007740: 6576 6963 655f 7479 7065 203d 2064 6576  evice_type = dev
+00007750: 6963 655f 7479 7065 2069 6620 6e6f 7420  ice_type if not 
+00007760: 6861 7361 7474 7228 6465 7669 6365 5f74  hasattr(device_t
+00007770: 7970 652c 2022 7661 6c75 6522 2920 656c  ype, "value") el
+00007780: 7365 2064 6576 6963 655f 7479 7065 2e76  se device_type.v
+00007790: 616c 7565 0a20 2020 2020 2020 2064 6576  alue.        dev
+000077a0: 6963 655f 7479 7065 203d 2063 6f6e 7374  ice_type = const
+000077b0: 616e 7473 2e6c 6962 5f74 6f5f 6170 6928  ants.lib_to_api(
+000077c0: 2274 656d 706c 6174 6522 2c20 6465 7669  "template", devi
+000077d0: 6365 5f74 7970 6529 0a0a 2020 2020 2020  ce_type)..      
+000077e0: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+000077f0: 2020 2020 2020 2020 2027 6e61 6d65 273a           'name':
+00007800: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+00007810: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
+00007820: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
+00007830: 2020 2020 2020 2020 2020 2027 7665 7273             'vers
+00007840: 696f 6e27 3a20 7665 7273 696f 6e2c 0a20  ion': version,. 
+00007850: 2020 2020 2020 2020 2020 2027 6d6f 6465             'mode
+00007860: 6c27 3a20 6d6f 6465 6c0a 2020 2020 2020  l': model.      
+00007870: 2020 7d0a 2020 2020 2020 2020 2320 5754    }.        # WT
+00007880: 4620 4d69 7373 696e 6720 666f 726d 6461  F Missing formda
+00007890: 7461 2070 6172 616d 6574 6572 2027 7465  ta parameter 'te
+000078a0: 6d70 6c61 7465 270a 2020 2020 2020 2020  mplate'.        
+000078b0: 2320 7265 7475 726e 2061 7761 6974 2073  # return await s
+000078c0: 656c 662e 706f 7374 2875 726c 2c20 7061  elf.post(url, pa
+000078d0: 7261 6d73 3d70 6172 616d 732c 2070 6179  rams=params, pay
+000078e0: 6c6f 6164 3d66 6f72 6d64 6174 612c 2920  load=formdata,) 
+000078f0: 2023 0a0a 0a20 2020 2020 2020 2023 204e   #...        # N
+00007900: 6f20 6469 6666 6572 656e 6365 2076 7320  o difference vs 
+00007910: 7468 6520 6162 6f76 650a 2020 2020 2020  the above.      
+00007920: 2020 2320 6865 6164 6572 7320 3d20 7b0a    # headers = {.
+00007930: 2020 2020 2020 2020 2320 2020 2020 2241          #     "A
+00007940: 7574 686f 7269 7a61 7469 6f6e 223a 2066  uthorization": f
+00007950: 2242 6561 7265 7220 7b73 656c 662e 6175  "Bearer {self.au
+00007960: 7468 2e63 656e 7472 616c 5f69 6e66 6f5b  th.central_info[
+00007970: 2774 6f6b 656e 275d 5b27 6163 6365 7373  'token']['access
+00007980: 5f74 6f6b 656e 275d 7d22 2c0a 2020 2020  _token']}",.    
+00007990: 2020 2020 2320 2020 2020 2741 6363 6570      #     'Accep
+000079a0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+000079b0: 2f6a 736f 6e27 2c0a 2020 2020 2020 2020  /json',.        
+000079c0: 2320 2020 2020 2243 6f6e 7465 6e74 2d54  #     "Content-T
+000079d0: 7970 6522 3a20 226d 756c 7469 7061 7274  ype": "multipart
+000079e0: 2f66 6f72 6d2d 6461 7461 220a 2020 2020  /form-data".    
+000079f0: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
+00007a00: 2320 6173 796e 6320 7769 7468 2061 696f  # async with aio
+00007a10: 6874 7470 2e43 6c69 656e 7453 6573 7369  http.ClientSessi
+00007a20: 6f6e 2873 656c 662e 6175 7468 2e63 656e  on(self.auth.cen
+00007a30: 7472 616c 5f69 6e66 6f5b 2262 6173 655f  tral_info["base_
+00007a40: 7572 6c22 5d29 2061 7320 7365 7373 696f  url"]) as sessio
+00007a50: 6e3a 0a20 2020 2020 2020 2023 2020 2020  n:.        #    
+00007a60: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
+00007a70: 7373 696f 6e2e 706f 7374 2875 726c 2c20  ssion.post(url, 
+00007a80: 7061 7261 6d73 3d70 6172 616d 732c 2064  params=params, d
+00007a90: 6174 613d 666f 726d 6461 7461 2c20 6865  ata=formdata, he
+00007aa0: 6164 6572 733d 6865 6164 6572 732c 2073  aders=headers, s
+00007ab0: 736c 3d54 7275 6529 0a20 2020 2020 2020  sl=True).       
+00007ac0: 2023 2020 2020 2074 7279 3a0a 2020 2020   #     try:.    
+00007ad0: 2020 2020 2320 2020 2020 2020 2020 6f75      #         ou
+00007ae0: 7470 7574 203d 2061 7761 6974 2072 6573  tput = await res
+00007af0: 702e 636f 6e74 656e 742e 7265 6164 2829  p.content.read()
+00007b00: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00007b10: 2020 206f 7574 7075 7420 3d20 6f75 7470     output = outp
+00007b20: 7574 2e64 6563 6f64 6528 290a 2020 2020  ut.decode().    
+00007b30: 2020 2020 2320 2020 2020 2020 2020 6f75      #         ou
+00007b40: 7470 7574 203d 206a 736f 6e2e 6c6f 6164  tput = json.load
+00007b50: 7328 6f75 7470 7574 290a 2020 2020 2020  s(output).      
+00007b60: 2020 2320 2020 2020 6578 6365 7074 2045    #     except E
+00007b70: 7863 6570 7469 6f6e 2061 7320 653a 0a20  xception as e:. 
+00007b80: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00007b90: 206f 7574 7075 7420 3d20 4e6f 6e65 0a20   output = None. 
+00007ba0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00007bb0: 2070 7269 6e74 2865 290a 2020 2020 2020   print(e).      
+00007bc0: 2020 2320 7265 7475 726e 2052 6573 706f    # return Respo
+00007bd0: 6e73 6528 7265 7370 2c20 6f75 7470 7574  nse(resp, output
+00007be0: 3d6f 7574 7075 7429 0a0a 2020 2020 2020  =output)..      
+00007bf0: 2020 2320 4841 434b 2054 6869 7320 776f    # HACK This wo
+00007c00: 726b 7320 6275 7420 7072 6566 6572 2074  rks but prefer t
+00007c10: 6f20 6765 7420 6169 6f68 7474 7020 736f  o get aiohttp so
+00007c20: 7274 6564 2066 6f72 2063 6f6e 7369 7374  rted for consist
+00007c30: 656e 6379 0a20 2020 2020 2020 2069 6d70  ency.        imp
+00007c40: 6f72 7420 7265 7175 6573 7473 0a20 2020  ort requests.   
+00007c50: 2020 2020 2068 6561 6465 7273 203d 207b       headers = {
+00007c60: 0a20 2020 2020 2020 2020 2020 2022 4175  .            "Au
+00007c70: 7468 6f72 697a 6174 696f 6e22 3a20 6622  thorization": f"
+00007c80: 4265 6172 6572 207b 7365 6c66 2e61 7574  Bearer {self.aut
+00007c90: 682e 6365 6e74 7261 6c5f 696e 666f 5b27  h.central_info['
+00007ca0: 746f 6b65 6e27 5d5b 2761 6363 6573 735f  token']['access_
+00007cb0: 746f 6b65 6e27 5d7d 222c 0a20 2020 2020  token']}",.     
+00007cc0: 2020 2020 2020 2027 4163 6365 7074 273a         'Accept':
+00007cd0: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00007ce0: 6f6e 270a 2020 2020 2020 2020 7d0a 2020  on'.        }.  
+00007cf0: 2020 2020 2020 7572 6c3d 6622 7b73 656c        url=f"{sel
+00007d00: 662e 6175 7468 2e63 656e 7472 616c 5f69  f.auth.central_i
+00007d10: 6e66 6f5b 2762 6173 655f 7572 6c27 5d7d  nfo['base_url']}
+00007d20: 7b75 726c 7d22 0a20 2020 2020 2020 2066  {url}".        f
+00007d30: 6f72 205f 2069 6e20 7261 6e67 6528 3229  or _ in range(2)
+00007d40: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00007d50: 7370 203d 2072 6571 7565 7374 732e 7265  sp = requests.re
+00007d60: 7175 6573 7428 2250 4f53 5422 2c20 7572  quest("POST", ur
+00007d70: 6c3d 7572 6c2c 2070 6172 616d 733d 7061  l=url, params=pa
+00007d80: 7261 6d73 2c20 6669 6c65 733d 6669 6c65  rams, files=file
+00007d90: 732c 2068 6561 6465 7273 3d68 6561 6465  s, headers=heade
+00007da0: 7273 290a 2020 2020 2020 2020 2020 2020  rs).            
+00007db0: 6f75 7470 7574 203d 2066 225b 7b72 6573  output = f"[{res
+00007dc0: 702e 7265 6173 6f6e 7d5d 2220 2b20 2220  p.reason}]" + " 
+00007dd0: 2220 2b20 7265 7370 2e74 6578 742e 6c73  " + resp.text.ls
+00007de0: 7472 6970 2827 5b5c 6e20 2227 292e 7273  trip('[\n "').rs
+00007df0: 7472 6970 2827 225c 6e5d 2729 0a20 2020  trip('"\n]').   
+00007e00: 2020 2020 2020 2020 2072 6573 7020 3d20           resp = 
+00007e10: 5265 7370 6f6e 7365 286f 7574 7075 743d  Response(output=
+00007e20: 6f75 7470 7574 2c20 6f6b 3d72 6573 702e  output, ok=resp.
+00007e30: 6f6b 2c20 7572 6c3d 7572 6c2c 2065 6c61  ok, url=url, ela
+00007e40: 7073 6564 3d72 6f75 6e64 2872 6573 702e  psed=round(resp.
+00007e50: 656c 6170 7365 642e 746f 7461 6c5f 7365  elapsed.total_se
+00007e60: 636f 6e64 7328 292c 2032 292c 2073 7461  conds(), 2), sta
+00007e70: 7475 735f 636f 6465 3d72 6573 702e 7374  tus_code=resp.st
+00007e80: 6174 7573 5f63 6f64 652c 2072 6c5f 7374  atus_code, rl_st
+00007e90: 723d 222d 2229 0a20 2020 2020 2020 2020  r="-").         
+00007ea0: 2020 2069 6620 2269 6e76 616c 6964 5f74     if "invalid_t
+00007eb0: 6f6b 656e 2220 696e 2072 6573 702e 6f75  oken" in resp.ou
+00007ec0: 7470 7574 3a0a 2020 2020 2020 2020 2020  tput:.          
+00007ed0: 2020 2020 2020 7365 6c66 2e72 6566 7265        self.refre
+00007ee0: 7368 5f74 6f6b 656e 2829 0a20 2020 2020  sh_token().     
+00007ef0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00007f00: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+00007f10: 616b 0a20 2020 2020 2020 2072 6574 7572  ak.        retur
+00007f20: 6e20 7265 7370 0a0a 2020 2020 6173 796e  n resp..    asyn
+00007f30: 6320 6465 6620 7570 6461 7465 5f65 7869  c def update_exi
+00007f40: 7374 696e 675f 7465 6d70 6c61 7465 280a  sting_template(.
+00007f50: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00007f60: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
+00007f70: 2c0a 2020 2020 2020 2020 6e61 6d65 3a20  ,.        name: 
+00007f80: 7374 722c 0a20 2020 2020 2020 2074 656d  str,.        tem
+00007f90: 706c 6174 653a 2050 6174 6820 3d20 4e6f  plate: Path = No
+00007fa0: 6e65 2c0a 2020 2020 2020 2020 7061 796c  ne,.        payl
+00007fb0: 6f61 643a 2073 7472 203d 204e 6f6e 652c  oad: str = None,
+00007fc0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+00007fd0: 7479 7065 3a20 7374 7220 3d20 4e6f 6e65  type: str = None
+00007fe0: 2c0a 2020 2020 2020 2020 7665 7273 696f  ,.        versio
+00007ff0: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00008000: 2020 2020 2020 206d 6f64 656c 3a20 7374         model: st
+00008010: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2920  r = None,.    ) 
+00008020: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00008030: 2020 2020 2022 2222 5570 6461 7465 2065       """Update e
+00008040: 7869 7374 696e 6720 7465 6d70 6c61 7465  xisting template
+00008050: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00008060: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+00008070: 7570 2028 7374 7229 3a20 4e61 6d65 206f  up (str): Name o
+00008080: 6620 7468 6520 6772 6f75 7020 666f 7220  f the group for 
+00008090: 7768 6963 6820 7468 6520 7465 6d70 6c61  which the templa
+000080a0: 7465 2069 7320 746f 2062 6520 7570 6461  te is to be upda
+000080b0: 7465 642e 0a20 2020 2020 2020 2020 2020  ted..           
+000080c0: 206e 616d 6520 2873 7472 293a 204e 616d   name (str): Nam
+000080d0: 6520 6f66 2074 656d 706c 6174 652e 0a20  e of template.. 
+000080e0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
+000080f0: 655f 7479 7065 2028 7374 722c 206f 7074  e_type (str, opt
+00008100: 696f 6e61 6c29 3a20 4465 7669 6365 2074  ional): Device t
+00008110: 7970 6520 6f66 2074 6865 2074 656d 706c  ype of the templ
+00008120: 6174 652e 0a20 2020 2020 2020 2020 2020  ate..           
+00008130: 2020 2020 2056 616c 6964 2056 616c 7565       Valid Value
+00008140: 733a 2061 702c 2073 7720 2841 7275 6261  s: ap, sw (Aruba
+00008150: 4f53 2d53 5729 2c20 6378 2028 4172 7562  OS-SW), cx (Arub
+00008160: 614f 532d 4358 292c 2067 7720 2863 6f6e  aOS-CX), gw (con
+00008170: 7472 6f6c 6c65 7273 2f67 6174 6577 6179  trollers/gateway
+00008180: 7329 0a20 2020 2020 2020 2020 2020 2076  s).            v
+00008190: 6572 7369 6f6e 2028 7374 722c 206f 7074  ersion (str, opt
+000081a0: 696f 6e61 6c29 3a20 4669 726d 7761 7265  ional): Firmware
+000081b0: 2076 6572 7369 6f6e 2070 726f 7065 7274   version propert
+000081c0: 7920 6f66 2074 656d 706c 6174 652e 0a20  y of template.. 
+000081d0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
+000081e0: 7861 6d70 6c65 3a20 414c 4c2c 2036 2e35  xample: ALL, 6.5
+000081f0: 2e34 2065 7463 2e0a 2020 2020 2020 2020  .4 etc..        
+00008200: 2020 2020 6d6f 6465 6c20 2873 7472 2c20      model (str, 
+00008210: 6f70 7469 6f6e 616c 293a 204d 6f64 656c  optional): Model
+00008220: 2070 726f 7065 7274 7920 6f66 2074 656d   property of tem
+00008230: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
+00008240: 2020 2020 2020 2046 6f72 2027 4172 7562         For 'Arub
+00008250: 6153 7769 7463 6827 2064 6576 6963 655f  aSwitch' device_
+00008260: 7479 7065 2c20 7061 7274 206e 756d 6265  type, part numbe
+00008270: 7220 284a 206e 756d 6265 7229 2063 616e  r (J number) can
+00008280: 2062 6520 7573 6564 2066 6f72 2074 6865   be used for the
+00008290: 206d 6f64 656c 2e0a 2020 2020 2020 2020   model..        
+000082a0: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+000082b0: 2032 3932 302c 204a 3937 3237 4120 6574   2920, J9727A et
+000082c0: 632e 0a20 2020 2020 2020 2020 2020 2074  c..            t
+000082d0: 656d 706c 6174 6520 2855 6e69 6f6e 5b50  emplate (Union[P
+000082e0: 6174 682c 2073 7472 5d2c 206f 7074 696f  ath, str], optio
+000082f0: 6e61 6c29 3a20 5465 6d70 6c61 7465 2074  nal): Template t
+00008300: 6578 742e 0a20 2020 2020 2020 2020 2020  ext..           
+00008310: 2020 2020 2046 6f72 2027 4172 7562 6153       For 'ArubaS
+00008320: 7769 7463 6827 2064 6576 6963 655f 7479  witch' device_ty
+00008330: 7065 2c20 7468 6520 7465 6d70 6c61 7465  pe, the template
+00008340: 2074 6578 7420 7368 6f75 6c64 2069 6e63   text should inc
+00008350: 6c75 6465 2074 6865 2066 6f6c 6c6f 7769  lude the followi
+00008360: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
+00008370: 2020 2063 6f6d 6d61 6e64 7320 746f 206d     commands to m
+00008380: 6169 6e74 6169 6e20 636f 6e6e 6563 7469  aintain connecti
+00008390: 6f6e 2077 6974 6820 6365 6e74 7261 6c2e  on with central.
+000083a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000083b0: 2031 2e20 6172 7562 612d 6365 6e74 7261   1. aruba-centra
+000083c0: 6c20 656e 6162 6c65 2e0a 2020 2020 2020  l enable..      
+000083d0: 2020 2020 2020 2020 2020 322e 2061 7275            2. aru
+000083e0: 6261 2d63 656e 7472 616c 2075 726c 2068  ba-central url h
+000083f0: 7474 7073 3a2f 2f3c 5552 4c20 7c20 4950  ttps://<URL | IP
+00008400: 3e2f 7773 2e0a 2020 2020 2020 2020 2020  >/ws..          
+00008410: 2020 7061 796c 6f61 6420 2873 7472 2c20    payload (str, 
+00008420: 6f70 7469 6f6e 616c 293a 206a 736f 6e20  optional): json 
+00008430: 7265 7072 6573 656e 7461 7469 6f6e 206f  representation o
+00008440: 6620 7468 6520 7265 7175 6972 6564 2070  f the required p
+00008450: 6172 616d 732e 0a0a 2020 2020 2020 2020  arams...        
+00008460: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00008470: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00008480: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00008490: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+000084a0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+000084b0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+000084c0: 7469 6f6e 2f76 312f 6772 6f75 7073 2f7b  tion/v1/groups/{
+000084d0: 6772 6f75 707d 2f74 656d 706c 6174 6573  group}/templates
+000084e0: 220a 2020 2020 2020 2020 7465 6d70 6c61  ".        templa
+000084f0: 7465 203d 2074 656d 706c 6174 6520 6966  te = template if
+00008500: 2069 7369 6e73 7461 6e63 6528 7465 6d70   isinstance(temp
+00008510: 6c61 7465 2c20 5061 7468 2920 656c 7365  late, Path) else
+00008520: 2050 6174 6828 7374 7228 7465 6d70 6c61   Path(str(templa
+00008530: 7465 2929 0a0a 2020 2020 2020 2020 6966  te))..        if
+00008540: 2064 6576 6963 655f 7479 7065 3a0a 2020   device_type:.  
+00008550: 2020 2020 2020 2020 2020 6465 7669 6365            device
+00008560: 5f74 7970 6520 3d20 636f 6e73 7461 6e74  _type = constant
+00008570: 732e 6c69 625f 746f 5f61 7069 2822 7465  s.lib_to_api("te
+00008580: 6d70 6c61 7465 222c 2064 6576 6963 655f  mplate", device_
+00008590: 7479 7065 290a 0a20 2020 2020 2020 2070  type)..        p
+000085a0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+000085b0: 2020 2020 2020 276e 616d 6527 3a20 6e61        'name': na
+000085c0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+000085d0: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
+000085e0: 6576 6963 655f 7479 7065 2c0a 2020 2020  evice_type,.    
+000085f0: 2020 2020 2020 2020 2776 6572 7369 6f6e          'version
+00008600: 273a 2076 6572 7369 6f6e 2c0a 2020 2020  ': version,.    
+00008610: 2020 2020 2020 2020 276d 6f64 656c 273a          'model':
+00008620: 206d 6f64 656c 0a20 2020 2020 2020 207d   model.        }
+00008630: 0a0a 2020 2020 2020 2020 6966 2074 656d  ..        if tem
+00008640: 706c 6174 6520 616e 6420 7465 6d70 6c61  plate and templa
+00008650: 7465 2e69 735f 6669 6c65 2829 2061 6e64  te.is_file() and
+00008660: 2074 656d 706c 6174 652e 7374 6174 2829   template.stat()
+00008670: 2e73 745f 7369 7a65 203e 2030 3a0a 2020  .st_size > 0:.  
+00008680: 2020 2020 2020 2020 2020 7465 6d70 6c61            templa
+00008690: 7465 5f64 6174 613a 2062 7974 6573 203d  te_data: bytes =
+000086a0: 2074 656d 706c 6174 652e 7265 6164 5f62   template.read_b
+000086b0: 7974 6573 2829 0a20 2020 2020 2020 2065  ytes().        e
+000086c0: 6c69 6620 7061 796c 6f61 643a 0a20 2020  lif payload:.   
+000086d0: 2020 2020 2020 2020 2074 656d 706c 6174           templat
+000086e0: 655f 6461 7461 3a20 6279 7465 7320 3d20  e_data: bytes = 
+000086f0: 7061 796c 6f61 640a 2020 2020 2020 2020  payload.        
+00008700: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00008710: 2020 7465 6d70 6c61 7465 5f64 6174 6120    template_data 
+00008720: 3d20 4e6f 6e65 0a0a 2020 2020 2020 2020  = None..        
+00008730: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00008740: 662e 7061 7463 6828 7572 6c2c 2070 6172  f.patch(url, par
+00008750: 616d 733d 7061 7261 6d73 2c20 7061 796c  ams=params, payl
+00008760: 6f61 643d 7465 6d70 6c61 7465 5f64 6174  oad=template_dat
+00008770: 6129 0a0a 2020 2020 2320 5465 7374 6564  a)..    # Tested
+00008780: 2061 6e64 2077 6f72 6b73 2062 7574 206e   and works but n
+00008790: 6f74 2075 7365 642e 2020 5468 6973 2063  ot used.  This c
+000087a0: 616c 6c73 2070 7963 656e 7472 616c 206d  alls pycentral m
+000087b0: 6574 686f 6420 6469 7265 6374 6c79 2c20  ethod directly, 
+000087c0: 6275 7420 6974 2068 6173 2061 6e20 6572  but it has an er
+000087d0: 726f 7220 696e 2062 6173 652e 7079 2063  ror in base.py c
+000087e0: 6f6d 6d61 6e64 2072 6520 7572 6c20 636f  ommand re url co
+000087f0: 6e63 6174 0a20 2020 2023 2061 6e64 2069  ncat.    # and i
+00008800: 7420 646f 6573 6e27 7420 6361 7463 6820  t doesn't catch 
+00008810: 616c 6c20 6578 6365 7074 696f 6e73 2073  all exceptions s
+00008820: 6f20 706f 7373 6962 6c65 2074 6f20 6765  o possible to ge
+00008830: 7420 6578 6365 7074 696f 6e20 7768 656e  t exception when
+00008840: 2065 7661 6c20 7265 7370 206f 7572 2052   eval resp our R
+00008850: 6573 706f 6e73 6520 6f62 6a65 6374 2069  esponse object i
+00008860: 7320 6265 7474 6572 2049 4d48 4f0a 2020  s better IMHO.  
+00008870: 2020 6173 796e 6320 6465 6620 5f75 7064    async def _upd
+00008880: 6174 655f 6578 6973 7469 6e67 5f74 656d  ate_existing_tem
+00008890: 706c 6174 6528 0a20 2020 2020 2020 2073  plate(.        s
+000088a0: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
+000088b0: 7570 3a20 7374 722c 0a20 2020 2020 2020  up: str,.       
+000088c0: 206e 616d 653a 2073 7472 2c0a 2020 2020   name: str,.    
+000088d0: 2020 2020 7465 6d70 6c61 7465 3a20 5061      template: Pa
+000088e0: 7468 203d 204e 6f6e 652c 0a20 2020 2020  th = None,.     
+000088f0: 2020 2070 6179 6c6f 6164 3a20 7374 7220     payload: str 
+00008900: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00008910: 6465 7669 6365 5f74 7970 653a 2073 7472  device_type: str
+00008920: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00008930: 2076 6572 7369 6f6e 3a20 7374 7220 3d20   version: str = 
+00008940: 4e6f 6e65 2c0a 2020 2020 2020 2020 6d6f  None,.        mo
+00008950: 6465 6c3a 2073 7472 203d 204e 6f6e 652c  del: str = None,
+00008960: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00008970: 7365 3a0a 2020 2020 2020 2020 6672 6f6d  se:.        from
+00008980: 2070 7963 656e 7472 616c 2e63 6f6e 6669   pycentral.confi
+00008990: 6775 7261 7469 6f6e 2069 6d70 6f72 7420  guration import 
+000089a0: 5465 6d70 6c61 7465 730a 0a20 2020 2020  Templates..     
+000089b0: 2020 2074 656d 706c 6174 6573 203d 2054     templates = T
+000089c0: 656d 706c 6174 6573 2829 0a20 2020 2020  emplates().     
+000089d0: 2020 206b 7761 7267 7320 3d20 7b0a 2020     kwargs = {.  
+000089e0: 2020 2020 2020 2020 2020 2267 726f 7570            "group
+000089f0: 5f6e 616d 6522 3a20 6772 6f75 702c 0a20  _name": group,. 
+00008a00: 2020 2020 2020 2020 2020 2022 7465 6d70             "temp
+00008a10: 6c61 7465 5f6e 616d 6522 3a20 6e61 6d65  late_name": name
+00008a20: 2c0a 2020 2020 2020 2020 2020 2020 2264  ,.            "d
+00008a30: 6576 6963 655f 7479 7065 223a 2064 6576  evice_type": dev
+00008a40: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
+00008a50: 2020 2020 2020 2276 6572 7369 6f6e 223a        "version":
+00008a60: 2076 6572 7369 6f6e 2c0a 2020 2020 2020   version,.      
+00008a70: 2020 2020 2020 226d 6f64 656c 223a 206d        "model": m
+00008a80: 6f64 656c 2c0a 2020 2020 2020 2020 2020  odel,.          
+00008a90: 2020 2274 656d 706c 6174 655f 6669 6c65    "template_file
+00008aa0: 6e61 6d65 223a 2073 7472 2874 656d 706c  name": str(templ
+00008ab0: 6174 6529 2c0a 2020 2020 2020 2020 7d0a  ate),.        }.
+00008ac0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00008ad0: 7465 6d70 6c61 7465 732e 7570 6461 7465  templates.update
+00008ae0: 5f74 656d 706c 6174 6528 7365 6c66 2e61  _template(self.a
+00008af0: 7574 682c 202a 2a6b 7761 7267 7329 0a0a  uth, **kwargs)..
+00008b00: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+00008b10: 745f 6772 6f75 705f 6e61 6d65 7328 7365  t_group_names(se
+00008b20: 6c66 2920 2d3e 2052 6573 706f 6e73 653a  lf) -> Response:
+00008b30: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00008b40: 6120 6c69 7374 696e 6720 6f66 2061 6c6c  a listing of all
+00008b50: 2067 726f 7570 206e 616d 6573 2064 6566   group names def
+00008b60: 696e 6564 2069 6e20 4172 7562 6120 4365  ined in Aruba Ce
+00008b70: 6e74 7261 6c0a 0a20 2020 2020 2020 2052  ntral..        R
+00008b80: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00008b90: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00008ba0: 6e74 7261 6c41 5049 2052 6573 706f 7365  ntralAPI Respose
+00008bb0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00008bc0: 2020 2020 2020 2020 6f75 7470 7574 2061          output a
+00008bd0: 7474 7269 6275 7465 2077 696c 6c20 6265  ttribute will be
+00008be0: 204c 6973 745b 7374 725d 0a20 2020 2020   List[str].     
+00008bf0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00008c00: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
+00008c10: 7469 6f6e 2f76 322f 6772 6f75 7073 220a  tion/v2/groups".
+00008c20: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00008c30: 207b 226f 6666 7365 7422 3a20 302c 2022   {"offset": 0, "
+00008c40: 6c69 6d69 7422 3a20 3130 307d 2020 2320  limit": 100}  # 
+00008c50: 3130 3020 6973 2074 6865 206d 6178 0a20  100 is the max. 
+00008c60: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00008c70: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00008c80: 2c20 7061 7261 6d73 3d70 6172 616d 732c  , params=params,
+00008c90: 290a 2020 2020 2020 2020 6966 2072 6573  ).        if res
+00008ca0: 702e 6f6b 3a0a 2020 2020 2020 2020 2020  p.ok:.          
+00008cb0: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
+00008cc0: 636c 6561 6e65 722e 6765 745f 6772 6f75  cleaner.get_grou
+00008cd0: 705f 6e61 6d65 7328 7265 7370 2e6f 7574  p_names(resp.out
+00008ce0: 7075 7429 0a20 2020 2020 2020 2072 6574  put).        ret
+00008cf0: 7572 6e20 7265 7370 0a0a 2020 2020 6173  urn resp..    as
+00008d00: 796e 6320 6465 6620 6465 6c65 7465 5f74  ync def delete_t
+00008d10: 656d 706c 6174 6528 0a20 2020 2020 2020  emplate(.       
+00008d20: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+00008d30: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
+00008d40: 2020 2074 656d 706c 6174 653a 2073 7472     template: str
+00008d50: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00008d60: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00008d70: 4465 6c65 7465 2065 7869 7374 696e 6720  Delete existing 
+00008d80: 7465 6d70 6c61 7465 2e0a 0a20 2020 2020  template...     
+00008d90: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00008da0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
+00008db0: 3a20 4e61 6d65 206f 6620 7468 6520 6772  : Name of the gr
+00008dc0: 6f75 7020 666f 7220 7768 6963 6820 7468  oup for which th
+00008dd0: 6520 7465 6d70 6c61 7465 2069 7320 746f  e template is to
+00008de0: 2062 6520 6465 6c65 7465 642e 0a20 2020   be deleted..   
+00008df0: 2020 2020 2020 2020 2074 656d 706c 6174           templat
+00008e00: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+00008e10: 2074 6865 2074 656d 706c 6174 6520 746f   the template to
+00008e20: 2062 6520 6465 6c65 7465 642e 0a0a 2020   be deleted...  
+00008e30: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00008e40: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00008e50: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00008e60: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00008e70: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00008e80: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+00008e90: 6669 6775 7261 7469 6f6e 2f76 312f 6772  figuration/v1/gr
+00008ea0: 6f75 7073 2f7b 6772 6f75 707d 2f74 656d  oups/{group}/tem
+00008eb0: 706c 6174 6573 2f7b 7465 6d70 6c61 7465  plates/{template
+00008ec0: 7d22 0a0a 2020 2020 2020 2020 7265 7475  }"..        retu
+00008ed0: 726e 2061 7761 6974 2073 656c 662e 6465  rn await self.de
+00008ee0: 6c65 7465 2875 726c 290a 0a20 2020 2061  lete(url)..    a
+00008ef0: 7379 6e63 2064 6566 2067 6574 5f61 6c6c  sync def get_all
+00008f00: 5f67 726f 7570 7328 7365 6c66 2920 2d3e  _groups(self) ->
+00008f10: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00008f20: 2020 2022 2222 4765 7420 7072 6f70 6572     """Get proper
+00008f30: 7469 6573 2061 6e64 2074 656d 706c 6174  ties and templat
+00008f40: 6520 696e 666f 2066 6f72 2061 6c6c 2067  e info for all g
+00008f50: 726f 7570 730a 0a20 2020 2020 2020 2054  roups..        T
+00008f60: 6869 7320 6d65 7468 6f64 2077 696c 6c20  his method will 
+00008f70: 6669 7273 7420 6361 6c6c 2063 6f6e 6669  first call confi
+00008f80: 6775 7261 7469 6f6e 2f76 322f 6772 6f75  guration/v2/grou
+00008f90: 7073 2074 6f20 6765 7420 6120 6c69 7374  ps to get a list
+00008fa0: 206f 6620 6772 6f75 7020 6e61 6d65 732e   of group names.
+00008fb0: 0a0a 2020 2020 2020 2020 4974 2074 6865  ..        It the
+00008fc0: 6e20 636f 6d62 696e 6573 2074 6865 2072  n combines the r
+00008fd0: 6573 706f 6e73 6573 2066 726f 6d20 2f63  esponses from /c
+00008fe0: 6f6e 6669 6775 7261 7469 6f6e 2f76 322f  onfiguration/v2/
+00008ff0: 6772 6f75 7073 2f74 656d 706c 6174 655f  groups/template_
+00009000: 696e 666f 0a20 2020 2020 2020 2061 6e64  info.        and
+00009010: 202f 636f 6e66 6967 7572 6174 696f 6e2f   /configuration/
+00009020: 7631 2f67 726f 7570 732f 7072 6f70 6572  v1/groups/proper
+00009030: 7469 6573 2074 6f20 6765 7420 7468 6520  ties to get the 
+00009040: 7465 6d70 6c61 7465 2064 6574 6169 6c73  template details
+00009050: 0a20 2020 2020 2020 2020 2874 656d 706c  .         (templ
+00009060: 6174 655f 6772 6f75 7020 6f72 206e 6f74  ate_group or not
+00009070: 2920 616e 6420 7072 6f70 6572 7469 6573  ) and properties
+00009080: 2066 6f72 2065 6163 6820 6772 6f75 702e   for each group.
+00009090: 0a0a 2020 2020 2020 2020 2054 6865 2074  ..         The t
+000090a0: 656d 706c 6174 655f 696e 666f 2061 6e64  emplate_info and
+000090b0: 2070 726f 7065 7274 6965 7320 656e 6470   properties endp
+000090c0: 6f69 6e74 7320 626f 7468 2061 6c6c 6f77  oints both allow
+000090d0: 2032 3020 6772 6f75 7073 2070 6572 2072   20 groups per r
+000090e0: 6571 7565 7374 2e0a 2020 2020 2020 2020  equest..        
+000090f0: 204d 756c 7469 706c 6520 7265 7175 6573   Multiple reques
+00009100: 7473 2077 696c 6c20 6265 2070 6572 666f  ts will be perfo
+00009110: 726d 6564 2061 7379 6e63 2069 6620 7468  rmed async if th
+00009120: 6572 6520 6172 6520 6d6f 7265 2074 6861  ere are more tha
+00009130: 6e20 3230 2067 726f 7570 732e 0a0a 2020  n 20 groups...  
+00009140: 2020 2020 2020 5261 6973 6573 3a0a 2020        Raises:.  
+00009150: 2020 2020 2020 2020 2020 4365 6e74 7261            Centra
+00009160: 6c43 6c69 4578 6365 7074 696f 6e3a 2052  lCliException: R
+00009170: 6169 7365 6420 7768 656e 2076 616c 6964  aised when valid
+00009180: 6174 696f 6e20 6f66 2063 6f6d 6269 6e65  ation of combine
+00009190: 6420 7265 7370 6f6e 7365 7320 6661 696c  d responses fail
+000091a0: 732e 0a0a 2020 2020 2020 2020 5265 7475  s...        Retu
+000091b0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000091c0: 2052 6573 706f 6e73 653a 2063 656e 7472   Response: centr
+000091d0: 616c 636c 6920 5265 7370 6f6e 7365 204f  alcli Response O
+000091e0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000091f0: 220a 2020 2020 2020 2020 7265 7370 203d  ".        resp =
+00009200: 2061 7761 6974 2073 656c 662e 6765 745f   await self.get_
+00009210: 6772 6f75 705f 6e61 6d65 7328 290a 2020  group_names().  
+00009220: 2020 2020 2020 6966 206e 6f74 2072 6573        if not res
+00009230: 702e 6f6b 3a0a 2020 2020 2020 2020 2020  p.ok:.          
+00009240: 2020 7265 7475 726e 2072 6573 700a 0a20    return resp.. 
+00009250: 2020 2020 2020 2067 726f 7570 7320 3d20         groups = 
+00009260: 7265 7370 2e6f 7574 7075 740a 0a20 2020  resp.output..   
+00009270: 2020 2020 2074 656d 706c 6174 655f 7265       template_re
+00009280: 7370 2c20 7072 6f70 735f 7265 7370 203d  sp, props_resp =
+00009290: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
+000092a0: 6368 5f72 6571 7565 7374 280a 2020 2020  ch_request(.    
+000092b0: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
+000092c0: 2020 2020 2020 2020 2020 7365 6c66 2e42            self.B
+000092d0: 6174 6368 5265 7175 6573 7428 7365 6c66  atchRequest(self
+000092e0: 2e67 6574 5f67 726f 7570 735f 7465 6d70  .get_groups_temp
+000092f0: 6c61 7465 5f73 7461 7475 732c 2028 6772  late_status, (gr
+00009300: 6f75 7073 2c29 292c 0a20 2020 2020 2020  oups,)),.       
+00009310: 2020 2020 2020 2020 2073 656c 662e 4261           self.Ba
+00009320: 7463 6852 6571 7565 7374 2873 656c 662e  tchRequest(self.
+00009330: 6765 745f 6772 6f75 7073 5f70 726f 7065  get_groups_prope
+00009340: 7274 6965 732c 2028 6772 6f75 7073 2c29  rties, (groups,)
+00009350: 290a 2020 2020 2020 2020 2020 2020 5d0a  ).            ].
+00009360: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00009370: 2020 2074 656d 706c 6174 655f 6279 5f67     template_by_g
+00009380: 726f 7570 203d 207b 645b 2267 726f 7570  roup = {d["group
+00009390: 225d 3a20 645b 2274 656d 706c 6174 655f  "]: d["template_
+000093a0: 6465 7461 696c 7322 5d20 666f 7220 6420  details"] for d 
+000093b0: 696e 2074 656d 706c 6174 655f 7265 7370  in template_resp
+000093c0: 2e6f 7574 7075 747d 0a20 2020 2020 2020  .output}.       
+000093d0: 2070 726f 7073 5f62 795f 6772 6f75 7020   props_by_group 
+000093e0: 3d20 7b64 5b22 6772 6f75 7022 5d3a 2064  = {d["group"]: d
+000093f0: 5b22 7072 6f70 6572 7469 6573 225d 2066  ["properties"] f
+00009400: 6f72 2064 2069 6e20 7072 6f70 735f 7265  or d in props_re
+00009410: 7370 2e6f 7574 7075 747d 0a0a 2020 2020  sp.output}..    
+00009420: 2020 2020 636f 6d62 696e 6564 203d 207b      combined = {
+00009430: 7467 3a20 7b22 7072 6f70 6572 7469 6573  tg: {"properties
+00009440: 223a 2070 762c 2022 7465 6d70 6c61 7465  ": pv, "template
+00009450: 5f64 6574 6169 6c73 223a 2074 767d 2066  _details": tv} f
+00009460: 6f72 2028 7467 2c20 7476 292c 2028 7067  or (tg, tv), (pg
+00009470: 2c20 7076 2920 696e 207a 6970 2874 656d  , pv) in zip(tem
+00009480: 706c 6174 655f 6279 5f67 726f 7570 2e69  plate_by_group.i
+00009490: 7465 6d73 2829 2c20 7072 6f70 735f 6279  tems(), props_by
+000094a0: 5f67 726f 7570 2e69 7465 6d73 2829 2920  _group.items()) 
+000094b0: 6966 2070 6720 3d3d 2074 677d 0a20 2020  if pg == tg}.   
+000094c0: 2020 2020 2069 6620 6c65 6e28 7365 7428       if len(set(
+000094d0: 5b6c 656e 2863 6f6d 6269 6e65 6429 2c20  [len(combined), 
+000094e0: 6c65 6e28 7465 6d70 6c61 7465 5f62 795f  len(template_by_
+000094f0: 6772 6f75 7029 2c20 6c65 6e28 7072 6f70  group), len(prop
+00009500: 735f 6279 5f67 726f 7570 295d 2929 203e  s_by_group)])) >
+00009510: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+00009520: 7261 6973 6520 4365 6e74 7261 6c43 6c69  raise CentralCli
+00009530: 4578 6365 7074 696f 6e28 2255 6e65 7870  Exception("Unexp
+00009540: 6563 7465 6420 6572 726f 7220 696e 2067  ected error in g
+00009550: 6574 5f61 6c6c 5f67 726f 7570 732c 206c  et_all_groups, l
+00009560: 656e 6774 6820 6f66 2072 6573 706f 6e73  ength of respons
+00009570: 6573 2064 6966 6665 7273 2e22 290a 0a20  es differs.").. 
+00009580: 2020 2020 2020 2072 6573 7020 3d20 7072         resp = pr
+00009590: 6f70 735f 7265 7370 0a20 2020 2020 2020  ops_resp.       
+000095a0: 2072 6573 702e 6f75 7470 7574 203d 205b   resp.output = [
+000095b0: 7b22 6772 6f75 7022 3a20 6b2c 202a 2a76  {"group": k, **v
+000095c0: 7d20 666f 7220 6b2c 2076 2069 6e20 636f  } for k, v in co
+000095d0: 6d62 696e 6564 2e69 7465 6d73 2829 5d0a  mbined.items()].
+000095e0: 2020 2020 2020 2020 7265 7370 2e72 6177          resp.raw
+000095f0: 203d 207b 2270 726f 7065 7274 6965 7322   = {"properties"
+00009600: 3a20 7265 7370 2e72 6177 2c20 2274 656d  : resp.raw, "tem
+00009610: 706c 6174 655f 696e 666f 223a 2074 656d  plate_info": tem
+00009620: 706c 6174 655f 7265 7370 2e72 6177 7d0a  plate_resp.raw}.
+00009630: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00009640: 7265 7370 0a0a 0a20 2020 2061 7379 6e63  resp...    async
+00009650: 2064 6566 2067 6574 5f67 726f 7570 735f   def get_groups_
+00009660: 7465 6d70 6c61 7465 5f73 7461 7475 7328  template_status(
+00009670: 7365 6c66 2c20 6772 6f75 7073 3a20 4c69  self, groups: Li
+00009680: 7374 5b73 7472 5d20 7c20 7374 7220 3d20  st[str] | str = 
+00009690: 4e6f 6e65 2920 2d3e 2052 6573 706f 6e73  None) -> Respons
+000096a0: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+000096b0: 7420 7465 6d70 6c61 7465 2067 726f 7570  t template group
+000096c0: 2073 7461 7475 7320 666f 7220 7072 6f76   status for prov
+000096d0: 6964 6564 2067 726f 7570 7320 6f72 2061  ided groups or a
+000096e0: 6c6c 2069 6620 6e6f 6e65 2061 7265 2070  ll if none are p
+000096f0: 726f 7669 6465 642e 2020 2869 6620 6974  rovided.  (if it
+00009700: 2069 7320 6120 7465 6d70 6c61 7465 2067   is a template g
+00009710: 726f 7570 206f 7220 6e6f 7429 0a0a 2020  roup or not)..  
+00009720: 2020 2020 2020 5769 6c6c 2072 6574 7572        Will retur
+00009730: 6e20 7265 7370 6f6e 7365 2066 726f 6d20  n response from 
+00009740: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+00009750: 322f 6772 6f75 7073 2f74 656d 706c 6174  2/groups/templat
+00009760: 655f 696e 666f 2065 6e64 706f 696e 742e  e_info endpoint.
+00009770: 0a20 2020 2020 2020 2049 6620 6e6f 2067  .        If no g
+00009780: 726f 7570 7320 6172 6520 7072 6f76 6964  roups are provid
+00009790: 6564 202f 636f 6e66 6967 7572 6174 696f  ed /configuratio
+000097a0: 6e2f 7632 2f67 726f 7570 7320 6973 2066  n/v2/groups is f
+000097b0: 6972 7374 2063 616c 6c65 6420 746f 2067  irst called to g
+000097c0: 6574 2061 206c 6973 7420 6f66 2061 6c6c  et a list of all
+000097d0: 2067 726f 7570 206e 616d 6573 2e0a 0a20   group names... 
+000097e0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000097f0: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
+00009800: 284c 6973 745b 7374 725d 207c 2073 7472  (List[str] | str
+00009810: 2c20 6f70 7469 6f6e 616c 293a 2041 2073  , optional): A s
+00009820: 696e 676c 6520 6772 6f75 7020 6f72 206c  ingle group or l
+00009830: 6973 7420 6f66 2067 726f 7570 732e 2044  ist of groups. D
+00009840: 6566 6175 6c74 7320 746f 204e 6f6e 6520  efaults to None 
+00009850: 2861 6c6c 2067 726f 7570 7329 2e0a 0a20  (all groups)... 
+00009860: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00009870: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00009880: 6f6e 7365 3a20 6365 6e74 7261 6c63 6c69  onse: centralcli
+00009890: 2052 6573 706f 6e73 6520 4f62 6a65 6374   Response Object
+000098a0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000098b0: 2020 2020 2075 726c 203d 2022 2f63 6f6e       url = "/con
+000098c0: 6669 6775 7261 7469 6f6e 2f76 322f 6772  figuration/v2/gr
+000098d0: 6f75 7073 2f74 656d 706c 6174 655f 696e  oups/template_in
+000098e0: 666f 220a 0a20 2020 2020 2020 2069 6620  fo"..        if 
+000098f0: 6973 696e 7374 616e 6365 2867 726f 7570  isinstance(group
+00009900: 732c 2073 7472 293a 0a20 2020 2020 2020  s, str):.       
+00009910: 2020 2020 2067 726f 7570 7320 3d20 5b67       groups = [g
+00009920: 726f 7570 735d 0a0a 2020 2020 2020 2020  roups]..        
+00009930: 6966 206e 6f74 2067 726f 7570 733a 0a20  if not groups:. 
+00009940: 2020 2020 2020 2020 2020 2072 6573 7020             resp 
+00009950: 3d20 6177 6169 7420 7365 6c66 2e67 6574  = await self.get
+00009960: 5f67 726f 7570 5f6e 616d 6573 2829 0a20  _group_names(). 
+00009970: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00009980: 7420 7265 7370 2e6f 6b3a 0a20 2020 2020  t resp.ok:.     
+00009990: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000099a0: 6e20 7265 7370 0a20 2020 2020 2020 2020  n resp.         
+000099b0: 2020 2067 726f 7570 733a 204c 6973 745b     groups: List[
+000099c0: 7374 725d 203d 2072 6573 702e 6f75 7470  str] = resp.outp
+000099d0: 7574 0a0a 2020 2020 2020 2020 6261 7463  ut..        batc
+000099e0: 685f 7265 7173 203d 205b 5d0a 2020 2020  h_reqs = [].    
+000099f0: 2020 2020 666f 7220 6368 756e 6b20 696e      for chunk in
+00009a00: 2075 7469 6c73 2e63 6875 6e6b 6572 2867   utils.chunker(g
+00009a10: 726f 7570 732c 2032 3029 3a20 2023 2054  roups, 20):  # T
+00009a20: 6869 7320 6361 6c6c 2061 6c6c 6f77 7320  his call allows 
+00009a30: 6120 6d61 7820 6f66 2032 300a 2020 2020  a max of 20.    
+00009a40: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00009a50: 207b 2267 726f 7570 7322 3a20 222c 222e   {"groups": ",".
+00009a60: 6a6f 696e 2863 6875 6e6b 297d 0a20 2020  join(chunk)}.   
+00009a70: 2020 2020 2020 2020 2062 6174 6368 5f72           batch_r
+00009a80: 6571 7320 2b3d 205b 7365 6c66 2e42 6174  eqs += [self.Bat
+00009a90: 6368 5265 7175 6573 7428 7365 6c66 2e67  chRequest(self.g
+00009aa0: 6574 2c20 7572 6c2c 2070 6172 616d 733d  et, url, params=
+00009ab0: 7061 7261 6d73 295d 0a0a 2020 2020 2020  params)]..      
+00009ac0: 2020 6261 7463 685f 7265 7370 203d 2061    batch_resp = a
+00009ad0: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
+00009ae0: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
+00009af0: 6571 7329 0a20 2020 2020 2020 206f 7574  eqs).        out
+00009b00: 7075 7420 3d20 5b72 2066 6f72 2072 6573  put = [r for res
+00009b10: 2069 6e20 6261 7463 685f 7265 7370 2066   in batch_resp f
+00009b20: 6f72 2072 2069 6e20 7265 732e 6f75 7470  or r in res.outp
+00009b30: 7574 5d0a 2020 2020 2020 2020 7265 7370  ut].        resp
+00009b40: 203d 2062 6174 6368 5f72 6573 705b 2d31   = batch_resp[-1
+00009b50: 5d0a 2020 2020 2020 2020 7265 7370 2e6f  ].        resp.o
+00009b60: 7574 7075 7420 3d20 6f75 7470 7574 0a20  utput = output. 
+00009b70: 2020 2020 2020 2069 6620 2264 6174 6122         if "data"
+00009b80: 2069 6e20 7265 7370 2e72 6177 3a0a 2020   in resp.raw:.  
+00009b90: 2020 2020 2020 2020 2020 7265 7370 2e72            resp.r
+00009ba0: 6177 5b22 6461 7461 225d 203d 206f 7574  aw["data"] = out
+00009bb0: 7075 740a 2020 2020 2020 2020 656c 7365  put.        else
+00009bc0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
+00009bd0: 672e 7761 726e 696e 6728 2272 6177 2061  g.warning("raw a
+00009be0: 7474 7220 696e 2072 6573 7020 6672 6f6d  ttr in resp from
+00009bf0: 2067 6574 5f61 6c6c 5f67 726f 7570 7320   get_all_groups 
+00009c00: 6c61 636b 7320 6578 7065 6374 6564 206f  lacks expected o
+00009c10: 7574 6572 206b 6579 2027 6461 7461 2722  uter key 'data'"
+00009c20: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+00009c30: 6e20 7265 7370 0a0a 0a20 2020 2061 7379  n resp...    asy
+00009c40: 6e63 2064 6566 2067 6574 5f61 6c6c 5f74  nc def get_all_t
+00009c50: 656d 706c 6174 6573 2873 656c 662c 2067  emplates(self, g
+00009c60: 726f 7570 733a 204c 6973 745b 6469 6374  roups: List[dict
+00009c70: 5d20 3d20 4e6f 6e65 2c20 2a2a 7061 7261  ] = None, **para
+00009c80: 6d73 2920 2d3e 2052 6573 706f 6e73 653a  ms) -> Response:
+00009c90: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00009ca0: 6461 7461 2066 6f72 2061 6c6c 2064 6566  data for all def
+00009cb0: 696e 6564 2074 656d 706c 6174 6573 2066  ined templates f
+00009cc0: 726f 6d20 4172 7562 6120 4365 6e74 7261  rom Aruba Centra
+00009cd0: 6c0a 0a20 2020 2020 2020 2041 7267 733a  l..        Args:
+00009ce0: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+00009cf0: 7570 7320 284c 6973 745b 6469 6374 5d2c  ups (List[dict],
+00009d00: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+00009d10: 206f 6620 6772 6f75 7020 6469 6374 696f   of group dictio
+00009d20: 6e61 7269 6573 2028 4966 2070 726f 7669  naries (If provi
+00009d30: 6465 6420 6164 6469 7469 6f6e 616c 2041  ded additional A
+00009d40: 5049 0a20 2020 2020 2020 2020 2020 2020  PI.             
+00009d50: 2020 2063 616c 6c73 2074 6f20 6765 7420     calls to get 
+00009d60: 6772 6f75 7020 6e61 6d65 7320 666f 7220  group names for 
+00009d70: 616c 6c20 7465 6d70 6c61 7465 2067 726f  all template gro
+00009d80: 7570 7320 6172 6520 6e6f 7420 7065 7266  ups are not perf
+00009d90: 6f72 6d65 6429 2e0a 2020 2020 2020 2020  ormed)..        
+00009da0: 2020 2020 2020 2020 4465 6661 756c 7473          Defaults
+00009db0: 2074 6f20 4e6f 6e65 2e0a 0a20 2020 2020   to None...     
+00009dc0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00009dd0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00009de0: 3a20 6365 6e74 7261 6c63 6c69 2052 6573  : centralcli Res
+00009df0: 706f 6e73 6520 4f62 6a65 6374 0a20 2020  ponse Object.   
+00009e00: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00009e10: 2069 6620 6e6f 7420 6772 6f75 7073 3a0a   if not groups:.
+00009e20: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+00009e30: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00009e40: 745f 6772 6f75 7073 5f74 656d 706c 6174  t_groups_templat
+00009e50: 655f 7374 6174 7573 2829 0a20 2020 2020  e_status().     
+00009e60: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+00009e70: 7370 3a0a 2020 2020 2020 2020 2020 2020  sp:.            
+00009e80: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+00009e90: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+00009ea0: 7073 203d 2063 6c65 616e 6572 2e67 6574  ps = cleaner.get
+00009eb0: 5f61 6c6c 5f67 726f 7570 7328 7265 7370  _all_groups(resp
+00009ec0: 2e6f 7574 7075 7429 0a0a 2020 2020 2020  .output)..      
+00009ed0: 2020 7465 6d70 6c61 7465 5f67 726f 7570    template_group
+00009ee0: 7320 3d20 5b67 5b22 6e61 6d65 225d 2066  s = [g["name"] f
+00009ef0: 6f72 2067 2069 6e20 6772 6f75 7073 2069  or g in groups i
+00009f00: 6620 5472 7565 2069 6e20 675b 2274 656d  f True in g["tem
+00009f10: 706c 6174 6520 6772 6f75 7022 5d2e 7661  plate group"].va
+00009f20: 6c75 6573 2829 5d0a 0a20 2020 2020 2020  lues()]..       
+00009f30: 2069 6620 6e6f 7420 7465 6d70 6c61 7465   if not template
+00009f40: 5f67 726f 7570 733a 0a20 2020 2020 2020  _groups:.       
+00009f50: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
+00009f60: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
+00009f70: 2020 2020 2020 7572 6c3d 224e 6f20 6361        url="No ca
+00009f80: 6c6c 2070 6572 666f 726d 6564 222c 0a20  ll performed",. 
+00009f90: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00009fa0: 6b3d 5472 7565 2c0a 2020 2020 2020 2020  k=True,.        
+00009fb0: 2020 2020 2020 2020 6f75 7470 7574 3d5b          output=[
+00009fc0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00009fd0: 2020 2072 6177 3d5b 5d2c 0a20 2020 2020     raw=[],.     
+00009fe0: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+00009ff0: 3d22 4e6f 6e65 206f 6620 7468 6520 636f  ="None of the co
+0000a000: 6e66 6967 7572 6564 2067 726f 7570 7320  nfigured groups 
+0000a010: 6172 6520 5465 6d70 6c61 7465 2047 726f  are Template Gro
+0000a020: 7570 732e 222c 0a20 2020 2020 2020 2020  ups.",.         
+0000a030: 2020 2029 0a0a 2020 2020 2020 2020 7265     )..        re
+0000a040: 7173 203d 205b 7365 6c66 2e42 6174 6368  qs = [self.Batch
+0000a050: 5265 7175 6573 7428 7365 6c66 2e67 6574  Request(self.get
+0000a060: 5f61 6c6c 5f74 656d 706c 6174 6573 5f69  _all_templates_i
+0000a070: 6e5f 6772 6f75 702c 2067 726f 7570 2c20  n_group, group, 
+0000a080: 2a2a 7061 7261 6d73 2920 666f 7220 6772  **params) for gr
+0000a090: 6f75 7020 696e 2074 656d 706c 6174 655f  oup in template_
+0000a0a0: 6772 6f75 7073 5d0a 2020 2020 2020 2020  groups].        
+0000a0b0: 2320 544f 444f 206d 6179 6265 2063 616c  # TODO maybe cal
+0000a0c0: 6c20 7468 6520 6167 6772 6567 6174 6f72  l the aggregator
+0000a0d0: 2066 726f 6d20 5f62 6174 685f 7265 7175   from _bath_requ
+0000a0e0: 6573 740a 2020 2020 2020 2020 7265 7370  est.        resp
+0000a0f0: 6f6e 7365 7320 3d20 6177 6169 7420 7365  onses = await se
+0000a100: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
+0000a110: 7428 7265 7173 290a 2020 2020 2020 2020  t(reqs).        
+0000a120: 6661 696c 6564 203d 205b 7220 666f 7220  failed = [r for 
+0000a130: 7220 696e 2072 6573 706f 6e73 6573 2069  r in responses i
+0000a140: 6620 6e6f 7420 725d 0a20 2020 2020 2020  f not r].       
+0000a150: 2069 6620 6661 696c 6564 3a0a 2020 2020   if failed:.    
+0000a160: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+0000a170: 6169 6c65 645b 2d31 5d0a 0a20 2020 2020  ailed[-1]..     
+0000a180: 2020 2023 2063 6f6d 6269 6e65 2072 6573     # combine res
+0000a190: 756c 7420 666f 7220 616c 6c20 6361 6c6c  ult for all call
+0000a1a0: 7320 696e 746f 2031 0a20 2020 2020 2020  s into 1.       
+0000a1b0: 2023 2054 4f44 4f20 6167 6772 6567 6174   # TODO aggregat
+0000a1c0: 6f72 2052 6573 706f 6e73 6520 6f62 6a65  or Response obje
+0000a1d0: 6374 2066 6f72 206d 756c 7469 2072 6573  ct for multi res
+0000a1e0: 706f 6e73 650a 2020 2020 2020 2020 2320  ponse.        # 
+0000a1f0: 6d61 7962 6520 6164 6420 7072 6f70 6572  maybe add proper
+0000a200: 7479 2074 6f20 5265 7370 6f6e 7365 2074  ty to Response t
+0000a210: 6861 7420 7265 7475 726e 7320 6469 6374  hat returns dict
+0000a220: 2062 6569 6e67 2064 6f6e 6520 7769 7468   being done with
+0000a230: 2064 6963 7420 636f 6d70 2062 656c 6f77   dict comp below
+0000a240: 0a20 2020 2020 2020 2061 6c6c 5f6f 7574  .        all_out
+0000a250: 7075 7420 3d20 5b72 7220 666f 7220 7220  put = [rr for r 
+0000a260: 696e 2072 6573 706f 6e73 6573 2066 6f72  in responses for
+0000a270: 2072 7220 696e 2072 2e6f 7574 7075 745d   rr in r.output]
+0000a280: 0a20 2020 2020 2020 2061 6c6c 5f72 6177  .        all_raw
+0000a290: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0000a2a0: 2066 225b 7b72 2e65 7272 6f72 7d5d 207b   f"[{r.error}] {
+0000a2b0: 722e 6d65 7468 6f64 7d20 7b72 2e75 726c  r.method} {r.url
+0000a2c0: 2e70 6174 6820 6966 206e 6f74 2069 6e74  .path if not int
+0000a2d0: 2872 2e75 726c 2e71 7565 7279 2e67 6574  (r.url.query.get
+0000a2e0: 2827 6f66 6673 6574 272c 2030 2929 2065  ('offset', 0)) e
+0000a2f0: 6c73 6520 722e 7572 6c2e 7061 7468 5f71  lse r.url.path_q
+0000a300: 737d 223a 2072 2e72 6177 0a20 2020 2020  s}": r.raw.     
+0000a310: 2020 2020 2020 2066 6f72 2072 2069 6e20         for r in 
+0000a320: 7265 7370 6f6e 7365 730a 2020 2020 2020  responses.      
+0000a330: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
+0000a340: 6f6e 7365 735b 2d31 5d2e 6f75 7470 7574  onses[-1].output
+0000a350: 203d 2061 6c6c 5f6f 7574 7075 740a 2020   = all_output.  
+0000a360: 2020 2020 2020 7265 7370 6f6e 7365 735b        responses[
+0000a370: 2d31 5d2e 7261 7720 3d20 616c 6c5f 7261  -1].raw = all_ra
+0000a380: 770a 0a20 2020 2020 2020 2072 6574 7572  w..        retur
+0000a390: 6e20 7265 7370 6f6e 7365 735b 2d31 5d0a  n responses[-1].
+0000a3a0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0000a3b0: 6574 5f73 6b75 5f74 7970 6573 2873 656c  et_sku_types(sel
+0000a3c0: 6629 3a20 2023 2046 4149 4c45 4420 2d20  f):  # FAILED - 
+0000a3d0: 2243 6f75 6c64 206e 6f74 2076 6572 6966  "Could not verif
+0000a3e0: 7920 6163 6365 7373 206c 6576 656c 2066  y access level f
+0000a3f0: 6f72 2074 6865 2055 524c 2e22 0a20 2020  or the URL.".   
+0000a400: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+0000a410: 7466 6f72 6d2f 6f72 6465 7273 2f76 312f  tform/orders/v1/
+0000a420: 736b 7573 220a 2020 2020 2020 2020 7061  skus".        pa
+0000a430: 7261 6d73 203d 207b 2273 6b75 5f74 7970  rams = {"sku_typ
+0000a440: 6522 3a20 2261 6c6c 227d 0a20 2020 2020  e": "all"}.     
+0000a450: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000a460: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0000a470: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0000a480: 2020 2320 544f 444f 2074 6f74 616c 2069    # TODO total i
+0000a490: 7320 7265 7475 726e 6564 2077 6974 6820  s returned with 
+0000a4a0: 6669 7273 7420 7265 7175 6573 7420 6361  first request ca
+0000a4b0: 6e20 6261 7463 6820 7265 6d61 696e 696e  n batch remainin
+0000a4c0: 6720 7265 7175 6573 7473 2077 6974 6820  g requests with 
+0000a4d0: 6c69 6d69 742f 6f66 6673 6574 2061 646a  limit/offset adj
+0000a4e0: 7573 7465 640a 2020 2020 2320 4150 492d  usted.    # API-
+0000a4f0: 464c 4157 206c 696d 6974 2064 6f65 736e  FLAW limit doesn
+0000a500: 2774 2061 7070 6561 7220 746f 2068 6176  't appear to hav
+0000a510: 6520 616e 2075 7070 6572 206c 696d 6974  e an upper limit
+0000a520: 2c20 6275 7420 746f 6f6b 2066 6f72 6576  , but took forev
+0000a530: 6572 2074 6f20 7265 7475 726e 2035 2c30  er to return 5,0
+0000a540: 3030 2072 6563 6f72 6473 0a20 2020 2061  00 records.    a
+0000a550: 7379 6e63 2064 6566 2067 6574 5f64 6576  sync def get_dev
+0000a560: 6963 655f 696e 7665 6e74 6f72 7928 0a20  ice_inventory(. 
+0000a570: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000a580: 2020 2020 2073 6b75 5f74 7970 653a 2073       sku_type: s
+0000a590: 7472 203d 2022 616c 6c22 2c0a 2020 2020  tr = "all",.    
+0000a5a0: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+0000a5b0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+0000a5c0: 6974 3a20 696e 7420 3d20 3130 3030 2c0a  it: int = 1000,.
+0000a5d0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0000a5e0: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+0000a5f0: 7420 6465 7669 6365 7320 6672 6f6d 2064  t devices from d
+0000a600: 6576 6963 6520 696e 7665 6e74 6f72 792e  evice inventory.
+0000a610: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000a620: 2020 2020 2020 2020 2020 2020 736b 755f              sku_
+0000a630: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+0000a640: 6e61 6c29 3a20 616c 6c2f 6961 702f 7377  nal): all/iap/sw
+0000a650: 6974 6368 2f63 6f6e 7472 6f6c 6c65 722f  itch/controller/
+0000a660: 6761 7465 7761 792f 7667 772f 6361 702f  gateway/vgw/cap/
+0000a670: 626f 632f 616c 6c5f 6170 2f61 6c6c 5f63  boc/all_ap/all_c
+0000a680: 6f6e 7472 6f6c 6c65 722f 6f74 6865 7273  ontroller/others
+0000a690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a6a0: 2044 6566 6175 6c74 7320 746f 2061 6c6c   Defaults to all
+0000a6b0: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
+0000a6c0: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0000a6d0: 6e61 6c29 3a20 6f66 6673 6574 206f 7220  nal): offset or 
+0000a6e0: 7061 6765 206e 756d 6265 7220 4465 6661  page number Defa
+0000a6f0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0000a700: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0000a710: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
+0000a720: 6d62 6572 206f 6620 6465 7669 6365 7320  mber of devices 
+0000a730: 746f 2067 6574 2044 6566 6175 6c74 7320  to get Defaults 
+0000a740: 746f 2031 3030 302e 0a0a 2020 2020 2020  to 1000...      
+0000a750: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0000a760: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0000a770: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0000a780: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0000a790: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000a7a0: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
+0000a7b0: 2f64 6576 6963 655f 696e 7665 6e74 6f72  /device_inventor
+0000a7c0: 792f 7631 2f64 6576 6963 6573 220a 0a20  y/v1/devices".. 
+0000a7d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000a7e0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
+0000a7f0: 6b75 5f74 7970 6527 3a20 736b 755f 7479  ku_type': sku_ty
+0000a800: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+0000a810: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
+0000a820: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+0000a830: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
+0000a840: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0000a850: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000a860: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0000a870: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
+0000a880: 2054 4f44 4f20 636c 6561 6e75 7020 7468   TODO cleanup th
+0000a890: 6520 7761 7920 7261 7720 6973 2063 6f6d  e way raw is com
+0000a8a0: 6269 6e65 642c 2073 6565 2073 686f 7720  bined, see show 
+0000a8b0: 7769 6473 2061 6c6c 2e0a 2020 2020 2320  wids all..    # 
+0000a8c0: 544f 444f 2061 6464 2066 756c 6c20 6b77  TODO add full kw
+0000a8d0: 6172 6773 2061 6e64 2074 7970 652d 6869  args and type-hi
+0000a8e0: 6e74 730a 2020 2020 6173 796e 6320 6465  nts.    async de
+0000a8f0: 6620 6765 745f 616c 6c5f 6465 7669 6365  f get_all_device
+0000a900: 7376 3228 7365 6c66 2c20 6361 6368 653a  sv2(self, cache:
+0000a910: 2062 6f6f 6c20 3d20 4661 6c73 652c 2063   bool = False, c
+0000a920: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
+0000a930: 636f 756e 743a 2062 6f6f 6c20 3d20 5472  count: bool = Tr
+0000a940: 7565 2c20 7368 6f77 5f72 6573 6f75 7263  ue, show_resourc
+0000a950: 655f 6465 7461 696c 733a 2062 6f6f 6c20  e_details: bool 
+0000a960: 3d20 4661 6c73 652c 202a 2a6b 7761 7267  = False, **kwarg
+0000a970: 7329 202d 3e20 5265 7370 6f6e 7365 3a0a  s) -> Response:.
+0000a980: 2020 2020 2020 2020 2222 2247 6574 2061          """Get a
+0000a990: 6c6c 2064 6576 6963 6573 2066 726f 6d20  ll devices from 
+0000a9a0: 4172 7562 6120 4365 6e74 7261 6c0a 0a20  Aruba Central.. 
+0000a9b0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0000a9c0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0000a9d0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0000a9e0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0000a9f0: 0a0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000aa00: 7720 6174 7472 6962 7574 6520 6861 7320  w attribute has 
+0000aa10: 616c 6c20 6b65 7973 2072 6574 7572 6e65  all keys returne
+0000aa20: 6420 666f 7220 7468 6520 6465 7669 6365  d for the device
+0000aa30: 732c 2074 6865 206f 7574 7075 7420 6174  s, the output at
+0000aa40: 7472 6962 7574 650a 2020 2020 2020 2020  tribute.        
+0000aa50: 2020 2020 696e 636c 7564 6573 206f 6e6c      includes onl
+0000aa60: 7920 6b65 7973 2063 6f6d 6d6f 6e20 6163  y keys common ac
+0000aa70: 726f 7373 2061 6c6c 2064 6576 6963 6520  ross all device 
+0000aa80: 7479 7065 7320 696e 2063 656e 7472 616c  types in central
+0000aa90: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+0000aaa0: 2020 2020 2020 6465 765f 7479 7065 7320        dev_types 
+0000aab0: 3d20 5b22 6170 7322 2c20 2273 7769 7463  = ["aps", "switc
+0000aac0: 6865 7322 2c20 2267 6174 6577 6179 7322  hes", "gateways"
+0000aad0: 5d20 2023 206d 6f62 696c 6974 795f 636f  ]  # mobility_co
+0000aae0: 6e74 726f 6c6c 6572 7320 7365 656d 7320  ntrollers seems 
+0000aaf0: 7361 6d65 2061 7320 6777 0a20 2020 2020  same as gw.     
+0000ab00: 2020 206c 6962 5f64 6576 5f74 7970 6573     lib_dev_types
+0000ab10: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0000ab20: 2022 6170 7322 3a20 2261 7022 2c0a 2020   "aps": "ap",.  
+0000ab30: 2020 2020 2020 2020 2020 2267 6174 6577            "gatew
+0000ab40: 6179 7322 3a20 2267 7722 2c0a 2020 2020  ays": "gw",.    
+0000ab50: 2020 2020 7d0a 2020 2020 2020 2020 5f6f      }.        _o
+0000ab60: 7574 7075 7420 3d20 7b7d 0a0a 2020 2020  utput = {}..    
+0000ab70: 2020 2020 2320 5765 2061 6c77 6179 7320      # We always 
+0000ab80: 6765 7420 7265 736f 7572 6365 2064 6574  get resource det
+0000ab90: 6169 6c73 2066 6f72 2073 7769 7463 6865  ails for switche
+0000aba0: 7320 7768 656e 2063 6163 6865 3d54 7275  s when cache=Tru
+0000abb0: 6520 6173 2077 6520 6e65 6564 2069 7420  e as we need it 
+0000abc0: 666f 7220 7468 6520 7377 6974 6368 5f72  for the switch_r
+0000abd0: 6f6c 6520 2873 7461 6e64 616c 6f6e 652f  ole (standalone/
+0000abe0: 636f 6e64 7563 746f 722f 7365 636f 6e64  conductor/second
+0000abf0: 6172 792f 6d65 6d62 6572 2920 746f 2073  ary/member) to s
+0000ac00: 746f 7265 2069 6e20 7468 6520 6361 6368  tore in the cach
+0000ac10: 652e 0a20 2020 2020 2020 2023 2057 6520  e..        # We 
+0000ac20: 7573 6564 2074 6865 2073 7769 7463 6820  used the switch 
+0000ac30: 7769 7468 2061 6e20 4950 2074 6f20 6465  with an IP to de
+0000ac40: 7465 726d 696e 6520 7768 6963 6820 6973  termine which is
+0000ac50: 2074 6865 2063 6f6e 6475 6374 6f72 2069   the conductor i
+0000ac60: 6e20 7468 6520 7061 7374 2c20 6275 7420  n the past, but 
+0000ac70: 666f 756e 6420 7363 656e 6172 696f 7320  found scenarios 
+0000ac80: 7768 6572 6520 6e6f 2049 5020 7761 7320  where no IP was 
+0000ac90: 7368 6f77 696e 6720 696e 2063 656e 7472  showing in centr
+0000aca0: 616c 2066 6f72 2061 6e20 6578 7465 6e64  al for an extend
+0000acb0: 6564 2070 6572 696f 6420 6f66 2074 696d  ed period of tim
+0000acc0: 652e 0a20 2020 2020 2020 2072 6571 7320  e..        reqs 
+0000acd0: 3d20 5b73 656c 662e 4261 7463 6852 6571  = [self.BatchReq
+0000ace0: 7565 7374 2873 656c 662e 6765 745f 6465  uest(self.get_de
+0000acf0: 7669 6365 732c 2064 6576 5f74 7970 652c  vices, dev_type,
+0000ad00: 2063 616c 6375 6c61 7465 5f63 6c69 656e   calculate_clien
+0000ad10: 745f 636f 756e 743d 6361 6c63 756c 6174  t_count=calculat
+0000ad20: 655f 636c 6965 6e74 5f63 6f75 6e74 2c20  e_client_count, 
+0000ad30: 7368 6f77 5f72 6573 6f75 7263 655f 6465  show_resource_de
+0000ad40: 7461 696c 733d 7368 6f77 5f72 6573 6f75  tails=show_resou
+0000ad50: 7263 655f 6465 7461 696c 7320 6966 206e  rce_details if n
+0000ad60: 6f74 2063 6163 6865 206f 7220 6465 765f  ot cache or dev_
+0000ad70: 7479 7065 2021 3d20 2273 7769 7463 6865  type != "switche
+0000ad80: 7322 2065 6c73 6520 5472 7565 2c20 2a2a  s" else True, **
+0000ad90: 6b77 6172 6773 2920 666f 7220 6465 765f  kwargs) for dev_
+0000ada0: 7479 7065 2069 6e20 6465 765f 7479 7065  type in dev_type
+0000adb0: 735d 0a20 2020 2020 2020 2072 6573 203d  s].        res =
+0000adc0: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
+0000add0: 6368 5f72 6571 7565 7374 2872 6571 7329  ch_request(reqs)
+0000ade0: 0a20 2020 2020 2020 205f 6661 696c 7572  .        _failur
+0000adf0: 655f 6964 7873 203d 205b 6964 7820 666f  e_idxs = [idx fo
+0000ae00: 7220 6964 782c 2072 2069 6e20 656e 756d  r idx, r in enum
+0000ae10: 6572 6174 6528 7265 7329 2069 6620 6e6f  erate(res) if no
+0000ae20: 7420 725d 0a20 2020 2020 2020 2069 6620  t r].        if 
+0000ae30: 5f66 6169 6c75 7265 5f69 6478 733a 0a20  _failure_idxs:. 
+0000ae40: 2020 2020 2020 2020 2020 2072 6573 7020             resp 
+0000ae50: 3d20 7265 735b 5f66 6169 6c75 7265 5f69  = res[_failure_i
+0000ae60: 6478 735b 2d31 5d5d 0a20 2020 2020 2020  dxs[-1]].       
+0000ae70: 2020 2020 2072 6573 702e 6f75 7470 7574       resp.output
+0000ae80: 203d 205b 7b22 6465 765f 7479 7065 223a   = [{"dev_type":
+0000ae90: 2064 6576 5f74 7970 6573 5b66 5d2c 2022   dev_types[f], "
+0000aea0: 6572 726f 7222 3a20 7265 735b 665d 2e6f  error": res[f].o
+0000aeb0: 7574 7075 747d 2066 6f72 2066 2069 6e20  utput} for f in 
+0000aec0: 5f66 6169 6c75 7265 5f69 6478 735d 0a20  _failure_idxs]. 
+0000aed0: 2020 2020 2020 2020 2020 2069 6620 6c65             if le
+0000aee0: 6e28 7265 7329 203d 3d20 6c65 6e28 5f66  n(res) == len(_f
+0000aef0: 6169 6c75 7265 5f69 6478 7329 3a20 2023  ailure_idxs):  #
+0000af00: 2061 6c6c 2063 616c 6c73 2066 6169 6c65   all calls faile
+0000af10: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0000af20: 2020 7265 7475 726e 2072 6573 700a 2020    return resp.  
+0000af30: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af50: 6661 696c 6564 5f63 616c 6c73 203d 205b  failed_calls = [
+0000af60: 7220 666f 7220 7220 696e 2072 6573 2069  r for r in res i
+0000af70: 6620 6e6f 7420 722e 6f6b 5d0a 2020 2020  f not r.ok].    
+0000af80: 2020 2020 2020 2020 2020 2020 7265 7320              res 
+0000af90: 3d20 5b72 2066 6f72 2072 2069 6e20 7265  = [r for r in re
+0000afa0: 7320 6966 2072 2e6f 6b5d 0a20 2020 2020  s if r.ok].     
+0000afb0: 2020 2020 2020 2020 2020 2066 6f72 2072             for r
+0000afc0: 2069 6e20 6661 696c 6564 5f63 616c 6c73   in failed_calls
+0000afd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000afe0: 2020 2020 2020 6c6f 672e 6572 726f 7228        log.error(
+0000aff0: 6627 4150 4920 6361 6c6c 2066 6169 6c65  f'API call faile
+0000b000: 6420 746f 205b 7b72 2e6d 6574 686f 647d  d to [{r.method}
+0000b010: 5d7b 722e 7572 6c2e 7061 7468 7d3a 2073  ]{r.url.path}: s
+0000b020: 7461 7475 7320 636f 6465 3a20 7b72 2e73  tatus code: {r.s
+0000b030: 7461 7475 737d 2c20 4572 726f 723a 207b  tatus}, Error: {
+0000b040: 722e 6572 726f 727d 272c 206c 6f67 3d46  r.error}', log=F
+0000b050: 616c 7365 2c20 6361 7074 696f 6e3d 5472  alse, caption=Tr
+0000b060: 7565 290a 0a0a 2020 2020 2020 2020 7265  ue)...        re
+0000b070: 7370 203d 2072 6573 5b2d 315d 0a20 2020  sp = res[-1].   
+0000b080: 2020 2020 2069 6620 6361 6c63 756c 6174       if calculat
+0000b090: 655f 636c 6965 6e74 5f63 6f75 6e74 3a0a  e_client_count:.
+0000b0a0: 2020 2020 2020 2020 2020 2020 5f6f 7574              _out
+0000b0b0: 7075 7420 3d20 7b6b 3a20 5b7b 2263 6c69  put = {k: [{"cli
+0000b0c0: 656e 745f 636f 756e 7422 3a20 696e 6e65  ent_count": inne
+0000b0d0: 722e 6765 7428 2263 6c69 656e 745f 636f  r.get("client_co
+0000b0e0: 756e 7422 2c20 222d 2229 2c20 2a2a 696e  unt", "-"), **in
+0000b0f0: 6e65 727d 2066 6f72 2069 6e6e 6572 2069  ner} for inner i
+0000b100: 6e20 7574 696c 732e 6c69 7374 6966 7928  n utils.listify(
+0000b110: 7629 5d20 666f 7220 6b2c 2076 2069 6e20  v)] for k, v in 
+0000b120: 7a69 7028 6465 765f 7479 7065 732c 205b  zip(dev_types, [
+0000b130: 722e 6f75 7470 7574 2066 6f72 2072 2069  r.output for r i
+0000b140: 6e20 7265 735d 2920 6966 2076 7d0a 2020  n res]) if v}.  
+0000b150: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0000b160: 2020 2020 2020 2020 5f6f 7574 7075 7420          _output 
+0000b170: 3d20 7b6b 3a20 7574 696c 732e 6c69 7374  = {k: utils.list
+0000b180: 6966 7928 7629 2066 6f72 206b 2c20 7620  ify(v) for k, v 
+0000b190: 696e 207a 6970 2864 6576 5f74 7970 6573  in zip(dev_types
+0000b1a0: 2c20 5b72 2e6f 7574 7075 7420 666f 7220  , [r.output for 
+0000b1b0: 7220 696e 2072 6573 5d29 2069 6620 767d  r in res]) if v}
+0000b1c0: 0a20 2020 2020 2020 2072 6573 702e 7261  .        resp.ra
+0000b1d0: 7720 3d20 7b6b 3a20 7574 696c 732e 6c69  w = {k: utils.li
+0000b1e0: 7374 6966 7928 7629 2066 6f72 206b 2c20  stify(v) for k, 
+0000b1f0: 7620 696e 207a 6970 2864 6576 5f74 7970  v in zip(dev_typ
+0000b200: 6573 2c20 5b72 2e72 6177 2066 6f72 2072  es, [r.raw for r
+0000b210: 2069 6e20 7265 735d 2920 6966 2076 7d0a   in res]) if v}.
+0000b220: 0a20 2020 2020 2020 2023 2054 4f44 4f20  .        # TODO 
+0000b230: 7573 6520 6265 6c6f 7720 6f6e 6365 2065  use below once e
+0000b240: 7665 7279 7468 696e 6720 7468 6174 2072  verything that r
+0000b250: 6566 6572 656e 6365 7320 6974 2068 6173  eferences it has
+0000b260: 2062 6565 6e20 7265 6661 6374 6f72 6564   been refactored
+0000b270: 2073 6f20 7265 7370 2e72 6177 5b22 6170   so resp.raw["ap
+0000b280: 7322 5d5b 305d 5b22 6170 7322 5d20 6265  s"][0]["aps"] be
+0000b290: 636f 6d65 7320 7265 7370 2e72 6177 5b22  comes resp.raw["
+0000b2a0: 6170 7322 5d5b 2261 7073 225d 0a20 2020  aps"]["aps"].   
+0000b2b0: 2020 2020 2023 2072 6573 702e 7261 7720       # resp.raw 
+0000b2c0: 3d20 7b6b 3a20 7620 666f 7220 6b2c 2076  = {k: v for k, v
+0000b2d0: 2069 6e20 7a69 7028 6465 765f 7479 7065   in zip(dev_type
+0000b2e0: 732c 205b 722e 7261 7720 666f 7220 7220  s, [r.raw for r 
+0000b2f0: 696e 2072 6573 5d29 2069 6620 767d 0a20  in res]) if v}. 
+0000b300: 2020 2020 2020 2064 6566 205f 6765 745f         def _get_
+0000b310: 7377 6163 6b5f 6964 2864 6576 5f74 7970  swack_id(dev_typ
+0000b320: 653a 2073 7472 2c20 6465 765f 6461 7461  e: str, dev_data
+0000b330: 3a20 6469 6374 2920 2d3e 2073 7472 207c  : dict) -> str |
+0000b340: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0000b350: 2020 2069 6620 6465 765f 7479 7065 203d     if dev_type =
+0000b360: 3d20 2267 6174 6577 6179 7322 3a0a 2020  = "gateways":.  
+0000b370: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000b380: 7475 726e 204e 6f6e 650a 2020 2020 2020  turn None.      
+0000b390: 2020 2020 2020 656c 6966 2064 6576 5f74        elif dev_t
+0000b3a0: 7970 6520 3d3d 2022 7377 6974 6368 6573  ype == "switches
+0000b3b0: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+0000b3c0: 2020 2072 6574 7572 6e20 6465 765f 6461     return dev_da
+0000b3d0: 7461 2e67 6574 2822 7374 6163 6b5f 6964  ta.get("stack_id
+0000b3e0: 2229 0a20 2020 2020 2020 2020 2020 2065  ").            e
+0000b3f0: 6c69 6620 6465 765f 7479 7065 203d 3d20  lif dev_type == 
+0000b400: 2261 7073 223a 0a20 2020 2020 2020 2020  "aps":.         
+0000b410: 2020 2020 2020 2072 6574 7572 6e20 6465         return de
+0000b420: 765f 6461 7461 2e67 6574 2822 7377 6172  v_data.get("swar
+0000b430: 6d5f 6964 2229 2069 6620 6465 765f 6461  m_id") if dev_da
+0000b440: 7461 2e67 6574 2822 6669 726d 7761 7265  ta.get("firmware
+0000b450: 5f76 6572 7369 6f6e 222c 2022 3822 292e  _version", "8").
+0000b460: 7370 6c69 7428 222e 2229 5b30 5d20 3d3d  split(".")[0] ==
+0000b470: 2038 2065 6c73 6520 6465 765f 6461 7461   8 else dev_data
+0000b480: 2e67 6574 2822 7365 7269 616c 2229 0a0a  .get("serial")..
+0000b490: 2020 2020 2020 2020 6966 205f 6f75 7470          if _outp
+0000b4a0: 7574 3a0a 2020 2020 2020 2020 2020 2020  ut:.            
+0000b4b0: 2320 4164 6420 7479 7065 206b 6579 2074  # Add type key t
+0000b4c0: 6f20 616c 6c20 6469 6374 7320 636f 7665  o all dicts cove
+0000b4d0: 7274 2022 7377 6974 6368 2d74 7970 6522  rt "switch-type"
+0000b4e0: 2074 6f20 6365 6e63 6c69 2074 7970 6520   to cencli type 
+0000b4f0: 2863 7820 6f72 2073 7729 0a20 2020 2020  (cx or sw).     
+0000b500: 2020 2020 2020 2023 2041 6464 2073 7769         # Add swi
+0000b510: 7463 685f 726f 6c65 2061 6e64 2073 7761  tch_role and swa
+0000b520: 636b 5f69 6420 2873 7761 726d 2f73 7461  ck_id (swarm/sta
+0000b530: 636b 2069 6429 2074 6f20 616c 6c20 6465  ck id) to all de
+0000b540: 7669 6365 732c 2062 6f74 6820 666f 7220  vices, both for 
+0000b550: 7468 6520 7361 6b65 206f 6620 6361 6368  the sake of cach
+0000b560: 650a 2020 2020 2020 2020 2020 2020 2320  e.            # 
+0000b570: 544f 444f 206d 6f76 6520 746f 2063 6c65  TODO move to cle
+0000b580: 616e 6572 3f20 7365 7420 7479 7065 2074  aner? set type t
+0000b590: 6f20 7377 6974 6368 5f74 7970 6520 666f  o switch_type fo
+0000b5a0: 7220 7377 6974 6368 6573 206c 6574 2063  r switches let c
+0000b5b0: 6c65 616e 6572 2063 6861 6e67 6520 7661  leaner change va
+0000b5c0: 6c75 6520 746f 206c 6962 2076 616c 730a  lue to lib vals.
+0000b5d0: 2020 2020 2020 2020 2020 2020 6469 6374              dict
+0000b5e0: 7320 3d20 5b0a 2020 2020 2020 2020 2020  s = [.          
+0000b5f0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+0000b600: 2020 2020 2020 2020 2020 2020 2a2a 7b0a              **{.
+0000b610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b620: 2020 2020 2020 2020 2274 7970 6522 3a20          "type": 
+0000b630: 6c69 625f 6465 765f 7479 7065 732e 6765  lib_dev_types.ge
+0000b640: 7428 6b2c 206b 2920 6966 206b 2021 3d20  t(k, k) if k != 
+0000b650: 2273 7769 7463 6865 7322 2065 6c73 650a  "switches" else.
+0000b660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b670: 2020 2020 2020 2020 636f 6e73 7461 6e74          constant
+0000b680: 732e 6765 745f 6365 6e63 6c69 5f64 6576  s.get_cencli_dev
+0000b690: 7479 7065 2869 6e6e 6572 5f64 6963 742e  type(inner_dict.
+0000b6a0: 6765 7428 2273 7769 7463 685f 7479 7065  get("switch_type
+0000b6b0: 222c 2022 7377 6974 6368 2229 292c 0a20  ", "switch")),. 
+0000b6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6d0: 2020 2020 2020 2022 7377 6163 6b5f 6964         "swack_id
+0000b6e0: 223a 205f 6765 745f 7377 6163 6b5f 6964  ": _get_swack_id
+0000b6f0: 286b 2c20 696e 6e65 725f 6469 6374 292c  (k, inner_dict),
+0000b700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b710: 2020 2020 2020 2020 2022 7377 6974 6368           "switch
+0000b720: 5f72 6f6c 6522 3a20 696e 6e65 725f 6469  _role": inner_di
+0000b730: 6374 2e67 6574 2822 7377 6974 6368 5f72  ct.get("switch_r
+0000b740: 6f6c 6522 290a 2020 2020 2020 2020 2020  ole").          
+0000b750: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+0000b760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b770: 202a 2a7b 0a20 2020 2020 2020 2020 2020   **{.           
+0000b780: 2020 2020 2020 2020 2020 2020 206b 6b3a               kk:
+0000b790: 2076 7620 666f 7220 6b6b 2c20 7676 2069   vv for kk, vv i
+0000b7a0: 6e20 696e 6e65 725f 6469 6374 2e69 7465  n inner_dict.ite
+0000b7b0: 6d73 2829 0a20 2020 2020 2020 2020 2020  ms().           
+0000b7c0: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+0000b7d0: 2020 2020 2020 2020 2020 207d 2066 6f72             } for
+0000b7e0: 206b 2c20 7620 696e 205f 6f75 7470 7574   k, v in _output
+0000b7f0: 2e69 7465 6d73 2829 2066 6f72 2069 6e6e  .items() for inn
+0000b800: 6572 5f64 6963 7420 696e 2076 0a20 2020  er_dict in v.   
+0000b810: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
+0000b820: 2020 2020 2020 2023 2054 4f44 4f20 6b65         # TODO ke
+0000b830: 6570 2061 6c6c 2066 6965 6c64 7320 696e  ep all fields in
+0000b840: 206f 7574 7075 7420 6469 6374 2c20 6c65   output dict, le
+0000b850: 7420 636c 6561 6e65 7220 6465 6669 6e65  t cleaner define
+0000b860: 2066 6965 6c64 2066 6f72 206e 6f72 6d61   field for norma
+0000b870: 6c20 616e 6420 7665 7262 6f73 6520 6f70  l and verbose op
+0000b880: 7469 6f6e 730a 2020 2020 2020 2020 2020  tions.          
+0000b890: 2020 2320 2020 2020 2069 6620 7573 6572    #      if user
+0000b8a0: 2073 656c 6563 7473 202d 2d6a 736f 6e20   selects --json 
+0000b8b0: 6f72 202d 2d79 616d 6c20 6b65 6570 2061  or --yaml keep a
+0000b8c0: 6c6c 2066 6965 6c64 730a 2020 2020 2020  ll fields.      
+0000b8d0: 2020 2020 2020 2320 7265 7475 726e 206a        # return j
+0000b8e0: 7573 7420 7468 6520 6b65 7973 2063 6f6d  ust the keys com
+0000b8f0: 6d6f 6e20 6163 726f 7373 2061 6c6c 2064  mon across all d
+0000b900: 6576 6963 6520 7479 7065 730a 2020 2020  evice types.    
+0000b910: 2020 2020 2020 2020 636f 6d6d 6f6e 5f6b          common_k
+0000b920: 6579 7320 3d20 7365 742e 696e 7465 7273  eys = set.inters
+0000b930: 6563 7469 6f6e 282a 6d61 7028 7365 742c  ection(*map(set,
+0000b940: 2064 6963 7473 2929 0a20 2020 2020 2020   dicts)).       
+0000b950: 2020 2020 205f 6f75 7470 7574 203d 205b       _output = [
+0000b960: 7b6b 3a20 645b 6b5d 2066 6f72 206b 2069  {k: d[k] for k i
+0000b970: 6e20 636f 6d6d 6f6e 5f6b 6579 737d 2066  n common_keys} f
+0000b980: 6f72 2064 2069 6e20 6469 6374 735d 0a0a  or d in dicts]..
+0000b990: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0000b9a0: 2e6f 7574 7075 7420 3d20 5f6f 7574 7075  .output = _outpu
+0000b9b0: 740a 0a20 2020 2020 2020 2072 6574 7572  t..        retur
+0000b9c0: 6e20 7265 7370 0a0a 2020 2020 2320 4150  n resp..    # AP
+0000b9d0: 492d 464c 4157 2061 6f73 2d73 7720 616c  I-FLAW aos-sw al
+0000b9e0: 7761 7973 2073 686f 7773 2056 4c41 4e20  ways shows VLAN 
+0000b9f0: 6173 2031 2028 616c 6c6f 7765 645f 766c  as 1 (allowed_vl
+0000ba00: 616e 7320 7265 7072 6573 656e 7473 2074  ans represents t
+0000ba10: 6865 2050 5649 4420 666f 7220 616e 2061  he PVID for an a
+0000ba20: 6363 6573 7320 706f 7274 2c20 696e 636c  ccess port, incl
+0000ba30: 7564 6520 616c 6c20 564c 414e 7320 6f6e  ude all VLANs on
+0000ba40: 2061 2074 7275 6e6b 2070 6f72 742c 206e   a trunk port, n
+0000ba50: 6f20 696e 6469 6361 7469 6f6e 206f 6620  o indication of 
+0000ba60: 6e61 7469 7665 290a 2020 2020 2320 4150  native).    # AP
+0000ba70: 492d 464c 4157 2061 6f73 2d73 7720 616c  I-FLAW aos-sw al
+0000ba80: 7761 7973 2073 686f 7773 206d 6f64 6520  ways shows mode 
+0000ba90: 6173 2061 6363 6573 732c 2063 7820 646f  as access, cx do
+0000baa0: 6573 2061 7320 7765 6c6c 2c20 6275 7420  es as well, but 
+0000bab0: 6861 7320 766c 616e 5f6d 6f64 6520 7768  has vlan_mode wh
+0000bac0: 6963 6820 6973 2061 6363 7572 6174 650a  ich is accurate.
+0000bad0: 2020 2020 2320 4150 492d 464c 4157 206e      # API-FLAW n
+0000bae0: 6569 7468 6572 2073 686f 7720 696e 7465  either show inte
+0000baf0: 7266 6163 6520 6e61 6d65 2f64 6573 6372  rface name/descr
+0000bb00: 6970 7469 6f6e 0a20 2020 2061 7379 6e63  iption.    async
+0000bb10: 2064 6566 2067 6574 5f73 7769 7463 685f   def get_switch_
+0000bb20: 706f 7274 7328 7365 6c66 2c20 6964 656e  ports(self, iden
+0000bb30: 3a20 7374 722c 2073 6c6f 743a 2073 7472  : str, slot: str
+0000bb40: 203d 204e 6f6e 652c 2073 7461 636b 3a20   = None, stack: 
+0000bb50: 626f 6f6c 203d 2046 616c 7365 2c20 616f  bool = False, ao
+0000bb60: 735f 7377 3a20 626f 6f6c 203d 2046 616c  s_sw: bool = Fal
+0000bb70: 7365 2920 2d3e 2052 6573 706f 6e73 653a  se) -> Response:
+0000bb80: 0a20 2020 2020 2020 2022 2222 5377 6974  .        """Swit
+0000bb90: 6368 2050 6f72 7473 2044 6574 6169 6c73  ch Ports Details
+0000bba0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0000bbb0: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
+0000bbc0: 6e20 2873 7472 293a 2053 6572 6961 6c20  n (str): Serial 
+0000bbd0: 6e75 6d62 6572 206f 6620 7377 6974 6368  number of switch
+0000bbe0: 2074 6f20 6265 2071 7565 7269 6564 206f   to be queried o
+0000bbf0: 7220 7468 6520 7374 6163 6b5f 6964 2069  r the stack_id i
+0000bc00: 6620 6974 2773 2061 2073 7461 636b 0a20  f it's a stack. 
+0000bc10: 2020 2020 2020 2020 2020 2073 6c6f 7420             slot 
+0000bc20: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000bc30: 2053 6c6f 7420 6e61 6d65 206f 6620 7468   Slot name of th
+0000bc40: 6520 706f 7274 7320 746f 2062 6520 7175  e ports to be qu
+0000bc50: 6572 6965 6420 7b46 6f72 2063 6861 7373  eried {For chass
+0000bc60: 6973 2074 7970 6520 7377 6974 6368 6573  is type switches
+0000bc70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bc80: 206f 6e6c 797d 2e0a 2020 2020 2020 2020   only}..        
+0000bc90: 2020 2020 7374 6163 6b3a 2028 626f 6f6c      stack: (bool
+0000bca0: 2c20 6f70 7469 6f6e 616c 2920 3a20 4765  , optional) : Ge
+0000bcb0: 7420 6465 7461 696c 7320 666f 7220 7374  t details for st
+0000bcc0: 6163 6b20 7673 2069 6e64 6976 6964 7561  ack vs individua
+0000bcd0: 6c20 7377 6974 6368 2028 6964 656e 206e  l switch (iden n
+0000bce0: 6565 6473 2074 6f20 6265 2074 6865 2073  eeds to be the s
+0000bcf0: 7461 636b 5f69 6429 0a20 2020 2020 2020  tack_id).       
+0000bd00: 2020 2020 2020 2020 2044 6566 6175 6c74           Default
+0000bd10: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
+0000bd20: 2020 2020 2020 2020 616f 735f 7377 2028          aos_sw (
+0000bd30: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+0000bd40: 2044 6576 6963 6520 6973 2041 7275 6261   Device is Aruba
+0000bd50: 4f53 2d53 7769 7463 682e 2044 6566 6175  OS-Switch. Defau
+0000bd60: 6c74 7320 746f 2046 616c 7365 2028 696e  lts to False (in
+0000bd70: 6469 6361 7469 6e67 2043 5820 7377 6974  dicating CX swit
+0000bd80: 6368 290a 0a20 2020 2020 2020 2052 6574  ch)..        Ret
+0000bd90: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0000bda0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0000bdb0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0000bdc0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0000bdd0: 2222 0a20 2020 2020 2020 2069 6620 7374  "".        if st
+0000bde0: 6163 6b3a 0a20 2020 2020 2020 2020 2020  ack:.           
+0000bdf0: 2073 775f 7061 7468 203d 2022 6378 5f73   sw_path = "cx_s
+0000be00: 7769 7463 685f 7374 6163 6b73 2220 6966  witch_stacks" if
+0000be10: 206e 6f74 2061 6f73 5f73 7720 656c 7365   not aos_sw else
+0000be20: 2022 7377 6974 6368 5f73 7461 636b 7322   "switch_stacks"
+0000be30: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000be40: 2020 2020 2020 2020 2020 2073 775f 7061             sw_pa
+0000be50: 7468 203d 2022 6378 5f73 7769 7463 6865  th = "cx_switche
+0000be60: 7322 2069 6620 6e6f 7420 616f 735f 7377  s" if not aos_sw
+0000be70: 2065 6c73 6520 2273 7769 7463 6865 7322   else "switches"
+0000be80: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0000be90: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
+0000bea0: 7b73 775f 7061 7468 7d2f 7b69 6465 6e7d  {sw_path}/{iden}
+0000beb0: 2f70 6f72 7473 220a 0a20 2020 2020 2020  /ports"..       
+0000bec0: 2070 6172 616d 7320 3d20 7b22 736c 6f74   params = {"slot
+0000bed0: 223a 2073 6c6f 747d 0a0a 2020 2020 2020  ": slot}..      
+0000bee0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000bef0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0000bf00: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0000bf10: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
+0000bf20: 7769 7463 685f 706f 655f 6465 7461 696c  witch_poe_detail
+0000bf30: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+0000bf40: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
+0000bf50: 2073 7472 2c0a 2020 2020 2020 2020 706f   str,.        po
+0000bf60: 7274 3a20 7374 7220 3d20 4e6f 6e65 2c0a  rt: str = None,.
+0000bf70: 2020 2020 2020 2020 616f 735f 7377 3a20          aos_sw: 
+0000bf80: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0000bf90: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0000bfa0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+0000bfb0: 7377 6974 6368 2070 6f65 2069 6e66 6f2e  switch poe info.
+0000bfc0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000bfd0: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+0000bfe0: 616c 2028 7374 7229 3a20 5377 6974 6368  al (str): Switch
+0000bff0: 2073 6572 6961 6c0a 2020 2020 2020 2020   serial.        
+0000c000: 2020 2020 706f 7274 2028 7374 722c 206f      port (str, o
+0000c010: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000c020: 2062 7920 7377 6974 6368 2070 6f72 740a   by switch port.
+0000c030: 2020 2020 2020 2020 2020 2020 616f 735f              aos_
+0000c040: 7377 2028 626f 6f6c 2c20 6f70 7469 6f6e  sw (bool, option
+0000c050: 616c 293a 2044 6576 6963 6520 6973 2041  al): Device is A
+0000c060: 7275 6261 4f53 2d53 7769 7463 682e 2044  rubaOS-Switch. D
+0000c070: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+0000c080: 2028 4358 2053 7769 7463 6829 0a0a 2020   (CX Switch)..  
+0000c090: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0000c0a0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0000c0b0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0000c0c0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0000c0d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000c0e0: 2020 2020 7377 5f70 6174 6820 3d20 2263      sw_path = "c
+0000c0f0: 785f 7377 6974 6368 6573 2220 6966 206e  x_switches" if n
+0000c100: 6f74 2061 6f73 5f73 7720 656c 7365 2022  ot aos_sw else "
+0000c110: 7377 6974 6368 6573 220a 2020 2020 2020  switches".      
+0000c120: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+0000c130: 6f72 696e 672f 7631 2f7b 7377 5f70 6174  oring/v1/{sw_pat
+0000c140: 687d 2f7b 7365 7269 616c 7d2f 706f 655f  h}/{serial}/poe_
+0000c150: 6465 7461 696c 220a 0a20 2020 2020 2020  detail"..       
+0000c160: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+0000c170: 2020 2020 2020 2020 2770 6f72 7427 3a20          'port': 
+0000c180: 7374 7228 706f 7274 290a 2020 2020 2020  str(port).      
+0000c190: 2020 7d0a 0a20 2020 2020 2020 2069 6620    }..        if 
+0000c1a0: 6e6f 7420 706f 7274 3a0a 2020 2020 2020  not port:.      
+0000c1b0: 2020 2020 2020 7572 6c20 3d20 6622 7b75        url = f"{u
+0000c1c0: 726c 7d73 220a 2020 2020 2020 2020 2020  rl}s".          
+0000c1d0: 2020 7061 7261 6d73 203d 207b 7d0a 0a20    params = {}.. 
+0000c1e0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000c1f0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000c200: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0000c210: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000c220: 6765 745f 6761 7465 7761 795f 706f 7274  get_gateway_port
+0000c230: 7328 7365 6c66 2c20 7365 7269 616c 3a20  s(self, serial: 
+0000c240: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
+0000c250: 3a0a 2020 2020 2020 2020 2222 2247 6174  :.        """Gat
+0000c260: 6577 6179 2050 6f72 7473 2044 6574 6169  eway Ports Detai
+0000c270: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
+0000c280: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0000c290: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+0000c2a0: 6961 6c20 6e75 6d62 6572 206f 6620 4761  ial number of Ga
+0000c2b0: 7465 7761 7920 746f 2062 6520 7175 6572  teway to be quer
+0000c2c0: 6965 640a 0a20 2020 2020 2020 2052 6574  ied..        Ret
+0000c2d0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0000c2e0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0000c2f0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0000c300: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0000c310: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0000c320: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+0000c330: 312f 6761 7465 7761 7973 2f7b 7365 7269  1/gateways/{seri
+0000c340: 616c 7d2f 706f 7274 7322 0a0a 2020 2020  al}/ports"..    
+0000c350: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000c360: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+0000c370: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+0000c380: 745f 6465 765f 6279 5f74 7970 6528 0a20  t_dev_by_type(. 
+0000c390: 2020 2020 2020 2020 2020 2073 656c 662c             self,
+0000c3a0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+0000c3b0: 5f74 7970 653a 2073 7472 2c0a 2020 2020  _type: str,.    
+0000c3c0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0000c3d0: 653a 2020 2320 5645 5249 4649 4544 0a20  e:  # VERIFIED. 
+0000c3e0: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
+0000c3f0: 6c61 7466 6f72 6d2f 6465 7669 6365 5f69  latform/device_i
+0000c400: 6e76 656e 746f 7279 2f76 312f 6465 7669  nventory/v1/devi
+0000c410: 6365 7322 0a20 2020 2020 2020 2023 2069  ces".        # i
+0000c420: 6170 2c20 7377 6974 6368 2c20 6761 7465  ap, switch, gate
+0000c430: 7761 797c 626f 630a 2020 2020 2020 2020  way|boc.        
+0000c440: 6966 2064 6576 5f74 7970 652e 6c6f 7765  if dev_type.lowe
+0000c450: 7228 2920 696e 205b 2261 7073 222c 2022  r() in ["aps", "
+0000c460: 6170 225d 3a0a 2020 2020 2020 2020 2020  ap"]:.          
+0000c470: 2020 6465 765f 7479 7065 203d 2022 616c    dev_type = "al
+0000c480: 6c5f 6170 220a 2020 2020 2020 2020 7061  l_ap".        pa
+0000c490: 7261 6d73 203d 207b 2273 6b75 5f74 7970  rams = {"sku_typ
+0000c4a0: 6522 3a20 6465 765f 7479 7065 7d0a 2020  e": dev_type}.  
+0000c4b0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0000c4c0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0000c4d0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0000c4e0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0000c4f0: 6574 5f76 6172 6961 626c 6973 6564 5f74  et_variablised_t
+0000c500: 656d 706c 6174 6528 7365 6c66 2c20 7365  emplate(self, se
+0000c510: 7269 616c 6e75 6d3a 2073 7472 2920 2d3e  rialnum: str) ->
+0000c520: 2052 6573 706f 6e73 653a 2020 2320 5645   Response:  # VE
+0000c530: 5249 4649 4544 0a20 2020 2020 2020 2075  RIFIED.        u
+0000c540: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
+0000c550: 6174 696f 6e2f 7631 2f64 6576 6963 6573  ation/v1/devices
+0000c560: 2f7b 7365 7269 616c 6e75 6d7d 2f76 6172  /{serialnum}/var
+0000c570: 6961 626c 6973 6564 5f74 656d 706c 6174  iablised_templat
+0000c580: 6522 0a20 2020 2020 2020 2072 6574 7572  e".        retur
+0000c590: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0000c5a0: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+0000c5b0: 2064 6566 2067 6574 5f76 6172 6961 626c   def get_variabl
+0000c5c0: 6573 2873 656c 662c 2073 6572 6961 6c6e  es(self, serialn
+0000c5d0: 756d 3a20 7374 7220 3d20 4e6f 6e65 2920  um: str = None) 
+0000c5e0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0000c5f0: 2020 2020 2069 6620 7365 7269 616c 6e75       if serialnu
+0000c600: 6d20 616e 6420 7365 7269 616c 6e75 6d20  m and serialnum 
+0000c610: 213d 2022 616c 6c22 3a0a 2020 2020 2020  != "all":.      
+0000c620: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+0000c630: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+0000c640: 6465 7669 6365 732f 7b73 6572 6961 6c6e  devices/{serialn
+0000c650: 756d 7d2f 7465 6d70 6c61 7465 5f76 6172  um}/template_var
+0000c660: 6961 626c 6573 220a 2020 2020 2020 2020  iables".        
+0000c670: 2020 2020 7061 7261 6d73 203d 207b 7d0a      params = {}.
+0000c680: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000c690: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
+0000c6a0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0000c6b0: 7631 2f64 6576 6963 6573 2f74 656d 706c  v1/devices/templ
+0000c6c0: 6174 655f 7661 7269 6162 6c65 7322 0a20  ate_variables". 
+0000c6d0: 2020 2020 2020 2020 2020 2070 6172 616d             param
+0000c6e0: 7320 3d20 7b22 6c69 6d69 7422 3a20 3230  s = {"limit": 20
+0000c6f0: 2c20 226f 6666 7365 7422 3a20 307d 0a20  , "offset": 0}. 
+0000c700: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000c710: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000c720: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0000c730: 0a0a 2020 2020 2320 6173 796e 6320 6465  ..    # async de
+0000c740: 6620 7570 6461 7465 5f76 6172 6961 626c  f update_variabl
+0000c750: 6573 2873 656c 662c 2073 6572 6961 6c6e  es(self, serialn
+0000c760: 756d 3a20 7374 722c 202a 2a76 6172 5f64  um: str, **var_d
+0000c770: 6963 743a 2064 6963 7429 202d 3e20 626f  ict: dict) -> bo
+0000c780: 6f6c 3a0a 2020 2020 2320 2020 2020 7572  ol:.    #     ur
+0000c790: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0000c7a0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
+0000c7b0: 7b73 6572 6961 6c6e 756d 7d2f 7465 6d70  {serialnum}/temp
+0000c7c0: 6c61 7465 5f76 6172 6961 626c 6573 220a  late_variables".
+0000c7d0: 2020 2020 2320 2020 2020 7661 725f 6469      #     var_di
+0000c7e0: 6374 203d 206a 736f 6e2e 6475 6d70 7328  ct = json.dumps(
+0000c7f0: 7661 725f 6469 6374 290a 2020 2020 2320  var_dict).    # 
+0000c800: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000c810: 2073 656c 662e 7061 7463 6828 7572 6c2c   self.patch(url,
+0000c820: 2070 6179 6c6f 6164 3d76 6172 5f64 6963   payload=var_dic
+0000c830: 7429 0a0a 2020 2020 2320 544f 444f 2066  t)..    # TODO f
+0000c840: 6967 7572 6520 6f75 7420 686f 7720 746f  igure out how to
+0000c850: 206d 616b 6520 7468 6973 2077 6f72 6b2c   make this work,
+0000c860: 206e 6565 6420 6669 6c65 206c 696b 6520   need file like 
+0000c870: 6f62 6a65 6374 0a20 2020 2061 7379 6e63  object.    async
+0000c880: 2064 6566 2075 7064 6174 655f 6465 7669   def update_devi
+0000c890: 6365 5f74 656d 706c 6174 655f 7661 7269  ce_template_vari
+0000c8a0: 6162 6c65 7328 0a20 2020 2020 2020 2073  ables(.        s
+0000c8b0: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
+0000c8c0: 6963 655f 7365 7269 616c 3a20 7374 722c  ice_serial: str,
+0000c8d0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+0000c8e0: 6d61 633a 2073 7472 2c0a 2020 2020 2020  mac: str,.      
+0000c8f0: 2020 2320 746f 7461 6c3a 2069 6e74 2c0a    # total: int,.
+0000c900: 2020 2020 2020 2020 2320 5f73 7973 5f73          # _sys_s
+0000c910: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
+0000c920: 2020 2020 2320 5f73 7973 5f6c 616e 5f6d      # _sys_lan_m
+0000c930: 6163 3a20 7374 722c 0a20 2020 2020 2020  ac: str,.       
+0000c940: 2076 6172 5f64 6963 743a 2064 6963 742c   var_dict: dict,
+0000c950: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+0000c960: 7365 3a0a 2020 2020 2020 2020 2222 2255  se:.        """U
+0000c970: 7064 6174 6520 7465 6d70 6c61 7465 2076  pdate template v
+0000c980: 6172 6961 626c 6573 2066 6f72 2061 2064  ariables for a d
+0000c990: 6576 6963 652e 0a0a 2020 2020 2020 2020  evice...        
+0000c9a0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0000c9b0: 2020 6465 7669 6365 5f73 6572 6961 6c20    device_serial 
+0000c9c0: 2873 7472 293a 2053 6572 6961 6c20 6e75  (str): Serial nu
+0000c9d0: 6d62 6572 206f 6620 7468 6520 6465 7669  mber of the devi
+0000c9e0: 6365 2e0a 2020 2020 2020 2020 2020 2020  ce..            
+0000c9f0: 746f 7461 6c20 2869 6e74 293a 2074 6f74  total (int): tot
+0000ca00: 616c 0a20 2020 2020 2020 2020 2020 205f  al.            _
+0000ca10: 7379 735f 7365 7269 616c 2028 7374 7229  sys_serial (str)
+0000ca20: 3a20 5f73 7973 5f73 6572 6961 6c0a 2020  : _sys_serial.  
+0000ca30: 2020 2020 2020 2020 2020 5f73 7973 5f6c            _sys_l
+0000ca40: 616e 5f6d 6163 2028 7374 7229 3a20 5f73  an_mac (str): _s
+0000ca50: 7973 5f6c 616e 5f6d 6163 0a20 2020 2020  ys_lan_mac.     
+0000ca60: 2020 2020 2020 2076 6172 5f64 6963 7420         var_dict 
+0000ca70: 2864 6963 7429 3a20 6469 6374 2077 6974  (dict): dict wit
+0000ca80: 6820 7661 7269 6162 6c65 7320 746f 2062  h variables to b
+0000ca90: 6520 7570 6461 7465 640a 0a20 2020 2020  e updated..     
+0000caa0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0000cab0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0000cac0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0000cad0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0000cae0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000caf0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
+0000cb00: 7572 6174 696f 6e2f 7631 2f64 6576 6963  uration/v1/devic
+0000cb10: 6573 2f7b 6465 7669 6365 5f73 6572 6961  es/{device_seria
+0000cb20: 6c7d 2f74 656d 706c 6174 655f 7661 7269  l}/template_vari
+0000cb30: 6162 6c65 7322 0a20 2020 2020 2020 2023  ables".        #
+0000cb40: 2068 6561 6465 7273 203d 207b 2243 6f6e   headers = {"Con
+0000cb50: 7465 6e74 2d54 7970 6522 3a20 226d 756c  tent-Type": "mul
+0000cb60: 7469 7061 7274 2f66 6f72 6d2d 6461 7461  tipart/form-data
+0000cb70: 227d 0a0a 2020 2020 2020 2020 6a73 6f6e  "}..        json
+0000cb80: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+0000cb90: 2020 2020 2020 2774 6f74 616c 273a 206c        'total': l
+0000cba0: 656e 2876 6172 5f64 6963 7429 202b 2032  en(var_dict) + 2
+0000cbb0: 2c0a 2020 2020 2020 2020 2020 2020 2276  ,.            "v
+0000cbc0: 6172 6961 626c 6573 223a 207b 0a20 2020  ariables": {.   
+0000cbd0: 2020 2020 2020 2020 2020 2020 202a 2a7b               **{
+0000cbe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000cbf0: 2020 2020 2027 5f73 7973 5f73 6572 6961       '_sys_seria
+0000cc00: 6c27 3a20 6465 7669 6365 5f73 6572 6961  l': device_seria
+0000cc10: 6c2c 0a20 2020 2020 2020 2020 2020 2020  l,.             
+0000cc20: 2020 2020 2020 2027 5f73 7973 5f6c 616e         '_sys_lan
+0000cc30: 5f6d 6163 273a 2064 6576 6963 655f 6d61  _mac': device_ma
+0000cc40: 632c 0a20 2020 2020 2020 2020 2020 2020  c,.             
+0000cc50: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
+0000cc60: 2020 2020 2020 2a2a 7661 725f 6469 6374        **var_dict
+0000cc70: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+0000cc80: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000cc90: 2023 2064 6174 6120 3d20 7365 6c66 2e5f   # data = self._
+0000cca0: 6d61 6b65 5f66 6f72 6d5f 6461 7461 286a  make_form_data(j
+0000ccb0: 736f 6e5f 6461 7461 290a 2020 2020 2020  son_data).      
+0000ccc0: 2020 2320 6461 7461 203d 206d 756c 7469    # data = multi
+0000ccd0: 7061 7274 6966 7928 6a73 6f6e 5f64 6174  partify(json_dat
+0000cce0: 6129 0a0a 2020 2020 2020 2020 2320 7265  a)..        # re
+0000ccf0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0000cd00: 7061 7463 6828 7572 6c2c 2068 6561 6465  patch(url, heade
+0000cd10: 7273 3d68 6561 6465 7273 2c20 6461 7461  rs=headers, data
+0000cd20: 3d64 6174 6129 0a20 2020 2020 2020 2072  =data).        r
+0000cd30: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0000cd40: 2e70 6174 6368 2875 726c 2c20 6a73 6f6e  .patch(url, json
+0000cd50: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
+0000cd60: 0a0a 2020 2020 2320 4150 492d 464c 4157  ..    # API-FLAW
+0000cd70: 2020 5365 656d 7320 746f 2077 6f72 6b20    Seems to work 
+0000cd80: 6669 6e65 2066 6f72 2063 782c 2061 702c  fine for cx, ap,
+0000cd90: 2062 7574 2067 7720 7468 6520 7265 7475   but gw the retu
+0000cda0: 726e 2069 730a 2020 2020 2320 2246 6574  rn is.    # "Fet
+0000cdb0: 6368 696e 6720 636f 6e66 6967 7572 6174  ching configurat
+0000cdc0: 696f 6e20 696e 2070 726f 6772 6573 7320  ion in progress 
+0000cdd0: 666f 7220 4d6f 6269 6c69 7479 2043 6f6e  for Mobility Con
+0000cde0: 7472 6f6c 6c65 7220 5345 5249 414c 2f4d  troller SERIAL/M
+0000cdf0: 4143 220a 2020 2020 2320 7375 6273 6571  AC".    # subseq
+0000ce00: 7565 6e74 2063 616c 6c73 2066 6f72 2074  uent calls for t
+0000ce10: 6865 2073 616d 6520 6777 2072 6574 7572  he same gw retur
+0000ce20: 6e20 3530 3020 696e 7465 726e 616c 2073  n 500 internal s
+0000ce30: 6572 7665 7220 6572 726f 722e 0a20 2020  erver error..   
+0000ce40: 2023 2046 4958 4d45 0a20 2020 2061 7379   # FIXME.    asy
+0000ce50: 6e63 2064 6566 2067 6574 5f64 6576 6963  nc def get_devic
+0000ce60: 655f 636f 6e66 6967 7572 6174 696f 6e28  e_configuration(
+0000ce70: 7365 6c66 2c20 6465 7669 6365 5f73 6572  self, device_ser
+0000ce80: 6961 6c3a 2073 7472 2920 2d3e 2052 6573  ial: str) -> Res
+0000ce90: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000cea0: 2222 4765 7420 6c61 7374 206b 6e6f 776e  ""Get last known
+0000ceb0: 2072 756e 6e69 6e67 2063 6f6e 6669 6775   running configu
+0000cec0: 7261 7469 6f6e 2066 6f72 2061 2064 6576  ration for a dev
+0000ced0: 6963 652e 0a0a 2020 2020 2020 2020 2f2f  ice...        //
+0000cee0: 2055 7365 6420 6279 2073 686f 7720 7275   Used by show ru
+0000cef0: 6e20 3c44 4556 4943 452d 4944 454e 3e20  n <DEVICE-IDEN> 
+0000cf00: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
+0000cf10: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+0000cf20: 7669 6365 5f73 6572 6961 6c20 2873 7472  vice_serial (str
+0000cf30: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
+0000cf40: 206f 6620 7468 6520 6465 7669 6365 2e0a   of the device..
+0000cf50: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0000cf60: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0000cf70: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0000cf80: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0000cf90: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0000cfa0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0000cfb0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+0000cfc0: 2f64 6576 6963 6573 2f7b 6465 7669 6365  /devices/{device
+0000cfd0: 5f73 6572 6961 6c7d 2f63 6f6e 6669 6775  _serial}/configu
+0000cfe0: 7261 7469 6f6e 220a 2020 2020 2020 2020  ration".        
+0000cff0: 6865 6164 6572 7320 3d20 7b22 4163 6365  headers = {"Acce
+0000d000: 7074 223a 2022 6d75 6c74 6970 6172 742f  pt": "multipart/
+0000d010: 666f 726d 2d64 6174 6122 7d0a 0a20 2020  form-data"}..   
+0000d020: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0000d030: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0000d040: 6865 6164 6572 733d 6865 6164 6572 7329  headers=headers)
+0000d050: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000d060: 6765 745f 6273 7369 6473 280a 2020 2020  get_bssids(.    
+0000d070: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+0000d080: 2020 6772 6f75 703a 2073 7472 203d 204e    group: str = N
+0000d090: 6f6e 652c 0a20 2020 2020 2020 2073 7761  one,.        swa
+0000d0a0: 726d 5f69 643a 2073 7472 203d 204e 6f6e  rm_id: str = Non
+0000d0b0: 652c 0a20 2020 2020 2020 206c 6162 656c  e,.        label
+0000d0c0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000d0d0: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
+0000d0e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000d0f0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
+0000d100: 6e65 2c0a 2020 2020 2020 2020 6d61 6361  ne,.        maca
+0000d110: 6464 723a 2073 7472 203d 204e 6f6e 652c  ddr: str = None,
+0000d120: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
+0000d130: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+0000d140: 0a20 2020 2020 2020 2063 616c 6375 6c61  .        calcula
+0000d150: 7465 5f74 6f74 616c 3a20 626f 6f6c 203d  te_total: bool =
+0000d160: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0000d170: 6f72 743a 2073 7472 203d 204e 6f6e 652c  ort: str = None,
+0000d180: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+0000d190: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+0000d1a0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+0000d1b0: 3030 302c 0a20 2020 2029 202d 3e20 5265  000,.    ) -> Re
+0000d1c0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0000d1d0: 2222 224c 6973 7420 4253 5349 4473 2e0a  """List BSSIDs..
+0000d1e0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0000d1f0: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0000d200: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000d210: 3a20 4669 6c74 6572 2062 7920 6772 6f75  : Filter by grou
+0000d220: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
+0000d230: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+0000d240: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000d250: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+0000d260: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+0000d270: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+0000d280: 293a 2046 696c 7465 7220 6279 204c 6162  ): Filter by Lab
+0000d290: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
+0000d2a0: 2020 2020 7369 7465 2028 7374 722c 206f      site (str, o
+0000d2b0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000d2c0: 2062 7920 5369 7465 206e 616d 650a 2020   by Site name.  
+0000d2d0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+0000d2e0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000d2f0: 3a20 4669 6c74 6572 2062 7920 4150 2073  : Filter by AP s
+0000d300: 6572 6961 6c20 6e75 6d62 6572 0a20 2020  erial number.   
+0000d310: 2020 2020 2020 2020 206d 6163 6164 6472           macaddr
+0000d320: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000d330: 3a20 4669 6c74 6572 2062 7920 4150 204d  : Filter by AP M
+0000d340: 4143 2061 6464 7265 7373 0a20 2020 2020  AC address.     
+0000d350: 2020 2020 2020 2063 6c75 7374 6572 5f69         cluster_i
+0000d360: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+0000d370: 293a 2046 696c 7465 7220 6279 204d 6f62  ): Filter by Mob
+0000d380: 696c 6974 7920 436f 6e74 726f 6c6c 6572  ility Controller
+0000d390: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+0000d3a0: 2020 2020 2020 2020 2020 2063 616c 6375             calcu
+0000d3b0: 6c61 7465 5f74 6f74 616c 2028 626f 6f6c  late_total (bool
+0000d3c0: 2c20 6f70 7469 6f6e 616c 293a 2057 6865  , optional): Whe
+0000d3d0: 7468 6572 2074 6f20 6361 6c63 756c 6174  ther to calculat
+0000d3e0: 6520 746f 7461 6c20 4150 730a 2020 2020  e total APs.    
+0000d3f0: 2020 2020 2020 2020 736f 7274 2028 7374          sort (st
+0000d400: 722c 206f 7074 696f 6e61 6c29 3a20 536f  r, optional): So
+0000d410: 7274 2070 6172 616d 6574 6572 206d 6179  rt parameter may
+0000d420: 2062 6520 6f6e 6520 6f66 202b 7365 7269   be one of +seri
+0000d430: 616c 2c20 2d73 6572 6961 6c2c 202b 6d61  al, -serial, +ma
+0000d440: 6361 6464 722c 2d6d 6163 6164 6472 2c0a  caddr,-macaddr,.
+0000d450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d460: 2b73 7761 726d 5f69 642c 202d 7377 6172  +swarm_id, -swar
+0000d470: 6d5f 6964 2e44 6566 6175 6c74 2069 7320  m_id.Default is 
+0000d480: 272b 7365 7269 616c 270a 2020 2020 2020  '+serial'.      
+0000d490: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+0000d4a0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000d4b0: 6769 6e61 7469 6f6e 206f 6666 7365 7420  gination offset 
+0000d4c0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+0000d4d0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+0000d4e0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0000d4f0: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
+0000d500: 6974 2e20 4465 6661 756c 7420 6973 2031  it. Default is 1
+0000d510: 3030 2061 6e64 206d 6178 2069 7320 3130  00 and max is 10
+0000d520: 3030 2044 6566 6175 6c74 7320 746f 2031  00 Defaults to 1
+0000d530: 3030 302e 0a0a 2020 2020 2020 2020 5265  000...        Re
+0000d540: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0000d550: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0000d560: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0000d570: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0000d580: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+0000d590: 3d20 222f 6d6f 6e69 746f 7269 6e67 2f76  = "/monitoring/v
+0000d5a0: 322f 6273 7369 6473 220a 0a20 2020 2020  2/bssids"..     
+0000d5b0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+0000d5c0: 2020 2020 2020 2020 2020 2773 6572 6961            'seria
+0000d5d0: 6c27 3a20 7365 7269 616c 2c0a 2020 2020  l': serial,.    
+0000d5e0: 2020 2020 2020 2020 2267 726f 7570 223a          "group":
+0000d5f0: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
+0000d600: 2020 2020 2273 7761 726d 5f69 6422 3a20      "swarm_id": 
+0000d610: 7377 6172 6d5f 6964 2c0a 2020 2020 2020  swarm_id,.      
+0000d620: 2020 2020 2020 226c 6162 656c 223a 206c        "label": l
+0000d630: 6162 656c 2c0a 2020 2020 2020 2020 2020  abel,.          
+0000d640: 2020 2273 6974 6522 3a20 7369 7465 2c0a    "site": site,.
+0000d650: 2020 2020 2020 2020 2020 2020 276d 6163              'mac
+0000d660: 6164 6472 273a 206d 6163 6164 6472 2c0a  addr': macaddr,.
+0000d670: 2020 2020 2020 2020 2020 2020 2763 6c75              'clu
+0000d680: 7374 6572 5f69 6427 3a20 636c 7573 7465  ster_id': cluste
+0000d690: 725f 6964 2c0a 2020 2020 2020 2020 2020  r_id,.          
+0000d6a0: 2020 2763 616c 6375 6c61 7465 5f74 6f74    'calculate_tot
+0000d6b0: 616c 273a 2063 616c 6375 6c61 7465 5f74  al': calculate_t
+0000d6c0: 6f74 616c 2c0a 2020 2020 2020 2020 2020  otal,.          
+0000d6d0: 2020 2773 6f72 7427 3a20 736f 7274 2c0a    'sort': sort,.
+0000d6e0: 2020 2020 2020 2020 2020 2020 226f 6666              "off
+0000d6f0: 7365 7422 3a20 6f66 6673 6574 2c0a 2020  set": offset,.  
+0000d700: 2020 2020 2020 2020 2020 226c 696d 6974            "limit
+0000d710: 223a 206c 696d 6974 2c0a 2020 2020 2020  ": limit,.      
+0000d720: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0000d730: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0000d740: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0000d750: 6172 616d 7329 0a0a 2020 2020 2320 544f  arams)..    # TO
+0000d760: 444f 2063 6861 6e67 6520 6465 765f 7479  DO change dev_ty
+0000d770: 7065 2074 6f20 7573 6520 5b67 772c 2073  pe to use [gw, s
+0000d780: 772c 2063 782c 2061 702c 2073 7769 7463  w, cx, ap, switc
+0000d790: 685d 2020 6d61 6b65 2063 6f6e 7369 7374  h]  make consist
+0000d7a0: 656e 7420 666f 7220 616c 6c20 6361 6c6c  ent for all call
+0000d7b0: 730a 2020 2020 6173 796e 6320 6465 6620  s.    async def 
+0000d7c0: 6765 745f 6465 7669 6365 7328 0a20 2020  get_devices(.   
+0000d7d0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0000d7e0: 2020 2064 6576 5f74 7970 653a 204c 6974     dev_type: Lit
+0000d7f0: 6572 616c 5b22 7377 6974 6368 6573 222c  eral["switches",
+0000d800: 2022 6170 7322 2c20 2267 6174 6577 6179   "aps", "gateway
+0000d810: 7322 5d2c 0a20 2020 2020 2020 2067 726f  s"],.        gro
+0000d820: 7570 3a20 7374 7220 3d20 4e6f 6e65 2c0a  up: str = None,.
+0000d830: 2020 2020 2020 2020 6c61 6265 6c3a 2073          label: s
+0000d840: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000d850: 2020 2073 7461 636b 5f69 643a 2073 7472     stack_id: str
+0000d860: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000d870: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
+0000d880: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0000d890: 6572 6961 6c3a 2073 7472 203d 204e 6f6e  erial: str = Non
+0000d8a0: 652c 0a20 2020 2020 2020 2073 7461 7475  e,.        statu
+0000d8b0: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
+0000d8c0: 2020 2020 2020 2066 6965 6c64 733a 206c         fields: l
+0000d8d0: 6973 7420 3d20 4e6f 6e65 2c0a 2020 2020  ist = None,.    
+0000d8e0: 2020 2020 7368 6f77 5f72 6573 6f75 7263      show_resourc
+0000d8f0: 655f 6465 7461 696c 733a 2062 6f6f 6c20  e_details: bool 
+0000d900: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+0000d910: 2063 6c75 7374 6572 5f69 643a 2073 7472   cluster_id: str
+0000d920: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000d930: 206d 6f64 656c 3a20 7374 7220 3d20 4e6f   model: str = No
+0000d940: 6e65 2c0a 2020 2020 2020 2020 6361 6c63  ne,.        calc
+0000d950: 756c 6174 655f 636c 6965 6e74 5f63 6f75  ulate_client_cou
+0000d960: 6e74 3a20 626f 6f6c 203d 2054 7275 652c  nt: bool = True,
+0000d970: 0a20 2020 2020 2020 2063 616c 6375 6c61  .        calcula
+0000d980: 7465 5f73 7369 645f 636f 756e 743a 2062  te_ssid_count: b
+0000d990: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0000d9a0: 2020 2020 206d 6163 6164 6472 3a20 7374       macaddr: st
+0000d9b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000d9c0: 2020 7075 626c 6963 5f69 705f 6164 6472    public_ip_addr
+0000d9d0: 6573 733a 2073 7472 203d 204e 6f6e 652c  ess: str = None,
+0000d9e0: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
+0000d9f0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000da00: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0000da10: 3130 3030 2c20 2023 206d 6178 2061 6c6c  1000,  # max all
+0000da20: 6f77 6564 2031 3030 300a 2020 2020 2020  owed 1000.      
+0000da30: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+0000da40: 302c 0a20 2020 2020 2020 2023 2073 6f72  0,.        # sor
+0000da50: 743a 2073 7472 203d 204e 6f6e 652c 0a20  t: str = None,. 
+0000da60: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0000da70: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+0000da80: 2044 6576 6963 6573 2066 726f 6d20 4172   Devices from Ar
+0000da90: 7562 6120 4365 6e74 7261 6c20 4150 4920  uba Central API 
+0000daa0: 4761 7465 7761 790a 0a20 2020 2020 2020  Gateway..       
+0000dab0: 202f 2f20 5573 6564 2062 7920 7368 6f77   // Used by show
+0000dac0: 203c 2261 7073 227c 2267 6174 6577 6179   <"aps"|"gateway
+0000dad0: 7322 7c22 7377 6974 6368 6573 223e 202f  s"|"switches"> /
+0000dae0: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
+0000daf0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+0000db00: 5f74 7970 6520 284c 6974 6572 616c 5b22  _type (Literal["
+0000db10: 7377 6974 6368 6573 222c 2022 6170 7322  switches", "aps"
+0000db20: 2c20 2267 6174 6577 6179 7322 293a 2054  , "gateways"): T
+0000db30: 7970 6520 6f66 2064 6576 6963 6573 2074  ype of devices t
+0000db40: 6f20 6765 742e 0a20 2020 2020 2020 2020  o get..         
+0000db50: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
+0000db60: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000db70: 206f 6e20 7370 6563 6966 6963 2067 726f   on specific gro
+0000db80: 7570 2e20 4465 6661 756c 7473 2074 6f20  up. Defaults to 
+0000db90: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+0000dba0: 2020 6c61 6265 6c20 2873 7472 2c20 6f70    label (str, op
+0000dbb0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000dbc0: 6279 206c 6162 656c 2e20 4465 6661 756c  by label. Defaul
+0000dbd0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+0000dbe0: 2020 2020 2020 2020 7374 6163 6b5f 6964          stack_id
+0000dbf0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000dc00: 3a20 5265 7475 726e 2073 7769 7463 6820  : Return switch 
+0000dc10: 7769 7468 2073 7065 6369 6669 6320 7374  with specific st
+0000dc20: 6163 6b5f 6964 2e20 4465 6661 756c 7473  ack_id. Defaults
+0000dc30: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+0000dc40: 2020 2020 2020 7377 6172 6d5f 6964 2028        swarm_id (
+0000dc50: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000dc60: 5265 7475 726e 2041 5073 2077 6974 6820  Return APs with 
+0000dc70: 6120 7370 6563 6966 6963 2073 7761 726d  a specific swarm
+0000dc80: 5f69 642e 2044 6566 6175 6c74 7320 746f  _id. Defaults to
+0000dc90: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+0000dca0: 2020 2073 6572 6961 6c20 2873 7472 2c20     serial (str, 
+0000dcb0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
+0000dcc0: 6e20 7468 6520 6465 7669 6365 2077 6974  n the device wit
+0000dcd0: 6820 7365 7269 616c 206e 756d 6265 722e  h serial number.
+0000dce0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000dcf0: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+0000dd00: 7461 7475 7320 2873 7472 2c20 6f70 7469  tatus (str, opti
+0000dd10: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+0000dd20: 2073 7461 7475 732e 2044 6566 6175 6c74   status. Default
+0000dd30: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+0000dd40: 2020 2020 2020 2066 6965 6c64 7320 286c         fields (l
+0000dd50: 6973 742c 206f 7074 696f 6e61 6c29 3a20  ist, optional): 
+0000dd60: 5265 7475 726e 2073 7065 6369 6669 6320  Return specific 
+0000dd70: 6669 656c 6473 2066 6f72 2064 6576 6963  fields for devic
+0000dd80: 652e 2044 6566 6175 6c74 7320 746f 204e  e. Defaults to N
+0000dd90: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+0000dda0: 2073 686f 775f 7265 736f 7572 6365 5f64   show_resource_d
+0000ddb0: 6574 6169 6c73 2028 626f 6f6c 2c20 6f70  etails (bool, op
+0000ddc0: 7469 6f6e 616c 293a 2053 686f 7720 7265  tional): Show re
+0000ddd0: 736f 7572 6365 2075 7469 6c69 7a61 7469  source utilizati
+0000dde0: 6f6e 2e20 4465 6661 756c 7473 2074 6f20  on. Defaults to 
+0000ddf0: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
+0000de00: 2020 2063 6c75 7374 6572 5f69 6420 2873     cluster_id (s
+0000de10: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
+0000de20: 6574 7572 6e20 6761 7465 7761 7973 2077  eturn gateways w
+0000de30: 6974 6820 6120 7370 6563 6966 6963 2063  ith a specific c
+0000de40: 6c75 7374 6572 5f69 642e 2044 6566 6175  luster_id. Defau
+0000de50: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+0000de60: 2020 2020 2020 2020 206d 6f64 656c 2028           model (
+0000de70: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000de80: 4669 6c74 6572 2062 7920 6465 7669 6365  Filter by device
+0000de90: 206d 6f64 656c 2e20 4465 6661 756c 7473   model. Defaults
+0000dea0: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+0000deb0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+0000dec0: 636c 6965 6e74 5f63 6f75 6e74 2028 626f  client_count (bo
+0000ded0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2043  ol, optional): C
+0000dee0: 616c 6375 6c61 7465 2063 6c69 656e 7420  alculate client 
+0000def0: 636f 756e 7420 666f 7220 6561 6368 2064  count for each d
+0000df00: 6576 6963 652e 2044 6566 6175 6c74 7320  evice. Defaults 
+0000df10: 746f 2046 616c 7365 2e0a 2020 2020 2020  to False..      
+0000df20: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+0000df30: 7373 6964 5f63 6f75 6e74 2028 626f 6f6c  ssid_count (bool
+0000df40: 2c20 6f70 7469 6f6e 616c 293a 2043 616c  , optional): Cal
+0000df50: 6375 6c61 7465 2053 5349 4420 636f 756e  culate SSID coun
+0000df60: 7420 666f 7220 6561 6368 2041 502e 2044  t for each AP. D
+0000df70: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+0000df80: 2e0a 2020 2020 2020 2020 2020 2020 6d61  ..            ma
+0000df90: 6361 6464 7220 2873 7472 2c20 6f70 7469  caddr (str, opti
+0000dfa0: 6f6e 616c 293a 2052 6574 7572 6e20 6465  onal): Return de
+0000dfb0: 7669 6365 2077 6974 6820 7370 6563 6966  vice with specif
+0000dfc0: 6963 204d 4143 2028 6675 7a7a 7920 6d61  ic MAC (fuzzy ma
+0000dfd0: 7463 6829 2e20 4465 6661 756c 7473 2074  tch). Defaults t
+0000dfe0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+0000dff0: 2020 2020 7075 626c 6963 5f69 705f 6164      public_ip_ad
+0000e000: 6472 6573 7320 2873 7472 2c20 6f70 7469  dress (str, opti
+0000e010: 6f6e 616c 293a 2046 696c 7465 7220 6465  onal): Filter de
+0000e020: 7669 6365 7320 6279 2050 7562 6c69 6320  vices by Public 
+0000e030: 4950 2e20 4465 6661 756c 7473 2074 6f20  IP. Defaults to 
+0000e040: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+0000e050: 2020 7369 7465 2028 7374 722c 206f 7074    site (str, opt
+0000e060: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+0000e070: 7920 7369 7465 2e20 4465 6661 756c 7473  y site. Defaults
+0000e080: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+0000e090: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+0000e0a0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000e0b0: 6769 6e61 7469 6f6e 206f 6666 7365 7420  gination offset 
+0000e0c0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+0000e0d0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+0000e0e0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0000e0f0: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
+0000e100: 6974 2e20 4d61 7820 6973 2031 3030 3020  it. Max is 1000 
+0000e110: 4465 6661 756c 7473 2074 6f20 3530 302e  Defaults to 500.
+0000e120: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0000e130: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0000e140: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0000e150: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0000e160: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0000e170: 2020 2020 2020 2020 6465 765f 7061 7261          dev_para
+0000e180: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+0000e190: 2020 2022 6170 7322 3a20 7b0a 2020 2020     "aps": {.    
+0000e1a0: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+0000e1b0: 6961 6c27 3a20 7365 7269 616c 2c0a 2020  ial': serial,.  
+0000e1c0: 2020 2020 2020 2020 2020 2020 2020 276d                'm
+0000e1d0: 6163 6164 6472 273a 206d 6163 6164 6472  acaddr': macaddr
+0000e1e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e1f0: 2020 2273 7761 726d 5f69 6422 3a20 7377    "swarm_id": sw
+0000e200: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
+0000e210: 2020 2020 2020 2020 276d 6f64 656c 273a          'model':
+0000e220: 206d 6f64 656c 2c0a 2020 2020 2020 2020   model,.        
+0000e230: 2020 2020 2020 2020 2763 6c75 7374 6572          'cluster
+0000e240: 5f69 6427 3a20 636c 7573 7465 725f 6964  _id': cluster_id
+0000e250: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e260: 2020 2766 6965 6c64 7327 3a20 6669 656c    'fields': fiel
+0000e270: 6473 2c0a 2020 2020 2020 2020 2020 2020  ds,.            
+0000e280: 2020 2020 2763 616c 6375 6c61 7465 5f63      'calculate_c
+0000e290: 6c69 656e 745f 636f 756e 7427 3a20 7374  lient_count': st
+0000e2a0: 7228 6361 6c63 756c 6174 655f 636c 6965  r(calculate_clie
+0000e2b0: 6e74 5f63 6f75 6e74 292e 6c6f 7765 7228  nt_count).lower(
+0000e2c0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+0000e2d0: 2020 2027 6361 6c63 756c 6174 655f 7373     'calculate_ss
+0000e2e0: 6964 5f63 6f75 6e74 273a 2073 7472 2863  id_count': str(c
+0000e2f0: 616c 6375 6c61 7465 5f73 7369 645f 636f  alculate_ssid_co
+0000e300: 756e 7429 2e6c 6f77 6572 2829 2c0a 2020  unt).lower(),.  
+0000e310: 2020 2020 2020 2020 2020 2020 2020 2773                's
+0000e320: 686f 775f 7265 736f 7572 6365 5f64 6574  how_resource_det
+0000e330: 6169 6c73 273a 2073 7472 2873 686f 775f  ails': str(show_
+0000e340: 7265 736f 7572 6365 5f64 6574 6169 6c73  resource_details
+0000e350: 292e 6c6f 7765 7228 292c 0a20 2020 2020  ).lower(),.     
+0000e360: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+0000e370: 2020 2020 2020 2273 7769 7463 6865 7322        "switches"
+0000e380: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
+0000e390: 2020 2020 2773 7461 636b 5f69 6427 3a20      'stack_id': 
+0000e3a0: 7374 6163 6b5f 6964 2c0a 2020 2020 2020  stack_id,.      
+0000e3b0: 2020 2020 2020 2020 2020 2773 686f 775f            'show_
+0000e3c0: 7265 736f 7572 6365 5f64 6574 6169 6c73  resource_details
+0000e3d0: 273a 2073 7472 2873 686f 775f 7265 736f  ': str(show_reso
+0000e3e0: 7572 6365 5f64 6574 6169 6c73 292e 6c6f  urce_details).lo
+0000e3f0: 7765 7228 292c 0a20 2020 2020 2020 2020  wer(),.         
+0000e400: 2020 2020 2020 2027 6361 6c63 756c 6174         'calculat
+0000e410: 655f 636c 6965 6e74 5f63 6f75 6e74 273a  e_client_count':
+0000e420: 2073 7472 2863 616c 6375 6c61 7465 5f63   str(calculate_c
+0000e430: 6c69 656e 745f 636f 756e 7429 2e6c 6f77  lient_count).low
+0000e440: 6572 2829 2c0a 2020 2020 2020 2020 2020  er(),.          
+0000e450: 2020 2020 2020 2770 7562 6c69 635f 6970        'public_ip
+0000e460: 5f61 6464 7265 7373 273a 2070 7562 6c69  _address': publi
+0000e470: 635f 6970 5f61 6464 7265 7373 2c0a 2020  c_ip_address,.  
+0000e480: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+0000e490: 2020 2020 2020 2020 2022 6761 7465 7761           "gatewa
+0000e4a0: 7973 223a 207b 0a20 2020 2020 2020 2020  ys": {.         
+0000e4b0: 2020 2020 2020 2027 6d61 6361 6464 7227         'macaddr'
+0000e4c0: 3a20 6d61 6361 6464 722c 0a20 2020 2020  : macaddr,.     
+0000e4d0: 2020 2020 2020 2020 2020 2027 6d6f 6465             'mode
+0000e4e0: 6c27 3a20 6d6f 6465 6c2c 0a20 2020 2020  l': model,.     
+0000e4f0: 2020 2020 2020 2020 2020 2027 6669 656c             'fiel
+0000e500: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
+0000e510: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+0000e520: 2020 207d 0a20 2020 2020 2020 2064 6576     }.        dev
+0000e530: 5f70 6172 616d 735b 226d 6f62 696c 6974  _params["mobilit
+0000e540: 795f 636f 6e74 726f 6c6c 6572 7322 5d20  y_controllers"] 
+0000e550: 3d20 6465 765f 7061 7261 6d73 5b22 6761  = dev_params["ga
+0000e560: 7465 7761 7973 225d 0a0a 2020 2020 2020  teways"]..      
+0000e570: 2020 636f 6d6d 6f6e 5f70 6172 616d 7320    common_params 
+0000e580: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000e590: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
+0000e5a0: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+0000e5b0: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+0000e5c0: 2020 2020 2020 2020 2773 6974 6527 3a20          'site': 
+0000e5d0: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+0000e5e0: 2020 2773 7461 7475 7327 3a20 4e6f 6e65    'status': None
+0000e5f0: 2069 6620 6e6f 7420 7374 6174 7573 2065   if not status e
+0000e600: 6c73 6520 7374 6174 7573 2e74 6974 6c65  lse status.title
+0000e610: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+0000e620: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
+0000e630: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+0000e640: 696d 6974 273a 206c 696d 6974 2c0a 2020  imit': limit,.  
+0000e650: 2020 2020 2020 2020 2020 2263 616c 6375            "calcu
+0000e660: 6c61 7465 5f74 6f74 616c 223a 2022 7472  late_total": "tr
+0000e670: 7565 2220 2023 2053 6f20 7765 206b 6e6f  ue"  # So we kno
+0000e680: 7720 6966 2077 6520 6861 7665 206d 756c  w if we have mul
+0000e690: 7469 6c65 2063 616c 6c73 2074 6861 7420  tile calls that 
+0000e6a0: 6361 6e20 6265 2072 616e 2061 7379 6e63  can be ran async
+0000e6b0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0000e6c0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
+0000e6d0: 6974 6f72 696e 672f 7631 2f7b 6465 765f  itoring/v1/{dev_
+0000e6e0: 7479 7065 7d22 0a20 2020 2020 2020 2069  type}".        i
+0000e6f0: 6620 6465 765f 7479 7065 203d 3d20 2261  f dev_type == "a
+0000e700: 7073 223a 0a20 2020 2020 2020 2020 2020  ps":.           
+0000e710: 2075 726c 203d 2075 726c 2e72 6570 6c61   url = url.repla
+0000e720: 6365 2822 7631 222c 2022 7632 2229 0a20  ce("v1", "v2"). 
+0000e730: 2020 2020 2020 2065 6c69 6620 6465 765f         elif dev_
+0000e740: 7479 7065 203d 3d20 2267 6174 6577 6179  type == "gateway
+0000e750: 7322 2061 6e64 2063 6f6e 6669 672e 6973  s" and config.is
+0000e760: 5f63 6f70 3a0a 2020 2020 2020 2020 2020  _cop:.          
+0000e770: 2020 7572 6c20 3d20 7572 6c2e 7265 706c    url = url.repl
+0000e780: 6163 6528 2276 312f 6761 7465 7761 7973  ace("v1/gateways
+0000e790: 222c 2022 7632 2f6d 6f62 696c 6974 795f  ", "v2/mobility_
+0000e7a0: 636f 6e74 726f 6c6c 6572 7322 290a 2020  controllers").  
+0000e7b0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0000e7c0: 2a2a 636f 6d6d 6f6e 5f70 6172 616d 732c  **common_params,
+0000e7d0: 202a 2a64 6576 5f70 6172 616d 735b 6465   **dev_params[de
+0000e7e0: 765f 7479 7065 5d7d 0a0a 2020 2020 2020  v_type]}..      
+0000e7f0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000e800: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0000e810: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0000e820: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
+0000e830: 7769 7463 685f 7374 6163 6b73 280a 2020  witch_stacks(.  
+0000e840: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0000e850: 2020 2020 686f 7374 6e61 6d65 3a20 7374      hostname: st
+0000e860: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000e870: 2020 6772 6f75 703a 2073 7472 203d 204e    group: str = N
+0000e880: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
+0000e890: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+0000e8a0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+0000e8b0: 203d 2031 3030 302c 0a20 2020 2029 202d   = 1000,.    ) -
+0000e8c0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0000e8d0: 2020 2020 2222 224c 6973 7420 5377 6974      """List Swit
+0000e8e0: 6368 2053 7461 636b 732e 0a0a 2020 2020  ch Stacks...    
+0000e8f0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0000e900: 2020 2020 2020 686f 7374 6e61 6d65 2028        hostname (
+0000e910: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000e920: 4669 6c74 6572 2062 7920 7374 6163 6b20  Filter by stack 
+0000e930: 686f 7374 6e61 6d65 0a20 2020 2020 2020  hostname.       
+0000e940: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+0000e950: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+0000e960: 6572 2062 7920 6772 6f75 7020 6e61 6d65  er by group name
+0000e970: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+0000e980: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+0000e990: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+0000e9a0: 6f66 6673 6574 2044 6566 6175 6c74 7320  offset Defaults 
+0000e9b0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+0000e9c0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+0000e9d0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+0000e9e0: 696f 6e20 6c69 6d69 742e 2044 6566 6175  ion limit. Defau
+0000e9f0: 6c74 2069 7320 3130 3030 2061 6e64 206d  lt is 1000 and m
+0000ea00: 6178 2069 7320 3130 3030 2e0a 0a20 2020  ax is 1000...   
+0000ea10: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0000ea20: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0000ea30: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0000ea40: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0000ea50: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000ea60: 2020 2075 726c 203d 2022 2f6d 6f6e 6974     url = "/monit
+0000ea70: 6f72 696e 672f 7631 2f73 7769 7463 685f  oring/v1/switch_
+0000ea80: 7374 6163 6b73 220a 0a20 2020 2020 2020  stacks"..       
+0000ea90: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+0000eaa0: 2020 2020 2020 2020 2768 6f73 746e 616d          'hostnam
+0000eab0: 6527 3a20 686f 7374 6e61 6d65 2c0a 2020  e': hostname,.  
+0000eac0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+0000ead0: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
+0000eae0: 2020 2020 2020 276f 6666 7365 7427 3a20        'offset': 
+0000eaf0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
+0000eb00: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
+0000eb10: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
+0000eb20: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0000eb30: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0000eb40: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0000eb50: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0000eb60: 6574 5f73 7769 7463 685f 7374 6163 6b5f  et_switch_stack_
+0000eb70: 6465 7461 696c 7328 0a20 2020 2020 2020  details(.       
+0000eb80: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0000eb90: 7461 636b 5f69 643a 2073 7472 2c0a 2020  tack_id: str,.  
+0000eba0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0000ebb0: 0a20 2020 2020 2020 2022 2222 5377 6974  .        """Swit
+0000ebc0: 6368 2053 7461 636b 2044 6574 6169 6c73  ch Stack Details
+0000ebd0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0000ebe0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+0000ebf0: 636b 5f69 6420 2873 7472 293a 2046 696c  ck_id (str): Fil
+0000ec00: 7465 7220 6279 2053 7769 7463 6820 7374  ter by Switch st
+0000ec10: 6163 6b5f 6964 0a0a 2020 2020 2020 2020  ack_id..        
+0000ec20: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0000ec30: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0000ec40: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0000ec50: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0000ec60: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0000ec70: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
+0000ec80: 672f 7631 2f73 7769 7463 685f 7374 6163  g/v1/switch_stac
+0000ec90: 6b73 2f7b 7374 6163 6b5f 6964 7d22 0a0a  ks/{stack_id}"..
+0000eca0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0000ecb0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0000ecc0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+0000ecd0: 6620 6765 745f 6465 765f 6465 7461 696c  f get_dev_detail
+0000ece0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+0000ecf0: 0a20 2020 2020 2020 2064 6576 5f74 7970  .        dev_typ
+0000ed00: 653a 204c 6974 6572 616c 5b22 7377 6974  e: Literal["swit
+0000ed10: 6368 6573 222c 2022 6170 7322 2c20 2267  ches", "aps", "g
+0000ed20: 6174 6577 6179 7322 5d2c 0a20 2020 2020  ateways"],.     
+0000ed30: 2020 2073 6572 6961 6c3a 2073 7472 0a20     serial: str. 
+0000ed40: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0000ed50: 3a0a 2020 2020 2020 2020 2222 2252 6574  :.        """Ret
+0000ed60: 7572 6e20 4465 7461 696c 7320 666f 7220  urn Details for 
+0000ed70: 6120 6769 7665 6e20 6465 7669 6365 0a0a  a given device..
+0000ed80: 2020 2020 2020 2020 2f2f 2055 7365 6420          // Used 
+0000ed90: 6279 2073 686f 7720 6465 7669 6365 5b73  by show device[s
+0000eda0: 5d20 3c64 6576 6963 6520 6964 656e 3e20  ] <device iden> 
+0000edb0: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
+0000edc0: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+0000edd0: 765f 7479 7065 2028 7374 7229 3a20 4465  v_type (str): De
+0000ede0: 7669 6365 2054 7970 650a 2020 2020 2020  vice Type.      
+0000edf0: 2020 2020 2020 2020 2020 5661 6c69 6420            Valid 
+0000ee00: 5661 6c75 6573 3a20 2267 6174 6577 6179  Values: "gateway
+0000ee10: 7322 2c20 2261 7073 222c 2022 7377 6974  s", "aps", "swit
+0000ee20: 6368 6573 220a 2020 2020 2020 2020 2020  ches".          
+0000ee30: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
+0000ee40: 5365 7269 616c 206e 756d 6265 7220 6f66  Serial number of
+0000ee50: 2044 6576 6963 650a 0a20 2020 2020 2020   Device..       
+0000ee60: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0000ee70: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0000ee80: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0000ee90: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0000eea0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0000eeb0: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
+0000eec0: 6e67 2f76 312f 7b64 6576 5f74 7970 657d  ng/v1/{dev_type}
+0000eed0: 2f7b 7365 7269 616c 7d22 0a20 2020 2020  /{serial}".     
+0000eee0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000eef0: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
+0000ef00: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0000ef10: 5f77 6c61 6e73 280a 2020 2020 2020 2020  _wlans(.        
+0000ef20: 7365 6c66 2c0a 2020 2020 2020 2020 6e61  self,.        na
+0000ef30: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+0000ef40: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+0000ef50: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000ef60: 2020 2073 7761 726d 5f69 643a 2073 7472     swarm_id: str
+0000ef70: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000ef80: 206c 6162 656c 3a20 7374 7220 3d20 4e6f   label: str = No
+0000ef90: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
+0000efa0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000efb0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+0000efc0: 636c 6965 6e74 5f63 6f75 6e74 3a20 626f  client_count: bo
+0000efd0: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
+0000efe0: 2020 2073 6f72 745f 6279 3a20 7374 7220     sort_by: str 
+0000eff0: 3d20 4e6f 6e65 0a20 2020 2029 202d 3e20  = None.    ) -> 
+0000f000: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0000f010: 2020 2222 224c 6973 7420 616c 6c20 574c    """List all WL
+0000f020: 414e 7320 2853 5349 4473 292e 0a0a 2020  ANs (SSIDs)...  
+0000f030: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0000f040: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+0000f050: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+0000f060: 696c 7465 7220 6279 2067 726f 7570 206e  ilter by group n
+0000f070: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+0000f080: 7377 6172 6d5f 6964 2028 7374 722c 206f  swarm_id (str, o
+0000f090: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000f0a0: 2062 7920 5377 6172 6d20 4944 0a20 2020   by Swarm ID.   
+0000f0b0: 2020 2020 2020 2020 206c 6162 656c 2028           label (
+0000f0c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000f0d0: 4669 6c74 6572 2062 7920 4c61 6265 6c20  Filter by Label 
+0000f0e0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+0000f0f0: 2073 6974 6520 2873 7472 2c20 6f70 7469   site (str, opti
+0000f100: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+0000f110: 2053 6974 6520 6e61 6d65 0a20 2020 2020   Site name.     
+0000f120: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+0000f130: 5f63 6c69 656e 745f 636f 756e 7420 2862  _client_count (b
+0000f140: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+0000f150: 5768 6574 6865 7220 746f 2063 616c 6375  Whether to calcu
+0000f160: 6c61 7465 2063 6c69 656e 7420 636f 756e  late client coun
+0000f170: 7420 7065 7220 5353 4944 0a20 2020 2020  t per SSID.     
+0000f180: 2020 2020 2020 2073 6f72 745f 6279 2028         sort_by (
+0000f190: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000f1a0: 536f 7274 2070 6172 616d 6574 6572 206d  Sort parameter m
+0000f1b0: 6179 2062 6520 6f6e 6520 6f66 202b 6573  ay be one of +es
+0000f1c0: 7369 642c 202d 6573 7369 642e 2044 6566  sid, -essid. Def
+0000f1d0: 6175 6c74 2069 7320 272b 6573 7369 6427  ault is '+essid'
+0000f1e0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0000f1f0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0000f200: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0000f210: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0000f220: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0000f230: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0000f240: 6d6f 6e69 746f 7269 6e67 2f76 322f 6e65  monitoring/v2/ne
+0000f250: 7477 6f72 6b73 220a 2020 2020 2020 2020  tworks".        
+0000f260: 6966 206e 616d 653a 0a20 2020 2020 2020  if name:.       
+0000f270: 2020 2020 2075 726c 203d 2066 227b 7572       url = f"{ur
+0000f280: 6c7d 2f7b 6e61 6d65 7d22 0a0a 2020 2020  l}/{name}"..    
+0000f290: 2020 2020 6966 2063 616c 6375 6c61 7465      if calculate
+0000f2a0: 5f63 6c69 656e 745f 636f 756e 7420 696e  _client_count in
+0000f2b0: 205b 5472 7565 2c20 4661 6c73 655d 3a0a   [True, False]:.
+0000f2c0: 2020 2020 2020 2020 2020 2020 6361 6c63              calc
+0000f2d0: 756c 6174 655f 636c 6965 6e74 5f63 6f75  ulate_client_cou
+0000f2e0: 6e74 203d 2073 7472 2863 616c 6375 6c61  nt = str(calcula
+0000f2f0: 7465 5f63 6c69 656e 745f 636f 756e 7429  te_client_count)
+0000f300: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+0000f310: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0000f320: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
+0000f330: 0a20 2020 2020 2020 2020 2020 2027 7377  .            'sw
+0000f340: 6172 6d5f 6964 273a 2073 7761 726d 5f69  arm_id': swarm_i
+0000f350: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+0000f360: 6c61 6265 6c27 3a20 6c61 6265 6c2c 0a20  label': label,. 
+0000f370: 2020 2020 2020 2020 2020 2027 7369 7465             'site
+0000f380: 273a 2073 6974 652c 0a20 2020 2020 2020  ': site,.       
+0000f390: 2020 2020 2027 6361 6c63 756c 6174 655f       'calculate_
+0000f3a0: 636c 6965 6e74 5f63 6f75 6e74 273a 2063  client_count': c
+0000f3b0: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
+0000f3c0: 636f 756e 742c 0a20 2020 2020 2020 2020  count,.         
+0000f3d0: 2020 2027 736f 7274 273a 2073 6f72 745f     'sort': sort_
+0000f3e0: 6279 2c0a 2020 2020 2020 2020 7d0a 0a20  by,.        }.. 
+0000f3f0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000f400: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000f410: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0000f420: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000f430: 6765 745f 776c 616e 5f63 6c75 7374 6572  get_wlan_cluster
+0000f440: 5f62 795f 6772 6f75 7028 0a20 2020 2020  _by_group(.     
+0000f450: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0000f460: 2067 726f 7570 5f6e 616d 653a 2073 7472   group_name: str
+0000f470: 2c0a 2020 2020 2020 2020 7373 6964 3a20  ,.        ssid: 
+0000f480: 7374 720a 2020 2020 2920 2d3e 2052 6573  str.    ) -> Res
+0000f490: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000f4a0: 2222 5265 7472 6965 7665 2043 6c75 7374  ""Retrieve Clust
+0000f4b0: 6572 206d 6170 7069 6e67 2066 6f72 2067  er mapping for g
+0000f4c0: 6976 656e 2067 726f 7570 2f53 5349 442e  iven group/SSID.
+0000f4d0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000f4e0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0000f4f0: 705f 6e61 6d65 2028 7374 7229 3a20 5468  p_name (str): Th
+0000f500: 6520 6e61 6d65 206f 6620 7468 6520 6772  e name of the gr
+0000f510: 6f75 702e 0a20 2020 2020 2020 2020 2020  oup..           
+0000f520: 2073 7369 6420 2873 7472 293a 2057 6c61   ssid (str): Wla
+0000f530: 6e20 7373 6964 206e 616d 650a 0a20 2020  n ssid name..   
+0000f540: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0000f550: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0000f560: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0000f570: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0000f580: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000f590: 2020 2075 726c 203d 2066 222f 6f76 6572     url = f"/over
+0000f5a0: 6c61 792d 776c 616e 2d63 6f6e 6669 672f  lay-wlan-config/
+0000f5b0: 7632 2f6e 6f64 655f 6c69 7374 2f47 524f  v2/node_list/GRO
+0000f5c0: 5550 2f7b 6772 6f75 705f 6e61 6d65 7d2f  UP/{group_name}/
+0000f5d0: 636f 6e66 6967 2f73 7369 645f 636c 7573  config/ssid_clus
+0000f5e0: 7465 722f 7b73 7369 647d 2f57 4952 454c  ter/{ssid}/WIREL
+0000f5f0: 4553 535f 5052 4f46 494c 452f 220a 0a20  ESS_PROFILE/".. 
+0000f600: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000f610: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000f620: 290a 0a20 2020 2023 2054 4f44 4f20 556e  )..    # TODO Un
+0000f630: 6465 7220 7465 7374 2033 2f37 2f32 3032  der test 3/7/202
+0000f640: 340a 2020 2020 6173 796e 6320 6465 6620  4.    async def 
+0000f650: 6765 745f 6675 6c6c 5f77 6c61 6e5f 6c69  get_full_wlan_li
+0000f660: 7374 280a 2020 2020 2020 2020 7365 6c66  st(.        self
+0000f670: 2c0a 2020 2020 2020 2020 6772 6f75 705f  ,.        group_
+0000f680: 6e61 6d65 5f6f 725f 6775 6964 5f6f 725f  name_or_guid_or_
+0000f690: 7365 7269 616c 5f6e 756d 6265 723a 2073  serial_number: s
+0000f6a0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
+0000f6b0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000f6c0: 2222 4765 7420 574c 414e 206c 6973 742f  ""Get WLAN list/
+0000f6d0: 6465 7461 696c 7320 6279 2028 5549 2920  details by (UI) 
+0000f6e0: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
+0000f6f0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0000f700: 2020 6772 6f75 705f 6e61 6d65 5f6f 725f    group_name_or_
+0000f710: 6775 6964 5f6f 725f 7365 7269 616c 5f6e  guid_or_serial_n
+0000f720: 756d 6265 7220 2873 7472 293a 2047 726f  umber (str): Gro
+0000f730: 7570 206e 616d 6520 6f66 2074 6865 2067  up name of the g
+0000f740: 726f 7570 206f 7220 6775 6964 206f 6620  roup or guid of 
+0000f750: 7468 6520 7377 6172 6d0a 2020 2020 2020  the swarm.      
+0000f760: 2020 2020 2020 2020 2020 6f72 2073 6572            or ser
+0000f770: 6961 6c20 6e75 6d62 6572 206f 6620 3130  ial number of 10
+0000f780: 7820 4150 2e0a 2020 2020 2020 2020 2020  x AP..          
+0000f790: 2020 2020 2020 4578 616d 706c 653a 4772        Example:Gr
+0000f7a0: 6f75 705f 3120 6f72 2036 6135 6431 3233  oup_1 or 6a5d123
+0000f7b0: 6230 3166 3934 3431 3830 3632 3434 6561  b01f9441806244ea
+0000f7c0: 3665 3032 3366 6162 3538 3431 6237 3763  6e023fab5841b77c
+0000f7d0: 3832 3861 3038 3566 3034 6620 6f72 2043  828a085f04f or C
+0000f7e0: 4e46 374a 5353 394c 312e 0a0a 2020 2020  NF7JSS9L1...    
+0000f7f0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0000f800: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0000f810: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0000f820: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0000f830: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000f840: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+0000f850: 6775 7261 7469 6f6e 2f66 756c 6c5f 776c  guration/full_wl
+0000f860: 616e 2f7b 6772 6f75 705f 6e61 6d65 5f6f  an/{group_name_o
+0000f870: 725f 6775 6964 5f6f 725f 7365 7269 616c  r_guid_or_serial
+0000f880: 5f6e 756d 6265 727d 220a 0a20 2020 2020  _number}"..     
+0000f890: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000f8a0: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
+0000f8b0: 2020 2023 2041 5049 2d46 4c41 5720 5468     # API-FLAW Th
+0000f8c0: 6973 206d 6574 686f 6420 7265 7475 726e  is method return
+0000f8d0: 7320 6e65 7874 2074 6f20 6e6f 7468 696e  s next to nothin
+0000f8e0: 6720 666f 7220 7265 7365 7276 6564 2049  g for reserved I
+0000f8f0: 5073 2e0a 2020 2020 2320 576f 756c 6420  Ps..    # Would 
+0000f900: 6265 206d 6f72 6520 6964 6561 6c20 6966  be more ideal if
+0000f910: 2069 7420 7265 7475 726e 6564 2063 6c69   it returned cli
+0000f920: 656e 745f 6e61 6d65 2070 6f6f 6c20 7076  ent_name pool pv
+0000f930: 6964 2065 7463 2061 7320 6974 2064 6f65  id etc as it doe
+0000f940: 7320 7769 7468 206e 6f6e 2072 6573 7365  s with non resse
+0000f950: 7276 6564 2049 5073 0a20 2020 2061 7379  rved IPs.    asy
+0000f960: 6e63 2064 6566 2067 6574 5f64 6863 705f  nc def get_dhcp_
+0000f970: 636c 6965 6e74 7328 0a20 2020 2020 2020  clients(.       
+0000f980: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0000f990: 6572 6961 6c5f 6e75 6d3a 2073 7472 2c0a  erial_num: str,.
+0000f9a0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
+0000f9b0: 696f 6e3a 2062 6f6f 6c20 3d20 5472 7565  ion: bool = True
+0000f9c0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0000f9d0: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0000f9e0: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0000f9f0: 3130 300a 2020 2020 2920 2d3e 2052 6573  100.    ) -> Res
+0000fa00: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000fa10: 2222 4765 7420 4448 4350 2043 6c69 656e  ""Get DHCP Clien
+0000fa20: 7420 696e 666f 726d 6174 696f 6e20 6672  t information fr
+0000fa30: 6f6d 2047 6174 6577 6179 2e0a 0a20 2020  om Gateway...   
+0000fa40: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0000fa50: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+0000fa60: 6d20 2873 7472 293a 2053 6572 6961 6c20  m (str): Serial 
+0000fa70: 6e75 6d62 6572 206f 6620 6d6f 6269 6c69  number of mobili
+0000fa80: 7479 2063 6f6e 7472 6f6c 6c65 7220 746f  ty controller to
+0000fa90: 2062 6520 7175 6572 6965 640a 2020 2020   be queried.    
+0000faa0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
+0000fab0: 696f 6e20 2862 6f6f 6c2c 206f 7074 696f  ion (bool, optio
+0000fac0: 6e61 6c29 3a20 466c 6167 2074 6f20 7475  nal): Flag to tu
+0000fad0: 726e 206f 6e2f 6f66 6620 6c69 7374 696e  rn on/off listin
+0000fae0: 6720 4448 4350 2072 6573 6572 7661 7469  g DHCP reservati
+0000faf0: 6f6e 7328 6966 2061 6e79 292e 0a20 2020  ons(if any)..   
+0000fb00: 2020 2020 2020 2020 2020 2020 2044 6566               Def
+0000fb10: 6175 6c74 7320 746f 2054 7275 650a 2020  aults to True.  
+0000fb20: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
+0000fb30: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0000fb40: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
+0000fb50: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
+0000fb60: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
+0000fb70: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
+0000fb80: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0000fb90: 206c 696d 6974 2e20 6d61 7820 3130 3030   limit. max 1000
+0000fba0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+0000fbb0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0000fbc0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000fbd0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000fbe0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000fbf0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000fc00: 0a20 2020 2020 2020 2067 775f 7061 7468  .        gw_path
+0000fc10: 203d 2022 6d6f 6269 6c69 7479 5f63 6f6e   = "mobility_con
+0000fc20: 7472 6f6c 6c65 7273 2220 6966 2063 6f6e  trollers" if con
+0000fc30: 6669 672e 6973 5f63 6f70 2065 6c73 6520  fig.is_cop else 
+0000fc40: 2267 6174 6577 6179 7322 0a20 2020 2020  "gateways".     
+0000fc50: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
+0000fc60: 746f 7269 6e67 2f76 312f 7b67 775f 7061  toring/v1/{gw_pa
+0000fc70: 7468 7d2f 7b73 6572 6961 6c5f 6e75 6d7d  th}/{serial_num}
+0000fc80: 2f64 6863 705f 636c 6965 6e74 7322 0a0a  /dhcp_clients"..
+0000fc90: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+0000fca0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+0000fcb0: 7265 7365 7276 6174 696f 6e27 3a20 7374  reservation': st
+0000fcc0: 7228 7265 7365 7276 6174 696f 6e29 2c0a  r(reservation),.
+0000fcd0: 2020 2020 2020 2020 2020 2020 226f 6666              "off
+0000fce0: 7365 7422 3a20 6f66 6673 6574 2c0a 2020  set": offset,.  
+0000fcf0: 2020 2020 2020 2020 2020 226c 696d 6974            "limit
+0000fd00: 223a 206c 696d 6974 0a20 2020 2020 2020  ": limit.       
+0000fd10: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+0000fd20: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0000fd30: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+0000fd40: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+0000fd50: 2064 6566 2067 6574 5f64 6863 705f 7365   def get_dhcp_se
+0000fd60: 7276 6572 2873 656c 662c 2073 6572 6961  rver(self, seria
+0000fd70: 6c5f 6e75 6d3a 2073 7472 2920 2d3e 2052  l_num: str) -> R
+0000fd80: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0000fd90: 2022 2222 4765 7420 4448 4350 2053 6572   """Get DHCP Ser
+0000fda0: 7665 7220 6465 7461 696c 7320 6672 6f6d  ver details from
+0000fdb0: 2047 6174 6577 6179 2e0a 0a20 2020 2020   Gateway...     
+0000fdc0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0000fdd0: 2020 2020 2073 6572 6961 6c5f 6e75 6d20       serial_num 
+0000fde0: 2873 7472 293a 2053 6572 6961 6c20 6e75  (str): Serial nu
+0000fdf0: 6d62 6572 206f 6620 6d6f 6269 6c69 7479  mber of mobility
+0000fe00: 2063 6f6e 7472 6f6c 6c65 7220 746f 2062   controller to b
+0000fe10: 6520 7175 6572 6965 640a 0a20 2020 2020  e queried..     
+0000fe20: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0000fe30: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0000fe40: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0000fe50: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0000fe60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000fe70: 2067 775f 7061 7468 203d 2022 6d6f 6269   gw_path = "mobi
+0000fe80: 6c69 7479 5f63 6f6e 7472 6f6c 6c65 7273  lity_controllers
+0000fe90: 2220 6966 2063 6f6e 6669 672e 6973 5f63  " if config.is_c
+0000fea0: 6f70 2065 6c73 6520 2267 6174 6577 6179  op else "gateway
+0000feb0: 7322 0a20 2020 2020 2020 2075 726c 203d  s".        url =
+0000fec0: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+0000fed0: 312f 7b67 775f 7061 7468 7d2f 7b73 6572  1/{gw_path}/{ser
+0000fee0: 6961 6c5f 6e75 6d7d 2f64 6863 705f 7365  ial_num}/dhcp_se
+0000fef0: 7276 6572 7322 0a0a 2020 2020 2020 2020  rvers"..        
+0000ff00: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000ff10: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+0000ff20: 6173 796e 6320 6465 6620 6765 745f 6772  async def get_gr
+0000ff30: 6f75 705f 666f 725f 6465 765f 6279 5f73  oup_for_dev_by_s
+0000ff40: 6572 6961 6c28 7365 6c66 2c20 7365 7269  erial(self, seri
+0000ff50: 616c 5f6e 756d 293a 0a20 2020 2020 2020  al_num):.       
+0000ff60: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000ff70: 6c66 2e67 6574 2866 222f 636f 6e66 6967  lf.get(f"/config
+0000ff80: 7572 6174 696f 6e2f 7631 2f64 6576 6963  uration/v1/devic
+0000ff90: 6573 2f7b 7365 7269 616c 5f6e 756d 7d2f  es/{serial_num}/
+0000ffa0: 6772 6f75 7022 290a 0a20 2020 2061 7379  group")..    asy
+0000ffb0: 6e63 2064 6566 2067 6574 5f76 6c61 6e5f  nc def get_vlan_
+0000ffc0: 696e 666f 5f62 795f 6777 2873 656c 662c  info_by_gw(self,
+0000ffd0: 2073 6572 6961 6c5f 6e75 6d29 3a0a 2020   serial_num):.  
+0000ffe0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0000fff0: 6974 2073 656c 662e 6765 7428 6622 2f6d  it self.get(f"/m
+00010000: 6f6e 6974 6f72 696e 672f 7631 2f6d 6f62  onitoring/v1/mob
+00010010: 696c 6974 795f 636f 6e74 726f 6c6c 6572  ility_controller
+00010020: 732f 7b73 6572 6961 6c5f 6e75 6d7d 2f76  s/{serial_num}/v
+00010030: 6c61 6e22 290a 0a20 2020 2061 7379 6e63  lan")..    async
+00010040: 2064 6566 2067 6574 5f75 706c 696e 6b5f   def get_uplink_
+00010050: 696e 666f 5f62 795f 6777 2873 656c 662c  info_by_gw(self,
+00010060: 2073 6572 6961 6c5f 6e75 6d2c 2074 696d   serial_num, tim
+00010070: 6572 616e 6765 3a20 7374 7220 3d20 2233  erange: str = "3
+00010080: 4822 293a 0a20 2020 2020 2020 2075 726c  H"):.        url
+00010090: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
+000100a0: 2f76 312f 6d6f 6269 6c69 7479 5f63 6f6e  /v1/mobility_con
+000100b0: 7472 6f6c 6c65 7273 2f7b 7365 7269 616c  trollers/{serial
+000100c0: 5f6e 756d 7d2f 7570 6c69 6e6b 7322 0a20  _num}/uplinks". 
+000100d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+000100e0: 7b22 7469 6d65 7261 6e67 6522 3a20 7469  {"timerange": ti
+000100f0: 6d65 7261 6e67 657d 0a20 2020 2020 2020  merange}.       
+00010100: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00010110: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+00010120: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+00010130: 6566 2067 6574 5f75 706c 696e 6b5f 7475  ef get_uplink_tu
+00010140: 6e6e 656c 5f73 7461 7473 5f62 795f 6777  nnel_stats_by_gw
+00010150: 2873 656c 662c 2073 6572 6961 6c5f 6e75  (self, serial_nu
+00010160: 6d29 3a0a 2020 2020 2020 2020 7572 6c20  m):.        url 
+00010170: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
+00010180: 7631 2f6d 6f62 696c 6974 795f 636f 6e74  v1/mobility_cont
+00010190: 726f 6c6c 6572 732f 7b73 6572 6961 6c5f  rollers/{serial_
+000101a0: 6e75 6d7d 2f75 706c 696e 6b73 2f74 756e  num}/uplinks/tun
+000101b0: 6e65 6c5f 7374 6174 7322 0a20 2020 2020  nel_stats".     
+000101c0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000101d0: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
+000101e0: 2020 2023 2054 4f44 4f20 6d6f 7665 2063     # TODO move c
+000101f0: 6c65 616e 6572 0a20 2020 2061 7379 6e63  leaner.    async
+00010200: 2064 6566 2067 6574 5f61 6c6c 5f73 6974   def get_all_sit
+00010210: 6573 280a 2020 2020 2020 2020 7365 6c66  es(.        self
+00010220: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
+00010230: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
+00010240: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00010250: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+00010260: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+00010270: 2069 6e74 203d 2031 3030 300a 2020 2020   int = 1000.    
+00010280: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00010290: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+000102a0: 7b0a 2020 2020 2020 2020 2020 2020 2263  {.            "c
+000102b0: 616c 6375 6c61 7465 5f74 6f74 616c 223a  alculate_total":
+000102c0: 2073 7472 2863 616c 6375 6c61 7465 5f74   str(calculate_t
+000102d0: 6f74 616c 292c 0a20 2020 2020 2020 2020  otal),.         
+000102e0: 2020 2022 6f66 6673 6574 223a 206f 6666     "offset": off
+000102f0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+00010300: 2022 6c69 6d69 7422 3a20 6c69 6d69 740a   "limit": limit.
+00010310: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00010320: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00010330: 656c 662e 6765 7428 222f 6365 6e74 7261  elf.get("/centra
+00010340: 6c2f 7632 2f73 6974 6573 222c 2070 6172  l/v2/sites", par
+00010350: 616d 733d 7061 7261 6d73 2c20 6361 6c6c  ams=params, call
+00010360: 6261 636b 3d63 6c65 616e 6572 2e73 6974  back=cleaner.sit
+00010370: 6573 290a 0a20 2020 2061 7379 6e63 2064  es)..    async d
+00010380: 6566 2067 6574 5f73 6974 655f 6465 7461  ef get_site_deta
+00010390: 696c 7328 7365 6c66 2c20 7369 7465 5f69  ils(self, site_i
+000103a0: 6429 3a0a 2020 2020 2020 2020 7265 7475  d):.        retu
+000103b0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+000103c0: 7428 6622 2f63 656e 7472 616c 2f76 322f  t(f"/central/v2/
+000103d0: 7369 7465 732f 7b73 6974 655f 6964 7d22  sites/{site_id}"
+000103e0: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
+000103f0: 6572 2e73 6974 6573 290a 0a20 2020 2023  er.sites)..    #
+00010400: 2054 4f44 4f20 6d61 6b65 2063 6f6d 6d61   TODO make comma
+00010410: 6e64 2074 6869 7320 7368 6f77 7320 6576  nd this shows ev
+00010420: 656e 7473 2066 726f 6d20 6465 7669 6365  ents from device
+00010430: 7320 2855 7365 7220 6163 6b20 7265 6320  s (User ack rec 
+00010440: 6672 6f6d 2044 4843 5020 7365 7276 6572  from DHCP server
+00010450: 2c20 4541 5020 7265 7370 6f6e 7365 2066  , EAP response f
+00010460: 6f72 2063 6c69 656e 7429 0a20 2020 2061  or client).    a
+00010470: 7379 6e63 2064 6566 2067 6574 5f65 7665  sync def get_eve
+00010480: 6e74 7328 0a20 2020 2020 2020 2073 656c  nts(.        sel
+00010490: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
+000104a0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+000104b0: 2020 2020 2020 7377 6172 6d5f 6964 3a20        swarm_id: 
+000104c0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000104d0: 2020 2020 6c61 6265 6c3a 2073 7472 203d      label: str =
+000104e0: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
+000104f0: 726f 6d5f 7473 3a20 696e 7420 3d20 4e6f  rom_ts: int = No
+00010500: 6e65 2c0a 2020 2020 2020 2020 746f 5f74  ne,.        to_t
+00010510: 733a 2069 6e74 203d 204e 6f6e 652c 0a20  s: int = None,. 
+00010520: 2020 2020 2020 206d 6163 6164 6472 3a20         macaddr: 
+00010530: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00010540: 2020 2020 6273 7369 643a 2073 7472 203d      bssid: str =
+00010550: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
+00010560: 6576 6963 655f 6d61 633a 2073 7472 203d  evice_mac: str =
+00010570: 204e 6f6e 652c 0a20 2020 2020 2020 2068   None,.        h
+00010580: 6f73 746e 616d 653a 2073 7472 203d 204e  ostname: str = N
+00010590: 6f6e 652c 0a20 2020 2020 2020 2064 6576  one,.        dev
+000105a0: 6963 655f 7479 7065 3a20 7374 7220 3d20  ice_type: str = 
+000105b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 736f  None,.        so
+000105c0: 7274 3a20 7374 7220 3d20 272d 7469 6d65  rt: str = '-time
+000105d0: 7374 616d 7027 2c0a 2020 2020 2020 2020  stamp',.        
+000105e0: 7369 7465 3a20 7374 7220 3d20 4e6f 6e65  site: str = None
+000105f0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+00010600: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00010610: 2020 2020 2020 6c65 7665 6c3a 2073 7472        level: str
+00010620: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00010630: 2065 7665 6e74 5f64 6573 6372 6970 7469   event_descripti
+00010640: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
+00010650: 2020 2020 2020 2020 6576 656e 745f 7479          event_ty
+00010660: 7065 3a20 7374 7220 3d20 4e6f 6e65 2c0a  pe: str = None,.
+00010670: 2020 2020 2020 2020 6669 656c 6473 3a20          fields: 
+00010680: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00010690: 2020 2020 6361 6c63 756c 6174 655f 746f      calculate_to
+000106a0: 7461 6c3a 2062 6f6f 6c20 3d20 5472 7565  tal: bool = True
+000106b0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+000106c0: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+000106d0: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+000106e0: 3130 3030 2c0a 2020 2020 2920 2d3e 2052  1000,.    ) -> R
+000106f0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00010700: 2022 2222 4c69 7374 2045 7665 6e74 732e   """List Events.
+00010710: 2076 320a 0a20 2020 2020 2020 2045 6e64   v2..        End
+00010720: 706f 696e 7420 616c 6c6f 7773 2061 206d  point allows a m
+00010730: 6178 206f 6620 3130 3030 3020 7265 636f  ax of 10000 reco
+00010740: 7264 7320 746f 2062 6520 7265 7472 6965  rds to be retrie
+00010750: 7665 642e 2020 5468 6520 7375 6d20 6f66  ved.  The sum of
+00010760: 206f 6666 7365 7420 2b20 6c69 6d69 7420   offset + limit 
+00010770: 6361 6e20 6e6f 740a 2020 2020 2020 2020  can not.        
+00010780: 6578 6365 6564 2031 302c 3030 300a 0a20  exceed 10,000.. 
+00010790: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000107a0: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+000107b0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+000107c0: 4669 6c74 6572 2062 7920 6772 6f75 7020  Filter by group 
+000107d0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+000107e0: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
+000107f0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00010800: 7220 6279 2053 7761 726d 2049 440a 2020  r by Swarm ID.  
+00010810: 2020 2020 2020 2020 2020 6c61 6265 6c20            label 
+00010820: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00010830: 2046 696c 7465 7220 6279 204c 6162 656c   Filter by Label
+00010840: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+00010850: 2020 6672 6f6d 5f74 7320 2869 6e74 2c20    from_ts (int, 
+00010860: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
+00010870: 696e 666f 726d 6174 696f 6e20 6672 6f6d  information from
+00010880: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+00010890: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+000108a0: 6f63 680a 2020 2020 2020 2020 2020 2020  och.            
+000108b0: 2020 2020 696e 2073 6563 6f6e 6473 2e20      in seconds. 
+000108c0: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+000108d0: 6e74 2074 696d 6573 7461 6d70 206d 696e  nt timestamp min
+000108e0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
+000108f0: 2020 2020 2020 2074 6f5f 7473 2028 696e         to_ts (in
+00010900: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
+00010910: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
+00010920: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
+00010930: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+00010940: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
+00010950: 2020 2020 2020 2020 7365 636f 6e64 732e          seconds.
+00010960: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+00010970: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
+00010980: 2020 2020 2020 2020 2020 6d61 6361 6464            macadd
+00010990: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
+000109a0: 293a 2046 696c 7465 7220 6279 2063 6c69  ): Filter by cli
+000109b0: 656e 7420 4d41 4320 6164 6472 6573 730a  ent MAC address.
+000109c0: 2020 2020 2020 2020 2020 2020 6273 7369              bssi
+000109d0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+000109e0: 293a 2046 696c 7465 7220 6279 2062 7373  ): Filter by bss
+000109f0: 6964 0a20 2020 2020 2020 2020 2020 2064  id.            d
+00010a00: 6576 6963 655f 6d61 6320 2873 7472 2c20  evice_mac (str, 
+00010a10: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00010a20: 7220 6279 2064 6576 6963 655f 6d61 630a  r by device_mac.
+00010a30: 2020 2020 2020 2020 2020 2020 686f 7374              host
+00010a40: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
+00010a50: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00010a60: 686f 7374 6e61 6d65 0a20 2020 2020 2020  hostname.       
+00010a70: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+00010a80: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00010a90: 3a20 4669 6c74 6572 2062 7920 6465 7669  : Filter by devi
+00010aa0: 6365 2074 7970 652e 0a20 2020 2020 2020  ce type..       
+00010ab0: 2020 2020 2020 2020 2056 616c 6964 2056           Valid V
+00010ac0: 616c 7565 733a 2041 4343 4553 5320 504f  alues: ACCESS PO
+00010ad0: 494e 542c 2053 5749 5443 482c 2047 4154  INT, SWITCH, GAT
+00010ae0: 4557 4159 2c20 434c 4945 4e54 0a20 2020  EWAY, CLIENT.   
+00010af0: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
+00010b00: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+00010b10: 6f72 7420 6279 2064 6573 632f 6173 6320  ort by desc/asc 
+00010b20: 7573 696e 6720 2d74 696d 6573 7461 6d70  using -timestamp
+00010b30: 2f2b 7469 6d65 7374 616d 702e 2044 6566  /+timestamp. Def
+00010b40: 6175 6c74 2069 730a 2020 2020 2020 2020  ault is.        
+00010b50: 2020 2020 2020 2020 272d 7469 6d65 7374          '-timest
+00010b60: 616d 7027 2020 5661 6c69 6420 5661 6c75  amp'  Valid Valu
+00010b70: 6573 3a20 2d74 696d 6573 7461 6d70 2c20  es: -timestamp, 
+00010b80: 2b74 696d 6573 7461 6d70 0a20 2020 2020  +timestamp.     
+00010b90: 2020 2020 2020 2073 6974 6520 2873 7472         site (str
+00010ba0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00010bb0: 7465 7220 6279 2073 6974 6520 6e61 6d65  ter by site name
+00010bc0: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+00010bd0: 6961 6c20 2873 7472 2c20 6f70 7469 6f6e  ial (str, option
+00010be0: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
+00010bf0: 7769 7463 6820 7365 7269 616c 206e 756d  witch serial num
+00010c00: 6265 720a 2020 2020 2020 2020 2020 2020  ber.            
+00010c10: 6c65 7665 6c20 2873 7472 2c20 6f70 7469  level (str, opti
+00010c20: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00010c30: 2065 7665 6e74 206c 6576 656c 0a20 2020   event level.   
+00010c40: 2020 2020 2020 2020 2065 7665 6e74 5f64           event_d
+00010c50: 6573 6372 6970 7469 6f6e 2028 7374 722c  escription (str,
+00010c60: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00010c70: 6572 2062 7920 6576 656e 7420 6465 7363  er by event desc
+00010c80: 7269 7074 696f 6e0a 2020 2020 2020 2020  ription.        
+00010c90: 2020 2020 6576 656e 745f 7479 7065 2028      event_type (
+00010ca0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00010cb0: 4669 6c74 6572 2062 7920 6576 656e 7420  Filter by event 
+00010cc0: 7479 7065 0a20 2020 2020 2020 2020 2020  type.           
+00010cd0: 2066 6965 6c64 7320 2873 7472 2c20 6f70   fields (str, op
+00010ce0: 7469 6f6e 616c 293a 2043 6f6d 6d61 2073  tional): Comma s
+00010cf0: 6570 6172 6174 6564 206c 6973 7420 6f66  eparated list of
+00010d00: 2066 6965 6c64 7320 746f 2062 6520 7265   fields to be re
+00010d10: 7475 726e 6564 2e20 5661 6c69 6420 6669  turned. Valid fi
+00010d20: 656c 6473 2061 7265 0a20 2020 2020 2020  elds are.       
+00010d30: 2020 2020 2020 2020 206e 756d 6265 722c           number,
+00010d40: 206c 6576 656c 0a20 2020 2020 2020 2020   level.         
+00010d50: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
+00010d60: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
+00010d70: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
+00010d80: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
+00010d90: 6576 656e 7473 2e20 4465 6661 756c 7473  events. Defaults
+00010da0: 2074 6f20 5472 7565 2e0a 2020 2020 2020   to True..      
+00010db0: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+00010dc0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+00010dd0: 6769 6e61 7469 6f6e 206f 6666 7365 7420  gination offset 
+00010de0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+00010df0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00010e00: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00010e10: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
+00010e20: 6974 2e20 4465 6661 756c 7420 6973 2031  it. Default is 1
+00010e30: 3030 2061 6e64 206d 6178 2069 7320 3130  00 and max is 10
+00010e40: 3030 2044 6566 6175 6c74 7320 746f 2031  00 Defaults to 1
+00010e50: 3030 302e 0a0a 2020 2020 2020 2020 5265  000...        Re
+00010e60: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00010e70: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00010e80: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00010e90: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00010ea0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00010eb0: 3d20 222f 6d6f 6e69 746f 7269 6e67 2f76  = "/monitoring/v
+00010ec0: 322f 6576 656e 7473 220a 0a20 2020 2020  2/events"..     
+00010ed0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00010ee0: 2020 2020 2020 2020 2020 2267 726f 7570            "group
+00010ef0: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
+00010f00: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
+00010f10: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
+00010f20: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
+00010f30: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+00010f40: 2020 2020 2266 726f 6d5f 7469 6d65 7374      "from_timest
+00010f50: 616d 7022 3a20 6672 6f6d 5f74 732c 0a20  amp": from_ts,. 
+00010f60: 2020 2020 2020 2020 2020 2022 746f 5f74             "to_t
+00010f70: 696d 6573 7461 6d70 223a 2074 6f5f 7473  imestamp": to_ts
+00010f80: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
+00010f90: 6163 6164 6472 273a 206d 6163 6164 6472  acaddr': macaddr
+00010fa0: 2c0a 2020 2020 2020 2020 2020 2020 2762  ,.            'b
+00010fb0: 7373 6964 273a 2062 7373 6964 2c0a 2020  ssid': bssid,.  
+00010fc0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+00010fd0: 655f 6d61 6327 3a20 6465 7669 6365 5f6d  e_mac': device_m
+00010fe0: 6163 2c0a 2020 2020 2020 2020 2020 2020  ac,.            
+00010ff0: 2768 6f73 746e 616d 6527 3a20 686f 7374  'hostname': host
+00011000: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+00011010: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
+00011020: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
+00011030: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
+00011040: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
+00011050: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
+00011060: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+00011070: 6572 6961 6c27 3a20 7365 7269 616c 2c0a  erial': serial,.
+00011080: 2020 2020 2020 2020 2020 2020 276c 6576              'lev
+00011090: 656c 273a 206c 6576 656c 2c0a 2020 2020  el': level,.    
+000110a0: 2020 2020 2020 2020 2765 7665 6e74 5f64          'event_d
+000110b0: 6573 6372 6970 7469 6f6e 273a 2065 7665  escription': eve
+000110c0: 6e74 5f64 6573 6372 6970 7469 6f6e 2c0a  nt_description,.
+000110d0: 2020 2020 2020 2020 2020 2020 2765 7665              'eve
+000110e0: 6e74 5f74 7970 6527 3a20 6576 656e 745f  nt_type': event_
+000110f0: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
+00011100: 2020 2766 6965 6c64 7327 3a20 6669 656c    'fields': fiel
+00011110: 6473 2c0a 2020 2020 2020 2020 2020 2020  ds,.            
+00011120: 2763 616c 6375 6c61 7465 5f74 6f74 616c  'calculate_total
+00011130: 273a 2073 7472 2863 616c 6375 6c61 7465  ': str(calculate
+00011140: 5f74 6f74 616c 292c 0a20 2020 2020 2020  _total),.       
+00011150: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00011160: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00011170: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+00011180: 742c 0a20 2020 2020 2020 207d 0a0a 2020  t,.        }..  
+00011190: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+000111a0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+000111b0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+000111c0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+000111d0: 6574 5f61 6c6c 5f77 6562 686f 6f6b 7328  et_all_webhooks(
+000111e0: 7365 6c66 2920 2d3e 2052 6573 706f 6e73  self) -> Respons
+000111f0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+00011200: 7374 2061 6c6c 2064 6566 696e 6564 2077  st all defined w
+00011210: 6562 686f 6f6b 732e 0a0a 2020 2020 2020  ebhooks...      
+00011220: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00011230: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00011240: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00011250: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00011260: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00011270: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00011280: 7631 2f77 6562 686f 6f6b 7322 0a0a 2020  v1/webhooks"..  
+00011290: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+000112a0: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+000112b0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+000112c0: 6164 645f 7765 6268 6f6f 6b28 0a20 2020  add_webhook(.   
+000112d0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000112e0: 2020 206e 616d 653a 2073 7472 2c0a 2020     name: str,.  
+000112f0: 2020 2020 2020 7572 6c73 3a20 4c69 7374        urls: List
+00011300: 5b73 7472 5d2c 0a20 2020 2029 202d 3e20  [str],.    ) -> 
+00011310: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00011320: 2020 2222 2241 6464 202f 2075 7064 6174    """Add / updat
+00011330: 6520 5765 6268 6f6f 6b2e 0a0a 2020 2020  e Webhook...    
+00011340: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00011350: 2020 2020 2020 6e61 6d65 2028 7374 7229        name (str)
+00011360: 3a20 6e61 6d65 206f 6620 7468 6520 7765  : name of the we
+00011370: 6268 6f6f 6b0a 2020 2020 2020 2020 2020  bhook.          
+00011380: 2020 7572 6c73 2028 4c69 7374 5b73 7472    urls (List[str
+00011390: 5d29 3a20 4c69 7374 206f 6620 7765 6268  ]): List of webh
+000113a0: 6f6f 6b20 7572 6c73 0a0a 2020 2020 2020  ook urls..      
+000113b0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000113c0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+000113d0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+000113e0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+000113f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00011400: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00011410: 7631 2f77 6562 686f 6f6b 7322 0a20 2020  v1/webhooks".   
+00011420: 2020 2020 2075 726c 7320 3d20 7574 696c       urls = util
+00011430: 732e 6c69 7374 6966 7928 7572 6c73 290a  s.listify(urls).
+00011440: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00011450: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00011460: 2020 2027 6e61 6d65 273a 206e 616d 652c     'name': name,
+00011470: 0a20 2020 2020 2020 2020 2020 2027 7572  .            'ur
+00011480: 6c73 273a 2075 726c 730a 2020 2020 2020  ls': urls.      
+00011490: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+000114a0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+000114b0: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+000114c0: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+000114d0: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
+000114e0: 6174 655f 7765 6268 6f6f 6b28 0a20 2020  ate_webhook(.   
+000114f0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00011500: 2020 2077 6964 3a20 7374 722c 0a20 2020     wid: str,.   
+00011510: 2020 2020 206e 616d 653a 2073 7472 2c0a       name: str,.
+00011520: 2020 2020 2020 2020 7572 6c73 3a20 4c69          urls: Li
+00011530: 7374 5b73 7472 5d2c 0a20 2020 2029 202d  st[str],.    ) -
+00011540: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00011550: 2020 2020 2222 2255 7064 6174 6520 7765      """Update we
+00011560: 6268 6f6f 6b20 7365 7474 696e 6773 2e0a  bhook settings..
+00011570: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00011580: 2020 2020 2020 2020 2020 2077 6964 2028             wid (
+00011590: 7374 7229 3a20 6964 206f 6620 7468 6520  str): id of the 
+000115a0: 7765 6268 6f6f 6b0a 2020 2020 2020 2020  webhook.        
+000115b0: 2020 2020 6e61 6d65 2028 7374 7229 3a20      name (str): 
+000115c0: 6e61 6d65 206f 6620 7468 6520 7765 6268  name of the webh
+000115d0: 6f6f 6b0a 2020 2020 2020 2020 2020 2020  ook.            
+000115e0: 7572 6c73 2028 4c69 7374 5b73 7472 5d29  urls (List[str])
+000115f0: 3a20 4c69 7374 206f 6620 7765 6268 6f6f  : List of webhoo
+00011600: 6b20 7572 6c73 0a0a 2020 2020 2020 2020  k urls..        
+00011610: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00011620: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00011630: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00011640: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00011650: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00011660: 6c20 3d20 6622 2f63 656e 7472 616c 2f76  l = f"/central/v
+00011670: 312f 7765 6268 6f6f 6b73 2f7b 7769 647d  1/webhooks/{wid}
+00011680: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+00011690: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+000116a0: 2020 2020 2027 6e61 6d65 273a 206e 616d       'name': nam
+000116b0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000116c0: 7572 6c73 273a 2075 726c 730a 2020 2020  urls': urls.    
+000116d0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+000116e0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+000116f0: 2e70 7574 2875 726c 2c20 6a73 6f6e 5f64  .put(url, json_d
+00011700: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+00011710: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
+00011720: 6c65 7465 5f77 6562 686f 6f6b 280a 2020  lete_webhook(.  
+00011730: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00011740: 2020 2020 7769 643a 2073 7472 2c0a 2020      wid: str,.  
+00011750: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00011760: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
+00011770: 7465 2057 6562 686f 6f6b 732e 0a0a 2020  te Webhooks...  
+00011780: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00011790: 2020 2020 2020 2020 7769 6420 2873 7472          wid (str
+000117a0: 293a 2069 6420 6f66 2074 6865 2077 6562  ): id of the web
+000117b0: 686f 6f6b 0a0a 2020 2020 2020 2020 5265  hook..        Re
+000117c0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+000117d0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+000117e0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+000117f0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00011800: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00011810: 3d20 6622 2f63 656e 7472 616c 2f76 312f  = f"/central/v1/
+00011820: 7765 6268 6f6f 6b73 2f7b 7769 647d 220a  webhooks/{wid}".
+00011830: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011840: 6177 6169 7420 7365 6c66 2e64 656c 6574  await self.delet
+00011850: 6528 7572 6c29 0a0a 2020 2020 6173 796e  e(url)..    asyn
+00011860: 6320 6465 6620 7265 6672 6573 685f 7765  c def refresh_we
+00011870: 6268 6f6f 6b5f 746f 6b65 6e28 0a20 2020  bhook_token(.   
+00011880: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00011890: 2020 2077 6964 3a20 7374 722c 0a20 2020     wid: str,.   
+000118a0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+000118b0: 2020 2020 2020 2020 2222 2252 6566 7265          """Refre
+000118c0: 7368 2074 6865 2077 6562 686f 6f6b 2074  sh the webhook t
+000118d0: 6f6b 656e 2e0a 0a20 2020 2020 2020 2041  oken...        A
+000118e0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+000118f0: 2077 6964 2028 7374 7229 3a20 6964 206f   wid (str): id o
+00011900: 6620 7468 6520 7765 6268 6f6f 6b0a 0a20  f the webhook.. 
+00011910: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00011920: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00011930: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00011940: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00011950: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00011960: 2020 2020 2075 726c 203d 2066 222f 6365       url = f"/ce
+00011970: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
+00011980: 732f 7b77 6964 7d2f 746f 6b65 6e22 0a0a  s/{wid}/token"..
+00011990: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+000119a0: 7761 6974 2073 656c 662e 7075 7428 7572  wait self.put(ur
+000119b0: 6c29 0a0a 2020 2020 2320 4150 492d 464c  l)..    # API-FL
+000119c0: 4157 2054 6573 7420 7765 6268 6f6f 6b20  AW Test webhook 
+000119d0: 646f 6573 206e 6f74 2073 656e 6420 616e  does not send an
+000119e0: 2022 6964 222c 2069 7427 7320 686f 7720   "id", it's how 
+000119f0: 796f 7520 6465 7465 726d 696e 6520 7768  you determine wh
+00011a00: 6174 2074 6f20 436c 6f73 650a 2020 2020  at to Close.    
+00011a10: 6173 796e 6320 6465 6620 7465 7374 5f77  async def test_w
+00011a20: 6562 686f 6f6b 280a 2020 2020 2020 2020  ebhook(.        
+00011a30: 7365 6c66 2c0a 2020 2020 2020 2020 7769  self,.        wi
+00011a40: 643a 2073 7472 2c0a 2020 2020 2920 2d3e  d: str,.    ) ->
+00011a50: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00011a60: 2020 2022 2222 5465 7374 2066 6f72 2077     """Test for w
+00011a70: 6562 686f 6f6b 206e 6f74 6966 6963 6174  ebhook notificat
+00011a80: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
+00011a90: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00011aa0: 7769 6420 2873 7472 293a 2069 6420 6f66  wid (str): id of
+00011ab0: 2074 6865 2077 6562 686f 6f6b 0a0a 2020   the webhook..  
+00011ac0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00011ad0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00011ae0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00011af0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00011b00: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00011b10: 2020 2020 7572 6c20 3d20 6622 2f63 656e      url = f"/cen
+00011b20: 7472 616c 2f76 312f 7765 6268 6f6f 6b73  tral/v1/webhooks
+00011b30: 2f7b 7769 647d 2f70 696e 6722 0a0a 2020  /{wid}/ping"..  
+00011b40: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00011b50: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+00011b60: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00011b70: 6765 745f 7369 7465 5f76 6c61 6e73 2873  get_site_vlans(s
+00011b80: 656c 662c 2073 6974 655f 6964 3a20 696e  elf, site_id: in
+00011b90: 742c 2073 6561 7263 683a 2073 7472 203d  t, search: str =
+00011ba0: 204e 6f6e 652c 206f 6666 7365 743a 2069   None, offset: i
+00011bb0: 6e74 203d 2030 2c20 6c69 6d69 743a 2069  nt = 0, limit: i
+00011bc0: 6e74 203d 2031 3030 2920 2d3e 2052 6573  nt = 100) -> Res
+00011bd0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00011be0: 2222 4765 7420 766c 616e 206c 6973 7420  ""Get vlan list 
+00011bf0: 6f66 2061 2073 6974 652e 0a0a 2020 2020  of a site...    
+00011c00: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00011c10: 2020 2020 2020 7369 7465 5f69 6420 2869        site_id (i
+00011c20: 6e74 293a 2053 6974 6520 4944 2e0a 2020  nt): Site ID..  
+00011c30: 2020 2020 2020 2020 2020 7365 6172 6368            search
+00011c40: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00011c50: 3a20 7365 6172 6368 2e0a 2020 2020 2020  : search..      
+00011c60: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+00011c70: 742c 206f 7074 696f 6e61 6c29 3a20 6f66  t, optional): of
+00011c80: 6673 6574 2e20 4465 6661 756c 7473 2074  fset. Defaults t
+00011c90: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+00011ca0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00011cb0: 696f 6e61 6c29 3a20 6c69 6d69 7420 4465  ional): limit De
+00011cc0: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+00011cd0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00011ce0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00011cf0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00011d00: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00011d10: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00011d20: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
+00011d30: 6f70 6f6c 6f67 795f 6578 7465 726e 616c  opology_external
+00011d40: 5f61 7069 2f76 6c61 6e73 2f7b 7369 7465  _api/vlans/{site
+00011d50: 5f69 647d 220a 0a20 2020 2020 2020 2070  _id}"..        p
+00011d60: 6172 616d 7320 3d20 7b22 7365 6172 6368  arams = {"search
+00011d70: 223a 2073 6561 7263 682c 2022 6f66 6673  ": search, "offs
+00011d80: 6574 223a 206f 6666 7365 742c 2022 6c69  et": offset, "li
+00011d90: 6d69 7422 3a20 6c69 6d69 747d 0a0a 2020  mit": limit}..  
+00011da0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00011db0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+00011dc0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+00011dd0: 0a20 2020 2061 7379 6e63 2064 6566 2073  .    async def s
+00011de0: 656e 645f 626f 756e 6365 5f63 6f6d 6d61  end_bounce_comma
+00011df0: 6e64 5f74 6f5f 6465 7669 6365 2873 656c  nd_to_device(sel
+00011e00: 662c 2073 6572 6961 6c3a 2073 7472 2c20  f, serial: str, 
+00011e10: 636f 6d6d 616e 643a 2073 7472 2c20 706f  command: str, po
+00011e20: 7274 3a20 7374 7229 202d 3e20 5265 7370  rt: str) -> Resp
+00011e30: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00011e40: 2242 6f75 6e63 6520 696e 7465 7266 6163  "Bounce interfac
+00011e50: 6520 6f72 2050 4f45 2028 706f 7765 722d  e or POE (power-
+00011e60: 6f76 6572 2d65 7468 6572 6e65 7429 206f  over-ethernet) o
+00011e70: 6e20 7377 6974 6368 2070 6f72 742e 2020  n switch port.  
+00011e80: 5661 6c69 6420 6f6e 6c79 2066 6f72 2041  Valid only for A
+00011e90: 7275 6261 2053 7769 7463 6865 732e 0a0a  ruba Switches...
+00011ea0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00011eb0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00011ec0: 2028 7374 7229 3a20 5365 7269 616c 206f   (str): Serial o
+00011ed0: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
+00011ee0: 2020 2020 2063 6f6d 6d61 6e64 2028 7374       command (st
+00011ef0: 7229 3a20 436f 6d6d 616e 6420 6d65 6e74  r): Command ment
+00011f00: 696f 6e65 6420 696e 2074 6865 2064 6573  ioned in the des
+00011f10: 6372 6970 7469 6f6e 2074 6861 7420 6973  cription that is
+00011f20: 2074 6f20 6265 2065 7865 6375 7465 640a   to be executed.
+00011f30: 2020 2020 2020 2020 2020 2020 706f 7274              port
+00011f40: 2028 7374 7229 3a20 5370 6563 6966 7920   (str): Specify 
+00011f50: 696e 7465 7266 6163 6520 706f 7274 2069  interface port i
+00011f60: 6e20 7468 6520 666f 726d 6174 206f 6620  n the format of 
+00011f70: 706f 7274 206e 756d 6265 7220 666f 7220  port number for 
+00011f80: 6465 7669 6365 7320 6f66 2074 7970 6520  devices of type 
+00011f90: 4850 5043 0a20 2020 2020 2020 2020 2020  HPPC.           
+00011fa0: 2020 2020 2053 7769 7463 6820 6f72 2073       Switch or s
+00011fb0: 6c6f 742f 6368 6173 7369 732f 706f 7274  lot/chassis/port
+00011fc0: 2066 6f72 2043 5820 5377 6974 6368 0a0a   for CX Switch..
+00011fd0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00011fe0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00011ff0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00012000: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00012010: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00012020: 2020 2020 2020 7572 6c20 3d20 6622 2f64        url = f"/d
+00012030: 6576 6963 655f 6d61 6e61 6765 6d65 6e74  evice_management
+00012040: 2f76 322f 6465 7669 6365 2f7b 7365 7269  /v2/device/{seri
+00012050: 616c 7d2f 6163 7469 6f6e 2f7b 636f 6d6d  al}/action/{comm
+00012060: 616e 647d 220a 0a20 2020 2020 2020 206a  and}"..        j
+00012070: 736f 6e5f 6461 7461 203d 207b 2270 6f72  son_data = {"por
+00012080: 7422 3a20 7374 7228 706f 7274 297d 0a0a  t": str(port)}..
+00012090: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+000120a0: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+000120b0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+000120c0: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+000120d0: 796e 6320 6465 6620 7365 6e64 5f63 6f6d  ync def send_com
+000120e0: 6d61 6e64 5f74 6f5f 6465 7669 6365 280a  mand_to_device(.
+000120f0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00012100: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
+00012110: 722c 0a20 2020 2020 2020 2063 6f6d 6d61  r,.        comma
+00012120: 6e64 3a20 4c69 7465 7261 6c5b 0a20 2020  nd: Literal[.   
+00012130: 2020 2020 2020 2020 2022 7265 626f 6f74           "reboot
+00012140: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00012150: 626c 696e 6b5f 6c65 645f 6f6e 222c 0a20  blink_led_on",. 
+00012160: 2020 2020 2020 2020 2020 2022 626c 696e             "blin
+00012170: 6b5f 6c65 645f 6f66 6622 2c0a 2020 2020  k_led_off",.    
+00012180: 2020 2020 2020 2020 2262 6c69 6e6b 5f6c          "blink_l
+00012190: 6564 222c 0a20 2020 2020 2020 2020 2020  ed",.           
+000121a0: 2022 6572 6173 655f 636f 6e66 6967 7572   "erase_configur
+000121b0: 6174 696f 6e22 2c0a 2020 2020 2020 2020  ation",.        
+000121c0: 2020 2020 2273 6176 655f 636f 6e66 6967      "save_config
+000121d0: 7572 6174 696f 6e22 2c0a 2020 2020 2020  uration",.      
+000121e0: 2020 2020 2020 2268 616c 7422 2c0a 2020        "halt",.  
+000121f0: 2020 2020 2020 2020 2020 2263 6f6e 6669            "confi
+00012200: 675f 7379 6e63 222c 0a20 2020 2020 2020  g_sync",.       
+00012210: 205d 2c0a 2020 2020 2020 2020 6475 7261   ],.        dura
+00012220: 7469 6f6e 3a20 696e 7420 3d20 4e6f 6e65  tion: int = None
+00012230: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00012240: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00012250: 4765 6e65 7269 6320 636f 6d6d 616e 6473  Generic commands
+00012260: 2066 6f72 2064 6576 6963 652e 0a0a 2020   for device...  
+00012270: 2020 2020 2020 5375 7070 6f72 7465 6420        Supported 
+00012280: 436f 6d6d 616e 6473 2028 7374 7229 3a0a  Commands (str):.
+00012290: 2020 2020 2020 2020 2020 2020 2d20 7265              - re
+000122a0: 626f 6f74 3a20 7375 7070 6f72 7465 6420  boot: supported 
+000122b0: 6279 2049 4150 2f43 6f6e 7472 6f6c 6c65  by IAP/Controlle
+000122c0: 7273 2f4d 4153 2053 7769 7463 6865 732f  rs/MAS Switches/
+000122d0: 4172 7562 6120 5377 6974 6368 6573 0a20  Aruba Switches. 
+000122e0: 2020 2020 2020 2020 2020 202d 2062 6c69             - bli
+000122f0: 6e6b 5f6c 6564 5f6f 6e3a 2055 7365 2074  nk_led_on: Use t
+00012300: 6869 7320 636f 6d6d 616e 6420 746f 2065  his command to e
+00012310: 6e61 626c 6520 7468 6520 4c45 4420 6469  nable the LED di
+00012320: 7370 6c61 792c 2073 7570 706f 7274 6564  splay, supported
+00012330: 2062 7920 4941 502f 4172 7562 6120 5377   by IAP/Aruba Sw
+00012340: 6974 6368 6573 0a20 2020 2020 2020 2020  itches.         
+00012350: 2020 202d 2062 6c69 6e6b 5f6c 6564 5f6f     - blink_led_o
+00012360: 6666 3a20 5573 6520 7468 6973 2063 6f6d  ff: Use this com
+00012370: 6d61 6e64 2074 6f20 656e 6162 6c65 2074  mand to enable t
+00012380: 6865 204c 4544 2064 6973 706c 6179 2c20  he LED display, 
+00012390: 7375 7070 6f72 7465 6420 6279 2049 4150  supported by IAP
+000123a0: 2f41 7275 6261 2053 7769 7463 6865 730a  /Aruba Switches.
+000123b0: 2020 2020 2020 2020 2020 2020 2d20 626c              - bl
+000123c0: 696e 6b5f 6c65 643a 2055 7365 2074 6869  ink_led: Use thi
+000123d0: 7320 636f 6d6d 616e 6420 746f 2062 6c69  s command to bli
+000123e0: 6e6b 204c 4544 2064 6973 706c 6179 2c20  nk LED display, 
+000123f0: 5375 7070 6f72 7465 6420 6f6e 2041 7275  Supported on Aru
+00012400: 6261 2053 7769 7463 6865 730a 2020 2020  ba Switches.    
+00012410: 2020 2020 2020 2020 2d20 6572 6173 655f          - erase_
+00012420: 636f 6e66 6967 7572 6174 696f 6e20 3a20  configuration : 
+00012430: 4661 6374 6f72 7920 6465 6661 756c 7420  Factory default 
+00012440: 7468 6520 7377 6974 6368 2e20 2053 7570  the switch.  Sup
+00012450: 706f 7274 6564 206f 6e20 4172 7562 6120  ported on Aruba 
+00012460: 5377 6974 6368 6573 0a20 2020 2020 2020  Switches.       
+00012470: 2020 2020 202d 2073 6176 655f 636f 6e66       - save_conf
+00012480: 6967 7572 6174 696f 6e3a 2053 6176 6573  iguration: Saves
+00012490: 2074 6865 2072 756e 6e69 6e67 2063 6f6e   the running con
+000124a0: 6669 672e 2073 7570 706f 7274 6564 2062  fig. supported b
+000124b0: 7920 4941 502f 4172 7562 6120 5377 6974  y IAP/Aruba Swit
+000124c0: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
+000124d0: 202d 2068 616c 7420 3a20 5468 6973 2063   - halt : This c
+000124e0: 6f6d 6d61 6e64 2070 6572 666f 726d 7320  ommand performs 
+000124f0: 6120 7368 7574 646f 776e 206f 6620 7468  a shutdown of th
+00012500: 6520 6465 7669 6365 2c20 7375 7070 6f72  e device, suppor
+00012510: 7465 6420 6279 2043 6f6e 7472 6f6c 6c65  ted by Controlle
+00012520: 7273 2061 6c6f 6e65 2e0a 2020 2020 2020  rs alone..      
+00012530: 2020 2020 2020 2d20 636f 6e66 6967 5f73        - config_s
+00012540: 796e 6320 3a20 5468 6973 2063 6f6d 6d61  ync : This comma
+00012550: 6e64 7320 7065 7266 6f72 6d73 2066 756c  nds performs ful
+00012560: 6c20 7265 6672 6573 6820 6f66 2074 6865  l refresh of the
+00012570: 2064 6576 6963 6520 636f 6e66 6967 2c20   device config, 
+00012580: 7375 7070 6f72 7465 6420 6279 2043 6f6e  supported by Con
+00012590: 7472 6f6c 6c65 7273 2061 6c6f 6e65 0a0a  trollers alone..
+000125a0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+000125b0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+000125c0: 2028 7374 7229 3a20 5365 7269 616c 206f   (str): Serial o
+000125d0: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
+000125e0: 2020 2020 2063 6f6d 6d61 6e64 2028 7374       command (st
+000125f0: 7229 3a20 436f 6d6d 616e 6420 746f 2062  r): Command to b
+00012600: 6520 6578 6563 7574 6564 0a20 2020 2020  e executed.     
+00012610: 2020 2020 2020 2064 7572 6174 696f 6e20         duration 
+00012620: 2869 6e74 2c20 4f70 7469 6f6e 616c 293a  (int, Optional):
+00012630: 204e 756d 6265 7220 6f66 2073 6563 6f6e   Number of secon
+00012640: 6473 2074 6f20 626c 696e 6b5f 6c65 6420  ds to blink_led 
+00012650: 6f6e 6c79 2061 7070 6c69 6573 2074 6f20  only applies to 
+00012660: 626c 696e 6b5f 6c65 6420 616e 6420 626c  blink_led and bl
+00012670: 696e 6b5f 6c65 645f 6f6e 0a0a 2020 2020  ink_led_on..    
+00012680: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00012690: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+000126a0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+000126b0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+000126c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000126d0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
+000126e0: 655f 6d61 6e61 6765 6d65 6e74 2f76 312f  e_management/v1/
+000126f0: 6465 7669 6365 2f7b 7365 7269 616c 7d2f  device/{serial}/
+00012700: 6163 7469 6f6e 2f7b 636f 6d6d 616e 647d  action/{command}
+00012710: 220a 0a20 2020 2020 2020 2023 2054 4f44  "..        # TOD
+00012720: 4f20 6361 6374 6820 696e 7661 6c69 6420  O cacth invalid 
+00012730: 6163 7469 6f6e 7320 286e 6f74 2073 7570  actions (not sup
+00012740: 706f 7274 6564 206f 6e20 6465 7629 0a20  ported on dev). 
+00012750: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00012760: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+00012770: 6c29 0a20 2020 2020 2020 2069 6620 7265  l).        if re
+00012780: 7370 2061 6e64 2064 7572 6174 696f 6e20  sp and duration 
+00012790: 616e 6420 2262 6c69 6e6b 5f6c 6564 2220  and "blink_led" 
+000127a0: 696e 2063 6f6d 6d61 6e64 2061 6e64 2022  in command and "
+000127b0: 6f66 6622 206e 6f74 2069 6e20 636f 6d6d  off" not in comm
+000127c0: 616e 643a 0a20 2020 2020 2020 2020 2020  and:.           
+000127d0: 2070 7269 6e74 2866 2242 6c69 6e6b 696e   print(f"Blinkin
+000127e0: 6720 4c65 642e 2e2e 207b 6475 7261 7469  g Led... {durati
+000127f0: 6f6e 7d2e 2022 2c20 656e 643d 2222 290a  on}. ", end="").
+00012800: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00012810: 6920 696e 2072 616e 6765 2831 2c20 6475  i in range(1, du
+00012820: 7261 7469 6f6e 202b 2031 293a 0a20 2020  ration + 1):.   
+00012830: 2020 2020 2020 2020 2020 2020 2074 696d               tim
+00012840: 652e 736c 6565 7028 3129 0a20 2020 2020  e.sleep(1).     
+00012850: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00012860: 2866 227b 6475 7261 7469 6f6e 202d 2069  (f"{duration - i
+00012870: 7d2e 2022 2c20 656e 643d 2222 2069 6620  }. ", end="" if 
+00012880: 6920 2520 3230 2065 6c73 6520 225c 6e22  i % 20 else "\n"
+00012890: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000128a0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+000128b0: 706f 7374 2875 726c 2e72 6570 6c61 6365  post(url.replace
+000128c0: 2822 5f6f 6e22 2c20 225f 6f66 6622 2929  ("_on", "_off"))
+000128d0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000128e0: 7265 7370 0a0a 2020 2020 6173 796e 6320  resp..    async 
+000128f0: 6465 6620 6b69 636b 5f75 7365 7273 280a  def kick_users(.
+00012900: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00012910: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00012920: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00012930: 2020 2020 2020 6b69 636b 5f61 6c6c 3a20        kick_all: 
+00012940: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00012950: 2020 2020 2020 6d61 633a 2073 7472 203d        mac: str =
+00012960: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00012970: 7369 643a 2073 7472 203d 204e 6f6e 652c  sid: str = None,
+00012980: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00012990: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
+000129a0: 3d20 6622 2f64 6576 6963 655f 6d61 6e61  = f"/device_mana
+000129b0: 6765 6d65 6e74 2f76 312f 6465 7669 6365  gement/v1/device
+000129c0: 2f7b 7365 7269 616c 5f6e 756d 7d2f 6163  /{serial_num}/ac
+000129d0: 7469 6f6e 2f64 6973 636f 6e6e 6563 745f  tion/disconnect_
+000129e0: 7573 6572 220a 2020 2020 2020 2020 6966  user".        if
+000129f0: 206b 6963 6b5f 616c 6c3a 0a20 2020 2020   kick_all:.     
+00012a00: 2020 2020 2020 2070 6179 6c6f 6164 203d         payload =
+00012a10: 207b 2264 6973 636f 6e6e 6563 745f 7573   {"disconnect_us
+00012a20: 6572 5f61 6c6c 223a 2054 7275 657d 0a20  er_all": True}. 
+00012a30: 2020 2020 2020 2065 6c69 6620 6d61 633a         elif mac:
+00012a40: 0a20 2020 2020 2020 2020 2020 2070 6179  .            pay
+00012a50: 6c6f 6164 203d 207b 2264 6973 636f 6e6e  load = {"disconn
+00012a60: 6563 745f 7573 6572 5f6d 6163 223a 2066  ect_user_mac": f
+00012a70: 227b 6d61 637d 227d 0a20 2020 2020 2020  "{mac}"}.       
+00012a80: 2065 6c69 6620 7373 6964 3a0a 2020 2020   elif ssid:.    
+00012a90: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
+00012aa0: 3d20 7b22 6469 7363 6f6e 6e65 6374 5f75  = {"disconnect_u
+00012ab0: 7365 725f 6e65 7477 6f72 6b22 3a20 6622  ser_network": f"
+00012ac0: 7b73 7369 647d 227d 0a20 2020 2020 2020  {ssid}"}.       
+00012ad0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00012ae0: 2020 2070 6179 6c6f 6164 203d 207b 7d0a     payload = {}.
+00012af0: 0a20 2020 2020 2020 2069 6620 7061 796c  .        if payl
+00012b00: 6f61 643a 0a20 2020 2020 2020 2020 2020  oad:.           
+00012b10: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00012b20: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+00012b30: 6e5f 6461 7461 3d70 6179 6c6f 6164 290a  n_data=payload).
+00012b40: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00012b50: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00012b60: 2052 6573 706f 6e73 6528 6572 726f 723d   Response(error=
+00012b70: 224d 6973 7369 6e67 2052 6571 7569 7265  "Missing Require
+00012b80: 6420 5061 7261 6d65 7465 7273 2229 0a0a  d Parameters")..
+00012b90: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+00012ba0: 745f 7461 736b 5f73 7461 7475 7328 0a20  t_task_status(. 
+00012bb0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00012bc0: 2020 2020 2074 6173 6b5f 6964 3a20 7374       task_id: st
+00012bd0: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
+00012be0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00012bf0: 2253 7461 7475 732e 0a0a 2020 2020 2020  "Status...      
+00012c00: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00012c10: 2020 2020 7461 736b 5f69 6420 2873 7472      task_id (str
+00012c20: 293a 2055 6e69 7175 6520 7461 736b 2069  ): Unique task i
+00012c30: 6420 746f 2067 6574 2072 6573 706f 6e73  d to get respons
+00012c40: 6520 6f66 2063 6f6d 6d61 6e64 0a0a 2020  e of command..  
+00012c50: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00012c60: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00012c70: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00012c80: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00012c90: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00012ca0: 2020 2020 7572 6c20 3d20 6622 2f64 6576      url = f"/dev
+00012cb0: 6963 655f 6d61 6e61 6765 6d65 6e74 2f76  ice_management/v
+00012cc0: 312f 7374 6174 7573 2f7b 7461 736b 5f69  1/status/{task_i
+00012cd0: 647d 220a 0a20 2020 2020 2020 2072 6574  d}"..        ret
+00012ce0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00012cf0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+00012d00: 6e63 2064 6566 2067 6574 5f73 7769 7463  nc def get_switc
+00012d10: 685f 766c 616e 7328 0a20 2020 2020 2020  h_vlans(.       
+00012d20: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
+00012d30: 6465 6e3a 2073 7472 2c0a 2020 2020 2020  den: str,.      
+00012d40: 2020 7374 6163 6b3a 2062 6f6f 6c20 3d20    stack: bool = 
+00012d50: 4661 6c73 652c 0a20 2020 2020 2020 206e  False,.        n
+00012d60: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
+00012d70: 0a20 2020 2020 2020 2070 7669 643a 2069  .        pvid: i
+00012d80: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00012d90: 2020 2074 6167 6765 645f 706f 7274 3a20     tagged_port: 
+00012da0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00012db0: 2020 2020 756e 7461 6767 6564 5f70 6f72      untagged_por
+00012dc0: 743a 2073 7472 203d 204e 6f6e 652c 0a20  t: str = None,. 
+00012dd0: 2020 2020 2020 2069 735f 6a75 6d62 6f5f         is_jumbo_
+00012de0: 656e 6162 6c65 643a 2062 6f6f 6c20 3d20  enabled: bool = 
+00012df0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6973  None,.        is
+00012e00: 5f76 6f69 6365 5f65 6e61 626c 6564 3a20  _voice_enabled: 
+00012e10: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
+00012e20: 2020 2020 2069 735f 6967 6d70 5f65 6e61       is_igmp_ena
+00012e30: 626c 6564 3a20 626f 6f6c 203d 204e 6f6e  bled: bool = Non
+00012e40: 652c 0a20 2020 2020 2020 2074 7970 653a  e,.        type:
+00012e50: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00012e60: 2020 2020 2070 7269 6d61 7279 5f76 6c61       primary_vla
+00012e70: 6e5f 6964 3a20 696e 7420 3d20 4e6f 6e65  n_id: int = None
+00012e80: 2c0a 2020 2020 2020 2020 7374 6174 7573  ,.        status
+00012e90: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00012ea0: 2020 2020 2020 736f 7274 3a20 7374 7220        sort: str 
+00012eb0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00012ec0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
+00012ed0: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
+00012ee0: 2020 2020 2020 616f 735f 7377 3a20 626f        aos_sw: bo
+00012ef0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00012f00: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+00012f10: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+00012f20: 6974 3a20 696e 7420 3d20 3530 302c 0a20  it: int = 500,. 
+00012f30: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00012f40: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+00012f50: 2076 6c61 6e20 696e 666f 2066 6f72 2073   vlan info for s
+00012f60: 7769 7463 6820 2843 5820 616e 6420 5357  witch (CX and SW
+00012f70: 292e 0a0a 2020 2020 2020 2020 4172 6773  )...        Args
+00012f80: 3a0a 2020 2020 2020 2020 2020 2020 6964  :.            id
+00012f90: 656e 2028 7374 7229 3a20 5365 7269 616c  en (str): Serial
+00012fa0: 204e 756d 6265 7220 6f72 2053 7461 636b   Number or Stack
+00012fb0: 2049 442c 2049 6465 6e74 6966 6965 7320   ID, Identifies 
+00012fc0: 7468 6520 6465 7620 746f 2072 6574 7572  the dev to retur
+00012fd0: 6e20 564c 414e 7320 6672 6f6d 2e0a 2020  n VLANs from..  
+00012fe0: 2020 2020 2020 2020 2020 7374 6163 6b20            stack 
+00012ff0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+00013000: 3a20 5365 7420 746f 2054 7275 6520 666f  : Set to True fo
+00013010: 7220 7374 6163 6b2e 2044 6566 6175 6c74  r stack. Default
+00013020: 3a20 4661 6c73 650a 2020 2020 2020 2020  : False.        
+00013030: 2020 2020 6e61 6d65 2028 7374 722c 206f      name (str, o
+00013040: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00013050: 2062 7920 766c 616e 206e 616d 650a 2020   by vlan name.  
+00013060: 2020 2020 2020 2020 2020 6964 2028 696e            id (in
+00013070: 742c 206f 7074 696f 6e61 6c29 3a20 4669  t, optional): Fi
+00013080: 6c74 6572 2062 7920 766c 616e 2069 640a  lter by vlan id.
+00013090: 2020 2020 2020 2020 2020 2020 7461 6767              tagg
+000130a0: 6564 5f70 6f72 7420 2873 7472 2c20 6f70  ed_port (str, op
+000130b0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+000130c0: 6279 2074 6167 6765 6420 706f 7274 206e  by tagged port n
+000130d0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+000130e0: 756e 7461 6767 6564 5f70 6f72 7420 2873  untagged_port (s
+000130f0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00013100: 696c 7465 7220 6279 2075 6e74 6167 6765  ilter by untagge
+00013110: 6420 706f 7274 206e 616d 650a 2020 2020  d port name.    
+00013120: 2020 2020 2020 2020 6973 5f6a 756d 626f          is_jumbo
+00013130: 5f65 6e61 626c 6564 2028 626f 6f6c 2c20  _enabled (bool, 
+00013140: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00013150: 7220 6279 206a 756d 626f 2065 6e61 626c  r by jumbo enabl
+00013160: 6564 0a20 2020 2020 2020 2020 2020 2069  ed.            i
+00013170: 735f 766f 6963 655f 656e 6162 6c65 6420  s_voice_enabled 
+00013180: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+00013190: 3a20 4669 6c74 6572 2062 7920 766f 6963  : Filter by voic
+000131a0: 6520 656e 6162 6c65 640a 2020 2020 2020  e enabled.      
+000131b0: 2020 2020 2020 6973 5f69 676d 705f 656e        is_igmp_en
+000131c0: 6162 6c65 6420 2862 6f6f 6c2c 206f 7074  abled (bool, opt
+000131d0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+000131e0: 7920 6967 6d70 2065 6e61 626c 6564 0a20  y igmp enabled. 
+000131f0: 2020 2020 2020 2020 2020 2074 7970 6520             type 
+00013200: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00013210: 2054 7970 6520 6f66 2074 6865 2076 6c61   Type of the vla
+00013220: 6e20 746f 2062 6520 7175 6572 6965 640a  n to be queried.
+00013230: 2020 2020 2020 2020 2020 2020 7072 696d              prim
+00013240: 6172 795f 766c 616e 5f69 6420 2869 6e74  ary_vlan_id (int
+00013250: 2c20 6f70 7469 6f6e 616c 293a 2050 7269  , optional): Pri
+00013260: 6d61 7279 2056 6c61 6e20 4964 206f 6620  mary Vlan Id of 
+00013270: 7468 6520 766c 616e 2074 6f20 6265 2071  the vlan to be q
+00013280: 7565 7269 6564 220a 2020 2020 2020 2020  ueried".        
+00013290: 2020 2020 7374 6174 7573 2028 7374 722c      status (str,
+000132a0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+000132b0: 6572 2062 7920 7374 6174 7573 206f 6620  er by status of 
+000132c0: 564c 414e 2e20 5374 6174 7573 2063 616e  VLAN. Status can
+000132d0: 2062 6520 5570 2f44 6f77 6e0a 2020 2020   be Up/Down.    
+000132e0: 2020 2020 2020 2020 736f 7274 2028 7374          sort (st
+000132f0: 722c 206f 7074 696f 6e61 6c29 3a20 536f  r, optional): So
+00013300: 7274 2070 6172 616d 6574 6572 206d 6179  rt parameter may
+00013310: 2062 6520 6f6e 6520 6f66 202b 6e61 6d65   be one of +name
+00013320: 2c20 2d6e 616d 650a 2020 2020 2020 2020  , -name.        
+00013330: 2020 2020 6361 6c63 756c 6174 655f 746f      calculate_to
+00013340: 7461 6c20 2862 6f6f 6c2c 206f 7074 696f  tal (bool, optio
+00013350: 6e61 6c29 3a20 5768 6574 6865 7220 746f  nal): Whether to
+00013360: 2063 616c 6375 6c61 7465 2074 6f74 616c   calculate total
+00013370: 2076 6c61 6e73 0a20 2020 2020 2020 2020   vlans.         
+00013380: 2020 2061 6f73 5f73 7720 2862 6f6f 6c2c     aos_sw (bool,
+00013390: 206f 7074 696f 6e61 6c29 3a20 4465 7669   optional): Devi
+000133a0: 6365 2069 7320 4172 7562 614f 532d 5377  ce is ArubaOS-Sw
+000133b0: 6974 6368 2e20 4465 6661 756c 7473 2074  itch. Defaults t
+000133c0: 6f20 4661 6c73 650a 2020 2020 2020 2020  o False.        
+000133d0: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
+000133e0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
+000133f0: 6e61 7469 6f6e 206f 6666 7365 7420 4465  nation offset De
+00013400: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
+00013410: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+00013420: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00013430: 5061 6769 6e61 7469 6f6e 206c 696d 6974  Pagination limit
+00013440: 2e20 4465 6661 756c 7420 6973 2031 3030  . Default is 100
+00013450: 2061 6e64 206d 6178 2069 7320 3130 3030   and max is 1000
+00013460: 2044 6566 6175 6c74 7320 746f 2035 3030   Defaults to 500
+00013470: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00013480: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00013490: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+000134a0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+000134b0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+000134c0: 0a20 2020 2020 2020 2073 775f 7572 6c20  .        sw_url 
+000134d0: 3d20 2273 7769 7463 6865 7322 2069 6620  = "switches" if 
+000134e0: 6e6f 7420 7374 6163 6b20 656c 7365 2022  not stack else "
+000134f0: 7377 6974 6368 5f73 7461 636b 7322 0a20  switch_stacks". 
+00013500: 2020 2020 2020 2073 775f 7572 6c20 3d20         sw_url = 
+00013510: 7377 5f75 726c 2069 6620 616f 735f 7377  sw_url if aos_sw
+00013520: 2065 6c73 6520 6627 6378 5f7b 7377 5f75   else f'cx_{sw_u
+00013530: 726c 7d27 0a20 2020 2020 2020 2075 726c  rl}'.        url
+00013540: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
+00013550: 2f76 312f 7b73 775f 7572 6c7d 2f7b 6964  /v1/{sw_url}/{id
+00013560: 656e 7d2f 766c 616e 220a 0a20 2020 2020  en}/vlan"..     
+00013570: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00013580: 2020 2020 2020 2020 2020 226e 616d 6522            "name"
+00013590: 3a20 6e61 6d65 2c0a 2020 2020 2020 2020  : name,.        
+000135a0: 2020 2020 2269 6422 3a20 7076 6964 2c0a      "id": pvid,.
+000135b0: 2020 2020 2020 2020 2020 2020 2274 6167              "tag
+000135c0: 6765 645f 706f 7274 223a 2074 6167 6765  ged_port": tagge
+000135d0: 645f 706f 7274 2c0a 2020 2020 2020 2020  d_port,.        
+000135e0: 2020 2020 2275 6e74 6167 6765 645f 706f      "untagged_po
+000135f0: 7274 223a 2075 6e74 6167 6765 645f 706f  rt": untagged_po
+00013600: 7274 2c0a 2020 2020 2020 2020 2020 2020  rt,.            
+00013610: 2269 735f 6a75 6d62 6f5f 656e 6162 6c65  "is_jumbo_enable
+00013620: 6422 3a20 6973 5f6a 756d 626f 5f65 6e61  d": is_jumbo_ena
+00013630: 626c 6564 2c0a 2020 2020 2020 2020 2020  bled,.          
+00013640: 2020 2269 735f 766f 6963 655f 656e 6162    "is_voice_enab
+00013650: 6c65 6422 3a20 6973 5f76 6f69 6365 5f65  led": is_voice_e
+00013660: 6e61 626c 6564 2c0a 2020 2020 2020 2020  nabled,.        
+00013670: 2020 2020 2269 735f 6967 6d70 5f65 6e61      "is_igmp_ena
+00013680: 626c 6564 223a 2069 735f 6967 6d70 5f65  bled": is_igmp_e
+00013690: 6e61 626c 6564 2c0a 2020 2020 2020 2020  nabled,.        
+000136a0: 2020 2020 2274 7970 6522 3a20 7479 7065      "type": type
+000136b0: 2c0a 2020 2020 2020 2020 2020 2020 2270  ,.            "p
+000136c0: 7269 6d61 7279 5f76 6c61 6e5f 6964 223a  rimary_vlan_id":
+000136d0: 2070 7269 6d61 7279 5f76 6c61 6e5f 6964   primary_vlan_id
+000136e0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+000136f0: 7461 7475 7322 3a20 7374 6174 7573 2c0a  tatus": status,.
+00013700: 2020 2020 2020 2020 2020 2020 2273 6f72              "sor
+00013710: 7422 3a20 736f 7274 2c0a 2020 2020 2020  t": sort,.      
+00013720: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
+00013730: 5f74 6f74 616c 223a 204e 6f6e 6520 6966  _total": None if
+00013740: 206e 6f74 2063 616c 6375 6c61 7465 5f74   not calculate_t
+00013750: 6f74 616c 2065 6c73 6520 7374 7228 6361  otal else str(ca
+00013760: 6c63 756c 6174 655f 746f 7461 6c29 2c20  lculate_total), 
+00013770: 2023 2073 656e 6469 6e67 2073 7472 206f   # sending str o
+00013780: 6620 4661 6c73 652f 6661 6c73 6520 7769  f False/false wi
+00013790: 6c6c 2062 6520 696e 7465 7270 7265 7465  ll be interprete
+000137a0: 6420 6173 2074 7275 652e 2020 4e6f 6e65  d as true.  None
+000137b0: 2077 696c 6c20 7374 7269 7020 7468 6520   will strip the 
+000137c0: 7061 7261 6d0a 2020 2020 2020 2020 2020  param.          
+000137d0: 2020 226f 6666 7365 7422 3a20 6f66 6673    "offset": offs
+000137e0: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+000137f0: 226c 696d 6974 223a 206c 696d 6974 2c0a  "limit": limit,.
+00013800: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00013810: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00013820: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00013830: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00013840: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00013850: 6761 7465 7761 795f 766c 616e 7328 7365  gateway_vlans(se
+00013860: 6c66 2c20 7365 7269 616c 3a20 7374 7229  lf, serial: str)
+00013870: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+00013880: 2020 2020 2020 2222 2247 6574 2067 6174        """Get gat
+00013890: 6577 6179 2056 4c41 4e20 6465 7461 696c  eway VLAN detail
+000138a0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+000138b0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000138c0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
+000138d0: 616c 206e 756d 6265 7220 6f66 2067 6174  al number of gat
+000138e0: 6577 6179 2074 6f20 6265 2071 7565 7269  eway to be queri
+000138f0: 6564 0a0a 2020 2020 2020 2020 5265 7475  ed..        Retu
+00013900: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00013910: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00013920: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00013930: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00013940: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00013950: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
+00013960: 2f67 6174 6577 6179 732f 7b73 6572 6961  /gateways/{seria
+00013970: 6c7d 2f76 6c61 6e22 0a0a 2020 2020 2020  l}/vlan"..      
+00013980: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00013990: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+000139a0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+000139b0: 7473 5f63 6f6d 6d61 6e64 7328 0a20 2020  ts_commands(.   
+000139c0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000139d0: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
+000139e0: 4c69 7465 7261 6c5b 2769 6170 272c 2027  Literal['iap', '
+000139f0: 6d61 7327 2c20 2773 7769 7463 6827 2c20  mas', 'switch', 
+00013a00: 2763 6f6e 7472 6f6c 6c65 7227 2c20 2763  'controller', 'c
+00013a10: 7827 5d2c 0a20 2020 2029 202d 3e20 5265  x'],.    ) -> Re
+00013a20: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00013a30: 2222 224c 6973 7420 5472 6f75 626c 6573  """List Troubles
+00013a40: 686f 6f74 696e 6720 436f 6d6d 616e 6473  hooting Commands
+00013a50: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00013a60: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00013a70: 6963 655f 7479 7065 2028 7374 7229 3a20  ice_type (str): 
+00013a80: 5370 6563 6966 7920 6f6e 6520 6f66 2022  Specify one of "
+00013a90: 4941 5022 2066 6f72 2073 7761 726d 2c20  IAP" for swarm, 
+00013aa0: 224d 4153 2220 666f 7220 4d41 5320 7377  "MAS" for MAS sw
+00013ab0: 6974 6368 6573 2c20 2253 5749 5443 4822  itches, "SWITCH"
+00013ac0: 2066 6f72 0a20 2020 2020 2020 2020 2020   for.           
+00013ad0: 2020 2020 2061 7275 6261 2073 7769 7463       aruba switc
+00013ae0: 6865 732c 2243 5822 2066 6f72 2043 5820  hes,"CX" for CX 
+00013af0: 7377 6974 6368 6573 2c20 2243 4f4e 5452  switches, "CONTR
+00013b00: 4f4c 4c45 5222 2066 6f72 2063 6f6e 7472  OLLER" for contr
+00013b10: 6f6c 6c65 7273 2072 6573 7065 6374 6976  ollers respectiv
+00013b20: 656c 792e 0a0a 2020 2020 2020 2020 5265  ely...        Re
+00013b30: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00013b40: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00013b50: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00013b60: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00013b70: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00013b80: 3d20 222f 7472 6f75 626c 6573 686f 6f74  = "/troubleshoot
+00013b90: 696e 672f 7631 2f63 6f6d 6d61 6e64 7322  ing/v1/commands"
+00013ba0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00013bb0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00013bc0: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
+00013bd0: 6465 7669 6365 5f74 7970 650a 2020 2020  device_type.    
+00013be0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00013bf0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00013c00: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00013c10: 3d70 6172 616d 7329 0a0a 0a20 2020 2061  =params)...    a
+00013c20: 7379 6e63 2064 6566 2073 7461 7274 5f74  sync def start_t
+00013c30: 735f 7365 7373 696f 6e28 0a20 2020 2020  s_session(.     
+00013c40: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00013c50: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+00013c60: 2020 2020 2020 6465 765f 7479 7065 3a20        dev_type: 
+00013c70: 7374 722c 0a20 2020 2020 2020 2063 6f6d  str,.        com
+00013c80: 6d61 6e64 733a 2055 6e69 6f6e 5b69 6e74  mands: Union[int
+00013c90: 2c20 6c69 7374 2c20 6469 6374 5d2c 0a20  , list, dict],. 
+00013ca0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00013cb0: 3a0a 2020 2020 2020 2020 2222 2253 7461  :.        """Sta
+00013cc0: 7274 2054 726f 7562 6c65 7368 6f6f 7469  rt Troubleshooti
+00013cd0: 6e67 2053 6573 7369 6f6e 2e0a 0a20 2020  ng Session...   
+00013ce0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00013cf0: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+00013d00: 7472 293a 2053 6572 6961 6c20 6f66 2064  tr): Serial of d
+00013d10: 6576 6963 650a 2020 2020 2020 2020 2020  evice.          
+00013d20: 2020 6465 765f 7479 7065 2028 7374 7229    dev_type (str)
+00013d30: 3a20 5370 6563 6966 7920 6f6e 6520 6f66  : Specify one of
+00013d40: 2022 4941 502f 5357 4954 4348 2f43 582f   "IAP/SWITCH/CX/
+00013d50: 4d41 532f 434f 4e54 524f 4c4c 4552 2220  MAS/CONTROLLER" 
+00013d60: 666f 7220 2049 4150 732c 2041 7275 6261  for  IAPs, Aruba
+00013d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013d80: 2073 7769 7463 6865 732c 2043 5820 5377   switches, CX Sw
+00013d90: 6974 6368 6573 2c20 4d41 5320 7377 6974  itches, MAS swit
+00013da0: 6368 6573 2061 6e64 2063 6f6e 7472 6f6c  ches and control
+00013db0: 6c65 7273 2072 6573 7065 6374 6976 656c  lers respectivel
+00013dc0: 792e 0a20 2020 2020 2020 2020 2020 2063  y..            c
+00013dd0: 6f6d 6d61 6e64 7320 2869 6e74 2c20 4c69  ommands (int, Li
+00013de0: 7374 5b69 6e74 207c 2064 6963 745d 2c20  st[int | dict], 
+00013df0: 6469 6374 293a 2061 2073 696e 676c 6520  dict): a single 
+00013e00: 636f 6d6d 616e 645f 6964 2c20 6f72 2061  command_id, or a
+00013e10: 204c 6973 7420 6f66 2063 6f6d 6d61 6e64   List of command
+00013e20: 5f69 6473 2028 466f 7220 636f 6d6d 616e  _ids (For comman
+00013e30: 6473 2077 6974 6820 6e6f 2061 7267 756d  ds with no argum
+00013e40: 656e 7473 290a 2020 2020 2020 2020 2020  ents).          
+00013e50: 2020 2020 2020 4f52 2061 2064 6963 7420        OR a dict 
+00013e60: 7b63 6f6d 6d61 6e64 5f69 643a 207b 6172  {command_id: {ar
+00013e70: 6775 6d65 6e74 315f 6e61 6d65 3a20 6172  gument1_name: ar
+00013e80: 6775 6d65 6e74 315f 7661 6c75 652c 2061  gument1_value, a
+00013e90: 7267 756d 656e 7432 5f6e 616d 653a 2061  rgument2_name: a
+00013ea0: 7267 756d 656e 7432 5f76 616c 7565 7d7d  rgument2_value}}
+00013eb0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00013ec0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00013ed0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00013ee0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00013ef0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00013f00: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00013f10: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00013f20: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
+00013f30: 6961 6c7d 220a 2020 2020 2020 2020 636f  ial}".        co
+00013f40: 6d6d 616e 6473 203d 2075 7469 6c73 2e6c  mmands = utils.l
+00013f50: 6973 7469 6679 2863 6f6d 6d61 6e64 7329  istify(commands)
+00013f60: 0a20 2020 2020 2020 2063 6d64 7320 3d20  .        cmds = 
+00013f70: 5b5d 0a20 2020 2020 2020 2066 6f72 2063  [].        for c
+00013f80: 6d64 2069 6e20 636f 6d6d 616e 6473 3a0a  md in commands:.
+00013f90: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+00013fa0: 7369 6e73 7461 6e63 6528 636d 642c 2069  sinstance(cmd, i
+00013fb0: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+00013fc0: 2020 2020 2063 6d64 7320 2b3d 205b 7b22       cmds += [{"
+00013fd0: 636f 6d6d 616e 645f 6964 223a 2063 6d64  command_id": cmd
+00013fe0: 7d5d 0a20 2020 2020 2020 2020 2020 2065  }].            e
+00013ff0: 6c69 6620 6973 696e 7374 616e 6365 2863  lif isinstance(c
+00014000: 6d64 2c20 6469 6374 293a 0a20 2020 2020  md, dict):.     
+00014010: 2020 2020 2020 2020 2020 2063 6d64 7320             cmds 
+00014020: 2b3d 205b 0a20 2020 2020 2020 2020 2020  += [.           
+00014030: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+00014040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014050: 2020 2022 636f 6d6d 616e 645f 6964 223a     "command_id":
+00014060: 2063 6964 2c0a 2020 2020 2020 2020 2020   cid,.          
+00014070: 2020 2020 2020 2020 2020 2020 2020 2261                "a
+00014080: 7267 756d 656e 7473 223a 205b 7b22 6e61  rguments": [{"na
+00014090: 6d65 223a 206b 2c20 2276 616c 7565 223a  me": k, "value":
+000140a0: 2076 7d20 666f 7220 6b2c 2076 2069 6e20   v} for k, v in 
+000140b0: 636d 645b 6369 645d 2e69 7465 6d73 2829  cmd[cid].items()
+000140c0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+000140d0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+000140e0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000140f0: 6369 6420 696e 2063 6d64 0a20 2020 2020  cid in cmd.     
+00014100: 2020 2020 2020 2020 2020 205d 0a0a 2020             ]..  
+00014110: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+00014120: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00014130: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
+00014140: 6576 5f74 7970 652c 0a20 2020 2020 2020  ev_type,.       
+00014150: 2020 2020 2027 636f 6d6d 616e 6473 273a       'commands':
+00014160: 2063 6d64 730a 2020 2020 2020 2020 7d0a   cmds.        }.
+00014170: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00014180: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00014190: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+000141a0: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+000141b0: 7379 6e63 2064 6566 2067 6574 5f74 735f  sync def get_ts_
+000141c0: 6f75 7470 7574 280a 2020 2020 2020 2020  output(.        
+000141d0: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
+000141e0: 7269 616c 3a20 7374 722c 0a20 2020 2020  rial: str,.     
+000141f0: 2020 2073 6573 7369 6f6e 5f69 643a 2069     session_id: i
+00014200: 6e74 2c0a 2020 2020 2920 2d3e 2052 6573  nt,.    ) -> Res
+00014210: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00014220: 2222 4765 7420 5472 6f75 626c 6573 686f  ""Get Troublesho
+00014230: 6f74 696e 6720 4f75 7470 7574 2e0a 0a20  oting Output... 
+00014240: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00014250: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+00014260: 2873 7472 293a 2053 6572 6961 6c20 6f66  (str): Serial of
+00014270: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
+00014280: 2020 2020 7365 7373 696f 6e5f 6964 2028      session_id (
+00014290: 696e 7429 3a20 556e 6971 7565 2049 4420  int): Unique ID 
+000142a0: 666f 7220 7472 6f75 626c 6573 686f 6f74  for troubleshoot
+000142b0: 696e 6720 7365 7373 696f 6e0a 0a20 2020  ing session..   
+000142c0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000142d0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+000142e0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+000142f0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00014300: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00014310: 2020 2075 726c 203d 2066 222f 7472 6f75     url = f"/trou
+00014320: 626c 6573 686f 6f74 696e 672f 7631 2f64  bleshooting/v1/d
+00014330: 6576 6963 6573 2f7b 7365 7269 616c 7d22  evices/{serial}"
+00014340: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00014350: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00014360: 2027 7365 7373 696f 6e5f 6964 273a 2073   'session_id': s
+00014370: 6573 7369 6f6e 5f69 640a 2020 2020 2020  ession_id.      
+00014380: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00014390: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+000143a0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+000143b0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+000143c0: 6320 6465 6620 636c 6561 725f 7473 5f73  c def clear_ts_s
+000143d0: 6573 7369 6f6e 280a 2020 2020 2020 2020  ession(.        
+000143e0: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
+000143f0: 7269 616c 3a20 7374 722c 0a20 2020 2020  rial: str,.     
+00014400: 2020 2073 6573 7369 6f6e 5f69 643a 2069     session_id: i
+00014410: 6e74 2c0a 2020 2020 2920 2d3e 2052 6573  nt,.    ) -> Res
+00014420: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00014430: 2222 436c 6561 7220 5472 6f75 626c 6573  ""Clear Troubles
+00014440: 686f 6f74 696e 6720 5365 7373 696f 6e20  hooting Session 
+00014450: 616e 6420 6f75 7470 7574 2066 6f72 2064  and output for d
+00014460: 6576 6963 652e 0a0a 2020 2020 2020 2020  evice...        
+00014470: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00014480: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
+00014490: 5365 7269 616c 206f 6620 6465 7669 6365  Serial of device
+000144a0: 0a20 2020 2020 2020 2020 2020 2073 6573  .            ses
+000144b0: 7369 6f6e 5f69 6420 2869 6e74 293a 2055  sion_id (int): U
+000144c0: 6e69 7175 6520 4944 2066 6f72 2065 6163  nique ID for eac
+000144d0: 6820 7472 6f75 626c 6573 686f 6f74 696e  h troubleshootin
+000144e0: 6720 7365 7373 696f 6e0a 0a20 2020 2020  g session..     
+000144f0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00014500: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00014510: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00014520: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00014530: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00014540: 2075 726c 203d 2066 222f 7472 6f75 626c   url = f"/troubl
+00014550: 6573 686f 6f74 696e 672f 7631 2f64 6576  eshooting/v1/dev
+00014560: 6963 6573 2f7b 7365 7269 616c 7d22 0a0a  ices/{serial}"..
+00014570: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00014580: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00014590: 7365 7373 696f 6e5f 6964 273a 2073 6573  session_id': ses
+000145a0: 7369 6f6e 5f69 640a 2020 2020 2020 2020  sion_id.        
+000145b0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+000145c0: 6e20 6177 6169 7420 7365 6c66 2e64 656c  n await self.del
+000145d0: 6574 6528 7572 6c2c 2070 6172 616d 733d  ete(url, params=
+000145e0: 7061 7261 6d73 290a 0a20 2020 2023 2041  params)..    # A
+000145f0: 5049 2d46 4c41 5720 7265 7475 726e 7320  PI-FLAW returns 
+00014600: 3430 3420 6966 2074 6865 7265 2061 7265  404 if there are
+00014610: 206e 6f20 7365 7373 696f 6e73 2072 756e   no sessions run
+00014620: 6e69 6e67 0a20 2020 2061 7379 6e63 2064  ning.    async d
+00014630: 6566 2067 6574 5f74 735f 7365 7373 696f  ef get_ts_sessio
+00014640: 6e5f 6964 280a 2020 2020 2020 2020 7365  n_id(.        se
+00014650: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+00014660: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
+00014670: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00014680: 2020 2020 2222 2247 6574 2054 726f 7562      """Get Troub
+00014690: 6c65 7368 6f6f 7469 6e67 2053 6573 7369  leshooting Sessi
+000146a0: 6f6e 2049 4420 666f 7220 6120 6465 7669  on ID for a devi
+000146b0: 6365 2e0a 0a20 2020 2020 2020 2041 7267  ce...        Arg
+000146c0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+000146d0: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+000146e0: 6961 6c20 6f66 2064 6576 6963 650a 0a20  ial of device.. 
+000146f0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00014700: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00014710: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00014720: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00014730: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00014740: 2020 2020 2075 726c 203d 2066 222f 7472       url = f"/tr
+00014750: 6f75 626c 6573 686f 6f74 696e 672f 7631  oubleshooting/v1
+00014760: 2f64 6576 6963 6573 2f7b 7365 7269 616c  /devices/{serial
+00014770: 7d2f 7365 7373 696f 6e22 0a0a 2020 2020  }/session"..    
+00014780: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00014790: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+000147a0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+000147b0: 745f 7364 7761 6e5f 6470 735f 706f 6c69  t_sdwan_dps_poli
+000147c0: 6379 5f63 6f6d 706c 6961 6e63 6528 7365  cy_compliance(se
+000147d0: 6c66 2c20 7469 6d65 5f66 7261 6d65 3a20  lf, time_frame: 
+000147e0: 7374 7220 3d20 226c 6173 745f 7765 656b  str = "last_week
+000147f0: 222c 206f 7264 6572 3a20 7374 7220 3d20  ", order: str = 
+00014800: 2262 6573 7422 2920 2d3e 2052 6573 706f  "best") -> Respo
+00014810: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
+00014820: 203d 2022 2f73 6477 616e 2d6d 6f6e 2d61   = "/sdwan-mon-a
+00014830: 7069 2f65 7874 6572 6e61 6c2f 6e6f 632f  pi/external/noc/
+00014840: 7265 706f 7274 732f 7761 6e2f 706f 6c69  reports/wan/poli
+00014850: 6379 2d63 6f6d 706c 6961 6e63 6522 0a20  cy-compliance". 
+00014860: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00014870: 7b22 7065 7269 6f64 223a 2074 696d 655f  {"period": time_
+00014880: 6672 616d 652c 2022 7265 7375 6c74 5f6f  frame, "result_o
+00014890: 7264 6572 223a 206f 7264 6572 2c20 2263  rder": order, "c
+000148a0: 6f75 6e74 223a 2032 3530 7d0a 2020 2020  ount": 250}.    
+000148b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000148c0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+000148d0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+000148e0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+000148f0: 5f74 6f70 6f5f 666f 725f 7369 7465 280a  _topo_for_site(.
+00014900: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00014910: 2020 2020 2020 7369 7465 5f69 643a 2069        site_id: i
+00014920: 6e74 2c0a 2020 2020 2920 2d3e 2052 6573  nt,.    ) -> Res
+00014930: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00014940: 2222 4765 7420 746f 706f 6c6f 6779 2064  ""Get topology d
+00014950: 6574 6169 6c73 206f 6620 6120 7369 7465  etails of a site
+00014960: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00014970: 0a20 2020 2020 2020 2020 2020 2073 6974  .            sit
+00014980: 655f 6964 2028 696e 7429 3a20 5369 7465  e_id (int): Site
+00014990: 2049 442e 0a0a 2020 2020 2020 2020 5265   ID...        Re
+000149a0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+000149b0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+000149c0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+000149d0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+000149e0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+000149f0: 3d20 6622 2f74 6f70 6f6c 6f67 795f 6578  = f"/topology_ex
+00014a00: 7465 726e 616c 5f61 7069 2f7b 7369 7465  ternal_api/{site
+00014a10: 5f69 647d 220a 0a20 2020 2020 2020 2072  _id}"..        r
+00014a20: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00014a30: 2e67 6574 2875 726c 290a 0a20 2020 2061  .get(url)..    a
+00014a40: 7379 6e63 2064 6566 2067 6574 5f61 705f  sync def get_ap_
+00014a50: 6c6c 6470 5f6e 6569 6768 626f 7228 7365  lldp_neighbor(se
+00014a60: 6c66 2c20 6465 7669 6365 5f73 6572 6961  lf, device_seria
+00014a70: 6c3a 2073 7472 2920 2d3e 2052 6573 706f  l: str) -> Respo
+00014a80: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00014a90: 4765 7420 6e65 6967 6862 6f72 2064 6574  Get neighbor det
+00014aa0: 6169 6c73 2072 6570 6f72 7465 6420 6279  ails reported by
+00014ab0: 2041 5020 7669 6120 4c4c 4450 2e0a 0a20   AP via LLDP... 
+00014ac0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00014ad0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+00014ae0: 7365 7269 616c 2028 7374 7229 3a20 4465  serial (str): De
+00014af0: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
+00014b00: 6572 2e0a 0a20 2020 2020 2020 2052 6574  er...        Ret
+00014b10: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+00014b20: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+00014b30: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+00014b40: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+00014b50: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+00014b60: 2066 222f 746f 706f 6c6f 6779 5f65 7874   f"/topology_ext
+00014b70: 6572 6e61 6c5f 6170 692f 6170 4e65 6967  ernal_api/apNeig
+00014b80: 6862 6f72 732f 7b64 6576 6963 655f 7365  hbors/{device_se
+00014b90: 7269 616c 7d22 0a0a 2020 2020 2020 2020  rial}"..        
+00014ba0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00014bb0: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+00014bc0: 6173 796e 6320 6465 6620 6765 745f 6378  async def get_cx
+00014bd0: 5f73 7769 7463 685f 6e65 6967 6862 6f72  _switch_neighbor
+00014be0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00014bf0: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
+00014c00: 2073 7472 2c0a 2020 2020 2920 2d3e 2052   str,.    ) -> R
+00014c10: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00014c20: 2022 2222 4765 7420 6c6c 6470 2064 6576   """Get lldp dev
+00014c30: 6963 6520 6e65 6967 6862 6f72 2069 6e66  ice neighbor inf
+00014c40: 6f20 666f 7220 4358 2073 7769 7463 682e  o for CX switch.
+00014c50: 0a0a 2020 2020 2020 2020 4966 2075 7365  ..        If use
+00014c60: 6420 6f6e 2041 4f53 2d53 5720 7769 6c6c  d on AOS-SW will
+00014c70: 206f 6e6c 7920 7265 7475 726e 206e 6569   only return nei
+00014c80: 6768 626f 7273 2074 6861 7420 6172 6520  ghbors that are 
+00014c90: 4358 2073 7769 7463 6865 730a 2020 2020  CX switches.    
+00014ca0: 2020 2020 466f 7220 6120 7374 6163 6b20      For a stack 
+00014cb0: 7468 6973 2077 696c 6c20 7265 7475 726e  this will return
+00014cc0: 206e 6569 6768 626f 7273 2066 6f72 2074   neighbors for t
+00014cd0: 6865 2069 6e64 6976 6964 7561 6c20 6d65  he individual me
+00014ce0: 6d62 6572 0a20 2020 2020 2020 2075 7365  mber.        use
+00014cf0: 2067 6574 5f63 785f 7377 6974 6368 5f73   get_cx_switch_s
+00014d00: 7461 636b 5f6e 6569 6768 626f 7273 2074  tack_neighbors t
+00014d10: 6f20 6765 7420 6e65 6967 6862 6f72 7320  o get neighbors 
+00014d20: 666f 7220 656e 7469 7265 2073 7461 636b  for entire stack
+00014d30: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00014d40: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+00014d50: 616c 2028 7374 7229 3a20 6964 206f 6620  al (str): id of 
+00014d60: 7468 6520 7377 6974 6368 0a0a 2020 2020  the switch..    
+00014d70: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00014d80: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00014d90: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00014da0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00014db0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00014dc0: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+00014dd0: 6f72 696e 672f 7631 2f63 785f 7377 6974  oring/v1/cx_swit
+00014de0: 6368 6573 2f7b 7365 7269 616c 7d2f 6e65  ches/{serial}/ne
+00014df0: 6967 6862 6f72 7322 0a0a 2020 2020 2020  ighbors"..      
+00014e00: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00014e10: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+00014e20: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00014e30: 6378 5f73 7769 7463 685f 7374 6163 6b5f  cx_switch_stack_
+00014e40: 6e65 6967 6862 6f72 7328 0a20 2020 2020  neighbors(.     
+00014e50: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00014e60: 2073 7461 636b 5f69 643a 2073 7472 2c0a   stack_id: str,.
+00014e70: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00014e80: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+00014e90: 7420 6c6c 6470 2064 6576 6963 6520 6e65  t lldp device ne
+00014ea0: 6967 6862 6f72 2069 6e66 6f20 666f 7220  ighbor info for 
+00014eb0: 4358 2073 7769 7463 6820 7374 6163 6b2e  CX switch stack.
+00014ec0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00014ed0: 2020 2020 2020 2020 2020 2020 7374 6163              stac
+00014ee0: 6b5f 6964 2028 7374 7229 3a20 4669 6c74  k_id (str): Filt
+00014ef0: 6572 2062 7920 7374 6163 6b5f 6964 0a0a  er by stack_id..
+00014f00: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00014f10: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00014f20: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00014f30: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00014f40: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00014f50: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
+00014f60: 6f6e 6974 6f72 696e 672f 7631 2f63 785f  onitoring/v1/cx_
+00014f70: 7377 6974 6368 5f73 7461 636b 732f 7b73  switch_stacks/{s
+00014f80: 7461 636b 5f69 647d 2f6e 6569 6768 626f  tack_id}/neighbo
+00014f90: 7273 220a 0a20 2020 2020 2020 2072 6574  rs"..        ret
+00014fa0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00014fb0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+00014fc0: 6e63 2064 6566 2067 6574 5f73 7769 7463  nc def get_switc
+00014fd0: 685f 7673 785f 6465 7461 696c 280a 2020  h_vsx_detail(.  
+00014fe0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00014ff0: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
+00015000: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00015010: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
+00015020: 6574 2073 7769 7463 6820 7673 7820 696e  et switch vsx in
+00015030: 666f 2066 6f72 2043 5820 7377 6974 6368  fo for CX switch
+00015040: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00015050: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+00015060: 6961 6c20 2873 7472 293a 2046 696c 7465  ial (str): Filte
+00015070: 7220 6279 2073 7769 7463 6820 7365 7269  r by switch seri
+00015080: 616c 0a0a 2020 2020 2020 2020 5265 7475  al..        Retu
+00015090: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000150a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+000150b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000150c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000150d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+000150e0: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
+000150f0: 2f63 785f 7377 6974 6368 6573 2f7b 7365  /cx_switches/{se
+00015100: 7269 616c 7d2f 7673 7822 0a0a 2020 2020  rial}/vsx"..    
+00015110: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00015120: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+00015130: 2020 2020 6173 796e 6320 6465 6620 646f      async def do
+00015140: 5f6d 756c 7469 5f67 726f 7570 5f73 6e61  _multi_group_sna
+00015150: 7073 686f 7428 0a20 2020 2020 2020 2073  pshot(.        s
+00015160: 656c 662c 0a20 2020 2020 2020 2062 6163  elf,.        bac
+00015170: 6b75 705f 6e61 6d65 3a20 7374 722c 0a20  kup_name: str,. 
+00015180: 2020 2020 2020 2069 6e63 6c75 6465 5f67         include_g
+00015190: 726f 7570 733a 2055 6e69 6f6e 5b6c 6973  roups: Union[lis
+000151a0: 742c 204c 6973 745b 7374 725d 5d20 3d20  t, List[str]] = 
+000151b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6578  None,.        ex
+000151c0: 636c 7564 655f 6772 6f75 7073 3a20 556e  clude_groups: Un
+000151d0: 696f 6e5b 6c69 7374 2c20 4c69 7374 5b73  ion[list, List[s
+000151e0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+000151f0: 2020 2020 2064 6f5f 6e6f 745f 6465 6c65       do_not_dele
+00015200: 7465 3a20 626f 6f6c 203d 2046 616c 7365  te: bool = False
+00015210: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00015220: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00015230: 2022 4372 6561 7465 206e 6577 2063 6f6e   "Create new con
+00015240: 6669 6775 7261 7469 6f6e 2062 6163 6b75  figuration backu
+00015250: 7020 666f 7220 6d75 6c74 6970 6c65 2067  p for multiple g
+00015260: 726f 7570 732e 220a 0a20 2020 2020 2020  roups."..       
+00015270: 2045 6974 6865 7220 696e 636c 7564 655f   Either include_
+00015280: 6772 6f75 7073 206f 7220 6578 636c 7564  groups or exclud
+00015290: 655f 6772 6f75 7073 2073 686f 756c 6420  e_groups should 
+000152a0: 6265 2070 726f 7669 6465 642c 2062 7574  be provided, but
+000152b0: 206e 6f74 2062 6f74 682e 0a0a 2020 2020   not both...    
+000152c0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+000152d0: 2020 2020 2020 6261 636b 7570 5f6e 616d        backup_nam
+000152e0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+000152f0: 2042 6163 6b75 700a 2020 2020 2020 2020   Backup.        
+00015300: 2020 2020 696e 636c 7564 655f 6772 6f75      include_grou
+00015310: 7073 2028 556e 696f 6e5b 6c69 7374 2c20  ps (Union[list, 
+00015320: 4c69 7374 5b73 7472 5d5d 2c20 6f70 7469  List[str]], opti
+00015330: 6f6e 616c 293a 2047 726f 7570 7320 746f  onal): Groups to
+00015340: 2069 6e63 6c75 6465 2069 6e20 4261 636b   include in Back
+00015350: 7570 2e20 4465 6661 756c 7473 2074 6f20  up. Defaults to 
+00015360: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00015370: 2020 6578 636c 7564 655f 6772 6f75 7073    exclude_groups
+00015380: 2028 556e 696f 6e5b 6c69 7374 2c20 4c69   (Union[list, Li
+00015390: 7374 5b73 7472 5d5d 2c20 6f70 7469 6f6e  st[str]], option
+000153a0: 616c 293a 2047 726f 7570 7320 746f 2045  al): Groups to E
+000153b0: 7863 6c75 6465 2069 6e20 4261 636b 7570  xclude in Backup
+000153c0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+000153d0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+000153e0: 646f 5f6e 6f74 5f64 656c 6574 6520 2862  do_not_delete (b
+000153f0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+00015400: 466c 6167 2074 6f20 7265 7072 6573 656e  Flag to represen
+00015410: 7420 6966 2074 6865 2073 6e61 7073 686f  t if the snapsho
+00015420: 7420 6361 6e20 6265 2064 656c 6574 6564  t can be deleted
+00015430: 2061 7574 6f6d 6174 6963 616c 6c79 0a20   automatically. 
+00015440: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00015450: 7920 7379 7374 656d 2077 6865 6e20 6372  y system when cr
+00015460: 6561 7469 6e67 206e 6577 2073 6e61 7073  eating new snaps
+00015470: 686f 7420 6f72 206e 6f74 2e20 4465 6661  hot or not. Defa
+00015480: 756c 7473 2074 6f20 4661 6c73 652e 0a0a  ults to False...
+00015490: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+000154a0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+000154b0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+000154c0: 204f 626a 6563 740a 2020 2020 2020 2020   Object.        
+000154d0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+000154e0: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+000154f0: 6e2f 7631 2f67 726f 7570 732f 736e 6170  n/v1/groups/snap
+00015500: 7368 6f74 2f62 6163 6b75 7073 220a 2020  shot/backups".  
+00015510: 2020 2020 2020 696e 636c 7564 655f 6772        include_gr
+00015520: 6f75 7073 203d 2075 7469 6c73 2e6c 6973  oups = utils.lis
+00015530: 7469 6679 2869 6e63 6c75 6465 5f67 726f  tify(include_gro
+00015540: 7570 7329 0a20 2020 2020 2020 2065 7863  ups).        exc
+00015550: 6c75 6465 5f67 726f 7570 7320 3d20 7574  lude_groups = ut
+00015560: 696c 732e 6c69 7374 6966 7928 6578 636c  ils.listify(excl
+00015570: 7564 655f 6772 6f75 7073 290a 2020 2020  ude_groups).    
+00015580: 2020 2020 7061 796c 6f61 6420 3d20 7b0a      payload = {.
+00015590: 2020 2020 2020 2020 2020 2020 2262 6163              "bac
+000155a0: 6b75 705f 6e61 6d65 223a 2062 6163 6b75  kup_name": backu
+000155b0: 705f 6e61 6d65 2c0a 2020 2020 2020 2020  p_name,.        
+000155c0: 2020 2020 2264 6f5f 6e6f 745f 6465 6c65      "do_not_dele
+000155d0: 7465 223a 2064 6f5f 6e6f 745f 6465 6c65  te": do_not_dele
+000155e0: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
+000155f0: 2269 6e63 6c75 6465 5f67 726f 7570 7322  "include_groups"
+00015600: 3a20 696e 636c 7564 655f 6772 6f75 7073  : include_groups
+00015610: 2c0a 2020 2020 2020 2020 2020 2020 2265  ,.            "e
+00015620: 7863 6c75 6465 5f67 726f 7570 7322 3a20  xclude_groups": 
+00015630: 6578 636c 7564 655f 6772 6f75 7073 2c0a  exclude_groups,.
+00015640: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00015650: 2020 7061 796c 6f61 6420 3d20 7365 6c66    payload = self
+00015660: 2e73 7472 6970 5f6e 6f6e 6528 7061 796c  .strip_none(payl
+00015670: 6f61 6429 0a20 2020 2020 2020 2072 6574  oad).        ret
+00015680: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00015690: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+000156a0: 7461 3d70 6179 6c6f 6164 290a 0a20 2020  ta=payload)..   
+000156b0: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
+000156c0: 6e61 7073 686f 7473 5f62 795f 6772 6f75  napshots_by_grou
+000156d0: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
+000156e0: 7472 293a 0a20 2020 2020 2020 2075 726c  tr):.        url
+000156f0: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+00015700: 696f 6e2f 7631 2f67 726f 7570 732f 7b67  ion/v1/groups/{g
+00015710: 726f 7570 7d2f 736e 6170 7368 6f74 7322  roup}/snapshots"
+00015720: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00015730: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00015740: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+00015750: 6566 2067 6574 5f67 775f 7475 6e6e 656c  ef get_gw_tunnel
+00015760: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00015770: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+00015780: 2020 2020 2020 7469 6d65 7261 6e67 653a        timerange:
+00015790: 2073 7472 203d 2022 314d 222c 0a20 2020   str = "1M",.   
+000157a0: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+000157b0: 3d20 3235 302c 0a20 2020 2020 2020 206f  = 250,.        o
+000157c0: 6666 7365 743a 2069 6e74 203d 2030 0a20  ffset: int = 0. 
+000157d0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000157e0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+000157f0: 2067 6174 6577 6179 2055 706c 696e 6b20   gateway Uplink 
+00015800: 7475 6e6e 656c 2064 6574 6169 6c73 2e0a  tunnel details..
+00015810: 0a20 2020 2020 2020 2055 7365 6420 6279  .        Used by
+00015820: 2077 685f 7072 6f78 792c 2063 7572 7265   wh_proxy, curre
+00015830: 6e74 6c79 206e 6f74 2075 7365 6420 6279  ntly not used by
+00015840: 2061 2063 6f6d 6d61 6e64 2077 696c 6c20   a command will 
+00015850: 6265 2069 6e20 7368 6f77 2067 6174 6577  be in show gatew
+00015860: 6179 2074 756e 6e65 6c73 0a0a 2020 2020  ay tunnels..    
+00015870: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00015880: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+00015890: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
+000158a0: 7220 6f66 206d 6f62 696c 6974 7920 636f  r of mobility co
+000158b0: 6e74 726f 6c6c 6572 2074 6f20 6265 2071  ntroller to be q
+000158c0: 7565 7269 6564 0a20 2020 2020 2020 2020  ueried.         
+000158d0: 2020 2074 696d 6572 616e 6765 2028 7374     timerange (st
+000158e0: 7229 3a20 5469 6d65 2072 616e 6765 2066  r): Time range f
+000158f0: 6f72 2074 756e 6e65 6c20 7374 6174 7320  or tunnel stats 
+00015900: 696e 666f 726d 6174 696f 6e2e 0a20 2020  information..   
+00015910: 2020 2020 2020 2020 2020 2020 2033 4820               3H 
+00015920: 3d20 3320 486f 7572 732c 2031 4420 3d20  = 3 Hours, 1D = 
+00015930: 3120 4461 792c 2031 5720 3d20 3120 5765  1 Day, 1W = 1 We
+00015940: 656b 2c20 314d 203d 2031 4d6f 6e74 682c  ek, 1M = 1Month,
+00015950: 2033 4d20 3d20 334d 6f6e 7468 732e 0a20   3M = 3Months.. 
+00015960: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00015970: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00015980: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
+00015990: 6974 2e20 4d61 783a 2031 3030 3020 4465  it. Max: 1000 De
+000159a0: 6661 756c 7473 2074 6f20 3235 302e 0a20  faults to 250.. 
+000159b0: 2020 2020 2020 2020 2020 206f 6666 7365             offse
+000159c0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+000159d0: 293a 2050 6167 696e 6174 696f 6e20 6f66  ): Pagination of
+000159e0: 6673 6574 2044 6566 6175 6c74 7320 746f  fset Defaults to
+000159f0: 2030 2e0a 0a20 2020 2020 2020 2052 6574   0...        Ret
+00015a00: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+00015a10: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+00015a20: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+00015a30: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+00015a40: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+00015a50: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+00015a60: 312f 6761 7465 7761 7973 2f7b 7365 7269  1/gateways/{seri
+00015a70: 616c 7d2f 7475 6e6e 656c 7322 0a0a 2020  al}/tunnels"..  
+00015a80: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00015a90: 0a20 2020 2020 2020 2020 2020 2022 7469  .            "ti
+00015aa0: 6d65 7261 6e67 6522 3a20 7469 6d65 7261  merange": timera
+00015ab0: 6e67 652c 0a20 2020 2020 2020 2020 2020  nge,.           
+00015ac0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+00015ad0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+00015ae0: 6c69 6d69 7422 3a20 6c69 6d69 740a 2020  limit": limit.  
+00015af0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00015b00: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00015b10: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+00015b20: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+00015b30: 2320 4150 492d 464c 4157 206d 6178 206c  # API-FLAW max l
+00015b40: 696d 6974 2031 3030 2065 6e66 6f72 6365  imit 100 enforce
+00015b50: 6420 6966 2079 6f75 2070 726f 7669 6465  d if you provide
+00015b60: 2074 6865 206c 696d 6974 2070 6172 616d   the limit param
+00015b70: 6574 6572 2c20 6f74 6865 7277 6973 6520  eter, otherwise 
+00015b80: 6e6f 206c 696d 6974 3f20 7265 7475 726e  no limit? return
+00015b90: 6564 2038 3131 2077 2f20 6e6f 2070 6172  ed 811 w/ no par
+00015ba0: 616d 2070 726f 7669 6465 640a 2020 2020  am provided.    
+00015bb0: 2320 4150 492d 464c 4157 2064 6f65 7320  # API-FLAW does 
+00015bc0: 6e6f 7420 7265 7475 726e 2061 6c6c 206c  not return all l
+00015bd0: 6f67 7320 6176 6169 6c61 626c 6520 696e  ogs available in
+00015be0: 2055 4920 7774 663f 3f0a 2020 2020 6173   UI wtf??.    as
+00015bf0: 796e 6320 6465 6620 6765 745f 6175 6469  ync def get_audi
+00015c00: 745f 6c6f 6773 280a 2020 2020 2020 2020  t_logs(.        
+00015c10: 7365 6c66 2c0a 2020 2020 2020 2020 6c6f  self,.        lo
+00015c20: 675f 6964 3a20 7374 7220 3d20 4e6f 6e65  g_id: str = None
+00015c30: 2c0a 2020 2020 2020 2020 7573 6572 6e61  ,.        userna
+00015c40: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+00015c50: 2020 2020 2020 2020 7374 6172 745f 7469          start_ti
+00015c60: 6d65 3a20 696e 7420 3d20 4e6f 6e65 2c0a  me: int = None,.
+00015c70: 2020 2020 2020 2020 656e 645f 7469 6d65          end_time
+00015c80: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+00015c90: 2020 2020 2020 6465 7363 7269 7074 696f        descriptio
+00015ca0: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00015cb0: 2020 2020 2020 2074 6172 6765 743a 2073         target: s
+00015cc0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00015cd0: 2020 2063 6c61 7373 6966 6963 6174 696f     classificatio
+00015ce0: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00015cf0: 2020 2020 2020 2063 7573 746f 6d65 725f         customer_
+00015d00: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
+00015d10: 2c0a 2020 2020 2020 2020 6970 5f61 6464  ,.        ip_add
+00015d20: 7265 7373 3a20 7374 7220 3d20 4e6f 6e65  ress: str = None
+00015d30: 2c0a 2020 2020 2020 2020 6170 705f 6964  ,.        app_id
+00015d40: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00015d50: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+00015d60: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+00015d70: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
+00015d80: 0a20 2020 2020 2020 2063 6f75 6e74 3a20  .        count: 
+00015d90: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00015da0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00015db0: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
+00015dc0: 6c20 6175 6469 7420 6c6f 6773 2e0a 0a20  l audit logs... 
+00015dd0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00015de0: 2020 2020 2020 2020 206c 6f67 5f69 6420           log_id 
+00015df0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00015e00: 2054 6865 2069 6420 6f66 2074 6865 206c   The id of the l
+00015e10: 6f67 2074 6f20 7265 7475 726e 2064 6574  og to return det
+00015e20: 6169 6c73 2066 6f72 2e20 4465 6661 756c  ails for. Defaul
+00015e30: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00015e40: 2020 2020 2020 2020 7573 6572 6e61 6d65          username
+00015e50: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00015e60: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
+00015e70: 6f67 7320 6279 2055 7365 7220 4e61 6d65  ogs by User Name
+00015e80: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+00015e90: 7274 5f74 696d 6520 2869 6e74 2c20 6f70  rt_time (int, op
+00015ea0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00015eb0: 6175 6469 7420 6c6f 6773 2062 7920 5469  audit logs by Ti
+00015ec0: 6d65 2052 616e 6765 2e20 5374 6172 7420  me Range. Start 
+00015ed0: 7469 6d65 206f 6620 7468 6520 6175 6469  time of the audi
+00015ee0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+00015ef0: 2020 6c6f 6773 2073 686f 756c 6420 6265    logs should be
+00015f00: 2070 726f 7669 6465 6420 696e 2065 706f   provided in epo
+00015f10: 6368 2073 6563 6f6e 6473 0a20 2020 2020  ch seconds.     
+00015f20: 2020 2020 2020 2065 6e64 5f74 696d 6520         end_time 
+00015f30: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00015f40: 2046 696c 7465 7220 6175 6469 7420 6c6f   Filter audit lo
+00015f50: 6773 2062 7920 5469 6d65 2052 616e 6765  gs by Time Range
+00015f60: 2e20 456e 6420 7469 6d65 206f 6620 7468  . End time of th
+00015f70: 6520 6175 6469 7420 6c6f 6773 0a20 2020  e audit logs.   
+00015f80: 2020 2020 2020 2020 2020 2020 2073 686f               sho
+00015f90: 756c 6420 6265 2070 726f 7669 6465 6420  uld be provided 
+00015fa0: 696e 2065 706f 6368 2073 6563 6f6e 6473  in epoch seconds
+00015fb0: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
+00015fc0: 6372 6970 7469 6f6e 2028 7374 722c 206f  cription (str, o
+00015fd0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00015fe0: 2061 7564 6974 206c 6f67 7320 6279 2044   audit logs by D
+00015ff0: 6573 6372 6970 7469 6f6e 0a20 2020 2020  escription.     
+00016000: 2020 2020 2020 2074 6172 6765 7420 2873         target (s
+00016010: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00016020: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
+00016030: 2062 7920 7461 7267 6574 2028 7365 7269   by target (seri
+00016040: 616c 206e 756d 6265 7229 2e0a 2020 2020  al number)..    
+00016050: 2020 2020 2020 2020 636c 6173 7369 6669          classifi
+00016060: 6361 7469 6f6e 2028 7374 722c 206f 7074  cation (str, opt
+00016070: 696f 6e61 6c29 3a20 4669 6c74 6572 2061  ional): Filter a
+00016080: 7564 6974 206c 6f67 7320 6279 2043 6c61  udit logs by Cla
+00016090: 7373 6966 6963 6174 696f 6e0a 2020 2020  ssification.    
+000160a0: 2020 2020 2020 2020 6375 7374 6f6d 6572          customer
+000160b0: 5f6e 616d 6520 2873 7472 2c20 6f70 7469  _name (str, opti
+000160c0: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
+000160d0: 6469 7420 6c6f 6773 2062 7920 4375 7374  dit logs by Cust
+000160e0: 6f6d 6572 204e 616d 650a 2020 2020 2020  omer Name.      
+000160f0: 2020 2020 2020 6970 5f61 6464 7265 7373        ip_address
+00016100: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00016110: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
+00016120: 6f67 7320 6279 2049 5020 4164 6472 6573  ogs by IP Addres
+00016130: 730a 2020 2020 2020 2020 2020 2020 6170  s.            ap
+00016140: 705f 6964 2028 7374 722c 206f 7074 696f  p_id (str, optio
+00016150: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
+00016160: 6974 206c 6f67 7320 6279 2061 7070 5f69  it logs by app_i
+00016170: 640a 2020 2020 2020 2020 2020 2020 6f66  d.            of
+00016180: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+00016190: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
+000161a0: 6974 656d 7320 746f 2062 6520 736b 6970  items to be skip
+000161b0: 7065 6420 6265 666f 7265 2072 6574 7572  ped before retur
+000161c0: 6e69 6e67 2074 6865 2064 6174 612e 0a20  ning the data.. 
+000161d0: 2020 2020 2020 2020 2020 2020 2020 2044                 D
+000161e0: 6566 6175 6c74 2074 6f20 302e 0a20 2020  efault to 0..   
+000161f0: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+00016200: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00016210: 4d61 7869 6d75 6d20 6e75 6d62 6572 206f  Maximum number o
+00016220: 6620 6175 6469 7420 6576 656e 7473 2074  f audit events t
+00016230: 6f20 6265 2072 6574 7572 6e65 6420 6d61  o be returned ma
+00016240: 783a 2031 3030 0a20 2020 2020 2020 2020  x: 100.         
+00016250: 2020 2020 2020 2044 6566 6175 6c74 7320         Defaults 
+00016260: 746f 2031 3030 2e0a 2020 2020 2020 2020  to 100..        
+00016270: 2020 2020 636f 756e 743a 204f 6e6c 7920      count: Only 
+00016280: 7265 7475 726e 203c 636f 756e 743e 2072  return <count> r
+00016290: 6573 756c 7473 2e0a 0a20 2020 2020 2020  esults...       
+000162a0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+000162b0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+000162c0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+000162d0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000162e0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+000162f0: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
+00016300: 6175 6469 746c 6f67 732f 7631 2f6c 6f67  auditlogs/v1/log
+00016310: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+00016320: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+00016330: 2020 2022 7573 6572 6e61 6d65 223a 2075     "username": u
+00016340: 7365 726e 616d 652c 0a20 2020 2020 2020  sername,.       
+00016350: 2020 2020 2022 7374 6172 745f 7469 6d65       "start_time
+00016360: 223a 2073 7461 7274 5f74 696d 652c 0a20  ": start_time,. 
+00016370: 2020 2020 2020 2020 2020 2022 656e 645f             "end_
+00016380: 7469 6d65 223a 2065 6e64 5f74 696d 652c  time": end_time,
+00016390: 0a20 2020 2020 2020 2020 2020 2022 6465  .            "de
+000163a0: 7363 7269 7074 696f 6e22 3a20 6465 7363  scription": desc
+000163b0: 7269 7074 696f 6e2c 0a20 2020 2020 2020  ription,.       
+000163c0: 2020 2020 2022 7461 7267 6574 223a 2074       "target": t
+000163d0: 6172 6765 742c 0a20 2020 2020 2020 2020  arget,.         
+000163e0: 2020 2022 636c 6173 7369 6669 6361 7469     "classificati
+000163f0: 6f6e 223a 2063 6c61 7373 6966 6963 6174  on": classificat
+00016400: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+00016410: 2022 6375 7374 6f6d 6572 5f6e 616d 6522   "customer_name"
+00016420: 3a20 6375 7374 6f6d 6572 5f6e 616d 652c  : customer_name,
+00016430: 0a20 2020 2020 2020 2020 2020 2022 6970  .            "ip
+00016440: 5f61 6464 7265 7373 223a 2069 705f 6164  _address": ip_ad
+00016450: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
+00016460: 2020 2022 6170 705f 6964 223a 2061 7070     "app_id": app
+00016470: 5f69 6420 6966 206e 6f74 2068 6173 6174  _id if not hasat
+00016480: 7472 2861 7070 5f69 642c 2022 7661 6c75  tr(app_id, "valu
+00016490: 6522 2920 656c 7365 2061 7070 5f69 642e  e") else app_id.
+000164a0: 7661 6c75 652c 0a20 2020 2020 2020 2020  value,.         
+000164b0: 2020 2022 6f66 6673 6574 223a 206f 6666     "offset": off
+000164c0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+000164d0: 2022 6c69 6d69 7422 3a20 6c69 6d69 7420   "limit": limit 
+000164e0: 6966 206e 6f74 2063 6f75 6e74 206f 7220  if not count or 
+000164f0: 6c69 6d69 7420 3c20 636f 756e 7420 656c  limit < count el
+00016500: 7365 2063 6f75 6e74 2c0a 2020 2020 2020  se count,.      
+00016510: 2020 7d0a 0a20 2020 2020 2020 2069 6620    }..        if 
+00016520: 6c6f 675f 6964 3a0a 2020 2020 2020 2020  log_id:.        
+00016530: 2020 2020 7572 6c20 3d20 6622 7b75 726c      url = f"{url
+00016540: 7d2f 7b6c 6f67 5f69 647d 220a 2020 2020  }/{log_id}".    
+00016550: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00016560: 207b 7d0a 0a20 2020 2020 2020 2072 6574   {}..        ret
+00016570: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00016580: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00016590: 6172 616d 732c 2063 6f75 6e74 3d63 6f75  arams, count=cou
+000165a0: 6e74 290a 0a20 2020 2061 7379 6e63 2064  nt)..    async d
+000165b0: 6566 2067 6574 5f61 7564 6974 5f6c 6f67  ef get_audit_log
+000165c0: 735f 6576 656e 7473 280a 2020 2020 2020  s_events(.      
+000165d0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000165e0: 6772 6f75 705f 6e61 6d65 3a20 7374 7220  group_name: str 
+000165f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00016600: 6465 7669 6365 5f69 643a 2073 7472 203d  device_id: str =
+00016610: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+00016620: 6c61 7373 6966 6963 6174 696f 6e3a 2073  lassification: s
+00016630: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00016640: 2020 2073 7461 7274 5f74 696d 653a 2069     start_time: i
+00016650: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00016660: 2020 2065 6e64 5f74 696d 653a 2069 6e74     end_time: int
+00016670: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00016680: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+00016690: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+000166a0: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+000166b0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+000166c0: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
+000166d0: 6c20 6175 6469 7420 6576 656e 7473 2066  l audit events f
+000166e0: 6f72 2061 6c6c 2067 726f 7570 732e 0a0a  or all groups...
+000166f0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00016700: 2020 2020 2020 2020 2020 6772 6f75 705f            group_
+00016710: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
+00016720: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
+00016730: 6974 2065 7665 6e74 7320 6279 2047 726f  it events by Gro
+00016740: 7570 204e 616d 650a 2020 2020 2020 2020  up Name.        
+00016750: 2020 2020 6465 7669 6365 5f69 6420 2873      device_id (s
+00016760: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00016770: 696c 7465 7220 6175 6469 7420 6576 656e  ilter audit even
+00016780: 7473 2062 7920 5461 7267 6574 202f 2044  ts by Target / D
+00016790: 6576 6963 6520 4944 2e20 4465 7669 6365  evice ID. Device
+000167a0: 2049 4420 666f 7220 4150 0a20 2020 2020   ID for AP.     
+000167b0: 2020 2020 2020 2020 2020 2069 7320 5643             is VC
+000167c0: 204e 616d 6520 616e 6420 5365 7269 616c   Name and Serial
+000167d0: 204e 756d 6265 7220 666f 7220 5377 6974   Number for Swit
+000167e0: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
+000167f0: 2063 6c61 7373 6966 6963 6174 696f 6e20   classification 
+00016800: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00016810: 2046 696c 7465 7220 6175 6469 7420 6576   Filter audit ev
+00016820: 656e 7473 2062 7920 636c 6173 7369 6669  ents by classifi
+00016830: 6361 7469 6f6e 0a20 2020 2020 2020 2020  cation.         
+00016840: 2020 2073 7461 7274 5f74 696d 6520 2869     start_time (i
+00016850: 6e74 2c20 6f70 7469 6f6e 616c 293a 2046  nt, optional): F
+00016860: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
+00016870: 2062 7920 5469 6d65 2052 616e 6765 2e20   by Time Range. 
+00016880: 5374 6172 7420 7469 6d65 206f 6620 7468  Start time of th
+00016890: 6520 6175 6469 740a 2020 2020 2020 2020  e audit.        
+000168a0: 2020 2020 2020 2020 6c6f 6773 2073 686f          logs sho
+000168b0: 756c 6420 6265 2070 726f 7669 6465 6420  uld be provided 
+000168c0: 696e 2065 706f 6368 2073 6563 6f6e 6473  in epoch seconds
+000168d0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
+000168e0: 5f74 696d 6520 2869 6e74 2c20 6f70 7469  _time (int, opti
+000168f0: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
+00016900: 6469 7420 6c6f 6773 2062 7920 5469 6d65  dit logs by Time
+00016910: 2052 616e 6765 2e20 456e 6420 7469 6d65   Range. End time
+00016920: 206f 6620 7468 6520 6175 6469 7420 6c6f   of the audit lo
+00016930: 6773 0a20 2020 2020 2020 2020 2020 2020  gs.             
+00016940: 2020 2073 686f 756c 6420 6265 2070 726f     should be pro
+00016950: 7669 6465 6420 696e 2065 706f 6368 2073  vided in epoch s
+00016960: 6563 6f6e 6473 0a20 2020 2020 2020 2020  econds.         
+00016970: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+00016980: 6f70 7469 6f6e 616c 293a 204e 756d 6265  optional): Numbe
+00016990: 7220 6f66 2069 7465 6d73 2074 6f20 6265  r of items to be
+000169a0: 2073 6b69 7070 6564 2062 6566 6f72 6520   skipped before 
+000169b0: 7265 7475 726e 696e 6720 7468 6520 6461  returning the da
+000169c0: 7461 2c20 7573 6566 756c 0a20 2020 2020  ta, useful.     
+000169d0: 2020 2020 2020 2020 2020 2066 6f72 2070             for p
+000169e0: 6167 696e 6174 696f 6e20 4465 6661 756c  agination Defaul
+000169f0: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
+00016a00: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
+00016a10: 206f 7074 696f 6e61 6c29 3a20 4d61 7869   optional): Maxi
+00016a20: 6d75 6d20 6e75 6d62 6572 206f 6620 6175  mum number of au
+00016a30: 6469 7420 6576 656e 7473 2074 6f20 6265  dit events to be
+00016a40: 2072 6574 7572 6e65 6420 4465 6661 756c   returned Defaul
+00016a50: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
+00016a60: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00016a70: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00016a80: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00016a90: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00016aa0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00016ab0: 2020 7572 6c20 3d20 222f 6175 6469 746c    url = "/auditl
+00016ac0: 6f67 732f 7631 2f65 7665 6e74 7322 0a0a  ogs/v1/events"..
+00016ad0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00016ae0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00016af0: 6772 6f75 705f 6e61 6d65 273a 2067 726f  group_name': gro
+00016b00: 7570 5f6e 616d 652c 0a20 2020 2020 2020  up_name,.       
+00016b10: 2020 2020 2027 6465 7669 6365 5f69 6427       'device_id'
+00016b20: 3a20 6465 7669 6365 5f69 642c 0a20 2020  : device_id,.   
+00016b30: 2020 2020 2020 2020 2027 636c 6173 7369           'classi
+00016b40: 6669 6361 7469 6f6e 273a 2063 6c61 7373  fication': class
+00016b50: 6966 6963 6174 696f 6e2c 0a20 2020 2020  ification,.     
+00016b60: 2020 2020 2020 2027 7374 6172 745f 7469         'start_ti
+00016b70: 6d65 273a 2073 7461 7274 5f74 696d 652c  me': start_time,
+00016b80: 0a20 2020 2020 2020 2020 2020 2027 656e  .            'en
+00016b90: 645f 7469 6d65 273a 2065 6e64 5f74 696d  d_time': end_tim
+00016ba0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00016bb0: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
+00016bc0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00016bd0: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
+00016be0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00016bf0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00016c00: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00016c10: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+00016c20: 796e 6320 6465 6620 6372 6561 7465 5f73  ync def create_s
+00016c30: 6974 6528 0a20 2020 2020 2020 2073 656c  ite(.        sel
+00016c40: 662c 0a20 2020 2020 2020 2073 6974 655f  f,.        site_
+00016c50: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
+00016c60: 2c0a 2020 2020 2020 2020 6164 6472 6573  ,.        addres
+00016c70: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
+00016c80: 2020 2020 2020 2063 6974 793a 2073 7472         city: str
+00016c90: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00016ca0: 2073 7461 7465 3a20 7374 7220 3d20 4e6f   state: str = No
+00016cb0: 6e65 2c0a 2020 2020 2020 2020 636f 756e  ne,.        coun
+00016cc0: 7472 793a 2073 7472 203d 204e 6f6e 652c  try: str = None,
+00016cd0: 0a20 2020 2020 2020 207a 6970 636f 6465  .        zipcode
+00016ce0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00016cf0: 2020 2020 2020 6c61 7469 7475 6465 3a20        latitude: 
+00016d00: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00016d10: 2020 2020 6c6f 6e67 6974 7564 653a 2069      longitude: i
+00016d20: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00016d30: 2020 2073 6974 655f 6c69 7374 3a20 4c69     site_list: Li
+00016d40: 7374 5b44 6963 745b 7374 722c 2055 6e69  st[Dict[str, Uni
+00016d50: 6f6e 5b73 7472 2c20 6469 6374 5d5d 5d20  on[str, dict]]] 
+00016d60: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
+00016d70: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00016d80: 2020 2022 2222 4372 6561 7465 2053 6974     """Create Sit
+00016d90: 650a 0a20 2020 2020 2020 2045 6974 6865  e..        Eithe
+00016da0: 7220 6164 6472 6573 7320 696e 666f 726d  r address inform
+00016db0: 6174 696f 6e20 6f72 2047 656f 4c6f 6361  ation or GeoLoca
+00016dc0: 7469 6f6e 2069 6e66 6f72 6d61 7469 6f6e  tion information
+00016dd0: 2069 7320 7265 7175 6972 6564 2e20 2046   is required.  F
+00016de0: 6f72 2047 656f 6c6f 6361 7469 6f6e 2061  or Geolocation a
+00016df0: 7474 7269 6275 7465 730a 2020 2020 2020  ttributes.      
+00016e00: 2020 616c 6c20 6174 7472 6962 7574 6573    all attributes
+00016e10: 2061 7265 2072 6571 7569 7265 642e 2020   are required.  
+00016e20: 4f72 2061 204c 6973 745b 6469 6374 5d20  Or a List[dict] 
+00016e30: 7769 7468 206d 756c 7469 706c 6520 7369  with multiple si
+00016e40: 7465 7320 746f 2062 6520 6164 6465 6420  tes to be added 
+00016e50: 636f 6e74 6169 6e69 6e67 2065 6974 6865  containing eithe
+00016e60: 720a 2020 2020 2020 2020 2773 6974 655f  r.        'site_
+00016e70: 6164 6472 6573 7327 206f 7220 2767 656f  address' or 'geo
+00016e80: 6c6f 6361 7469 6f6e 2720 6174 7472 6962  location' attrib
+00016e90: 7574 6573 2066 6f72 2065 6163 6820 7369  utes for each si
+00016ea0: 7465 2e0a 0a20 2020 2020 2020 2041 7267  te...        Arg
+00016eb0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00016ec0: 6974 655f 6e61 6d65 2028 7374 722c 206f  ite_name (str, o
+00016ed0: 7074 696f 6e61 6c29 3a20 5369 7465 204e  ptional): Site N
+00016ee0: 616d 652e 2044 6566 6175 6c74 7320 746f  ame. Defaults to
+00016ef0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00016f00: 2020 2061 6464 7265 7373 2028 7374 722c     address (str,
+00016f10: 206f 7074 696f 6e61 6c29 3a20 4164 6472   optional): Addr
+00016f20: 6573 732e 2044 6566 6175 6c74 7320 746f  ess. Defaults to
+00016f30: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00016f40: 2020 2063 6974 7920 2873 7472 2c20 6f70     city (str, op
+00016f50: 7469 6f6e 616c 293a 2043 6974 792e 2044  tional): City. D
+00016f60: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00016f70: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+00016f80: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
+00016f90: 6c29 3a20 5374 6174 652e 2044 6566 6175  l): State. Defau
+00016fa0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00016fb0: 2020 2020 2020 2020 2063 6f75 6e74 7279           country
+00016fc0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00016fd0: 3a20 436f 756e 7472 7920 4e61 6d65 2e20  : Country Name. 
+00016fe0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00016ff0: 2e0a 2020 2020 2020 2020 2020 2020 7a69  ..            zi
+00017000: 7063 6f64 6520 2873 7472 2c20 6f70 7469  pcode (str, opti
+00017010: 6f6e 616c 293a 205a 6970 636f 6465 2e20  onal): Zipcode. 
+00017020: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00017030: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
+00017040: 7469 7475 6465 2028 696e 742c 206f 7074  titude (int, opt
+00017050: 696f 6e61 6c29 3a20 4c61 7469 7475 6465  ional): Latitude
+00017060: 2028 696e 2074 6865 2072 616e 6765 206f   (in the range o
+00017070: 6620 2d39 3020 616e 6420 3930 292e 2044  f -90 and 90). D
+00017080: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00017090: 0a20 2020 2020 2020 2020 2020 206c 6f6e  .            lon
+000170a0: 6769 7475 6465 2028 696e 742c 206f 7074  gitude (int, opt
+000170b0: 696f 6e61 6c29 3a20 4c6f 6e67 6974 7564  ional): Longitud
+000170c0: 6520 2869 6e20 7468 6520 7261 6e67 6520  e (in the range 
+000170d0: 6f66 202d 3130 3020 616e 6420 3138 3029  of -100 and 180)
+000170e0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+000170f0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+00017100: 7369 7465 5f6c 6973 7420 284c 6973 745b  site_list (List[
+00017110: 4469 6374 5b73 7472 2c20 556e 696f 6e5b  Dict[str, Union[
+00017120: 7374 722c 2064 6963 745d 5d5d 2c20 6f70  str, dict]]], op
+00017130: 7469 6f6e 616c 293a 2041 206c 6973 7420  tional): A list 
+00017140: 6f66 2073 6974 6573 2074 6f20 6265 2063  of sites to be c
+00017150: 7265 6174 6564 2e20 4465 6661 756c 7473  reated. Defaults
+00017160: 2074 6f20 4e6f 6e65 2e0a 0a20 2020 2020   to None...     
+00017170: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00017180: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00017190: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+000171a0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+000171b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000171c0: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
+000171d0: 2f76 322f 7369 7465 7322 0a0a 2020 2020  /v2/sites"..    
+000171e0: 2020 2020 6164 6472 6573 735f 6469 6374      address_dict
+000171f0: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
+00017200: 6f6e 6528 7b22 6164 6472 6573 7322 3a20  one({"address": 
+00017210: 6164 6472 6573 732c 2022 6369 7479 223a  address, "city":
+00017220: 2063 6974 792c 2022 7374 6174 6522 3a20   city, "state": 
+00017230: 7374 6174 652c 2022 636f 756e 7472 7922  state, "country"
+00017240: 3a20 636f 756e 7472 792c 2022 7a69 7063  : country, "zipc
+00017250: 6f64 6522 3a20 7a69 7063 6f64 657d 290a  ode": zipcode}).
+00017260: 2020 2020 2020 2020 6765 6f5f 6469 6374          geo_dict
+00017270: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
+00017280: 6f6e 6528 7b22 6c61 7469 7475 6465 223a  one({"latitude":
+00017290: 206c 6174 6974 7564 652c 2022 6c6f 6e67   latitude, "long
+000172a0: 6974 7564 6522 3a20 6c6f 6e67 6974 7564  itude": longitud
+000172b0: 657d 290a 2020 2020 2020 2020 6a73 6f6e  e}).        json
+000172c0: 5f64 6174 6120 3d20 7b22 7369 7465 5f6e  _data = {"site_n
+000172d0: 616d 6522 3a20 7369 7465 5f6e 616d 657d  ame": site_name}
+000172e0: 0a20 2020 2020 2020 2069 6620 6164 6472  .        if addr
+000172f0: 6573 735f 6469 6374 3a0a 2020 2020 2020  ess_dict:.      
+00017300: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
+00017310: 2273 6974 655f 6164 6472 6573 7322 5d20  "site_address"] 
+00017320: 3d20 6164 6472 6573 735f 6469 6374 0a20  = address_dict. 
+00017330: 2020 2020 2020 2069 6620 6765 6f5f 6469         if geo_di
+00017340: 6374 3a0a 2020 2020 2020 2020 2020 2020  ct:.            
+00017350: 6a73 6f6e 5f64 6174 615b 2267 656f 6c6f  json_data["geolo
+00017360: 6361 7469 6f6e 225d 203d 2067 656f 5f64  cation"] = geo_d
+00017370: 6963 740a 0a20 2020 2020 2020 2023 2054  ict..        # T
+00017380: 4f44 4f20 7265 7665 7274 2074 6869 7320  ODO revert this 
+00017390: 746f 2073 696e 676c 6520 7369 7465 2061  to single site a
+000173a0: 6464 2061 6e64 2075 7365 2062 6174 6368  dd and use batch
+000173b0: 5f61 6464 5f73 6974 6520 6d65 7468 6f64  _add_site method
+000173c0: 2066 6f72 206d 756c 7469 2d61 6464 0a20   for multi-add. 
+000173d0: 2020 2020 2020 2069 6620 7369 7465 5f6c         if site_l
+000173e0: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
+000173f0: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
+00017400: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+00017410: 6e5f 6461 7461 3d73 6974 655f 6c69 7374  n_data=site_list
+00017420: 5b30 5d29 0a20 2020 2020 2020 2020 2020  [0]).           
+00017430: 2069 6620 6e6f 7420 7265 7370 3a0a 2020   if not resp:.  
+00017440: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00017450: 7475 726e 2072 6573 700a 2020 2020 2020  turn resp.      
+00017460: 2020 2020 2020 6966 206c 656e 2873 6974        if len(sit
+00017470: 655f 6c69 7374 2920 3e20 313a 0a20 2020  e_list) > 1:.   
+00017480: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00017490: 203d 2061 7761 6974 2073 656c 662e 5f62   = await self._b
+000174a0: 6174 6368 5f72 6571 7565 7374 280a 2020  atch_request(.  
+000174b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174c0: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
+000174d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000174e0: 2e42 6174 6368 5265 7175 6573 7428 7365  .BatchRequest(se
+000174f0: 6c66 2e70 6f73 742c 2028 7572 6c2c 292c  lf.post, (url,),
+00017500: 206a 736f 6e5f 6461 7461 3d5f 6a73 6f6e   json_data=_json
+00017510: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
+00017520: 6572 2e5f 756e 6c69 7374 290a 2020 2020  er._unlist).    
+00017530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017540: 2020 2020 666f 7220 5f6a 736f 6e20 696e      for _json in
+00017550: 2073 6974 655f 6c69 7374 5b31 3a5d 0a20   site_list[1:]. 
+00017560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017570: 2020 205d 0a20 2020 2020 2020 2020 2020     ].           
+00017580: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00017590: 2020 2020 2020 2072 6574 7572 6e20 5b72         return [r
+000175a0: 6573 702c 202a 7265 745d 0a20 2020 2020  esp, *ret].     
+000175b0: 2020 2020 2020 2020 2020 2023 2072 6573             # res
+000175c0: 705f 6c69 7374 203d 2063 6c65 616e 6572  p_list = cleaner
+000175d0: 2e5f 756e 6c69 7374 280a 2020 2020 2020  ._unlist(.      
+000175e0: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+000175f0: 5b61 7761 6974 2061 7379 6e63 696f 2e67  [await asyncio.g
+00017600: 6174 6865 7228 7365 6c66 2e70 6f73 7428  ather(self.post(
+00017610: 7572 6c2c 206a 736f 6e5f 6461 7461 3d5f  url, json_data=_
+00017620: 6a73 6f6e 2c20 6361 6c6c 6261 636b 3d63  json, callback=c
+00017630: 6c65 616e 6572 2e5f 756e 6c69 7374 2929  leaner._unlist))
+00017640: 2066 6f72 205f 6a73 6f6e 2069 6e20 7369   for _json in si
+00017650: 7465 5f6c 6973 745b 313a 5d5d 0a20 2020  te_list[1:]].   
+00017660: 2020 2020 2020 2020 2020 2020 2023 2029               # )
+00017670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017680: 2023 2023 2054 4f44 4f20 6d61 6b65 206d   # # TODO make m
+00017690: 756c 7469 2072 6573 706f 6e73 6520 7061  ulti response pa
+000176a0: 636b 696e 6720 6675 6e63 7469 6f6e 0a20  cking function. 
+000176b0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+000176c0: 2072 6573 702e 6f75 7470 7574 203d 2075   resp.output = u
+000176d0: 7469 6c73 2e6c 6973 7469 6679 2872 6573  tils.listify(res
+000176e0: 702e 6f75 7470 7574 290a 2020 2020 2020  p.output).      
+000176f0: 2020 2020 2020 2020 2020 2320 7265 7370            # resp
+00017700: 2e6f 7574 7075 7420 2b3d 205b 722e 6f75  .output += [r.ou
+00017710: 7470 7574 2066 6f72 2072 2069 6e20 7265  tput for r in re
+00017720: 7370 5f6c 6973 745d 0a20 2020 2020 2020  sp_list].       
+00017730: 2020 2020 2020 2020 2023 2072 6574 7572           # retur
+00017740: 6e20 7265 7370 0a20 2020 2020 2020 2065  n resp.        e
+00017750: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00017760: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00017770: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+00017780: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
+00017790: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
+000177a0: 6572 2e5f 756e 6c69 7374 290a 0a20 2020  er._unlist)..   
+000177b0: 2023 2054 4f44 4f20 6164 6420 636c 690a   # TODO add cli.
+000177c0: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
+000177d0: 6461 7465 5f73 6974 6528 0a20 2020 2020  date_site(.     
+000177e0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+000177f0: 2073 6974 655f 6964 3a20 696e 742c 0a20   site_id: int,. 
+00017800: 2020 2020 2020 2073 6974 655f 6e61 6d65         site_name
+00017810: 3a20 7374 722c 0a20 2020 2020 2020 2061  : str,.        a
+00017820: 6464 7265 7373 3a20 7374 7220 3d20 4e6f  ddress: str = No
+00017830: 6e65 2c0a 2020 2020 2020 2020 6369 7479  ne,.        city
+00017840: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00017850: 2020 2020 2020 7374 6174 653a 2073 7472        state: str
+00017860: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00017870: 207a 6970 636f 6465 3a20 7374 7220 3d20   zipcode: str = 
+00017880: 4e6f 6e65 2c0a 2020 2020 2020 2020 636f  None,.        co
+00017890: 756e 7472 793a 2073 7472 203d 204e 6f6e  untry: str = Non
+000178a0: 652c 0a20 2020 2020 2020 206c 6174 6974  e,.        latit
+000178b0: 7564 653a 2073 7472 203d 204e 6f6e 652c  ude: str = None,
+000178c0: 0a20 2020 2020 2020 206c 6f6e 6769 7475  .        longitu
+000178d0: 6465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  de: str = None,.
+000178e0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+000178f0: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
+00017900: 6461 7465 2053 6974 652e 0a0a 2020 2020  date Site...    
+00017910: 2020 2020 5072 6f76 6964 6520 6765 6f2d      Provide geo-
+00017920: 6c6f 6320 6f72 2061 6464 7265 7373 2064  loc or address d
+00017930: 6574 6169 6c73 2c20 6e6f 7420 626f 7468  etails, not both
+00017940: 2e0a 2020 2020 2020 2020 4361 6e20 7072  ..        Can pr
+00017950: 6f76 6964 6520 626f 7468 2069 6e20 7375  ovide both in su
+00017960: 6273 6571 7565 6e74 2063 616c 6c73 2c20  bsequent calls, 
+00017970: 6275 7420 6170 6967 7720 646f 6573 206e  but apigw does n
+00017980: 6f74 0a20 2020 2020 2020 2061 6c6c 6f77  ot.        allow
+00017990: 2062 6f74 6820 696e 2073 616d 6520 6361   both in same ca
+000179a0: 6c6c 2e0a 0a20 2020 2020 2020 202f 2f20  ll...        // 
+000179b0: 5573 6564 2062 7920 6365 6e63 6c69 2075  Used by cencli u
+000179c0: 7064 6174 6520 7369 7465 205b 6e61 6d65  pdate site [name
+000179d0: 7c69 647c 6164 6472 6573 735d 204f 5220  |id|address] OR 
+000179e0: 2d2d 6c61 7420 3c6c 6174 3e20 2d2d 6c6f  --lat <lat> --lo
+000179f0: 6e20 3c6c 6f6e 3e20 2f2f 0a0a 2020 2020  n <lon> //..    
+00017a00: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00017a10: 2020 2020 2020 7369 7465 5f69 6420 2869        site_id (i
+00017a20: 6e74 293a 2053 6974 6520 4944 0a20 2020  nt): Site ID.   
+00017a30: 2020 2020 2020 2020 2073 6974 655f 6e61           site_na
+00017a40: 6d65 2028 7374 7229 3a20 5369 7465 204e  me (str): Site N
+00017a50: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+00017a60: 6164 6472 6573 7320 2873 7472 293a 2041  address (str): A
+00017a70: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
+00017a80: 2020 2063 6974 7920 2873 7472 293a 2043     city (str): C
+00017a90: 6974 7920 4e61 6d65 0a20 2020 2020 2020  ity Name.       
+00017aa0: 2020 2020 2073 7461 7465 2028 7374 7229       state (str)
+00017ab0: 3a20 5374 6174 6520 4e61 6d65 0a20 2020  : State Name.   
+00017ac0: 2020 2020 2020 2020 207a 6970 636f 6465           zipcode
+00017ad0: 2028 7374 7229 3a20 5a69 7063 6f64 650a   (str): Zipcode.
+00017ae0: 2020 2020 2020 2020 2020 2020 636f 756e              coun
+00017af0: 7472 7920 2873 7472 293a 2043 6f75 6e74  try (str): Count
+00017b00: 7279 204e 616d 650a 2020 2020 2020 2020  ry Name.        
+00017b10: 2020 2020 6c61 7469 7475 6465 2028 7374      latitude (st
+00017b20: 7229 3a20 4c61 7469 7475 6465 2028 696e  r): Latitude (in
+00017b30: 2074 6865 2072 616e 6765 206f 6620 2d39   the range of -9
+00017b40: 3020 616e 6420 3930 290a 2020 2020 2020  0 and 90).      
+00017b50: 2020 2020 2020 6c6f 6e67 6974 7564 6520        longitude 
+00017b60: 2873 7472 293a 204c 6f6e 6769 7475 6465  (str): Longitude
+00017b70: 2028 696e 2074 6865 2072 616e 6765 206f   (in the range o
+00017b80: 6620 2d31 3830 2061 6e64 2031 3830 290a  f -180 and 180).
+00017b90: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00017ba0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00017bb0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00017bc0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00017bd0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00017be0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00017bf0: 6365 6e74 7261 6c2f 7632 2f73 6974 6573  central/v2/sites
+00017c00: 2f7b 7369 7465 5f69 647d 220a 2020 2020  /{site_id}".    
+00017c10: 2020 2020 6966 207a 6970 636f 6465 3a0a      if zipcode:.
+00017c20: 2020 2020 2020 2020 2020 2020 7a69 7063              zipc
+00017c30: 6f64 6520 3d20 7374 7228 7a69 7063 6f64  ode = str(zipcod
+00017c40: 6529 0a0a 0a20 2020 2020 2020 2073 6974  e)...        sit
+00017c50: 655f 6164 6472 6573 7320 3d20 7b22 6164  e_address = {"ad
+00017c60: 6472 6573 7322 3a20 6164 6472 6573 732c  dress": address,
+00017c70: 2022 6369 7479 223a 2063 6974 792c 2022   "city": city, "
+00017c80: 7374 6174 6522 3a20 7374 6174 652c 2022  state": state, "
+00017c90: 636f 756e 7472 7922 3a20 636f 756e 7472  country": countr
+00017ca0: 792c 2022 7a69 7063 6f64 6522 3a20 7a69  y, "zipcode": zi
+00017cb0: 7063 6f64 657d 0a20 2020 2020 2020 2067  pcode}.        g
+00017cc0: 656f 6c6f 6361 7469 6f6e 203d 207b 226c  eolocation = {"l
+00017cd0: 6174 6974 7564 6522 3a20 6c61 7469 7475  atitude": latitu
+00017ce0: 6465 2c20 226c 6f6e 6769 7475 6465 223a  de, "longitude":
+00017cf0: 206c 6f6e 6769 7475 6465 7d0a 0a20 2020   longitude}..   
+00017d00: 2020 2020 2073 6974 655f 6164 6472 6573       site_addres
+00017d10: 7320 3d20 7574 696c 732e 7374 7269 705f  s = utils.strip_
+00017d20: 6e6f 6e65 2873 6974 655f 6164 6472 6573  none(site_addres
+00017d30: 7329 0a20 2020 2020 2020 2067 656f 6c6f  s).        geolo
+00017d40: 6361 7469 6f6e 203d 2075 7469 6c73 2e73  cation = utils.s
+00017d50: 7472 6970 5f6e 6f6e 6528 6765 6f6c 6f63  trip_none(geoloc
+00017d60: 6174 696f 6e29 0a0a 2020 2020 2020 2020  ation)..        
+00017d70: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+00017d80: 2020 2020 2020 2020 2020 2273 6974 655f            "site_
+00017d90: 6e61 6d65 223a 2073 6974 655f 6e61 6d65  name": site_name
+00017da0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+00017db0: 6974 655f 6164 6472 6573 7322 3a20 7369  ite_address": si
+00017dc0: 7465 5f61 6464 7265 7373 2c0a 2020 2020  te_address,.    
+00017dd0: 2020 2020 2020 2020 2267 656f 6c6f 6361          "geoloca
+00017de0: 7469 6f6e 223a 2067 656f 6c6f 6361 7469  tion": geolocati
+00017df0: 6f6e 0a20 2020 2020 2020 207d 0a0a 2020  on.        }..  
+00017e00: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00017e10: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
+00017e20: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+00017e30: 6e5f 6461 7461 290a 0a20 2020 2023 2054  n_data)..    # T
+00017e40: 4f44 4f20 616c 6c20 7061 7261 6d73 2072  ODO all params r
+00017e50: 6571 7569 7265 6420 6279 2041 5049 2047  equired by API G
+00017e60: 572c 206e 6565 6420 6361 6c6c 2074 6f20  W, need call to 
+00017e70: 6765 7420 6375 7272 656e 7420 7072 6f70  get current prop
+00017e80: 6572 7469 6573 0a20 2020 2023 2069 6620  erties.    # if 
+00017e90: 6e6f 7420 616c 6c20 6172 6520 7072 6f76  not all are prov
+00017ea0: 6964 6564 0a20 2020 2061 7379 6e63 2064  ided.    async d
+00017eb0: 6566 2075 7064 6174 655f 6170 5f73 7973  ef update_ap_sys
+00017ec0: 7465 6d5f 636f 6e66 6967 280a 2020 2020  tem_config(.    
+00017ed0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00017ee0: 2020 6772 6f75 705f 7377 6172 6d69 643a    group_swarmid:
+00017ef0: 2073 7472 2c0a 2020 2020 2020 2020 646e   str,.        dn
+00017f00: 735f 7365 7276 6572 3a20 7374 7220 3d20  s_server: str = 
+00017f10: 4e6f 6e65 2c0a 2020 2020 2020 2020 6e74  None,.        nt
+00017f20: 705f 7365 7276 6572 3a20 4c69 7374 5b73  p_server: List[s
+00017f30: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+00017f40: 2020 2020 7573 6572 6e61 6d65 3a20 7374      username: st
+00017f50: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00017f60: 2020 7061 7373 776f 7264 3a20 7374 7220    password: str 
+00017f70: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
+00017f80: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00017f90: 2020 2022 2222 5570 6461 7465 2073 7973     """Update sys
+00017fa0: 7465 6d20 636f 6e66 6967 2e0a 0a20 2020  tem config...   
+00017fb0: 2020 2020 2041 6c6c 2070 6172 616d 7320       All params 
+00017fc0: 6172 6520 7265 7175 6972 6564 2062 7920  are required by 
+00017fd0: 4172 7562 6120 4365 6e74 7261 6c0a 0a20  Aruba Central.. 
+00017fe0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00017ff0: 2020 2020 2020 2020 2067 726f 7570 5f73           group_s
+00018000: 7761 726d 6964 2028 7374 7229 3a20 4772  warmid (str): Gr
+00018010: 6f75 7020 6e61 6d65 206f 6620 7468 6520  oup name of the 
+00018020: 6772 6f75 7020 6f72 2067 7569 6420 6f66  group or guid of
+00018030: 2074 6865 2073 7761 726d 2e20 4578 616d   the swarm. Exam
+00018040: 706c 653a 4772 6f75 705f 310a 2020 2020  ple:Group_1.    
+00018050: 2020 2020 2020 2020 2020 2020 6f72 2036              or 6
+00018060: 6135 6431 3233 6230 3166 3934 3431 3830  a5d123b01f944180
+00018070: 3632 3434 6561 3665 3032 3366 6162 3538  6244ea6e023fab58
+00018080: 3431 6237 3763 3832 3861 3038 3566 3034  41b77c828a085f04
+00018090: 662e 0a20 2020 2020 2020 2020 2020 2064  f..            d
+000180a0: 6e73 5f73 6572 7665 7220 2873 7472 293a  ns_server (str):
+000180b0: 2044 4e53 2073 6572 7665 7220 4950 7320   DNS server IPs 
+000180c0: 6f72 2064 6f6d 6169 6e20 6e61 6d65 0a20  or domain name. 
+000180d0: 2020 2020 2020 2020 2020 206e 7470 5f73             ntp_s
+000180e0: 6572 7665 7220 284c 6973 745b 7374 725d  erver (List[str]
+000180f0: 293a 204c 6973 7420 6f66 206e 7470 2073  ): List of ntp s
+00018100: 6572 7665 722c 0a20 2020 2020 2020 2020  erver,.         
+00018110: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
+00018120: 5b22 3139 322e 3136 382e 312e 3122 2c20  ["192.168.1.1", 
+00018130: 2231 3237 2e30 2e30 2e30 222c 2022 7878  "127.0.0.0", "xx
+00018140: 782e 636f 6d22 5d2e 0a20 2020 2020 2020  x.com"]..       
+00018150: 2020 2020 2020 2020 2049 5073 206f 7220           IPs or 
+00018160: 646f 6d61 696e 206e 616d 652e 0a20 2020  domain name..   
+00018170: 2020 2020 2020 2020 2075 7365 726e 616d           usernam
+00018180: 6520 2873 7472 293a 2075 7365 726e 616d  e (str): usernam
+00018190: 650a 2020 2020 2020 2020 2020 2020 7061  e.            pa
+000181a0: 7373 776f 7264 2028 7374 7229 3a20 7061  ssword (str): pa
+000181b0: 7373 776f 7264 0a0a 2020 2020 2020 2020  ssword..        
+000181c0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+000181d0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+000181e0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+000181f0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00018200: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00018210: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+00018220: 7469 6f6e 2f76 312f 7379 7374 656d 5f63  tion/v1/system_c
+00018230: 6f6e 6669 672f 7b67 726f 7570 5f73 7761  onfig/{group_swa
+00018240: 726d 6964 7d22 0a0a 2020 2020 2020 2020  rmid}"..        
+00018250: 6a73 6f6e 5f64 6174 6120 3d20 7574 696c  json_data = util
+00018260: 732e 7374 7269 705f 6e6f 6e65 280a 2020  s.strip_none(.  
+00018270: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00018280: 2020 2020 2020 2020 2020 2020 2764 6e73              'dns
+00018290: 5f73 6572 7665 7227 3a20 646e 735f 7365  _server': dns_se
+000182a0: 7276 6572 2c0a 2020 2020 2020 2020 2020  rver,.          
+000182b0: 2020 2020 2020 276e 7470 5f73 6572 7665        'ntp_serve
+000182c0: 7227 3a20 6e74 705f 7365 7276 6572 2c0a  r': ntp_server,.
+000182d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000182e0: 2775 7365 726e 616d 6527 3a20 7573 6572  'username': user
+000182f0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+00018300: 2020 2020 2020 2770 6173 7377 6f72 6427        'password'
+00018310: 3a20 7061 7373 776f 7264 0a20 2020 2020  : password.     
+00018320: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00018330: 2029 0a0a 2020 2020 2020 2020 7265 7475   )..        retu
+00018340: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
+00018350: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
+00018360: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+00018370: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
+00018380: 7465 5f67 726f 7570 280a 2020 2020 2020  te_group(.      
+00018390: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000183a0: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
+000183b0: 2020 2020 616c 6c6f 7765 645f 7479 7065      allowed_type
+000183c0: 733a 2055 6e69 6f6e 5b63 6f6e 7374 616e  s: Union[constan
+000183d0: 7473 2e41 6c6c 4465 7654 7970 6573 2c20  ts.AllDevTypes, 
+000183e0: 4c69 7374 5b63 6f6e 7374 616e 7473 2e41  List[constants.A
+000183f0: 6c6c 4465 7654 7970 6573 5d5d 203d 205b  llDevTypes]] = [
+00018400: 2261 7022 2c20 2267 7722 2c20 2263 7822  "ap", "gw", "cx"
+00018410: 2c20 2273 7722 5d2c 0a20 2020 2020 2020  , "sw"],.       
+00018420: 2077 6972 6564 5f74 673a 2062 6f6f 6c20   wired_tg: bool 
+00018430: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00018440: 2077 6c61 6e5f 7467 3a20 626f 6f6c 203d   wlan_tg: bool =
+00018450: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00018460: 616f 7331 303a 2062 6f6f 6c20 3d20 4661  aos10: bool = Fa
+00018470: 6c73 652c 0a20 2020 2020 2020 206d 6963  lse,.        mic
+00018480: 726f 6272 616e 6368 3a20 626f 6f6c 203d  robranch: bool =
+00018490: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+000184a0: 6777 5f72 6f6c 653a 2063 6f6e 7374 616e  gw_role: constan
+000184b0: 7473 2e47 6174 6577 6179 526f 6c65 203d  ts.GatewayRole =
+000184c0: 2022 6272 616e 6368 222c 0a20 2020 2020   "branch",.     
+000184d0: 2020 206d 6f6e 6974 6f72 5f6f 6e6c 795f     monitor_only_
+000184e0: 7377 3a20 626f 6f6c 203d 2046 616c 7365  sw: bool = False
+000184f0: 2c0a 2020 2020 2020 2020 6d6f 6e69 746f  ,.        monito
+00018500: 725f 6f6e 6c79 5f63 783a 2062 6f6f 6c20  r_only_cx: bool 
+00018510: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
+00018520: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00018530: 2020 2020 2222 2243 7265 6174 6520 6e65      """Create ne
+00018540: 7720 6772 6f75 7020 7769 7468 2073 7065  w group with spe
+00018550: 6369 6669 6564 2070 726f 7065 7274 6965  cified propertie
+00018560: 732e 2076 330a 0a20 2020 2020 2020 202f  s. v3..        /
+00018570: 2f20 5573 6564 2062 7920 6164 6420 6772  / Used by add gr
+00018580: 6f75 7020 6261 7463 6820 6164 6420 6772  oup batch add gr
+00018590: 6f75 7020 2f2f 0a0a 2020 2020 2020 2020  oup //..        
+000185a0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+000185b0: 2020 6772 6f75 7020 2873 7472 293a 2047    group (str): G
+000185c0: 726f 7570 204e 616d 650a 2020 2020 2020  roup Name.      
+000185d0: 2020 2020 2020 616c 6c6f 7765 645f 7479        allowed_ty
+000185e0: 7065 7320 2873 7472 2c20 4c69 7374 5b73  pes (str, List[s
+000185f0: 7472 5d29 3a20 416c 6c6f 7765 6420 4465  tr]): Allowed De
+00018600: 7669 6365 2054 7970 6573 2069 6e20 7468  vice Types in th
+00018610: 6520 6772 6f75 702e 2054 6162 7320 666f  e group. Tabs fo
+00018620: 7220 6465 7669 6365 7320 6e6f 7420 616c  r devices not al
+00018630: 6c6f 7765 640a 2020 2020 2020 2020 2020  lowed.          
+00018640: 2020 2020 2020 776f 6e27 7420 6469 7370        won't disp
+00018650: 6c61 7920 696e 2055 492e 2020 7661 6c69  lay in UI.  vali
+00018660: 6420 7661 6c75 6573 2022 6170 222c 2022  d values "ap", "
+00018670: 6777 222c 2022 6378 222c 2022 7377 222c  gw", "cx", "sw",
+00018680: 2022 7377 6974 6368 220a 2020 2020 2020   "switch".      
+00018690: 2020 2020 2020 2020 2020 2822 7377 6974            ("swit
+000186a0: 6368 2220 6973 2067 656e 6572 6963 2c20  ch" is generic, 
+000186b0: 7769 6c6c 2065 6e61 626c 6520 626f 7468  will enable both
+000186c0: 2063 7820 616e 6420 7377 290a 2020 2020   cx and sw).    
+000186d0: 2020 2020 2020 2020 7769 7265 645f 7467          wired_tg
+000186e0: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
+000186f0: 293a 2053 6574 2074 6f20 7472 7565 2069  ): Set to true i
+00018700: 6620 7769 7265 6428 5377 6974 6368 2920  f wired(Switch) 
+00018710: 636f 6e66 6967 7572 6174 696f 6e20 696e  configuration in
+00018720: 2061 2067 726f 7570 2069 7320 6d61 6e61   a group is mana
+00018730: 6765 640a 2020 2020 2020 2020 2020 2020  ged.            
+00018740: 2020 2020 7573 696e 6720 7465 6d70 6c61      using templa
+00018750: 7465 732e 0a20 2020 2020 2020 2020 2020  tes..           
+00018760: 2077 6c61 6e5f 7467 2028 626f 6f6c 2c20   wlan_tg (bool, 
+00018770: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
+00018780: 6f20 7472 7565 2069 6620 7769 7265 6c65  o true if wirele
+00018790: 7373 2849 4150 2c20 4761 7465 7761 7973  ss(IAP, Gateways
+000187a0: 2920 636f 6e66 6967 7572 6174 696f 6e20  ) configuration 
+000187b0: 696e 2061 0a20 2020 2020 2020 2020 2020  in a.           
+000187c0: 2020 2020 2067 726f 7570 2069 7320 6d61       group is ma
+000187d0: 6e61 6765 6420 7573 696e 6720 7465 6d70  naged using temp
+000187e0: 6c61 7465 732e 0a20 2020 2020 2020 2020  lates..         
+000187f0: 2020 2061 6f73 3130 3a20 2862 6f6f 6c29     aos10: (bool)
+00018800: 3a20 6966 2054 7275 6520 7573 6520 414f  : if True use AO
+00018810: 5331 3020 6172 6368 6974 6563 7475 7265  S10 architecture
+00018820: 2066 6f72 2074 6865 2061 6363 6573 7320   for the access 
+00018830: 706f 696e 7473 2061 6e64 2067 6174 6577  points and gatew
+00018840: 6179 7320 696e 2074 6865 2067 726f 7570  ays in the group
+00018850: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00018860: 2020 6465 6661 756c 7420 4661 6c73 6520    default False 
+00018870: 2849 6e73 7461 6e74 290a 2020 2020 2020  (Instant).      
+00018880: 2020 2020 2020 6d69 6372 6f62 7261 6e63        microbranc
+00018890: 6820 2862 6f6f 6c29 3a20 5472 7565 2074  h (bool): True t
+000188a0: 6f20 656e 6162 6c65 204d 6963 726f 6272  o enable Microbr
+000188b0: 616e 6368 206e 6574 776f 726b 2072 6f6c  anch network rol
+000188c0: 6520 666f 7220 4150 7320 6973 2061 7070  e for APs is app
+000188d0: 6c69 6361 626c 6520 6f6e 6c79 2066 6f72  licable only for
+000188e0: 2041 4f53 3130 2061 7263 6869 7465 6374   AOS10 architect
+000188f0: 7572 652e 0a20 2020 2020 2020 2020 2020  ure..           
+00018900: 2067 775f 726f 6c65 2028 4761 7465 7761   gw_role (Gatewa
+00018910: 7952 6f6c 6529 3a20 4761 7465 7761 7920  yRole): Gateway 
+00018920: 726f 6c65 2076 616c 6964 2076 616c 7565  role valid value
+00018930: 7320 2262 7261 6e63 6822 2c20 2276 706e  s "branch", "vpn
+00018940: 6322 2c20 2277 6c61 6e22 2028 2277 6c61  c", "wlan" ("wla
+00018950: 6e22 206f 6e6c 7920 7661 6c69 6420 6f6e  n" only valid on
+00018960: 2041 4f53 3130 2067 726f 7570 290a 2020   AOS10 group).  
+00018970: 2020 2020 2020 2020 2020 2020 2020 4465                De
+00018980: 6661 756c 743a 2022 6272 616e 6368 220a  fault: "branch".
+00018990: 2020 2020 2020 2020 2020 2020 6d6f 6e69              moni
+000189a0: 746f 725f 6f6e 6c79 5f73 773a 204d 6f6e  tor_only_sw: Mon
+000189b0: 6974 6f72 206f 6e6c 7920 4172 7562 614f  itor only ArubaO
+000189c0: 532d 5357 2073 7769 7463 6865 732c 2061  S-SW switches, a
+000189d0: 7070 6c69 6573 2074 6f20 5549 2067 726f  pplies to UI gro
+000189e0: 7570 206f 6e6c 790a 2020 2020 2020 2020  up only.        
+000189f0: 2020 2020 6d6f 6e69 746f 725f 6f6e 6c79      monitor_only
+00018a00: 5f63 783a 204d 6f6e 6974 6f72 206f 6e6c  _cx: Monitor onl
+00018a10: 7920 4172 7562 614f 532d 4358 2073 7769  y ArubaOS-CX swi
+00018a20: 7463 6865 732c 2061 7070 6c69 6573 2074  tches, applies t
+00018a30: 6f20 5549 2067 726f 7570 206f 6e6c 790a  o UI group only.
+00018a40: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00018a50: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00018a60: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00018a70: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00018a80: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00018a90: 2020 2020 2020 2075 726c 203d 2022 2f63         url = "/c
+00018aa0: 6f6e 6669 6775 7261 7469 6f6e 2f76 332f  onfiguration/v3/
+00018ab0: 6772 6f75 7073 220a 0a20 2020 2020 2020  groups"..       
+00018ac0: 2067 775f 726f 6c65 5f64 6963 7420 3d20   gw_role_dict = 
+00018ad0: 7b0a 2020 2020 2020 2020 2020 2020 2262  {.            "b
+00018ae0: 7261 6e63 6822 3a20 2242 7261 6e63 6847  ranch": "BranchG
+00018af0: 6174 6577 6179 222c 0a20 2020 2020 2020  ateway",.       
+00018b00: 2020 2020 2022 7670 6e63 223a 2022 5650       "vpnc": "VP
+00018b10: 4e43 6f6e 6365 6e74 7261 746f 7222 2c0a  NConcentrator",.
+00018b20: 2020 2020 2020 2020 2020 2020 2277 6c61              "wla
+00018b30: 6e22 3a20 2257 4c41 4e47 6174 6577 6179  n": "WLANGateway
+00018b40: 222c 0a20 2020 2020 2020 207d 0a20 2020  ",.        }.   
+00018b50: 2020 2020 2064 6576 5f74 7970 655f 6469       dev_type_di
+00018b60: 6374 203d 207b 0a20 2020 2020 2020 2020  ct = {.         
+00018b70: 2020 2022 6170 223a 2022 4163 6365 7373     "ap": "Access
+00018b80: 506f 696e 7473 222c 0a20 2020 2020 2020  Points",.       
+00018b90: 2020 2020 2022 6777 223a 2022 4761 7465       "gw": "Gate
+00018ba0: 7761 7973 222c 0a20 2020 2020 2020 2020  ways",.         
+00018bb0: 2020 2022 7377 6974 6368 223a 2022 5377     "switch": "Sw
+00018bc0: 6974 6368 6573 222c 0a20 2020 2020 2020  itches",.       
+00018bd0: 2020 2020 2022 6378 223a 2022 5377 6974       "cx": "Swit
+00018be0: 6368 6573 222c 0a20 2020 2020 2020 2020  ches",.         
+00018bf0: 2020 2022 7377 223a 2022 5377 6974 6368     "sw": "Switch
+00018c00: 6573 222c 0a20 2020 2020 2020 207d 0a0a  es",.        }..
+00018c10: 2020 2020 2020 2020 6777 5f72 6f6c 6520          gw_role 
+00018c20: 3d20 6777 5f72 6f6c 655f 6469 6374 2e67  = gw_role_dict.g
+00018c30: 6574 2867 775f 726f 6c65 2c20 2242 7261  et(gw_role, "Bra
+00018c40: 6e63 6847 6174 6577 6179 2229 0a0a 2020  nchGateway")..  
+00018c50: 2020 2020 2020 616c 6c6f 7765 645f 7479        allowed_ty
+00018c60: 7065 7320 3d20 7574 696c 732e 6c69 7374  pes = utils.list
+00018c70: 6966 7928 616c 6c6f 7765 645f 7479 7065  ify(allowed_type
+00018c80: 7329 0a20 2020 2020 2020 2061 6c6c 6f77  s).        allow
+00018c90: 6564 5f73 7769 7463 685f 7479 7065 7320  ed_switch_types 
+00018ca0: 3d20 5b5d 0a20 2020 2020 2020 2069 6620  = [].        if 
+00018cb0: 2273 7769 7463 6822 2069 6e20 616c 6c6f  "switch" in allo
+00018cc0: 7765 645f 7479 7065 7320 6f72 2028 2263  wed_types or ("c
+00018cd0: 7822 2069 6e20 616c 6c6f 7765 645f 7479  x" in allowed_ty
+00018ce0: 7065 7320 616e 6420 2273 7722 2069 6e20  pes and "sw" in 
+00018cf0: 616c 6c6f 7765 645f 7479 7065 7329 3a0a  allowed_types):.
+00018d00: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
+00018d10: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
+00018d20: 202b 3d20 5b22 414f 535f 4358 222c 2022   += ["AOS_CX", "
+00018d30: 414f 535f 5322 5d0a 2020 2020 2020 2020  AOS_S"].        
+00018d40: 6966 2022 7377 2220 696e 2061 6c6c 6f77  if "sw" in allow
+00018d50: 6564 5f74 7970 6573 2061 6e64 2022 414f  ed_types and "AO
+00018d60: 535f 5322 206e 6f74 2069 6e20 616c 6c6f  S_S" not in allo
+00018d70: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
+00018d80: 3a0a 2020 2020 2020 2020 2020 2020 616c  :.            al
+00018d90: 6c6f 7765 645f 7377 6974 6368 5f74 7970  lowed_switch_typ
+00018da0: 6573 202b 3d20 5b22 414f 535f 5322 5d0a  es += ["AOS_S"].
+00018db0: 2020 2020 2020 2020 6966 2022 6378 2220          if "cx" 
+00018dc0: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+00018dd0: 2061 6e64 2022 414f 535f 4358 2220 6e6f   and "AOS_CX" no
+00018de0: 7420 696e 2061 6c6c 6f77 6564 5f73 7769  t in allowed_swi
+00018df0: 7463 685f 7479 7065 733a 0a20 2020 2020  tch_types:.     
+00018e00: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
+00018e10: 7769 7463 685f 7479 7065 7320 2b3d 205b  witch_types += [
+00018e20: 2241 4f53 5f43 5822 5d0a 0a20 2020 2020  "AOS_CX"]..     
+00018e30: 2020 206d 6f6e 5f6f 6e6c 795f 7377 6974     mon_only_swit
+00018e40: 6368 6573 203d 205b 5d0a 2020 2020 2020  ches = [].      
+00018e50: 2020 6966 206d 6f6e 6974 6f72 5f6f 6e6c    if monitor_onl
+00018e60: 795f 7377 3a0a 2020 2020 2020 2020 2020  y_sw:.          
+00018e70: 2020 6d6f 6e5f 6f6e 6c79 5f73 7769 7463    mon_only_switc
+00018e80: 6865 7320 2b3d 205b 2241 4f53 5f53 225d  hes += ["AOS_S"]
+00018e90: 0a20 2020 2020 2020 2069 6620 6d6f 6e69  .        if moni
+00018ea0: 746f 725f 6f6e 6c79 5f63 783a 0a20 2020  tor_only_cx:.   
+00018eb0: 2020 2020 2020 2020 206d 6f6e 5f6f 6e6c           mon_onl
+00018ec0: 795f 7377 6974 6368 6573 202b 3d20 5b22  y_switches += ["
+00018ed0: 414f 535f 4358 225d 0a0a 2020 2020 2020  AOS_CX"]..      
+00018ee0: 2020 616c 6c6f 7765 645f 7479 7065 7320    allowed_types 
+00018ef0: 3d20 6c69 7374 2873 6574 285b 6465 765f  = list(set([dev_
+00018f00: 7479 7065 5f64 6963 742e 6765 7428 7429  type_dict.get(t)
+00018f10: 2066 6f72 2074 2069 6e20 616c 6c6f 7765   for t in allowe
+00018f20: 645f 7479 7065 735d 2929 0a0a 2020 2020  d_types]))..    
+00018f30: 2020 2020 6966 206d 6f6e 5f6f 6e6c 795f      if mon_only_
+00018f40: 7377 6974 6368 6573 2061 6e64 2022 5377  switches and "Sw
+00018f50: 6974 6368 6573 2220 6e6f 7420 696e 2061  itches" not in a
+00018f60: 6c6c 6f77 6564 5f74 7970 6573 3a0a 2020  llowed_types:.  
+00018f70: 2020 2020 2020 2020 2020 6c6f 672e 7761            log.wa
+00018f80: 726e 696e 6728 2269 676e 6f72 696e 6720  rning("ignoring 
+00018f90: 6d6f 6e69 746f 7220 6f6e 6c79 2073 7769  monitor only swi
+00018fa0: 7463 6820 7365 7474 696e 6720 6173 206e  tch setting as n
+00018fb0: 6f20 7377 6974 6368 6573 2077 6572 6520  o switches were 
+00018fc0: 7370 6563 6966 6965 6420 6173 2062 6569  specified as bei
+00018fd0: 6e67 2061 6c6c 6f77 6564 2069 6e20 6772  ng allowed in gr
+00018fe0: 6f75 7022 2c20 7368 6f77 3d54 7275 6529  oup", show=True)
+00018ff0: 0a0a 2020 2020 2020 2020 6966 204e 6f6e  ..        if Non
+00019000: 6520 696e 2061 6c6c 6f77 6564 5f74 7970  e in allowed_typ
+00019010: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00019020: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00019030: 2827 496e 7661 6c69 6420 6465 7669 6365  ('Invalid device
+00019040: 2074 7970 6520 666f 7220 616c 6c6f 7765   type for allowe
+00019050: 645f 7479 7065 7320 7661 6c69 6420 7661  d_types valid va
+00019060: 6c75 6573 3a20 2261 7022 2c20 2267 7722  lues: "ap", "gw"
+00019070: 2c20 2273 7722 2c20 2263 7822 2c20 2273  , "sw", "cx", "s
+00019080: 7769 7463 6822 2729 0a20 2020 2020 2020  witch"').       
+00019090: 2069 6620 6d69 6372 6f62 7261 6e63 6820   if microbranch 
+000190a0: 616e 6420 6e6f 7420 616f 7331 303a 0a20  and not aos10:. 
+000190b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000190c0: 2056 616c 7565 4572 726f 7228 2249 6e76   ValueError("Inv
+000190d0: 616c 6964 2063 6f6d 6269 6e61 7469 6f6e  alid combination
+000190e0: 2c20 4772 6f75 7020 6d75 7374 2062 6520  , Group must be 
+000190f0: 636f 6e66 6967 7572 6564 2061 7320 414f  configured as AO
+00019100: 5331 3020 6772 6f75 7020 746f 2073 7570  S10 group to sup
+00019110: 706f 7274 204d 6963 726f 6272 616e 6368  port Microbranch
+00019120: 2229 0a20 2020 2020 2020 2069 6620 7769  ").        if wi
+00019130: 7265 645f 7467 2061 6e64 2028 6d6f 6e69  red_tg and (moni
+00019140: 746f 725f 6f6e 6c79 5f73 7720 6f72 206d  tor_only_sw or m
+00019150: 6f6e 6974 6f72 5f6f 6e6c 795f 6378 293a  onitor_only_cx):
+00019160: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00019170: 7365 2056 616c 7565 4572 726f 7228 2249  se ValueError("I
+00019180: 6e76 616c 6964 2063 6f6d 6269 6e61 7469  nvalid combinati
+00019190: 6f6e 2c20 4d6f 6e69 746f 7220 4f6e 6c79  on, Monitor Only
+000191a0: 2069 7320 6e6f 7420 7661 6c69 6420 666f   is not valid fo
+000191b0: 7220 5465 6d70 6c61 7465 2047 726f 7570  r Template Group
+000191c0: 2229 0a0a 2020 2020 2020 2020 6a73 6f6e  ")..        json
+000191d0: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+000191e0: 2020 2020 2020 2267 726f 7570 223a 2067        "group": g
+000191f0: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
+00019200: 2020 2267 726f 7570 5f61 7474 7269 6275    "group_attribu
+00019210: 7465 7322 3a20 7b0a 2020 2020 2020 2020  tes": {.        
+00019220: 2020 2020 2020 2020 2274 656d 706c 6174          "templat
+00019230: 655f 696e 666f 223a 207b 0a20 2020 2020  e_info": {.     
+00019240: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00019250: 5769 7265 6422 3a20 7769 7265 645f 7467  Wired": wired_tg
+00019260: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00019270: 2020 2020 2020 2257 6972 656c 6573 7322        "Wireless"
+00019280: 3a20 776c 616e 5f74 670a 2020 2020 2020  : wlan_tg.      
+00019290: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+000192a0: 2020 2020 2020 2020 2020 2020 2022 6772               "gr
+000192b0: 6f75 705f 7072 6f70 6572 7469 6573 223a  oup_properties":
+000192c0: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000192d0: 2020 2020 2020 2022 416c 6c6f 7765 6444         "AllowedD
+000192e0: 6576 5479 7065 7322 3a20 616c 6c6f 7765  evTypes": allowe
+000192f0: 645f 7479 7065 732c 0a20 2020 2020 2020  d_types,.       
+00019300: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+00019310: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00019320: 207d 0a20 2020 2020 2020 2069 6620 6777   }.        if gw
+00019330: 5f72 6f6c 6520 616e 6420 2247 6174 6577  _role and "Gatew
+00019340: 6179 7322 2069 6e20 616c 6c6f 7765 645f  ays" in allowed_
+00019350: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
+00019360: 2020 206a 736f 6e5f 6461 7461 5b22 6772     json_data["gr
+00019370: 6f75 705f 6174 7472 6962 7574 6573 225d  oup_attributes"]
+00019380: 5b22 6772 6f75 705f 7072 6f70 6572 7469  ["group_properti
+00019390: 6573 225d 5b22 4777 4e65 7477 6f72 6b52  es"]["GwNetworkR
+000193a0: 6f6c 6522 5d20 3d20 6777 5f72 6f6c 650a  ole"] = gw_role.
+000193b0: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
+000193c0: 5f64 6174 615b 2267 726f 7570 5f61 7474  _data["group_att
+000193d0: 7269 6275 7465 7322 5d5b 2267 726f 7570  ributes"]["group
+000193e0: 5f70 726f 7065 7274 6965 7322 5d5b 2241  _properties"]["A
+000193f0: 7263 6869 7465 6374 7572 6522 5d20 3d20  rchitecture"] = 
+00019400: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00019410: 2020 2249 6e73 7461 6e74 2220 6966 206e    "Instant" if n
+00019420: 6f74 2061 6f73 3130 2065 6c73 6520 2241  ot aos10 else "A
+00019430: 4f53 3130 220a 2020 2020 2020 2020 6966  OS10".        if
 00019440: 2022 4163 6365 7373 506f 696e 7473 2220   "AccessPoints" 
-00019450: 696e 2063 7572 5f67 726f 7570 5f70 726f  in cur_group_pro
-00019460: 7073 5b22 416c 6c6f 7765 6444 6576 5479  ps["AllowedDevTy
-00019470: 7065 7322 5d20 6f72 205c 0a20 2020 2020  pes"] or \.     
-00019480: 2020 2020 2020 2020 2020 2022 4761 7465             "Gate
-00019490: 7761 7973 2220 696e 2063 7572 5f67 726f  ways" in cur_gro
-000194a0: 7570 5f70 726f 7073 5b22 416c 6c6f 7765  up_props["Allowe
-000194b0: 6444 6576 5479 7065 7322 5d3a 0a20 2020  dDevTypes"]:.   
-000194c0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000194d0: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-000194e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000194f0: 2020 6572 726f 723d 6622 7b63 6f6c 6f72    error=f"{color
-00019500: 2827 414f 5331 3027 297d 2063 616e 206f  ('AOS10')} can o
-00019510: 6e6c 7920 6265 2073 6574 2077 6865 6e20  nly be set when 
-00019520: 4150 7320 6f72 2047 5773 2061 7265 2069  APs or GWs are i
-00019530: 6e69 7469 616c 6c79 2061 6464 6564 2074  nitially added t
-00019540: 6f20 616c 6c6f 7765 645f 7479 7065 7320  o allowed_types 
-00019550: 6f66 2067 726f 7570 220a 2020 2020 2020  of group".      
-00019560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019570: 2020 2020 6622 5c6e 7b63 6f6c 6f72 2867      f"\n{color(g
-00019580: 726f 7570 297d 2063 616e 2062 6520 636c  roup)} can be cl
-00019590: 6f6e 6564 2077 6974 6820 6f70 7469 6f6e  oned with option
-000195a0: 2074 6f20 7570 6772 6164 6520 6475 7269   to upgrade duri
-000195b0: 6e67 2063 6c6f 6e65 2e22 2c0a 2020 2020  ng clone.",.    
-000195c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000195d0: 726c 5f73 7472 3d72 6573 702e 726c 2c0a  rl_str=resp.rl,.
-000195e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000195f0: 290a 0a20 2020 2020 2020 2069 6620 2241  )..        if "A
-00019600: 6363 6573 7350 6f69 6e74 7322 2069 6e20  ccessPoints" in 
-00019610: 6375 725f 6772 6f75 705f 7072 6f70 735b  cur_group_props[
-00019620: 2241 6c6c 6f77 6564 4465 7654 7970 6573  "AllowedDevTypes
-00019630: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-00019640: 6966 206d 6963 726f 6272 616e 6368 2069  if microbranch i
-00019650: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00019660: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00019670: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
-00019680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019690: 2065 7272 6f72 3d66 227b 6772 6f75 707d   error=f"{group}
-000196a0: 2061 6c72 6561 6479 2061 6c6c 6f77 7320   already allows 
-000196b0: 4150 732e 2020 4d69 6372 6f62 7261 6e63  APs.  Microbranc
-000196c0: 682f 5374 616e 6461 7264 2041 5020 6361  h/Standard AP ca
-000196d0: 6e20 6f6e 6c79 2062 6520 7365 7420 220a  n only be set ".
-000196e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000196f0: 2020 2020 2020 2020 2020 2277 6865 6e20            "when 
-00019700: 696e 6974 6961 6c6c 7920 6164 6469 6e67  initially adding
-00019710: 2041 5073 2074 6f20 616c 6c6f 7765 645f   APs to allowed_
-00019720: 7479 7065 7320 6f66 2067 726f 7570 222c  types of group",
-00019730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019740: 2020 2020 2072 6c5f 7374 723d 7265 7370       rl_str=resp
-00019750: 2e72 6c2c 0a20 2020 2020 2020 2020 2020  .rl,.           
-00019760: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-00019770: 6620 6d6f 6e69 746f 725f 6f6e 6c79 5f73  f monitor_only_s
-00019780: 7720 6973 2046 616c 7365 2061 6e64 2022  w is False and "
-00019790: 414f 535f 5322 2069 6e20 6375 725f 6772  AOS_S" in cur_gr
-000197a0: 6f75 705f 7072 6f70 735b 2241 6c6c 6f77  oup_props["Allow
-000197b0: 6564 5377 6974 6368 5479 7065 7322 5d3a  edSwitchTypes"]:
-000197c0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000197d0: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-000197e0: 2020 2020 2020 2020 2020 2020 2020 6572                er
-000197f0: 726f 723d 6622 7b67 726f 7570 7d20 616c  ror=f"{group} al
-00019800: 7265 6164 7920 616c 6c6f 7773 2041 4f53  ready allows AOS
-00019810: 2d53 572e 2020 4d6f 6e69 746f 7220 4f6e  -SW.  Monitor On
-00019820: 6c79 2063 616e 206f 6e6c 7920 6265 2073  ly can only be s
-00019830: 6574 2022 0a20 2020 2020 2020 2020 2020  et ".           
-00019840: 2020 2020 2020 2020 2020 2022 7768 656e             "when
-00019850: 2069 6e69 7469 616c 6c79 2061 6464 696e   initially addin
-00019860: 6720 414f 532d 5357 2074 6f20 616c 6c6f  g AOS-SW to allo
-00019870: 7765 645f 7479 7065 7320 6f66 2067 726f  wed_types of gro
-00019880: 7570 222c 0a20 2020 2020 2020 2020 2020  up",.           
-00019890: 2020 2020 2072 6c5f 7374 723d 7265 7370       rl_str=resp
-000198a0: 2e72 6c2c 0a20 2020 2020 2020 2020 2020  .rl,.           
-000198b0: 2029 0a20 2020 2020 2020 2069 6620 6d6f   ).        if mo
-000198c0: 6e69 746f 725f 6f6e 6c79 5f63 7820 6973  nitor_only_cx is
-000198d0: 2046 616c 7365 2061 6e64 2022 414f 535f   False and "AOS_
-000198e0: 4358 2220 696e 2063 7572 5f67 726f 7570  CX" in cur_group
-000198f0: 5f70 726f 7073 5b22 416c 6c6f 7765 6453  _props["AllowedS
-00019900: 7769 7463 6854 7970 6573 225d 3a0a 2020  witchTypes"]:.  
-00019910: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00019920: 2052 6573 706f 6e73 6528 0a20 2020 2020   Response(.     
-00019930: 2020 2020 2020 2020 2020 2065 7272 6f72             error
-00019940: 3d66 227b 6772 6f75 707d 2061 6c72 6561  =f"{group} alrea
-00019950: 6479 2061 6c6c 6f77 7320 414f 532d 4358  dy allows AOS-CX
-00019960: 2e20 204d 6f6e 6974 6f72 204f 6e6c 7920  .  Monitor Only 
-00019970: 6361 6e20 6f6e 6c79 2062 6520 7365 7420  can only be set 
-00019980: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00019990: 2020 2020 2020 2020 2277 6865 6e20 696e          "when in
-000199a0: 6974 6961 6c6c 7920 6164 6469 6e67 2041  itially adding A
-000199b0: 4f53 2d43 5820 746f 2061 6c6c 6f77 6564  OS-CX to allowed
-000199c0: 5f74 7970 6573 206f 6620 6772 6f75 7022  _types of group"
-000199d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000199e0: 2020 726c 5f73 7472 3d72 6573 702e 726c    rl_str=resp.rl
-000199f0: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
-00019a00: 0a20 2020 2020 2020 2061 6c6c 6f77 6564  .        allowed
-00019a10: 5f74 7970 6573 203d 2061 6c6c 6f77 6564  _types = allowed
-00019a20: 5f74 7970 6573 206f 7220 5b5d 0a20 2020  _types or [].   
-00019a30: 2020 2020 2061 6c6c 6f77 6564 5f73 7769       allowed_swi
-00019a40: 7463 685f 7479 7065 7320 3d20 5b5d 0a20  tch_types = []. 
-00019a50: 2020 2020 2020 2069 6620 616c 6c6f 7765         if allowe
-00019a60: 645f 7479 7065 733a 0a20 2020 2020 2020  d_types:.       
-00019a70: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
-00019a80: 6573 203d 2075 7469 6c73 2e6c 6973 7469  es = utils.listi
-00019a90: 6679 2861 6c6c 6f77 6564 5f74 7970 6573  fy(allowed_types
-00019aa0: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00019ab0: 2022 7377 6974 6368 2220 696e 2061 6c6c   "switch" in all
-00019ac0: 6f77 6564 5f74 7970 6573 206f 7220 2822  owed_types or ("
-00019ad0: 6378 2220 696e 2061 6c6c 6f77 6564 5f74  cx" in allowed_t
-00019ae0: 7970 6573 2061 6e64 2022 7377 2220 696e  ypes and "sw" in
-00019af0: 2061 6c6c 6f77 6564 5f74 7970 6573 293a   allowed_types):
-00019b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019b10: 2061 6c6c 6f77 6564 5f73 7769 7463 685f   allowed_switch_
-00019b20: 7479 7065 7320 2b3d 205b 2241 4f53 5f43  types += ["AOS_C
-00019b30: 5822 2c20 2241 4f53 5f53 225d 0a20 2020  X", "AOS_S"].   
-00019b40: 2020 2020 2020 2020 2065 6c69 6620 2273           elif "s
-00019b50: 7722 2069 6e20 616c 6c6f 7765 645f 7479  w" in allowed_ty
-00019b60: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
-00019b70: 2020 2020 2061 6c6c 6f77 6564 5f73 7769       allowed_swi
-00019b80: 7463 685f 7479 7065 7320 2b3d 205b 2241  tch_types += ["A
-00019b90: 4f53 5f53 225d 0a20 2020 2020 2020 2020  OS_S"].         
-00019ba0: 2020 2065 6c69 6620 2263 7822 2069 6e20     elif "cx" in 
-00019bb0: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
-00019bc0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00019bd0: 6c6c 6f77 6564 5f73 7769 7463 685f 7479  llowed_switch_ty
-00019be0: 7065 7320 2b3d 205b 2241 4f53 5f43 5822  pes += ["AOS_CX"
-00019bf0: 5d0a 0a20 2020 2020 2020 2023 2070 7269  ]..        # pri
-00019c00: 6e74 2822 5b44 4542 5547 5d20 2d2d 2d2d  nt("[DEBUG] ----
-00019c10: 2043 7572 7265 6e74 2050 726f 7065 7274   Current Propert
-00019c20: 6965 7320 6f66 2067 726f 7570 2229 0a20  ies of group"). 
-00019c30: 2020 2020 2020 2023 2075 7469 6c73 2e6a         # utils.j
-00019c40: 736f 6e5f 7072 696e 7428 6375 725f 6772  son_print(cur_gr
-00019c50: 6f75 705f 7072 6f70 7329 0a20 2020 2020  oup_props).     
-00019c60: 2020 2023 2070 7269 6e74 2822 5b44 4542     # print("[DEB
-00019c70: 5547 5d20 2d2d 2d2d 2229 0a20 2020 2020  UG] ----").     
-00019c80: 2020 2023 2054 4f44 4f20 636f 7079 2070     # TODO copy p
-00019c90: 6173 7465 2066 726f 6d20 6372 6561 7465  aste from create
-00019ca0: 2067 726f 7570 202e 2e2e 2063 6f6d 6d6f   group ... commo
-00019cb0: 6e20 6675 6e63 2074 6f20 6275 696c 6420  n func to build 
-00019cc0: 7061 796c 6f61 640a 2020 2020 2020 2020  payload.        
-00019cd0: 6777 5f72 6f6c 655f 6469 6374 203d 207b  gw_role_dict = {
-00019ce0: 0a20 2020 2020 2020 2020 2020 2022 6272  .            "br
-00019cf0: 616e 6368 223a 2022 4272 616e 6368 4761  anch": "BranchGa
-00019d00: 7465 7761 7922 2c0a 2020 2020 2020 2020  teway",.        
-00019d10: 2020 2020 2276 706e 6322 3a20 2256 504e      "vpnc": "VPN
-00019d20: 436f 6e63 656e 7472 6174 6f72 222c 0a20  Concentrator",. 
-00019d30: 2020 2020 2020 2020 2020 2022 776c 616e             "wlan
-00019d40: 223a 2022 574c 414e 4761 7465 7761 7922  ": "WLANGateway"
-00019d50: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
-00019d60: 2020 2020 6465 765f 7479 7065 5f64 6963      dev_type_dic
-00019d70: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
-00019d80: 2020 2261 7022 3a20 2241 6363 6573 7350    "ap": "AccessP
-00019d90: 6f69 6e74 7322 2c0a 2020 2020 2020 2020  oints",.        
-00019da0: 2020 2020 2267 7722 3a20 2247 6174 6577      "gw": "Gatew
-00019db0: 6179 7322 2c0a 2020 2020 2020 2020 2020  ays",.          
-00019dc0: 2020 2273 7769 7463 6822 3a20 2253 7769    "switch": "Swi
-00019dd0: 7463 6865 7322 2c0a 2020 2020 2020 2020  tches",.        
-00019de0: 2020 2020 2263 7822 3a20 2253 7769 7463      "cx": "Switc
-00019df0: 6865 7322 2c0a 2020 2020 2020 2020 2020  hes",.          
-00019e00: 2020 2273 7722 3a20 2253 7769 7463 6865    "sw": "Switche
-00019e10: 7322 2c0a 2020 2020 2020 2020 7d0a 2020  s",.        }.  
-00019e20: 2020 2020 2020 6777 5f72 6f6c 6520 3d20        gw_role = 
-00019e30: 6777 5f72 6f6c 655f 6469 6374 2e67 6574  gw_role_dict.get
-00019e40: 2867 775f 726f 6c65 290a 0a20 2020 2020  (gw_role)..     
-00019e50: 2020 206d 6f6e 5f6f 6e6c 795f 7377 6974     mon_only_swit
-00019e60: 6368 6573 203d 205b 5d0a 2020 2020 2020  ches = [].      
-00019e70: 2020 6966 206d 6f6e 6974 6f72 5f6f 6e6c    if monitor_onl
-00019e80: 795f 7377 3a0a 2020 2020 2020 2020 2020  y_sw:.          
-00019e90: 2020 6d6f 6e5f 6f6e 6c79 5f73 7769 7463    mon_only_switc
-00019ea0: 6865 7320 2b3d 205b 2241 4f53 5f53 225d  hes += ["AOS_S"]
-00019eb0: 0a20 2020 2020 2020 2069 6620 6d6f 6e69  .        if moni
-00019ec0: 746f 725f 6f6e 6c79 5f63 783a 0a20 2020  tor_only_cx:.   
-00019ed0: 2020 2020 2020 2020 206d 6f6e 5f6f 6e6c           mon_onl
-00019ee0: 795f 7377 6974 6368 6573 202b 3d20 5b22  y_switches += ["
-00019ef0: 414f 535f 4358 225d 0a20 2020 2020 2020  AOS_CX"].       
-00019f00: 2020 2020 2072 6169 7365 204e 6f74 496d       raise NotIm
-00019f10: 706c 656d 656e 7465 6445 7272 6f72 2822  plementedError("
-00019f20: 414f 535f 4358 204d 6f6e 6974 6f72 204f  AOS_CX Monitor O
-00019f30: 6e6c 7920 6e6f 7420 7375 7070 6f72 7465  nly not supporte
-00019f40: 6420 696e 2043 656e 7472 616c 2079 6574  d in Central yet
-00019f50: 2e22 290a 0a20 2020 2020 2020 2061 7263  .")..        arc
-00019f60: 6820 3d20 4e6f 6e65 0a20 2020 2020 2020  h = None.       
-00019f70: 2069 6620 6d69 6372 6f62 7261 6e63 6820   if microbranch 
-00019f80: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00019f90: 2020 2020 2020 2020 2069 6620 616f 7331           if aos1
-00019fa0: 3020 6973 206e 6f74 204e 6f6e 653a 0a20  0 is not None:. 
-00019fb0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00019fc0: 7263 6820 3d20 2249 6e73 7461 6e74 2220  rch = "Instant" 
-00019fd0: 6966 206e 6f74 2061 6f73 3130 2065 6c73  if not aos10 els
-00019fe0: 6520 2241 4f53 3130 220a 0a20 2020 2020  e "AOS10"..     
-00019ff0: 2020 2061 6c6c 6f77 6564 5f74 7970 6573     allowed_types
-0001a000: 203d 206c 6973 7428 7365 7428 5b64 6576   = list(set([dev
-0001a010: 5f74 7970 655f 6469 6374 2e67 6574 2874  _type_dict.get(t
-0001a020: 2920 666f 7220 7420 696e 2061 6c6c 6f77  ) for t in allow
-0001a030: 6564 5f74 7970 6573 5d29 290a 2020 2020  ed_types])).    
-0001a040: 2020 2020 636f 6d62 696e 6564 5f61 6c6c      combined_all
-0001a050: 6f77 6564 203d 205b 2a61 6c6c 6f77 6564  owed = [*allowed
-0001a060: 5f74 7970 6573 2c20 2a63 7572 5f67 726f  _types, *cur_gro
-0001a070: 7570 5f70 726f 7073 5b22 416c 6c6f 7765  up_props["Allowe
-0001a080: 6444 6576 5479 7065 7322 5d5d 0a0a 2020  dDevTypes"]]..  
-0001a090: 2020 2020 2020 6966 204e 6f6e 6520 696e        if None in
-0001a0a0: 2061 6c6c 6f77 6564 5f74 7970 6573 3a0a   allowed_types:.
-0001a0b0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0001a0c0: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
-0001a0d0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-0001a0e0: 6f72 3d27 496e 7661 6c69 6420 6465 7669  or='Invalid devi
-0001a0f0: 6365 2074 7970 6520 666f 7220 616c 6c6f  ce type for allo
-0001a100: 7765 645f 7479 7065 7320 7661 6c69 6420  wed_types valid 
-0001a110: 7661 6c75 6573 3a20 2261 7022 2c20 2267  values: "ap", "g
-0001a120: 7722 2c20 2273 7722 2c20 2263 7822 2c20  w", "sw", "cx", 
-0001a130: 2273 7769 7463 6822 272c 0a20 2020 2020  "switch"',.     
-0001a140: 2020 2020 2020 2020 2020 2072 6c5f 7374             rl_st
-0001a150: 723d 7265 7370 2e72 6c2c 0a20 2020 2020  r=resp.rl,.     
-0001a160: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0001a170: 2069 6620 6d69 6372 6f62 7261 6e63 6820   if microbranch 
-0001a180: 616e 6420 6e6f 7420 616f 7331 303a 0a20  and not aos10:. 
-0001a190: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0001a1a0: 6e20 5265 7370 6f6e 7365 280a 2020 2020  n Response(.    
-0001a1b0: 2020 2020 2020 2020 2020 2020 6572 726f              erro
-0001a1c0: 723d 2249 6e76 616c 6964 2063 6f6d 6269  r="Invalid combi
-0001a1d0: 6e61 7469 6f6e 2c20 4772 6f75 7020 6d75  nation, Group mu
-0001a1e0: 7374 2062 6520 636f 6e66 6967 7572 6564  st be configured
-0001a1f0: 2061 7320 414f 5331 3020 6772 6f75 7020   as AOS10 group 
-0001a200: 746f 2073 7570 706f 7274 204d 6963 726f  to support Micro
-0001a210: 6272 616e 6368 222c 0a20 2020 2020 2020  branch",.       
-0001a220: 2020 2020 2020 2020 2072 6c5f 7374 723d           rl_str=
-0001a230: 7265 7370 2e72 6c2c 0a20 2020 2020 2020  resp.rl,.       
-0001a240: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
-0001a250: 6620 6d69 6372 6f62 7261 6e63 6820 616e  f microbranch an
-0001a260: 6420 2241 6363 6573 7350 6f69 6e74 7322  d "AccessPoints"
-0001a270: 206e 6f74 2069 6e20 636f 6d62 696e 6564   not in combined
-0001a280: 5f61 6c6c 6f77 6564 3a0a 2020 2020 2020  _allowed:.      
-0001a290: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-0001a2a0: 706f 6e73 6528 0a20 2020 2020 2020 2020  ponse(.         
-0001a2b0: 2020 2020 2020 2065 7272 6f72 3d66 2249         error=f"I
-0001a2c0: 6e76 616c 6964 2063 6f6d 6269 6e61 7469  nvalid combinati
-0001a2d0: 6f6e 2c20 7b63 6f6c 6f72 2827 4d69 6372  on, {color('Micr
-0001a2e0: 6f62 7261 6e63 6827 297d 2022 0a20 2020  obranch')} ".   
-0001a2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a300: 2020 2066 2263 616e 206e 6f74 2062 6520     f"can not be 
-0001a310: 656e 6162 6c65 6420 696e 2067 726f 7570  enabled in group
-0001a320: 207b 636f 6c6f 7228 6772 6f75 7029 7d2e   {color(group)}.
-0001a330: 2020 220a 2020 2020 2020 2020 2020 2020    ".            
-0001a340: 2020 2020 2020 2020 2020 2241 5073 206d            "APs m
-0001a350: 7573 7420 6265 2061 6464 6564 2074 6f20  ust be added to 
-0001a360: 616c 6c6f 7765 6420 6465 7669 6365 732e  allowed devices.
-0001a370: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-0001a380: 2020 2020 2020 2020 2020 6622 5b72 6573            f"[res
-0001a390: 6574 5d43 7572 7265 6e74 2041 6c6c 6f77  et]Current Allow
-0001a3a0: 6564 2044 6576 6963 6573 3a20 7b63 6f6c  ed Devices: {col
-0001a3b0: 6f72 2863 6f6d 6269 6e65 645f 616c 6c6f  or(combined_allo
-0001a3c0: 7765 6429 7d22 2c0a 2020 2020 2020 2020  wed)}",.        
-0001a3d0: 2020 2020 2020 2020 726c 5f73 7472 3d72          rl_str=r
-0001a3e0: 6573 702e 726c 2c0a 2020 2020 2020 2020  esp.rl,.        
-0001a3f0: 2020 2020 290a 2020 2020 2020 2020 2320      ).        # 
-0001a400: 6966 2022 4761 7465 7761 7973 2220 696e  if "Gateways" in
-0001a410: 2063 6f6d 6269 6e65 645f 616c 6c6f 7765   combined_allowe
-0001a420: 6420 6f72 2022 4163 6365 7373 506f 696e  d or "AccessPoin
-0001a430: 7473 2220 696e 2063 6f6d 6269 6e65 645f  ts" in combined_
-0001a440: 616c 6c6f 7765 643a 0a20 2020 2020 2020  allowed:.       
-0001a450: 2023 2020 2020 2069 6620 616f 7331 3020   #     if aos10 
-0001a460: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-0001a470: 2020 2020 2023 2020 2020 2020 2020 2072       #         r
-0001a480: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
-0001a490: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0001a4a0: 2020 2020 2020 6572 726f 723d 6622 7b63        error=f"{c
-0001a4b0: 6f6c 6f72 2827 414f 5331 3027 297d 2063  olor('AOS10')} c
-0001a4c0: 616e 206f 6e6c 7920 6265 2073 6574 2077  an only be set w
-0001a4d0: 6865 6e20 4150 7320 6f72 2047 5773 2061  hen APs or GWs a
-0001a4e0: 7265 2069 6e69 7469 616c 6c79 2061 6464  re initially add
-0001a4f0: 6564 2074 6f20 616c 6c6f 7765 645f 7479  ed to allowed_ty
-0001a500: 7065 7320 6f66 2067 726f 7570 220a 2020  pes of group".  
-0001a510: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0001a520: 2020 2020 2020 2020 2020 6622 5c6e 7b63            f"\n{c
-0001a530: 6f6c 6f72 2867 726f 7570 297d 2063 616e  olor(group)} can
-0001a540: 2062 6520 636c 6f6e 6564 2077 6974 6820   be cloned with 
-0001a550: 6f70 7469 6f6e 2074 6f20 7570 6772 6164  option to upgrad
-0001a560: 6520 6475 7269 6e67 2063 6c6f 6e65 2e22  e during clone."
-0001a570: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0001a580: 2020 2020 2020 2020 726c 5f73 7472 3d72          rl_str=r
-0001a590: 6573 702e 726c 2c0a 2020 2020 2020 2020  esp.rl,.        
-0001a5a0: 2320 2020 2020 2020 2020 290a 2020 2020  #         ).    
-0001a5b0: 2020 2020 2320 6966 2077 6972 6564 5f74      # if wired_t
-0001a5c0: 6720 616e 6420 6d6f 6e69 746f 725f 6f6e  g and monitor_on
-0001a5d0: 6c79 5f73 7720 6f72 206d 6f6e 6974 6f72  ly_sw or monitor
-0001a5e0: 5f6f 6e6c 795f 6378 3a0a 2020 2020 2020  _only_cx:.      
-0001a5f0: 2020 6966 2077 6972 6564 5f74 6720 616e    if wired_tg an
-0001a600: 6420 6d6f 6e69 746f 725f 6f6e 6c79 5f73  d monitor_only_s
-0001a610: 773a 0a20 2020 2020 2020 2020 2020 2072  w:.            r
-0001a620: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
-0001a630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a640: 6572 726f 723d 2249 6e76 616c 6964 2063  error="Invalid c
-0001a650: 6f6d 6269 6e61 7469 6f6e 2c20 4d6f 6e69  ombination, Moni
-0001a660: 746f 7220 4f6e 6c79 2069 7320 6e6f 7420  tor Only is not 
-0001a670: 7661 6c69 6420 666f 7220 5465 6d70 6c61  valid for Templa
-0001a680: 7465 2047 726f 7570 222c 0a20 2020 2020  te Group",.     
-0001a690: 2020 2020 2020 2020 2020 2072 6c5f 7374             rl_st
-0001a6a0: 723d 7265 7370 2e72 6c2c 0a20 2020 2020  r=resp.rl,.     
-0001a6b0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-0001a6c0: 2020 6772 705f 7072 6f70 7320 3d20 7b0a    grp_props = {.
-0001a6d0: 2020 2020 2020 2020 2020 2020 2241 6c6c              "All
-0001a6e0: 6f77 6564 4465 7654 7970 6573 223a 2063  owedDevTypes": c
-0001a6f0: 6f6d 6269 6e65 645f 616c 6c6f 7765 642c  ombined_allowed,
-0001a700: 0a20 2020 2020 2020 2020 2020 2022 4172  .            "Ar
-0001a710: 6368 6974 6563 7475 7265 223a 2061 7263  chitecture": arc
-0001a720: 6820 6f72 2063 7572 5f67 726f 7570 5f70  h or cur_group_p
-0001a730: 726f 7073 2e67 6574 2822 4172 6368 6974  rops.get("Archit
-0001a740: 6563 7475 7265 2229 2c0a 2020 2020 2020  ecture"),.      
-0001a750: 2020 2020 2020 2241 6c6c 6f77 6564 5377        "AllowedSw
-0001a760: 6974 6368 5479 7065 7322 3a20 616c 6c6f  itchTypes": allo
-0001a770: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
-0001a780: 206f 7220 6375 725f 6772 6f75 705f 7072   or cur_group_pr
-0001a790: 6f70 732e 6765 7428 2241 6c6c 6f77 6564  ops.get("Allowed
-0001a7a0: 5377 6974 6368 5479 7065 7322 2c20 5b5d  SwitchTypes", []
-0001a7b0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
-0001a7c0: 4d6f 6e69 746f 724f 6e6c 7922 3a20 6d6f  MonitorOnly": mo
-0001a7d0: 6e5f 6f6e 6c79 5f73 7769 7463 6865 7320  n_only_switches 
-0001a7e0: 6f72 2063 7572 5f67 726f 7570 5f70 726f  or cur_group_pro
-0001a7f0: 7073 2e67 6574 2822 4d6f 6e69 746f 724f  ps.get("MonitorO
-0001a800: 6e6c 7953 7769 7463 6822 290a 2020 2020  nlySwitch").    
-0001a810: 2020 2020 7d0a 2020 2020 2020 2020 6772      }.        gr
-0001a820: 705f 7072 6f70 7320 3d20 7b6b 3a20 7620  p_props = {k: v 
-0001a830: 666f 7220 6b2c 2076 2069 6e20 6772 705f  for k, v in grp_
-0001a840: 7072 6f70 732e 6974 656d 7328 2920 6966  props.items() if
-0001a850: 2076 7d0a 0a20 2020 2020 2020 2069 6620   v}..        if 
-0001a860: 6777 5f72 6f6c 6520 616e 6420 2247 6174  gw_role and "Gat
-0001a870: 6577 6179 7322 2069 6e20 616c 6c6f 7765  eways" in allowe
-0001a880: 645f 7479 7065 733a 0a20 2020 2020 2020  d_types:.       
-0001a890: 2020 2020 2067 7270 5f70 726f 7073 5b22       grp_props["
-0001a8a0: 4777 4e65 7477 6f72 6b52 6f6c 6522 5d20  GwNetworkRole"] 
-0001a8b0: 3d20 6777 5f72 6f6c 650a 2020 2020 2020  = gw_role.      
-0001a8c0: 2020 6966 2022 4163 6365 7373 506f 696e    if "AccessPoin
-0001a8d0: 7473 2220 696e 2061 6c6c 6f77 6564 5f74  ts" in allowed_t
-0001a8e0: 7970 6573 206f 7220 2241 6363 6573 7350  ypes or "AccessP
-0001a8f0: 6f69 6e74 7322 2069 6e20 6375 725f 6772  oints" in cur_gr
-0001a900: 6f75 705f 7072 6f70 735b 2241 6c6c 6f77  oup_props["Allow
-0001a910: 6564 4465 7654 7970 6573 225d 3a0a 2020  edDevTypes"]:.  
-0001a920: 2020 2020 2020 2020 2020 6966 206d 6963            if mic
-0001a930: 726f 6272 616e 6368 2069 7320 6e6f 7420  robranch is not 
-0001a940: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001a950: 2020 2020 2020 6772 705f 7072 6f70 735b        grp_props[
-0001a960: 2241 704e 6574 776f 726b 526f 6c65 225d  "ApNetworkRole"]
-0001a970: 203d 205c 0a20 2020 2020 2020 2020 2020   = \.           
-0001a980: 2020 2020 2020 2020 2022 5374 616e 6461           "Standa
-0001a990: 7264 2220 6966 206e 6f74 206d 6963 726f  rd" if not micro
-0001a9a0: 6272 616e 6368 2065 6c73 6520 224d 6963  branch else "Mic
-0001a9b0: 726f 6272 616e 6368 220a 0a20 2020 2020  robranch"..     
-0001a9c0: 2020 2074 6d70 6c74 5f69 6e66 6f20 3d20     tmplt_info = 
-0001a9d0: 7b0a 2020 2020 2020 2020 2020 2020 2257  {.            "W
-0001a9e0: 6972 6564 223a 2077 6972 6564 5f74 672c  ired": wired_tg,
-0001a9f0: 0a20 2020 2020 2020 2020 2020 2022 5769  .            "Wi
-0001aa00: 7265 6c65 7373 223a 2077 6c61 6e5f 7467  reless": wlan_tg
-0001aa10: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-0001aa20: 2020 2074 6d70 6c74 5f69 6e66 6f20 3d20     tmplt_info = 
-0001aa30: 7574 696c 732e 7374 7269 705f 6e6f 6e65  utils.strip_none
-0001aa40: 2874 6d70 6c74 5f69 6e66 6f29 0a0a 2020  (tmplt_info)..  
-0001aa50: 2020 2020 2020 6772 705f 6174 7472 7320        grp_attrs 
-0001aa60: 3d20 7b7d 0a20 2020 2020 2020 2069 6620  = {}.        if 
-0001aa70: 746d 706c 745f 696e 666f 3a0a 2020 2020  tmplt_info:.    
-0001aa80: 2020 2020 2020 2020 6772 705f 6174 7472          grp_attr
-0001aa90: 735b 2274 656d 706c 6174 655f 696e 666f  s["template_info
-0001aaa0: 225d 203d 2074 6d70 6c74 5f69 6e66 6f0a  "] = tmplt_info.
-0001aab0: 2020 2020 2020 2020 6966 2067 7270 5f70          if grp_p
-0001aac0: 726f 7073 3a0a 2020 2020 2020 2020 2020  rops:.          
-0001aad0: 2020 6772 705f 6174 7472 735b 2267 726f    grp_attrs["gro
-0001aae0: 7570 5f70 726f 7065 7274 6965 7322 5d20  up_properties"] 
-0001aaf0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001ab00: 2020 2020 2a2a 7b6b 3a20 7620 666f 7220      **{k: v for 
-0001ab10: 6b2c 2076 2069 6e20 6375 725f 6772 6f75  k, v in cur_grou
-0001ab20: 705f 7072 6f70 732e 6974 656d 7328 2920  p_props.items() 
-0001ab30: 6966 206b 206e 6f74 2069 6e20 5b22 414f  if k not in ["AO
-0001ab40: 5356 6572 7369 6f6e 222c 2022 4d6f 6e69  SVersion", "Moni
-0001ab50: 746f 724f 6e6c 7922 5d7d 2c0a 2020 2020  torOnly"]},.    
-0001ab60: 2020 2020 2020 2020 2020 2020 2a2a 6772              **gr
-0001ab70: 705f 7072 6f70 730a 2020 2020 2020 2020  p_props.        
-0001ab80: 2020 2020 7d0a 2020 2020 2020 2020 6a73      }.        js
-0001ab90: 6f6e 5f64 6174 6120 3d20 6772 705f 6174  on_data = grp_at
-0001aba0: 7472 730a 0a20 2020 2020 2020 2023 206a  trs..        # j
-0001abb0: 736f 6e5f 6461 7461 203d 207b 2267 726f  son_data = {"gro
-0001abc0: 7570 223a 2067 726f 7570 7d0a 2020 2020  up": group}.    
-0001abd0: 2020 2020 2320 6966 2067 7270 5f61 7474      # if grp_att
-0001abe0: 7273 3a0a 2020 2020 2020 2020 2320 2020  rs:.        #   
-0001abf0: 2020 6a73 6f6e 5f64 6174 615b 2267 726f    json_data["gro
-0001ac00: 7570 5f61 7474 7269 6275 7465 7322 5d20  up_attributes"] 
-0001ac10: 3d20 6772 705f 6174 7472 730a 0a0a 0a20  = grp_attrs.... 
-0001ac20: 2020 2020 2020 2023 2069 6620 6c65 6e28         # if len(
-0001ac30: 6a73 6f6e 5f64 6174 6129 203d 3d20 313a  json_data) == 1:
-0001ac40: 0a20 2020 2020 2020 2023 2020 2020 2072  .        #     r
-0001ac50: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-0001ac60: 224e 6f20 4368 616e 6765 7320 4465 7465  "No Changes Dete
-0001ac70: 6374 6564 2229 0a20 2020 2020 2020 2023  cted").        #
-0001ac80: 2065 6c73 653a 0a20 2020 2020 2020 2069   else:.        i
-0001ac90: 6620 636f 6e66 6967 2e64 6562 7567 763a  f config.debugv:
-0001aca0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-0001acb0: 6e74 2866 225b 4445 4255 475d 202d 2d2d  nt(f"[DEBUG] ---
-0001acc0: 2d20 5365 6e64 696e 6720 7468 6520 666f  - Sending the fo
-0001acd0: 6c6c 6f77 696e 6720 746f 207b 7572 6c7d  llowing to {url}
-0001ace0: 2229 0a20 2020 2020 2020 2020 2020 2075  ").            u
-0001acf0: 7469 6c73 2e6a 736f 6e5f 7072 696e 7428  tils.json_print(
-0001ad00: 6a73 6f6e 5f64 6174 6129 0a20 2020 2020  json_data).     
-0001ad10: 2020 2020 2020 2070 7269 6e74 2822 5b44         print("[D
-0001ad20: 4542 5547 5d20 2d2d 2d2d 2229 0a0a 2020  EBUG] ----")..  
-0001ad30: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0001ad40: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-0001ad50: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-0001ad60: 6e5f 6461 7461 290a 2020 2020 2020 2020  n_data).        
-0001ad70: 2320 2320 4649 584d 4520 7265 6d6f 7665  # # FIXME remove
-0001ad80: 2064 6562 7567 2070 7269 6e74 730a 2020   debug prints.  
-0001ad90: 2020 2020 2020 2320 7072 696e 7428 7572        # print(ur
-0001ada0: 6c29 0a20 2020 2020 2020 2023 2066 726f  l).        # fro
-0001adb0: 6d20 7269 6368 2069 6d70 6f72 7420 7072  m rich import pr
-0001adc0: 696e 745f 6a73 6f6e 0a20 2020 2020 2020  int_json.       
-0001add0: 2023 2070 7269 6e74 5f6a 736f 6e28 6461   # print_json(da
-0001ade0: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-0001adf0: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
-0001ae00: 6174 655f 6772 6f75 705f 6e61 6d65 2873  ate_group_name(s
-0001ae10: 656c 662c 2067 726f 7570 3a20 7374 722c  elf, group: str,
-0001ae20: 206e 6577 5f67 726f 7570 3a20 7374 7229   new_group: str)
-0001ae30: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0001ae40: 2020 2020 2020 2222 2255 7064 6174 6520        """Update 
-0001ae50: 6772 6f75 7020 6e61 6d65 2066 6f72 2074  group name for t
-0001ae60: 6865 2067 6976 656e 2067 726f 7570 2e0a  he given group..
-0001ae70: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0001ae80: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0001ae90: 2028 7374 7229 3a20 4772 6f75 7020 666f   (str): Group fo
-0001aea0: 7220 7768 6963 6820 6e61 6d65 206e 6565  r which name nee
-0001aeb0: 6420 746f 2062 6520 7570 6461 7465 642e  d to be updated.
-0001aec0: 0a20 2020 2020 2020 2020 2020 206e 6577  .            new
-0001aed0: 5f67 726f 7570 2028 7374 7229 3a20 5468  _group (str): Th
-0001aee0: 6520 6e65 7720 6e61 6d65 206f 6620 7468  e new name of th
-0001aef0: 6520 6772 6f75 702e 0a0a 2020 2020 2020  e group...      
-0001af00: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0001af10: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0001af20: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0001af30: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0001af40: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001af50: 2320 544f 444f 2072 6570 6f72 7420 666c  # TODO report fl
-0001af60: 6177 6564 2041 5049 206d 6574 686f 640a  awed API method.
-0001af70: 2020 2020 2020 2020 2320 5468 6973 2077          # This w
-0001af80: 6f72 6b73 2066 6f72 2072 656e 616d 696e  orks for renamin
-0001af90: 6720 3878 2067 726f 7570 730a 2020 2020  g 8x groups.    
-0001afa0: 2020 2020 2320 6966 2079 6f75 2074 7279      # if you try
-0001afb0: 2074 6f20 7265 6e61 6d65 2061 2031 3078   to rename a 10x
-0001afc0: 2067 726f 7570 2069 6e61 7070 726f 7072   group inappropr
-0001afd0: 6961 7465 2065 7272 6f72 3a0a 2020 2020  iate error:.    
-0001afe0: 2020 2020 2320 5b0a 2020 2020 2020 2020      # [.        
-0001aff0: 2320 2020 2020 7b0a 2020 2020 2020 2020  #     {.        
-0001b000: 2320 2020 2020 2020 2020 2264 6573 6372  #         "descr
-0001b010: 6970 7469 6f6e 223a 2022 6772 6f75 7020  iption": "group 
-0001b020: 616c 7265 6164 7920 6861 7320 414f 535f  already has AOS_
-0001b030: 3130 5820 7665 7273 696f 6e20 7365 7422  10X version set"
-0001b040: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0001b050: 2020 2020 2265 7272 6f72 5f63 6f64 6522      "error_code"
-0001b060: 3a20 2230 3030 3122 2c0a 2020 2020 2020  : "0001",.      
-0001b070: 2020 2320 2020 2020 2020 2020 2273 6572    #         "ser
-0001b080: 7669 6365 5f6e 616d 6522 3a20 2243 6f6e  vice_name": "Con
-0001b090: 6669 6775 7261 7469 6f6e 220a 2020 2020  figuration".    
-0001b0a0: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
-0001b0b0: 2020 2020 2320 5d0a 2020 2020 2020 2020      # ].        
-0001b0c0: 2320 4920 6469 6420 7472 7920 772f 2066  # I did try w/ f
-0001b0d0: 756c 6c20 7061 796c 6f61 6420 7369 6d69  ull payload simi
-0001b0e0: 6c61 7220 746f 2067 6574 5f67 726f 7570  lar to get_group
-0001b0f0: 2070 726f 7073 2072 6573 700a 2020 2020   props resp.    
-0001b100: 2020 2020 2320 692e 652e 0a20 2020 2020      # i.e..     
-0001b110: 2020 2023 207b 0a20 2020 2020 2020 2023     # {.        #
-0001b120: 2020 2020 2022 6772 6f75 7022 3a20 226e       "group": "n
-0001b130: 6577 5f6e 616d 6522 2c0a 2020 2020 2020  ew_name",.      
-0001b140: 2020 2320 2020 2020 2270 726f 7065 7274    #     "propert
-0001b150: 6965 7322 3a20 7b0a 2020 2020 2020 2020  ies": {.        
-0001b160: 2320 2020 2020 2020 2020 2241 4f53 5665  #         "AOSVe
-0001b170: 7273 696f 6e22 3a20 2241 4f53 5f31 3058  rsion": "AOS_10X
-0001b180: 222c 2020 3c2d 2074 7269 6564 2073 7065  ",  <- tried spe
-0001b190: 6369 6679 696e 6720 6772 6f75 7020 6973  cifying group is
-0001b1a0: 2061 6c72 6561 6479 2031 3078 0a20 2020   already 10x.   
-0001b1b0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-0001b1c0: 4d6f 6e69 746f 724f 6e6c 7953 7769 7463  MonitorOnlySwitc
-0001b1d0: 6822 3a20 4661 6c73 650a 2020 2020 2020  h": False.      
-0001b1e0: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
-0001b1f0: 2020 2320 7d0a 2020 2020 2020 2020 7572    # }.        ur
-0001b200: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-0001b210: 7469 6f6e 2f76 312f 6772 6f75 7073 2f7b  tion/v1/groups/{
-0001b220: 6772 6f75 707d 2f6e 616d 6522 0a0a 2020  group}/name"..  
-0001b230: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-0001b240: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001b250: 2767 726f 7570 273a 206e 6577 5f67 726f  'group': new_gro
-0001b260: 7570 0a20 2020 2020 2020 207d 0a0a 2020  up.        }..  
-0001b270: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0001b280: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-0001b290: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-0001b2a0: 6e5f 6461 7461 290a 0a20 2020 2061 7379  n_data)..    asy
-0001b2b0: 6e63 2064 6566 2067 6574 5f61 705f 7365  nc def get_ap_se
-0001b2c0: 7474 696e 6773 2873 656c 662c 2073 6572  ttings(self, ser
-0001b2d0: 6961 6c5f 6e75 6d62 6572 3a20 7374 7229  ial_number: str)
-0001b2e0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0001b2f0: 2020 2020 2020 2222 2247 6574 2061 6e20        """Get an 
-0001b300: 6578 6973 7469 6e67 2061 7020 7365 7474  existing ap sett
-0001b310: 696e 6773 2e0a 0a20 2020 2020 2020 202f  ings...        /
-0001b320: 2f20 5573 6564 2069 6e64 6972 6563 746c  / Used indirectl
-0001b330: 7920 2875 7064 6174 655f 6170 5f73 6574  y (update_ap_set
-0001b340: 7469 6e67 7329 2062 7920 6261 7463 6820  tings) by batch 
-0001b350: 7265 6e61 6d65 2041 5020 2f2f 0a0a 2020  rename AP //..  
-0001b360: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001b370: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-0001b380: 756d 6265 7220 2873 7472 293a 2041 5020  umber (str): AP 
-0001b390: 7365 7269 616c 206e 756d 6265 722e 0a0a  serial number...
-0001b3a0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0001b3b0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0001b3c0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0001b3d0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0001b3e0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0001b3f0: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-0001b400: 6f6e 6669 6775 7261 7469 6f6e 2f76 322f  onfiguration/v2/
-0001b410: 6170 5f73 6574 7469 6e67 732f 7b73 6572  ap_settings/{ser
-0001b420: 6961 6c5f 6e75 6d62 6572 7d22 0a0a 2020  ial_number}"..  
-0001b430: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0001b440: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
-0001b450: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001b460: 7570 6461 7465 5f61 705f 7365 7474 696e  update_ap_settin
-0001b470: 6773 280a 2020 2020 2020 2020 7365 6c66  gs(.        self
-0001b480: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-0001b490: 5f6e 756d 6265 723a 2073 7472 2c0a 2020  _number: str,.  
-0001b4a0: 2020 2020 2020 686f 7374 6e61 6d65 3a20        hostname: 
-0001b4b0: 7374 722c 0a20 2020 2020 2020 2069 705f  str,.        ip_
-0001b4c0: 6164 6472 6573 733a 2073 7472 203d 204e  address: str = N
-0001b4d0: 6f6e 652c 0a20 2020 2020 2020 207a 6f6e  one,.        zon
-0001b4e0: 656e 616d 653a 2073 7472 203d 204e 6f6e  ename: str = Non
-0001b4f0: 652c 0a20 2020 2020 2020 2061 6368 616e  e,.        achan
-0001b500: 6e65 6c3a 2073 7472 203d 204e 6f6e 652c  nel: str = None,
-0001b510: 0a20 2020 2020 2020 2061 7478 706f 7765  .        atxpowe
-0001b520: 723a 2073 7472 203d 204e 6f6e 652c 0a20  r: str = None,. 
-0001b530: 2020 2020 2020 2067 6368 616e 6e65 6c3a         gchannel:
-0001b540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001b550: 2020 2020 2067 7478 706f 7765 723a 2073       gtxpower: s
-0001b560: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0001b570: 2020 2064 6f74 3131 615f 7261 6469 6f5f     dot11a_radio_
-0001b580: 6469 7361 626c 653a 2062 6f6f 6c20 3d20  disable: bool = 
-0001b590: 4e6f 6e65 2c0a 2020 2020 2020 2020 646f  None,.        do
-0001b5a0: 7431 3167 5f72 6164 696f 5f64 6973 6162  t11g_radio_disab
-0001b5b0: 6c65 3a20 626f 6f6c 203d 204e 6f6e 652c  le: bool = None,
-0001b5c0: 0a20 2020 2020 2020 2075 7362 5f70 6f72  .        usb_por
-0001b5d0: 745f 6469 7361 626c 653a 2062 6f6f 6c20  t_disable: bool 
-0001b5e0: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-0001b5f0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0001b600: 2020 2022 2222 5570 6461 7465 2061 6e20     """Update an 
-0001b610: 6578 6973 7469 6e67 2061 7020 7365 7474  existing ap sett
-0001b620: 696e 6773 2e0a 0a20 2020 2020 2020 202f  ings...        /
-0001b630: 2f20 5573 6564 2062 7920 6261 7463 6820  / Used by batch 
-0001b640: 7265 6e61 6d65 2061 7073 2061 6e64 2072  rename aps and r
-0001b650: 656e 616d 6520 6170 202f 2f0a 0a20 2020  ename ap //..   
-0001b660: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001b670: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-0001b680: 6d62 6572 2028 7374 722c 206f 7074 696f  mber (str, optio
-0001b690: 6e61 6c29 3a20 4150 2053 6572 6961 6c20  nal): AP Serial 
-0001b6a0: 4e75 6d62 6572 0a20 2020 2020 2020 2020  Number.         
-0001b6b0: 2020 2068 6f73 746e 616d 6520 2873 7472     hostname (str
-0001b6c0: 293a 2068 6f73 746e 616d 650a 2020 2020  ): hostname.    
-0001b6d0: 2020 2020 2020 2020 6970 5f61 6464 7265          ip_addre
-0001b6e0: 7373 2028 7374 722c 206f 7074 696f 6e61  ss (str, optiona
-0001b6f0: 6c29 3a20 6970 5f61 6464 7265 7373 2044  l): ip_address D
-0001b700: 6566 6175 6c74 2028 4448 4350 290a 2020  efault (DHCP).  
-0001b710: 2020 2020 2020 2020 2020 7a6f 6e65 6e61            zonena
-0001b720: 6d65 2028 7374 722c 206f 7074 696f 6e61  me (str, optiona
-0001b730: 6c29 3a20 7a6f 6e65 6e61 6d65 2e20 4465  l): zonename. De
-0001b740: 6661 756c 7420 2222 2028 4e6f 205a 6f6e  fault "" (No Zon
-0001b750: 6529 0a20 2020 2020 2020 2020 2020 2061  e).            a
-0001b760: 6368 616e 6e65 6c20 2873 7472 2c20 6f70  channel (str, op
-0001b770: 7469 6f6e 616c 293a 2061 6368 616e 6e65  tional): achanne
-0001b780: 6c0a 2020 2020 2020 2020 2020 2020 6174  l.            at
-0001b790: 7870 6f77 6572 2028 7374 722c 206f 7074  xpower (str, opt
-0001b7a0: 696f 6e61 6c29 3a20 6174 7870 6f77 6572  ional): atxpower
-0001b7b0: 0a20 2020 2020 2020 2020 2020 2067 6368  .            gch
-0001b7c0: 616e 6e65 6c20 2873 7472 2c20 6f70 7469  annel (str, opti
-0001b7d0: 6f6e 616c 293a 2067 6368 616e 6e65 6c0a  onal): gchannel.
-0001b7e0: 2020 2020 2020 2020 2020 2020 6774 7870              gtxp
-0001b7f0: 6f77 6572 2028 7374 722c 206f 7074 696f  ower (str, optio
-0001b800: 6e61 6c29 3a20 6774 7870 6f77 6572 0a20  nal): gtxpower. 
-0001b810: 2020 2020 2020 2020 2020 2064 6f74 3131             dot11
-0001b820: 615f 7261 6469 6f5f 6469 7361 626c 6520  a_radio_disable 
-0001b830: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-0001b840: 3a20 646f 7431 3161 5f72 6164 696f 5f64  : dot11a_radio_d
-0001b850: 6973 6162 6c65 0a20 2020 2020 2020 2020  isable.         
-0001b860: 2020 2064 6f74 3131 675f 7261 6469 6f5f     dot11g_radio_
-0001b870: 6469 7361 626c 6520 2862 6f6f 6c2c 206f  disable (bool, o
-0001b880: 7074 696f 6e61 6c29 3a20 646f 7431 3167  ptional): dot11g
-0001b890: 5f72 6164 696f 5f64 6973 6162 6c65 0a20  _radio_disable. 
-0001b8a0: 2020 2020 2020 2020 2020 2075 7362 5f70             usb_p
-0001b8b0: 6f72 745f 6469 7361 626c 6520 2862 6f6f  ort_disable (boo
-0001b8c0: 6c2c 206f 7074 696f 6e61 6c29 3a20 7573  l, optional): us
-0001b8d0: 625f 706f 7274 5f64 6973 6162 6c65 0a0a  b_port_disable..
-0001b8e0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0001b8f0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0001b900: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0001b910: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0001b920: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0001b930: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-0001b940: 6f6e 6669 6775 7261 7469 6f6e 2f76 322f  onfiguration/v2/
-0001b950: 6170 5f73 6574 7469 6e67 732f 7b73 6572  ap_settings/{ser
-0001b960: 6961 6c5f 6e75 6d62 6572 7d22 0a0a 2020  ial_number}"..  
-0001b970: 2020 2020 2020 5f6a 736f 6e5f 6461 7461        _json_data
-0001b980: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0001b990: 2027 686f 7374 6e61 6d65 273a 2068 6f73   'hostname': hos
-0001b9a0: 746e 616d 652c 0a20 2020 2020 2020 2020  tname,.         
-0001b9b0: 2020 2027 6970 5f61 6464 7265 7373 273a     'ip_address':
-0001b9c0: 2069 705f 6164 6472 6573 732c 0a20 2020   ip_address,.   
-0001b9d0: 2020 2020 2020 2020 2027 7a6f 6e65 6e61           'zonena
-0001b9e0: 6d65 273a 207a 6f6e 656e 616d 652c 0a20  me': zonename,. 
-0001b9f0: 2020 2020 2020 2020 2020 2027 6163 6861             'acha
-0001ba00: 6e6e 656c 273a 2061 6368 616e 6e65 6c2c  nnel': achannel,
-0001ba10: 0a20 2020 2020 2020 2020 2020 2027 6174  .            'at
-0001ba20: 7870 6f77 6572 273a 2061 7478 706f 7765  xpower': atxpowe
-0001ba30: 722c 0a20 2020 2020 2020 2020 2020 2027  r,.            '
-0001ba40: 6763 6861 6e6e 656c 273a 2067 6368 616e  gchannel': gchan
-0001ba50: 6e65 6c2c 0a20 2020 2020 2020 2020 2020  nel,.           
-0001ba60: 2027 6774 7870 6f77 6572 273a 2067 7478   'gtxpower': gtx
-0001ba70: 706f 7765 722c 0a20 2020 2020 2020 2020  power,.         
-0001ba80: 2020 2027 646f 7431 3161 5f72 6164 696f     'dot11a_radio
-0001ba90: 5f64 6973 6162 6c65 273a 2064 6f74 3131  _disable': dot11
-0001baa0: 615f 7261 6469 6f5f 6469 7361 626c 652c  a_radio_disable,
-0001bab0: 0a20 2020 2020 2020 2020 2020 2027 646f  .            'do
-0001bac0: 7431 3167 5f72 6164 696f 5f64 6973 6162  t11g_radio_disab
-0001bad0: 6c65 273a 2064 6f74 3131 675f 7261 6469  le': dot11g_radi
-0001bae0: 6f5f 6469 7361 626c 652c 0a20 2020 2020  o_disable,.     
-0001baf0: 2020 2020 2020 2027 7573 625f 706f 7274         'usb_port
-0001bb00: 5f64 6973 6162 6c65 273a 2075 7362 5f70  _disable': usb_p
-0001bb10: 6f72 745f 6469 7361 626c 650a 2020 2020  ort_disable.    
-0001bb20: 2020 2020 7d0a 2020 2020 2020 2020 6966      }.        if
-0001bb30: 204e 6f6e 6520 696e 205f 6a73 6f6e 5f64   None in _json_d
-0001bb40: 6174 612e 7661 6c75 6573 2829 3a0a 2020  ata.values():.  
-0001bb50: 2020 2020 2020 2020 2020 7265 7370 203d            resp =
-0001bb60: 2061 7761 6974 2073 656c 662e 5f72 6571   await self._req
-0001bb70: 7565 7374 2873 656c 662e 6765 745f 6170  uest(self.get_ap
-0001bb80: 5f73 6574 7469 6e67 732c 2073 6572 6961  _settings, seria
-0001bb90: 6c5f 6e75 6d62 6572 290a 2020 2020 2020  l_number).      
-0001bba0: 2020 2020 2020 6966 206e 6f74 2072 6573        if not res
-0001bbb0: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
-0001bbc0: 2020 2072 6574 7572 6e20 7265 7370 0a0a     return resp..
-0001bbd0: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-0001bbe0: 5f64 6174 6120 3d20 7365 6c66 2e73 7472  _data = self.str
-0001bbf0: 6970 5f6e 6f6e 6528 5f6a 736f 6e5f 6461  ip_none(_json_da
-0001bc00: 7461 290a 2020 2020 2020 2020 2020 2020  ta).            
-0001bc10: 6a73 6f6e 5f64 6174 6120 3d20 7b2a 2a72  json_data = {**r
-0001bc20: 6573 702e 6f75 7470 7574 2c20 2a2a 6a73  esp.output, **js
-0001bc30: 6f6e 5f64 6174 617d 0a20 2020 2020 2020  on_data}.       
-0001bc40: 2020 2020 2069 6620 6e6f 7420 736f 7274       if not sort
-0001bc50: 6564 285f 6a73 6f6e 5f64 6174 612e 6b65  ed(_json_data.ke
-0001bc60: 7973 2829 2920 3d3d 2073 6f72 7465 6428  ys()) == sorted(
-0001bc70: 6a73 6f6e 5f64 6174 612e 6b65 7973 2829  json_data.keys()
-0001bc80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001bc90: 2020 206d 6973 7369 6e67 203d 2022 2c20     missing = ", 
-0001bca0: 222e 6a6f 696e 285b 6622 277b 6b7d 2722  ".join([f"'{k}'"
-0001bcb0: 2066 6f72 206b 2069 6e20 6a73 6f6e 5f64   for k in json_d
-0001bcc0: 6174 612e 6b65 7973 2829 2069 6620 6b20  ata.keys() if k 
-0001bcd0: 6e6f 7420 696e 205f 6a73 6f6e 5f64 6174  not in _json_dat
-0001bce0: 612e 6b65 7973 2829 5d29 0a20 2020 2020  a.keys()]).     
-0001bcf0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0001bd00: 6e20 5265 7370 6f6e 7365 280a 2020 2020  n Response(.    
-0001bd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bd20: 6f6b 3d46 616c 7365 2c0a 2020 2020 2020  ok=False,.      
-0001bd30: 2020 2020 2020 2020 2020 2020 2020 6572                er
-0001bd40: 726f 723d 6622 5570 6461 7465 2070 6179  ror=f"Update pay
-0001bd50: 6c6f 6164 2069 7320 6d69 7373 696e 6720  load is missing 
-0001bd60: 7265 7175 6972 6564 2061 7474 7269 6275  required attribu
-0001bd70: 7465 733a 207b 6d69 7373 696e 677d 222c  tes: {missing}",
-0001bd80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001bd90: 2020 2020 2072 6561 736f 6e3d 2249 4e56       reason="INV
-0001bda0: 414c 4944 220a 2020 2020 2020 2020 2020  ALID".          
-0001bdb0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
-0001bdc0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0001bdd0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-0001bde0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-0001bdf0: 290a 0a20 2020 2023 2054 4f44 4f20 4e6f  )..    # TODO No
-0001be00: 7455 7365 6420 5965 742e 2020 5368 6f77  tUsed Yet.  Show
-0001be10: 7320 616e 7920 7570 6461 7465 7320 6e6f  s any updates no
-0001be20: 7420 7965 7420 7075 7368 6564 2074 6f20  t yet pushed to 
-0001be30: 7468 6520 6465 7669 6365 2028 6465 7669  the device (devi
-0001be40: 6365 206f 6666 6c69 6e65 2c20 6574 6329  ce offline, etc)
-0001be50: 0a20 2020 2023 204d 6179 206f 6e6c 7920  .    # May only 
-0001be60: 6265 2076 616c 6964 2066 6f72 2041 5073  be valid for APs
-0001be70: 206e 6f74 2073 7572 652e 0a20 2020 2061   not sure..    a
-0001be80: 7379 6e63 2064 6566 2067 6574 5f64 6972  sync def get_dir
-0001be90: 7479 5f64 6966 6628 0a20 2020 2020 2020  ty_diff(.       
-0001bea0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
-0001beb0: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
-0001bec0: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
-0001bed0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
-0001bee0: 743a 2069 6e74 203d 2032 300a 2020 2020  t: int = 20.    
-0001bef0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0001bf00: 2020 2020 2020 2022 2222 4765 7420 6469         """Get di
-0001bf10: 7274 7920 6469 6666 2e0a 0a20 2020 2020  rty diff...     
-0001bf20: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0001bf30: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
-0001bf40: 3a20 4772 6f75 7020 6e61 6d65 206f 6620  : Group name of 
-0001bf50: 7468 6520 6772 6f75 7020 6f72 2067 7569  the group or gui
-0001bf60: 6420 6f66 2074 6865 2073 7761 726d 2e0a  d of the swarm..
-0001bf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf80: 4578 616d 706c 653a 4772 6f75 705f 3120  Example:Group_1 
-0001bf90: 6f72 2036 6135 6431 3233 6230 3166 3934  or 6a5d123b01f94
-0001bfa0: 3431 3830 3632 3434 6561 3665 3032 3366  41806244ea6e023f
-0001bfb0: 6162 3538 3431 6237 3763 3832 3861 3038  ab5841b77c828a08
-0001bfc0: 3566 3034 662e 0a20 2020 2020 2020 2020  5f04f..         
-0001bfd0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-0001bfe0: 6f70 7469 6f6e 616c 293a 204e 756d 6265  optional): Numbe
-0001bff0: 7220 6f66 2069 7465 6d73 2074 6f20 6265  r of items to be
-0001c000: 2073 6b69 7070 6564 2062 6566 6f72 6520   skipped before 
-0001c010: 7265 7475 726e 696e 6720 7468 6520 6461  returning the da
-0001c020: 7461 2c20 7573 6566 756c 0a20 2020 2020  ta, useful.     
-0001c030: 2020 2020 2020 2020 2020 2066 6f72 2070             for p
-0001c040: 6167 696e 6174 696f 6e2e 2044 6566 6175  agination. Defau
-0001c050: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-0001c060: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-0001c070: 2c20 6f70 7469 6f6e 616c 293a 204d 6178  , optional): Max
-0001c080: 696d 756d 206e 756d 6265 7220 6f66 2067  imum number of g
-0001c090: 726f 7570 2063 6f6e 6669 675f 6d6f 6465  roup config_mode
-0001c0a0: 2072 6563 6f72 6473 2074 6f20 6265 2072   records to be r
-0001c0b0: 6574 7572 6e65 642e 0a20 2020 2020 2020  eturned..       
-0001c0c0: 2020 2020 2020 2020 204d 6178 3a20 3230           Max: 20
-0001c0d0: 2c20 4465 6661 756c 7473 2074 6f20 3230  , Defaults to 20
-0001c0e0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0001c0f0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0001c100: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0001c110: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0001c120: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0001c130: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0001c140: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-0001c150: 7631 2f64 6972 7479 5f64 6966 662f 7b67  v1/dirty_diff/{g
-0001c160: 726f 7570 7d22 0a0a 2020 2020 2020 2020  roup}"..        
-0001c170: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-0001c180: 2020 2020 2020 2027 6f66 6673 6574 273a         'offset':
-0001c190: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
-0001c1a0: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
-0001c1b0: 6d69 7420 6966 206c 696d 6974 203c 3d20  mit if limit <= 
-0001c1c0: 3230 2065 6c73 6520 3230 0a20 2020 2020  20 else 20.     
-0001c1d0: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0001c1e0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0001c1f0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0001c200: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0001c210: 6e63 2064 6566 2067 6574 5f67 726f 7570  nc def get_group
-0001c220: 735f 7072 6f70 6572 7469 6573 2873 656c  s_properties(sel
-0001c230: 662c 2067 726f 7570 733a 2055 6e69 6f6e  f, groups: Union
-0001c240: 5b73 7472 2c20 4c69 7374 5b73 7472 5d5d  [str, List[str]]
-0001c250: 203d 204e 6f6e 6529 202d 3e20 5265 7370   = None) -> Resp
-0001c260: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0001c270: 2247 6574 2070 726f 7065 7274 6965 7320  "Get properties 
-0001c280: 7365 7420 666f 7220 6772 6f75 7073 2e0a  set for groups..
-0001c290: 0a20 2020 2020 2020 202f 2f20 5573 6564  .        // Used
-0001c2a0: 2062 7920 7368 6f77 2067 726f 7570 7320   by show groups 
-0001c2b0: 7768 656e 202d 7620 666c 6167 2069 7320  when -v flag is 
-0001c2c0: 7072 6f76 6964 6564 202f 2f0a 0a20 2020  provided //..   
-0001c2d0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001c2e0: 2020 2020 2020 2067 726f 7570 7320 284c         groups (L
-0001c2f0: 6973 745b 7374 725d 2c20 6f70 7469 6f6e  ist[str], option
-0001c300: 616c 293a 2047 726f 7570 206c 6973 7420  al): Group list 
-0001c310: 746f 2066 6574 6368 2070 726f 7065 7274  to fetch propert
-0001c320: 6965 732e 0a20 2020 2020 2020 2020 2020  ies..           
-0001c330: 2020 2020 2057 696c 6c20 6665 7463 6820       Will fetch 
-0001c340: 616c 6c20 6966 206e 6f20 6772 6f75 7073  all if no groups
-0001c350: 2070 726f 7669 6465 642e 0a20 2020 2020   provided..     
-0001c360: 2020 2020 2020 2020 2020 204d 6178 696d             Maxim
-0001c370: 756d 2032 3020 636f 6d6d 6120 7365 7061  um 20 comma sepa
-0001c380: 7261 7465 6420 6772 6f75 7020 6e61 6d65  rated group name
-0001c390: 7320 616c 6c6f 7765 642e 0a0a 2020 2020  s allowed...    
-0001c3a0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001c3b0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001c3c0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0001c3d0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0001c3e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001c3f0: 2020 7572 6c20 3d20 222f 636f 6e66 6967    url = "/config
-0001c400: 7572 6174 696f 6e2f 7631 2f67 726f 7570  uration/v1/group
-0001c410: 732f 7072 6f70 6572 7469 6573 220a 0a20  s/properties".. 
-0001c420: 2020 2020 2020 2023 2043 656e 7472 616c         # Central
-0001c430: 2041 5049 206d 6574 686f 6420 646f 6573   API method does
-0001c440: 6e27 7420 6163 7475 616c 6c79 2074 616b  n't actually tak
-0001c450: 6520 6120 6c69 7374 2069 7420 7461 6b65  e a list it take
-0001c460: 7320 6120 7374 7269 6e67 2077 6974 680a  s a string with.
-0001c470: 2020 2020 2020 2020 2320 6772 6f75 7020          # group 
-0001c480: 6e61 6d65 7320 7365 7061 7261 7465 6420  names separated 
-0001c490: 6279 2063 6f6d 6d61 2028 4e4f 2053 5041  by comma (NO SPA
-0001c4a0: 4345 5329 0a20 2020 2020 2020 2069 6620  CES).        if 
-0001c4b0: 6772 6f75 7073 2069 7320 4e6f 6e65 3a0a  groups is None:.
-0001c4c0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
-0001c4d0: 203d 2061 7761 6974 2073 656c 662e 5f67   = await self._g
-0001c4e0: 6574 5f67 726f 7570 5f6e 616d 6573 2829  et_group_names()
-0001c4f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0001c500: 6e6f 7420 7265 7370 2e6f 6b3a 0a20 2020  not resp.ok:.   
-0001c510: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001c520: 7572 6e20 7265 7370 0a20 2020 2020 2020  urn resp.       
-0001c530: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001c540: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0001c550: 7320 3d20 7265 7370 2e6f 7574 7075 740a  s = resp.output.
-0001c560: 0a20 2020 2020 2020 2062 6174 6368 5f72  .        batch_r
-0001c570: 6571 7320 3d20 5b5d 0a20 2020 2020 2020  eqs = [].       
-0001c580: 2066 6f72 205f 6772 6f75 7073 2069 6e20   for _groups in 
-0001c590: 7574 696c 732e 6368 756e 6b65 7228 7574  utils.chunker(ut
-0001c5a0: 696c 732e 6c69 7374 6966 7928 6772 6f75  ils.listify(grou
-0001c5b0: 7073 292c 2032 3029 3a20 2023 2054 6869  ps), 20):  # Thi
-0001c5c0: 7320 6361 6c6c 2061 6c6c 6f77 7320 6120  s call allows a 
-0001c5d0: 6d61 7820 6f66 2032 300a 2020 2020 2020  max of 20.      
-0001c5e0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0001c5f0: 2267 726f 7570 7322 3a20 222c 222e 6a6f  "groups": ",".jo
-0001c600: 696e 285f 6772 6f75 7073 297d 0a20 2020  in(_groups)}.   
-0001c610: 2020 2020 2020 2020 2062 6174 6368 5f72           batch_r
-0001c620: 6571 7320 2b3d 205b 7365 6c66 2e42 6174  eqs += [self.Bat
-0001c630: 6368 5265 7175 6573 7428 7365 6c66 2e67  chRequest(self.g
-0001c640: 6574 2c20 7572 6c2c 2070 6172 616d 733d  et, url, params=
-0001c650: 7061 7261 6d73 295d 0a20 2020 2020 2020  params)].       
-0001c660: 2062 6174 6368 5f72 6573 7020 3d20 6177   batch_resp = aw
-0001c670: 6169 7420 7365 6c66 2e5f 6261 7463 685f  ait self._batch_
-0001c680: 7265 7175 6573 7428 6261 7463 685f 7265  request(batch_re
-0001c690: 7173 290a 2020 2020 2020 2020 2320 544f  qs).        # TO
-0001c6a0: 444f 206d 6574 686f 6420 746f 2063 6f6d  DO method to com
-0001c6b0: 6269 6e65 2072 6177 2061 6e64 206f 7574  bine raw and out
-0001c6c0: 7075 7420 6174 7472 7320 6f66 2061 6c6c  put attrs of all
-0001c6d0: 2072 6573 706f 6e73 6573 2069 6e74 6f20   responses into 
-0001c6e0: 6c61 7374 2072 6573 700a 2020 2020 2020  last resp.      
-0001c6f0: 2020 6f75 7470 7574 203d 205b 7220 666f    output = [r fo
-0001c700: 7220 7265 7320 696e 2062 6174 6368 5f72  r res in batch_r
-0001c710: 6573 7020 666f 7220 7220 696e 2072 6573  esp for r in res
-0001c720: 2e6f 7574 7075 745d 0a20 2020 2020 2020  .output].       
-0001c730: 2072 6573 7020 3d20 6261 7463 685f 7265   resp = batch_re
-0001c740: 7370 5b2d 315d 0a20 2020 2020 2020 2072  sp[-1].        r
-0001c750: 6573 702e 6f75 7470 7574 203d 206f 7574  esp.output = out
-0001c760: 7075 740a 2020 2020 2020 2020 6966 2022  put.        if "
-0001c770: 6461 7461 2220 696e 2072 6573 702e 7261  data" in resp.ra
-0001c780: 773a 0a20 2020 2020 2020 2020 2020 2072  w:.            r
-0001c790: 6573 702e 7261 775b 2264 6174 6122 5d20  esp.raw["data"] 
-0001c7a0: 3d20 6f75 7470 7574 0a20 2020 2020 2020  = output.       
-0001c7b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001c7c0: 2020 206c 6f67 2e77 6172 6e69 6e67 2822     log.warning("
-0001c7d0: 7261 7720 6174 7472 2069 6e20 7265 7370  raw attr in resp
-0001c7e0: 2066 726f 6d20 6765 745f 6772 6f75 7073   from get_groups
-0001c7f0: 5f70 726f 7065 7274 6965 7320 6c61 636b  _properties lack
-0001c800: 7320 6578 7065 6374 6564 206f 7574 6572  s expected outer
-0001c810: 206b 6579 2027 6461 7461 2722 290a 0a20   key 'data'").. 
-0001c820: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-0001c830: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
-0001c840: 6620 6765 745f 7663 5f66 6972 6d77 6172  f get_vc_firmwar
-0001c850: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
-0001c860: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
-0001c870: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-0001c880: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-0001c890: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0001c8a0: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
-0001c8b0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
-0001c8c0: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
-0001c8d0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0001c8e0: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-0001c8f0: 4669 726d 7761 7265 2044 6574 6169 6c73  Firmware Details
-0001c900: 206f 6620 5377 6172 6d73 2e0a 0a20 2020   of Swarms...   
-0001c910: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001c920: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
-0001c930: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001c940: 3a20 5072 6f76 6964 696e 6720 7377 6172  : Providing swar
-0001c950: 6d5f 6964 2072 6573 756c 7473 2069 6e20  m_id results in 
-0001c960: 6465 7461 696c 7320 666f 7220 7468 6174  details for that
-0001c970: 2073 7761 726d 2e0a 2020 2020 2020 2020   swarm..        
-0001c980: 2020 2020 6772 6f75 7020 2873 7472 2c20      group (str, 
-0001c990: 6f70 7469 6f6e 616c 293a 2047 726f 7570  optional): Group
-0001c9a0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-0001c9b0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-0001c9c0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-0001c9d0: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-0001c9e0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-0001c9f0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-0001ca00: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-0001ca10: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
-0001ca20: 4d61 7820 6973 2031 3030 3020 4465 6661  Max is 1000 Defa
-0001ca30: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
-0001ca40: 2020 2020 2020 2020 2020 5072 6f76 6964            Provid
-0001ca50: 696e 6720 7377 6172 6d5f 6964 2069 7320  ing swarm_id is 
-0001ca60: 6566 6665 6374 6976 656c 7920 6120 6669  effectively a fi
-0001ca70: 6c74 6572 2c20 6974 2070 726f 7669 6465  lter, it provide
-0001ca80: 7320 6e6f 2061 6464 6974 696f 6e61 6c20  s no additional 
-0001ca90: 6465 7461 696c 2e0a 0a20 2020 2020 2020  detail...       
-0001caa0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0001cab0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0001cac0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0001cad0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0001cae0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0001caf0: 726c 203d 2022 2f66 6972 6d77 6172 652f  rl = "/firmware/
-0001cb00: 7631 2f73 7761 726d 7322 0a20 2020 2020  v1/swarms".     
-0001cb10: 2020 2069 6620 7377 6172 6d5f 6964 3a0a     if swarm_id:.
-0001cb20: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
-0001cb30: 3d20 6622 7b75 726c 7d2f 7b73 7761 726d  = f"{url}/{swarm
-0001cb40: 5f69 647d 220a 2020 2020 2020 2020 2020  _id}".          
-0001cb50: 2020 7061 7261 6d73 203d 207b 7d0a 2020    params = {}.  
-0001cb60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001cb70: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-0001cb80: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-0001cb90: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
-0001cba0: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
-0001cbb0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
-0001cbc0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-0001cbd0: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
-0001cbe0: 6d69 740a 2020 2020 2020 2020 2020 2020  mit.            
-0001cbf0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0001cc00: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0001cc10: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-0001cc20: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-0001cc30: 6465 6620 6765 745f 6677 5f76 6572 7369  def get_fw_versi
-0001cc40: 6f6e 5f6c 6973 7428 0a20 2020 2020 2020  on_list(.       
-0001cc50: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
-0001cc60: 6576 6963 655f 7479 7065 3a20 7374 7220  evice_type: str 
-0001cc70: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0001cc80: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-0001cc90: 4e6f 6e65 2c0a 2020 2020 2020 2020 7365  None,.        se
-0001cca0: 7269 616c 3a20 7374 7220 3d20 4e6f 6e65  rial: str = None
-0001ccb0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0001ccc0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0001ccd0: 4c69 7374 2046 6972 6d77 6172 6520 5665  List Firmware Ve
-0001cce0: 7273 696f 6e2e 0a0a 2020 2020 2020 2020  rsion...        
-0001ccf0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0001cd00: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
-0001cd10: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
-0001cd20: 7065 6369 6679 206f 6e65 206f 6620 2249  pecify one of "I
-0001cd30: 4150 2f4d 4153 2f48 502f 434f 4e54 524f  AP/MAS/HP/CONTRO
-0001cd40: 4c4c 4552 2f43 5822 0a20 2020 2020 2020  LLER/CX".       
-0001cd50: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
-0001cd60: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
-0001cd70: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
-0001cd80: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
-0001cd90: 206f 7074 696f 6e61 6c29 3a20 5365 7269   optional): Seri
-0001cda0: 616c 206f 6620 6465 7669 6365 0a0a 2020  al of device..  
-0001cdb0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0001cdc0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0001cdd0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0001cde0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0001cdf0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001ce00: 2020 2020 7572 6c20 3d20 222f 6669 726d      url = "/firm
-0001ce10: 7761 7265 2f76 312f 7665 7273 696f 6e73  ware/v1/versions
-0001ce20: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-0001ce30: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-0001ce40: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
-0001ce50: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
-0001ce60: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
-0001ce70: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
-0001ce80: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-0001ce90: 6961 6c27 3a20 7365 7269 616c 0a20 2020  ial': serial.   
-0001cea0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0001ceb0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0001cec0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0001ced0: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
-0001cee0: 204e 6f74 2075 7365 6420 696e 2061 2063   Not used in a c
-0001cef0: 6f6d 6d61 6e64 2079 6574 0a20 2020 2061  ommand yet.    a
-0001cf00: 7379 6e63 2064 6566 2063 6865 636b 5f69  sync def check_i
-0001cf10: 6d61 6765 5f61 7661 696c 6162 6c65 280a  mage_available(.
-0001cf20: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001cf30: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-0001cf40: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-0001cf50: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
-0001cf60: 3a20 7374 722c 0a20 2020 2029 202d 3e20  : str,.    ) -> 
-0001cf70: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0001cf80: 2020 2222 2246 6972 6d77 6172 6520 5665    """Firmware Ve
-0001cf90: 7273 696f 6e2e 0a0a 2020 2020 2020 2020  rsion...        
-0001cfa0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0001cfb0: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
-0001cfc0: 7472 293a 2053 7065 6369 6679 206f 6e65  tr): Specify one
-0001cfd0: 206f 6620 2249 4150 2f4d 4153 2f48 502f   of "IAP/MAS/HP/
-0001cfe0: 434f 4e54 524f 4c4c 4552 220a 2020 2020  CONTROLLER".    
-0001cff0: 2020 2020 2020 2020 6669 726d 7761 7265          firmware
-0001d000: 5f76 6572 7369 6f6e 2028 7374 7229 3a20  _version (str): 
-0001d010: 6669 726d 7761 7265 2076 6572 7369 6f6e  firmware version
-0001d020: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0001d030: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0001d040: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0001d050: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0001d060: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0001d070: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001d080: 2f66 6972 6d77 6172 652f 7631 2f76 6572  /firmware/v1/ver
-0001d090: 7369 6f6e 732f 7b66 6972 6d77 6172 655f  sions/{firmware_
-0001d0a0: 7665 7273 696f 6e7d 220a 0a20 2020 2020  version}"..     
-0001d0b0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-0001d0c0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-0001d0d0: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
-0001d0e0: 7479 7065 0a20 2020 2020 2020 207d 0a0a  type.        }..
-0001d0f0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001d100: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0001d110: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0001d120: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0001d130: 2073 656e 645f 636f 6d6d 616e 645f 746f   send_command_to
-0001d140: 5f73 7761 726d 280a 2020 2020 2020 2020  _swarm(.        
-0001d150: 7365 6c66 2c0a 2020 2020 2020 2020 7377  self,.        sw
-0001d160: 6172 6d5f 6964 3a20 7374 722c 0a20 2020  arm_id: str,.   
-0001d170: 2020 2020 2063 6f6d 6d61 6e64 3a20 4c69       command: Li
-0001d180: 7465 7261 6c5b 0a20 2020 2020 2020 2020  teral[.         
-0001d190: 2020 2022 7265 626f 6f74 222c 0a20 2020     "reboot",.   
-0001d1a0: 2020 2020 2020 2020 2022 6572 6173 655f           "erase_
-0001d1b0: 636f 6e66 6967 7572 6174 696f 6e22 2c0a  configuration",.
-0001d1c0: 2020 2020 2020 2020 5d0a 2020 2020 2920          ].    ) 
-0001d1d0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0001d1e0: 2020 2020 2022 2222 4765 6e65 7269 6320       """Generic 
-0001d1f0: 636f 6d6d 616e 6473 2066 6f72 2073 7761  commands for swa
-0001d200: 726d 2e0a 0a20 2020 2020 2020 2041 7267  rm...        Arg
-0001d210: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-0001d220: 7761 726d 5f69 6420 2873 7472 293a 2053  warm_id (str): S
-0001d230: 7761 726d 2049 4420 6f66 2064 6576 6963  warm ID of devic
-0001d240: 650a 2020 2020 2020 2020 2020 2020 636f  e.            co
-0001d250: 6d6d 616e 6420 2873 7472 293a 2043 6f6d  mmand (str): Com
-0001d260: 6d61 6e64 206d 656e 7469 6f6e 6564 2069  mand mentioned i
-0001d270: 6e20 7468 6520 6465 7363 7269 7074 696f  n the descriptio
-0001d280: 6e20 7468 6174 2069 7320 746f 2062 6520  n that is to be 
-0001d290: 6578 6563 7574 6564 0a20 2020 2020 2020  executed.       
-0001d2a0: 2020 2020 2020 2020 2076 616c 6964 3a20           valid: 
-0001d2b0: 2772 6562 6f6f 7427 2c20 2765 7261 7365  'reboot', 'erase
-0001d2c0: 5f63 6f6e 6669 6775 7261 7469 6f6e 270a  _configuration'.
-0001d2d0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0001d2e0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0001d2f0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0001d300: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0001d310: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0001d320: 2020 2020 2020 2069 6620 636f 6d6d 616e         if comman
-0001d330: 6420 3d3d 2022 7265 626f 6f74 223a 0a20  d == "reboot":. 
-0001d340: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-0001d350: 6e64 203d 2022 7265 626f 6f74 5f73 7761  nd = "reboot_swa
-0001d360: 726d 220a 0a20 2020 2020 2020 2075 726c  rm"..        url
-0001d370: 203d 2066 222f 6465 7669 6365 5f6d 616e   = f"/device_man
-0001d380: 6167 656d 656e 742f 7631 2f73 7761 726d  agement/v1/swarm
-0001d390: 2f7b 7377 6172 6d5f 6964 7d2f 6163 7469  /{swarm_id}/acti
-0001d3a0: 6f6e 2f7b 636f 6d6d 616e 647d 220a 0a20  on/{command}".. 
-0001d3b0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0001d3c0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-0001d3d0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-0001d3e0: 6620 7365 6e64 5f73 7065 6564 5f74 6573  f send_speed_tes
-0001d3f0: 7428 0a20 2020 2020 2020 2073 656c 662c  t(.        self,
-0001d400: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
-0001d410: 2073 7472 2c0a 2020 2020 2020 2020 686f   str,.        ho
-0001d420: 7374 3a20 7374 7220 3d20 226e 6474 2d69  st: str = "ndt-i
-0001d430: 7570 7569 2d6d 6c61 6231 2d64 656e 3034  upui-mlab1-den04
-0001d440: 2e6d 6c61 622d 6f74 692e 6d65 6173 7572  .mlab-oti.measur
-0001d450: 656d 656e 742d 6c61 622e 6f72 6722 2c0a  ement-lab.org",.
-0001d460: 2020 2020 2020 2020 6f70 7469 6f6e 733a          options:
-0001d470: 2073 7472 203d 204e 6f6e 650a 2020 2020   str = None.    
-0001d480: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0001d490: 2020 2020 2020 2022 2222 5370 6565 6420         """Speed 
-0001d4a0: 5465 7374 2e0a 0a20 2020 2020 2020 2041  Test...        A
-0001d4b0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0001d4c0: 2073 6572 6961 6c20 2873 7472 293a 2053   serial (str): S
-0001d4d0: 6572 6961 6c20 6f66 2064 6576 6963 650a  erial of device.
-0001d4e0: 2020 2020 2020 2020 2020 2020 686f 7374              host
-0001d4f0: 2028 7374 722c 204f 7074 696f 6e61 6c29   (str, Optional)
-0001d500: 3a20 5370 6565 642d 5465 7374 2073 6572  : Speed-Test ser
-0001d510: 7665 7220 4950 2061 6464 7265 7373 2c20  ver IP address, 
-0001d520: 4465 6661 756c 7473 2074 6f20 7365 7276  Defaults to serv
-0001d530: 6572 2069 6e20 4365 6e74 7261 6c20 496e  er in Central In
-0001d540: 6469 616e 612e 0a20 2020 2020 2020 2020  diana..         
-0001d550: 2020 206f 7074 696f 6e73 2028 7374 7229     options (str)
-0001d560: 3a20 466f 726d 6174 7465 6420 7374 7269  : Formatted stri
-0001d570: 6e67 206f 6620 6f70 7469 6f6e 616c 2061  ng of optional a
-0001d580: 7267 756d 656e 7473 0a0a 2020 2020 2020  rguments..      
-0001d590: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0001d5a0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0001d5b0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0001d5c0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0001d5d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001d5e0: 7572 6c20 3d20 6622 2f64 6576 6963 655f  url = f"/device_
-0001d5f0: 6d61 6e61 6765 6d65 6e74 2f76 312f 6465  management/v1/de
-0001d600: 7669 6365 2f7b 7365 7269 616c 7d2f 6163  vice/{serial}/ac
-0001d610: 7469 6f6e 2f73 7065 6564 7465 7374 220a  tion/speedtest".
-0001d620: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-0001d630: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-0001d640: 2020 2027 686f 7374 273a 2068 6f73 742c     'host': host,
-0001d650: 0a20 2020 2020 2020 2020 2020 2027 6f70  .            'op
-0001d660: 7469 6f6e 7327 3a20 6f70 7469 6f6e 7320  tions': options 
-0001d670: 6f72 2022 220a 2020 2020 2020 2020 7d0a  or "".        }.
-0001d680: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0001d690: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-0001d6a0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-0001d6b0: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-0001d6c0: 7379 6e63 2064 6566 2064 656c 6574 655f  sync def delete_
-0001d6d0: 6365 7274 6966 6963 6174 6528 7365 6c66  certificate(self
-0001d6e0: 2c20 6365 7274 6966 6963 6174 653a 2073  , certificate: s
-0001d6f0: 7472 2920 2d3e 2052 6573 706f 6e73 653a  tr) -> Response:
-0001d700: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
-0001d710: 7465 2065 7869 7374 696e 6720 6365 7274  te existing cert
-0001d720: 6966 6963 6174 652e 0a0a 2020 2020 2020  ificate...      
-0001d730: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0001d740: 2020 2020 6365 7274 6966 6963 6174 6520      certificate 
-0001d750: 2873 7472 293a 204e 616d 6520 6f66 2074  (str): Name of t
-0001d760: 6865 2063 6572 7469 6669 6361 7465 2074  he certificate t
-0001d770: 6f20 6465 6c65 7465 2e0a 0a20 2020 2020  o delete...     
-0001d780: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0001d790: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0001d7a0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0001d7b0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0001d7c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001d7d0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
-0001d7e0: 7572 6174 696f 6e2f 7631 2f63 6572 7469  uration/v1/certi
-0001d7f0: 6669 6361 7465 732f 7b63 6572 7469 6669  ficates/{certifi
-0001d800: 6361 7465 7d22 0a0a 2020 2020 2020 2020  cate}"..        
-0001d810: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0001d820: 662e 6465 6c65 7465 2875 726c 290a 0a20  f.delete(url).. 
-0001d830: 2020 2023 2054 4f44 4f20 6163 6365 7074     # TODO accept
-0001d840: 204c 6973 7420 6f66 2073 7472 2061 6e64   List of str and
-0001d850: 2062 6174 6368 2064 656c 6574 650a 2020   batch delete.  
-0001d860: 2020 6173 796e 6320 6465 6620 6465 6c65    async def dele
-0001d870: 7465 5f67 726f 7570 2873 656c 662c 2067  te_group(self, g
-0001d880: 726f 7570 3a20 7374 7229 202d 3e20 5265  roup: str) -> Re
-0001d890: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0001d8a0: 2222 2244 656c 6574 6520 6578 6973 7469  """Delete existi
-0001d8b0: 6e67 2067 726f 7570 2e0a 0a20 2020 2020  ng group...     
-0001d8c0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0001d8d0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
-0001d8e0: 3a20 4e61 6d65 206f 6620 7468 6520 6772  : Name of the gr
-0001d8f0: 6f75 7020 7468 6174 206e 6565 6473 2074  oup that needs t
-0001d900: 6f20 6265 2064 656c 6574 6564 2e0a 0a20  o be deleted... 
-0001d910: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001d920: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001d930: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0001d940: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0001d950: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001d960: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-0001d970: 6e66 6967 7572 6174 696f 6e2f 7631 2f67  nfiguration/v1/g
-0001d980: 726f 7570 732f 7b67 726f 7570 7d22 0a0a  roups/{group}"..
-0001d990: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001d9a0: 7761 6974 2073 656c 662e 6465 6c65 7465  wait self.delete
-0001d9b0: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-0001d9c0: 2064 6566 2064 656c 6574 655f 7369 7465   def delete_site
-0001d9d0: 2873 656c 662c 2073 6974 655f 6964 3a20  (self, site_id: 
-0001d9e0: 556e 696f 6e5b 696e 742c 204c 6973 745b  Union[int, List[
-0001d9f0: 696e 745d 5d29 202d 3e20 5265 7370 6f6e  int]]) -> Respon
-0001da00: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
-0001da10: 656c 6574 6520 5369 7465 2e0a 0a20 2020  elete Site...   
-0001da20: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001da30: 2020 2020 2020 2073 6974 655f 6964 2028         site_id (
-0001da40: 696e 747c 4c69 7374 5b69 6e74 5d29 3a20  int|List[int]): 
-0001da50: 4569 7468 6572 2074 6865 2073 6974 655f  Either the site_
-0001da60: 6964 206f 7220 6120 6c69 7374 206f 6620  id or a list of 
-0001da70: 7369 7465 5f69 6473 2074 6f20 6265 2064  site_ids to be d
-0001da80: 656c 6574 6564 2e0a 0a20 2020 2020 2020  eleted...       
-0001da90: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0001daa0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0001dab0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0001dac0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0001dad0: 2020 2022 2222 0a20 2020 2020 2020 2062     """.        b
-0001dae0: 5f75 726c 203d 2022 2f63 656e 7472 616c  _url = "/central
-0001daf0: 2f76 322f 7369 7465 7322 0a20 2020 2020  /v2/sites".     
-0001db00: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0001db10: 2873 6974 655f 6964 2c20 6c69 7374 293a  (site_id, list):
-0001db20: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001db30: 7572 6e20 6177 6169 7420 7365 6c66 2e5f  urn await self._
-0001db40: 6261 7463 685f 7265 7175 6573 7428 0a20  batch_request(. 
-0001db50: 2020 2020 2020 2020 2020 2020 2020 205b                 [
-0001db60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001db70: 2020 2020 2073 656c 662e 4261 7463 6852       self.BatchR
-0001db80: 6571 7565 7374 2873 656c 662e 6465 6c65  equest(self.dele
-0001db90: 7465 2c20 2866 227b 625f 7572 6c7d 2f7b  te, (f"{b_url}/{
-0001dba0: 5f69 647d 222c 2929 0a20 2020 2020 2020  _id}",)).       
-0001dbb0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-0001dbc0: 205f 6964 2069 6e20 7369 7465 5f69 640a   _id in site_id.
-0001dbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dbe0: 5d0a 2020 2020 2020 2020 2020 2020 290a  ].            ).
-0001dbf0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001dc00: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
-0001dc10: 6622 7b62 5f75 726c 7d2f 7b73 6974 655f  f"{b_url}/{site_
-0001dc20: 6964 7d22 0a20 2020 2020 2020 2020 2020  id}".           
-0001dc30: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0001dc40: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
-0001dc50: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
-0001dc60: 6c65 7465 5f77 6c61 6e28 7365 6c66 2c20  lete_wlan(self, 
-0001dc70: 6772 6f75 703a 2073 7472 2c20 776c 616e  group: str, wlan
-0001dc80: 5f6e 616d 653a 2073 7472 2920 2d3e 2052  _name: str) -> R
-0001dc90: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0001dca0: 2022 2222 4465 6c65 7465 2061 6e20 6578   """Delete an ex
-0001dcb0: 6973 7469 6e67 2057 4c41 4e2e 0a0a 2020  isting WLAN...  
-0001dcc0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001dcd0: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-0001dce0: 7472 293a 2047 726f 7570 206e 616d 6520  tr): Group name 
-0001dcf0: 6f66 2074 6865 2067 726f 7570 206f 7220  of the group or 
-0001dd00: 6775 6964 206f 6620 7468 6520 7377 6172  guid of the swar
-0001dd10: 6d2e 0a20 2020 2020 2020 2020 2020 2020  m..             
-0001dd20: 2020 2045 7861 6d70 6c65 3a47 726f 7570     Example:Group
-0001dd30: 5f31 206f 7220 3661 3564 3132 3362 3031  _1 or 6a5d123b01
-0001dd40: 6639 3434 3138 3036 3234 3465 6136 6530  f9441806244ea6e0
-0001dd50: 3233 6661 6235 3834 3162 3737 6338 3238  23fab5841b77c828
-0001dd60: 6130 3835 6630 3466 2e0a 2020 2020 2020  a085f04f..      
-0001dd70: 2020 2020 2020 776c 616e 5f6e 616d 6520        wlan_name 
-0001dd80: 2873 7472 293a 204e 616d 6520 6f66 2057  (str): Name of W
-0001dd90: 4c41 4e20 746f 2062 6520 6465 6c65 7465  LAN to be delete
-0001dda0: 642e 0a20 2020 2020 2020 2020 2020 2020  d..             
-0001ddb0: 2020 2045 7861 6d70 6c65 3a77 6c61 6e5f     Example:wlan_
-0001ddc0: 312e 0a0a 2020 2020 2020 2020 5265 7475  1...        Retu
-0001ddd0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0001dde0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0001ddf0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0001de00: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0001de10: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0001de20: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
-0001de30: 2f76 312f 776c 616e 2f7b 6772 6f75 707d  /v1/wlan/{group}
-0001de40: 2f7b 776c 616e 5f6e 616d 657d 220a 0a20  /{wlan_name}".. 
-0001de50: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0001de60: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
-0001de70: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-0001de80: 6465 6620 6765 745f 776c 616e 2873 656c  def get_wlan(sel
-0001de90: 662c 2067 726f 7570 3a20 7374 722c 2077  f, group: str, w
-0001dea0: 6c61 6e5f 6e61 6d65 3a20 7374 7229 202d  lan_name: str) -
-0001deb0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0001dec0: 2020 2020 2222 2247 6574 2074 6865 2069      """Get the i
-0001ded0: 6e66 6f72 6d61 7469 6f6e 206f 6620 616e  nformation of an
-0001dee0: 2065 7869 7374 696e 6720 574c 414e 2e0a   existing WLAN..
-0001def0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0001df00: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0001df10: 2028 7374 7229 3a20 4772 6f75 7020 6e61   (str): Group na
-0001df20: 6d65 206f 6620 7468 6520 6772 6f75 7020  me of the group 
-0001df30: 6f72 2067 7569 6420 6f66 2074 6865 2073  or guid of the s
-0001df40: 7761 726d 2e0a 2020 2020 2020 2020 2020  warm..          
-0001df50: 2020 2020 2020 4578 616d 706c 653a 4772        Example:Gr
-0001df60: 6f75 705f 3120 6f72 2036 6135 6431 3233  oup_1 or 6a5d123
-0001df70: 6230 3166 3934 3431 3830 3632 3434 6561  b01f9441806244ea
-0001df80: 3665 3032 3366 6162 3538 3431 6237 3763  6e023fab5841b77c
-0001df90: 3832 3861 3038 3566 3034 662e 0a20 2020  828a085f04f..   
-0001dfa0: 2020 2020 2020 2020 2077 6c61 6e5f 6e61           wlan_na
-0001dfb0: 6d65 2028 7374 7229 3a20 4e61 6d65 206f  me (str): Name o
-0001dfc0: 6620 574c 414e 2073 656c 6563 7465 642e  f WLAN selected.
-0001dfd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001dfe0: 2045 7861 6d70 6c65 3a77 6c61 6e5f 312e   Example:wlan_1.
-0001dff0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0001e000: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0001e010: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0001e020: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0001e030: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0001e040: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001e050: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0001e060: 322f 776c 616e 2f7b 6772 6f75 707d 2f7b  2/wlan/{group}/{
-0001e070: 776c 616e 5f6e 616d 657d 220a 0a20 2020  wlan_name}"..   
-0001e080: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0001e090: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-0001e0a0: 0a20 2020 2061 7379 6e63 2064 6566 2063  .    async def c
-0001e0b0: 7265 6174 655f 776c 616e 280a 2020 2020  reate_wlan(.    
-0001e0c0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0001e0d0: 2020 6772 6f75 703a 2073 7472 2c0a 2020    group: str,.  
-0001e0e0: 2020 2020 2020 776c 616e 5f6e 616d 653a        wlan_name:
-0001e0f0: 2073 7472 2c0a 2020 2020 2020 2020 7770   str,.        wp
-0001e100: 615f 7061 7373 7068 7261 7365 3a20 7374  a_passphrase: st
-0001e110: 722c 0a20 2020 2020 2020 2023 2077 7061  r,.        # wpa
-0001e120: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
-0001e130: 6765 643a 2062 6f6f 6c20 3d20 5472 7565  ged: bool = True
-0001e140: 2c0a 2020 2020 2020 2020 766c 616e 3a20  ,.        vlan: 
-0001e150: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
-0001e160: 2020 7479 7065 3a20 576c 616e 5479 7065    type: WlanType
-0001e170: 203d 2022 656d 706c 6f79 6565 222c 0a20   = "employee",. 
-0001e180: 2020 2020 2020 2065 7373 6964 3a20 7374         essid: st
-0001e190: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0001e1a0: 2020 7a6f 6e65 3a20 7374 7220 3d20 2222    zone: str = ""
-0001e1b0: 2c0a 2020 2020 2020 2020 6361 7074 6976  ,.        captiv
-0001e1c0: 655f 7072 6f66 696c 655f 6e61 6d65 3a20  e_profile_name: 
-0001e1d0: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
-0001e1e0: 2020 6261 6e64 7769 6474 685f 6c69 6d69    bandwidth_limi
-0001e1f0: 745f 7570 3a20 7374 7220 3d20 2222 2c0a  t_up: str = "",.
-0001e200: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
-0001e210: 685f 6c69 6d69 745f 646f 776e 3a20 7374  h_limit_down: st
-0001e220: 7220 3d20 2222 2c0a 2020 2020 2020 2020  r = "",.        
-0001e230: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001e240: 7065 7275 7365 725f 7570 3a20 7374 7220  peruser_up: str 
-0001e250: 3d20 2222 2c0a 2020 2020 2020 2020 6261  = "",.        ba
-0001e260: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-0001e270: 7275 7365 725f 646f 776e 3a20 7374 7220  ruser_down: str 
-0001e280: 3d20 2222 2c0a 2020 2020 2020 2020 6163  = "",.        ac
-0001e290: 6365 7373 5f72 756c 6573 3a20 6c69 7374  cess_rules: list
-0001e2a0: 203d 2044 4546 4155 4c54 5f41 4343 4553   = DEFAULT_ACCES
-0001e2b0: 535f 5255 4c45 535b 2241 4c4c 4f57 5f41  S_RULES["ALLOW_A
-0001e2c0: 4c4c 225d 2c0a 2020 2020 2020 2020 6973  LL"],.        is
-0001e2d0: 5f6c 6f63 6b65 643a 2062 6f6f 6c20 3d20  _locked: bool = 
-0001e2e0: 4661 6c73 652c 0a20 2020 2020 2020 2068  False,.        h
-0001e2f0: 6964 655f 7373 6964 3a20 626f 6f6c 203d  ide_ssid: bool =
-0001e300: 2046 616c 7365 2c0a 2020 2020 2920 2d3e   False,.    ) ->
-0001e310: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0001e320: 2020 2022 2222 4372 6561 7465 2061 206e     """Create a n
-0001e330: 6577 2057 4c41 4e20 2853 5349 4429 2e0a  ew WLAN (SSID)..
-0001e340: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0001e350: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0001e360: 2028 7374 7229 3a20 4172 7562 6120 4365   (str): Aruba Ce
-0001e370: 6e74 7261 6c20 4772 6f75 7020 6e61 6d65  ntral Group name
-0001e380: 206f 7220 7377 6172 6d20 6775 6964 0a20   or swarm guid. 
-0001e390: 2020 2020 2020 2020 2020 2077 6c61 6e5f             wlan_
-0001e3a0: 6e61 6d65 2028 7374 7229 3a20 4e61 6d65  name (str): Name
-0001e3b0: 206f 6620 7468 6520 574c 414e 2f4e 6574   of the WLAN/Net
-0001e3c0: 776f 726b 0a20 2020 2020 2020 2020 2020  work.           
-0001e3d0: 2077 7061 5f70 6173 7370 6872 6173 6520   wpa_passphrase 
-0001e3e0: 2873 7472 293a 2057 5041 2070 6173 7370  (str): WPA passp
-0001e3f0: 6872 6173 650a 2020 2020 2020 2020 2020  hrase.          
-0001e400: 2020 766c 616e 2028 7374 7229 3a20 436c    vlan (str): Cl
-0001e410: 6965 6e74 2056 4c41 4e20 6e61 6d65 206f  ient VLAN name o
-0001e420: 7220 6964 2e20 4465 6661 756c 7473 2074  r id. Defaults t
-0001e430: 6f20 2222 2028 4e61 7469 7665 2041 5020  o "" (Native AP 
-0001e440: 564c 414e 292e 0a20 2020 2020 2020 2020  VLAN)..         
-0001e450: 2020 2074 7970 6520 2857 6c61 6e54 7970     type (WlanTyp
-0001e460: 652c 206f 7074 696f 6e61 6c29 3a20 5661  e, optional): Va
-0001e470: 6c69 643a 205b 2765 6d70 6c6f 7965 6527  lid: ['employee'
-0001e480: 2c20 2767 7565 7374 275d 2e20 4465 6661  , 'guest']. Defa
-0001e490: 756c 7473 2074 6f20 2265 6d70 6c6f 7965  ults to "employe
-0001e4a0: 6522 2e0a 2020 2020 2020 2020 2020 2020  e"..            
-0001e4b0: 6573 7369 6420 2873 7472 2c20 6f70 7469  essid (str, opti
-0001e4c0: 6f6e 616c 293a 2053 5349 442e 2044 6566  onal): SSID. Def
-0001e4d0: 6175 6c74 7320 746f 204e 6f6e 6520 2865  aults to None (e
-0001e4e0: 7373 6964 203d 2077 6c61 6e5f 6e61 6d65  ssid = wlan_name
-0001e4f0: 292e 0a20 2020 2020 2020 2020 2020 207a  )..            z
-0001e500: 6f6e 6520 2873 7472 2c20 6f70 7469 6f6e  one (str, option
-0001e510: 616c 293a 2041 5020 5a6f 6e65 2053 5349  al): AP Zone SSI
-0001e520: 4420 7769 6c6c 2062 726f 6164 6361 7374  D will broadcast
-0001e530: 206f 6e2e 2044 6566 6175 6c74 7320 746f   on. Defaults to
-0001e540: 2022 2220 2842 726f 6164 6361 7374 206f   "" (Broadcast o
-0001e550: 6e20 616c 6c20 4150 7329 2e0a 2020 2020  n all APs)..    
-0001e560: 2020 2020 2020 2020 6361 7074 6976 655f          captive_
-0001e570: 7072 6f66 696c 655f 6e61 6d65 2028 7374  profile_name (st
-0001e580: 722c 206f 7074 696f 6e61 6c29 3a20 4361  r, optional): Ca
-0001e590: 7074 6976 6520 506f 7274 616c 2050 726f  ptive Portal Pro
-0001e5a0: 6669 6c65 2e20 4465 6661 756c 7473 2074  file. Defaults t
-0001e5b0: 6f20 2222 2028 4e6f 2043 5020 5072 6f66  o "" (No CP Prof
-0001e5c0: 696c 6529 2e0a 2020 2020 2020 2020 2020  ile)..          
-0001e5d0: 2020 6261 6e64 7769 6474 685f 6c69 6d69    bandwidth_limi
-0001e5e0: 745f 7570 2028 7374 722c 206f 7074 696f  t_up (str, optio
-0001e5f0: 6e61 6c29 3a20 5b64 6573 6372 6970 7469  nal): [descripti
-0001e600: 6f6e 5d2e 2044 6566 6175 6c74 7320 746f  on]. Defaults to
-0001e610: 2022 2220 284e 6f20 4257 204c 696d 6974   "" (No BW Limit
-0001e620: 2055 7029 2e0a 2020 2020 2020 2020 2020   Up)..          
-0001e630: 2020 6261 6e64 7769 6474 685f 6c69 6d69    bandwidth_limi
-0001e640: 745f 646f 776e 2028 7374 722c 206f 7074  t_down (str, opt
-0001e650: 696f 6e61 6c29 3a20 5b64 6573 6372 6970  ional): [descrip
-0001e660: 7469 6f6e 5d2e 2044 6566 6175 6c74 7320  tion]. Defaults 
-0001e670: 746f 2022 2220 284e 6f20 4257 204c 696d  to "" (No BW Lim
-0001e680: 6974 2044 6f77 6e29 2e0a 2020 2020 2020  it Down)..      
-0001e690: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
-0001e6a0: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
-0001e6b0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001e6c0: 3a20 5b64 6573 6372 6970 7469 6f6e 5d2e  : [description].
-0001e6d0: 2044 6566 6175 6c74 7320 746f 2022 2220   Defaults to "" 
-0001e6e0: 284e 6f20 7065 7220 7573 6572 2042 5720  (No per user BW 
-0001e6f0: 4c69 6d69 7420 5570 292e 0a20 2020 2020  Limit Up)..     
-0001e700: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-0001e710: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
-0001e720: 6f77 6e20 2873 7472 2c20 6f70 7469 6f6e  own (str, option
-0001e730: 616c 293a 205b 6465 7363 7269 7074 696f  al): [descriptio
-0001e740: 6e5d 2e20 4465 6661 756c 7473 2074 6f20  n]. Defaults to 
-0001e750: 2222 2028 4e6f 2070 6572 2075 7365 7220  "" (No per user 
-0001e760: 4257 204c 696d 6974 2044 6f77 6e29 2e0a  BW Limit Down)..
-0001e770: 2020 2020 2020 2020 2020 2020 6163 6365              acce
-0001e780: 7373 5f72 756c 6573 2028 6c69 7374 2c20  ss_rules (list, 
-0001e790: 6f70 7469 6f6e 616c 293a 205b 6465 7363  optional): [desc
-0001e7a0: 7269 7074 696f 6e5d 2e20 4465 6661 756c  ription]. Defaul
-0001e7b0: 743a 2075 6e72 6573 7472 6963 7465 642e  t: unrestricted.
-0001e7c0: 0a20 2020 2020 2020 2020 2020 2069 735f  .            is_
-0001e7d0: 6c6f 636b 6564 2028 626f 6f6c 2c20 6f70  locked (bool, op
-0001e7e0: 7469 6f6e 616c 293a 205b 6465 7363 7269  tional): [descri
-0001e7f0: 7074 696f 6e5d 2e20 4465 6661 756c 7473  ption]. Defaults
-0001e800: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
-0001e810: 2020 2020 2020 2068 6964 655f 7373 6964         hide_ssid
-0001e820: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-0001e830: 293a 205b 6465 7363 7269 7074 696f 6e5d  ): [description]
-0001e840: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
-0001e850: 6c73 652e 0a20 2020 2020 2020 2020 2020  lse..           
-0001e860: 2077 7061 5f70 6173 7370 6872 6173 655f   wpa_passphrase_
-0001e870: 6368 616e 6765 6420 2862 6f6f 6c2c 206f  changed (bool, o
-0001e880: 7074 696f 6e61 6c29 3a20 696e 6469 6361  ptional): indica
-0001e890: 7465 7320 7061 7373 7068 7261 7365 2068  tes passphrase h
-0001e8a0: 6173 2063 6861 6e67 6564 2e20 4465 6661  as changed. Defa
-0001e8b0: 756c 7473 2074 6f20 5472 7565 2e0a 0a20  ults to True... 
-0001e8c0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001e8d0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001e8e0: 6f6e 7365 3a20 5b64 6573 6372 6970 7469  onse: [descripti
-0001e8f0: 6f6e 5d0a 2020 2020 2020 2020 2222 220a  on].        """.
-0001e900: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001e910: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0001e920: 322f 776c 616e 2f7b 6772 6f75 707d 2f7b  2/wlan/{group}/{
-0001e930: 776c 616e 5f6e 616d 657d 220a 0a20 2020  wlan_name}"..   
-0001e940: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-0001e950: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0001e960: 776c 616e 223a 207b 0a20 2020 2020 2020  wlan": {.       
-0001e970: 2020 2020 2020 2020 2027 6573 7369 6427           'essid'
-0001e980: 3a20 6573 7369 6420 6f72 2077 6c61 6e5f  : essid or wlan_
-0001e990: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-0001e9a0: 2020 2020 2020 2774 7970 6527 3a20 7479        'type': ty
-0001e9b0: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-0001e9c0: 2020 2020 2768 6964 655f 7373 6964 273a      'hide_ssid':
-0001e9d0: 2068 6964 655f 7373 6964 2c0a 2020 2020   hide_ssid,.    
-0001e9e0: 2020 2020 2020 2020 2020 2020 2776 6c61              'vla
-0001e9f0: 6e27 3a20 766c 616e 2c0a 2020 2020 2020  n': vlan,.      
-0001ea00: 2020 2020 2020 2020 2020 277a 6f6e 6527            'zone'
-0001ea10: 3a20 7a6f 6e65 2c0a 2020 2020 2020 2020  : zone,.        
-0001ea20: 2020 2020 2020 2020 2777 7061 5f70 6173          'wpa_pas
-0001ea30: 7370 6872 6173 6527 3a20 7770 615f 7061  sphrase': wpa_pa
-0001ea40: 7373 7068 7261 7365 2c0a 2020 2020 2020  ssphrase,.      
-0001ea50: 2020 2020 2020 2020 2020 2320 2777 7061            # 'wpa
-0001ea60: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
-0001ea70: 6765 6427 3a20 7770 615f 7061 7373 7068  ged': wpa_passph
-0001ea80: 7261 7365 5f63 6861 6e67 6564 2c0a 2020  rase_changed,.  
-0001ea90: 2020 2020 2020 2020 2020 2020 2020 2769                'i
-0001eaa0: 735f 6c6f 636b 6564 273a 2069 735f 6c6f  s_locked': is_lo
-0001eab0: 636b 6564 2c0a 2020 2020 2020 2020 2020  cked,.          
-0001eac0: 2020 2020 2020 2763 6170 7469 7665 5f70        'captive_p
-0001ead0: 726f 6669 6c65 5f6e 616d 6527 3a20 6361  rofile_name': ca
-0001eae0: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
-0001eaf0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-0001eb00: 2020 2020 2762 616e 6477 6964 7468 5f6c      'bandwidth_l
-0001eb10: 696d 6974 5f75 7027 3a20 6261 6e64 7769  imit_up': bandwi
-0001eb20: 6474 685f 6c69 6d69 745f 7570 2c0a 2020  dth_limit_up,.  
-0001eb30: 2020 2020 2020 2020 2020 2020 2020 2762                'b
-0001eb40: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-0001eb50: 6f77 6e27 3a20 6261 6e64 7769 6474 685f  own': bandwidth_
-0001eb60: 6c69 6d69 745f 646f 776e 2c0a 2020 2020  limit_down,.    
-0001eb70: 2020 2020 2020 2020 2020 2020 2762 616e              'ban
-0001eb80: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001eb90: 7573 6572 5f75 7027 3a20 6261 6e64 7769  user_up': bandwi
-0001eba0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001ebb0: 725f 7570 2c0a 2020 2020 2020 2020 2020  r_up,.          
-0001ebc0: 2020 2020 2020 2762 616e 6477 6964 7468        'bandwidth
-0001ebd0: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
-0001ebe0: 6f77 6e27 3a20 6261 6e64 7769 6474 685f  own': bandwidth_
-0001ebf0: 6c69 6d69 745f 7065 7275 7365 725f 646f  limit_peruser_do
-0001ec00: 776e 2c0a 2020 2020 2020 2020 2020 2020  wn,.            
-0001ec10: 2020 2020 2761 6363 6573 735f 7275 6c65      'access_rule
-0001ec20: 7327 3a20 6163 6365 7373 5f72 756c 6573  s': access_rules
-0001ec30: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
-0001ec40: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0001ec50: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001ec60: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
-0001ec70: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-0001ec80: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
-0001ec90: 6620 636f 6e66 6967 7572 6174 696f 6e5f  f configuration_
-0001eca0: 636c 6561 6e5f 7570 5f61 6e64 5f75 7064  clean_up_and_upd
-0001ecb0: 6174 655f 776c 616e 5f76 3228 7365 6c66  ate_wlan_v2(self
-0001ecc0: 2c20 6772 6f75 705f 6e61 6d65 5f6f 725f  , group_name_or_
-0001ecd0: 6775 6964 3a20 7374 722c 0a20 2020 2020  guid: str,.     
-0001ece0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ecf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ed00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ed10: 2020 2077 6c61 6e5f 6e61 6d65 3a20 7374     wlan_name: st
-0001ed20: 722c 2065 7373 6964 3a20 7374 722c 2074  r, essid: str, t
-0001ed30: 7970 653a 2073 7472 2c0a 2020 2020 2020  ype: str,.      
-0001ed40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ed50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ed60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ed70: 2020 6869 6465 5f73 7369 643a 2062 6f6f    hide_ssid: boo
-0001ed80: 6c2c 2076 6c61 6e3a 2073 7472 2c20 7a6f  l, vlan: str, zo
-0001ed90: 6e65 3a20 7374 722c 0a20 2020 2020 2020  ne: str,.       
-0001eda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001edb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001edc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001edd0: 2077 7061 5f70 6173 7370 6872 6173 653a   wpa_passphrase:
-0001ede0: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
-0001edf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee10: 2020 2020 2020 2020 2020 2020 2020 7770                wp
-0001ee20: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
-0001ee30: 6e67 6564 3a20 626f 6f6c 2c0a 2020 2020  nged: bool,.    
-0001ee40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ee70: 2020 2020 6973 5f6c 6f63 6b65 643a 2062      is_locked: b
-0001ee80: 6f6f 6c2c 0a20 2020 2020 2020 2020 2020  ool,.           
-0001ee90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eeb0: 2020 2020 2020 2020 2020 2020 2063 6170               cap
-0001eec0: 7469 7665 5f70 726f 6669 6c65 5f6e 616d  tive_profile_nam
-0001eed0: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-0001eee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef10: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001ef20: 7570 3a20 7374 722c 0a20 2020 2020 2020  up: str,.       
-0001ef30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef60: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001ef70: 5f64 6f77 6e3a 2073 7472 2c0a 2020 2020  _down: str,.    
-0001ef80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ef90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001efa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001efb0: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
-0001efc0: 6d69 745f 7065 7275 7365 725f 7570 3a20  mit_peruser_up: 
-0001efd0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-0001efe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f000: 2020 2020 2020 2020 2020 2020 2062 616e               ban
-0001f010: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001f020: 7573 6572 5f64 6f77 6e3a 2073 7472 2c0a  user_down: str,.
-0001f030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f060: 2020 2020 2020 2020 6163 6365 7373 5f72          access_r
-0001f070: 756c 6573 3a20 6c69 7374 2920 2d3e 2052  ules: list) -> R
-0001f080: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0001f090: 2022 2222 5570 6461 7465 2061 6e20 6578   """Update an ex
-0001f0a0: 6973 7469 6e67 2057 4c41 4e20 616e 6420  isting WLAN and 
-0001f0b0: 636c 6561 6e20 7570 2075 6e73 7570 706f  clean up unsuppo
-0001f0c0: 7274 6564 2066 6965 6c64 732e 0a0a 2020  rted fields...  
-0001f0d0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001f0e0: 2020 2020 2020 2020 6772 6f75 705f 6e61          group_na
-0001f0f0: 6d65 5f6f 725f 6775 6964 2028 7374 7229  me_or_guid (str)
-0001f100: 3a20 4772 6f75 7020 6e61 6d65 206f 6620  : Group name of 
-0001f110: 7468 6520 6772 6f75 7020 6f72 2067 7569  the group or gui
-0001f120: 6420 6f66 2074 6865 2073 7761 726d 2e0a  d of the swarm..
-0001f130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f140: 4578 616d 706c 653a 4772 6f75 705f 3120  Example:Group_1 
-0001f150: 6f72 2036 6135 6431 3233 6230 3166 3934  or 6a5d123b01f94
-0001f160: 3431 3830 3632 3434 6561 3665 3032 3366  41806244ea6e023f
-0001f170: 6162 3538 3431 6237 3763 3832 3861 3038  ab5841b77c828a08
-0001f180: 3566 3034 662e 0a20 2020 2020 2020 2020  5f04f..         
-0001f190: 2020 2077 6c61 6e5f 6e61 6d65 2028 7374     wlan_name (st
-0001f1a0: 7229 3a20 4e61 6d65 206f 6620 574c 414e  r): Name of WLAN
-0001f1b0: 2073 656c 6563 7465 642e 2020 2020 2020   selected.      
-0001f1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1d0: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0001f1e0: 776c 616e 5f31 2e0a 2020 2020 2020 2020  wlan_1..        
-0001f1f0: 2020 2020 6573 7369 6420 2873 7472 293a      essid (str):
-0001f200: 2065 7373 6964 0a20 2020 2020 2020 2020   essid.         
-0001f210: 2020 2074 7970 6520 2873 7472 293a 2074     type (str): t
-0001f220: 7970 6520 2056 616c 6964 2056 616c 7565  ype  Valid Value
-0001f230: 733a 2065 6d70 6c6f 7965 652c 2067 7565  s: employee, gue
-0001f240: 7374 0a20 2020 2020 2020 2020 2020 2068  st.            h
-0001f250: 6964 655f 7373 6964 2028 626f 6f6c 293a  ide_ssid (bool):
-0001f260: 2068 6964 655f 7373 6964 0a20 2020 2020   hide_ssid.     
-0001f270: 2020 2020 2020 2076 6c61 6e20 2873 7472         vlan (str
-0001f280: 293a 2076 6c61 6e0a 2020 2020 2020 2020  ): vlan.        
-0001f290: 2020 2020 7a6f 6e65 2028 7374 7229 3a20      zone (str): 
-0001f2a0: 7a6f 6e65 0a20 2020 2020 2020 2020 2020  zone.           
-0001f2b0: 2077 7061 5f70 6173 7370 6872 6173 6520   wpa_passphrase 
-0001f2c0: 2873 7472 293a 2077 7061 5f70 6173 7370  (str): wpa_passp
-0001f2d0: 6872 6173 650a 2020 2020 2020 2020 2020  hrase.          
-0001f2e0: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
-0001f2f0: 5f63 6861 6e67 6564 2028 626f 6f6c 293a  _changed (bool):
-0001f300: 2077 7061 5f70 6173 7370 6872 6173 655f   wpa_passphrase_
-0001f310: 6368 616e 6765 640a 2020 2020 2020 2020  changed.        
-0001f320: 2020 2020 6973 5f6c 6f63 6b65 6420 2862      is_locked (b
-0001f330: 6f6f 6c29 3a20 6973 5f6c 6f63 6b65 640a  ool): is_locked.
-0001f340: 2020 2020 2020 2020 2020 2020 6361 7074              capt
-0001f350: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
-0001f360: 2028 7374 7229 3a20 6361 7074 6976 655f   (str): captive_
-0001f370: 7072 6f66 696c 655f 6e61 6d65 0a20 2020  profile_name.   
-0001f380: 2020 2020 2020 2020 2062 616e 6477 6964           bandwid
-0001f390: 7468 5f6c 696d 6974 5f75 7020 2873 7472  th_limit_up (str
-0001f3a0: 293a 2062 616e 6477 6964 7468 5f6c 696d  ): bandwidth_lim
-0001f3b0: 6974 5f75 700a 2020 2020 2020 2020 2020  it_up.          
-0001f3c0: 2020 6261 6e64 7769 6474 685f 6c69 6d69    bandwidth_limi
-0001f3d0: 745f 646f 776e 2028 7374 7229 3a20 6261  t_down (str): ba
-0001f3e0: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
-0001f3f0: 776e 0a20 2020 2020 2020 2020 2020 2062  wn.            b
-0001f400: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
-0001f410: 6572 7573 6572 5f75 7020 2873 7472 293a  eruser_up (str):
-0001f420: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001f430: 5f70 6572 7573 6572 5f75 700a 2020 2020  _peruser_up.    
-0001f440: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
-0001f450: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-0001f460: 646f 776e 2028 7374 7229 3a20 6261 6e64  down (str): band
-0001f470: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
-0001f480: 7365 725f 646f 776e 0a20 2020 2020 2020  ser_down.       
-0001f490: 2020 2020 2061 6363 6573 735f 7275 6c65       access_rule
-0001f4a0: 7320 286c 6973 7429 3a20 6163 6365 7373  s (list): access
-0001f4b0: 5f72 756c 6573 0a0a 2020 2020 2020 2020  _rules..        
-0001f4c0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0001f4d0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0001f4e0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0001f4f0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0001f500: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0001f510: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-0001f520: 7469 6f6e 2f76 322f 776c 616e 2f7b 6772  tion/v2/wlan/{gr
-0001f530: 6f75 705f 6e61 6d65 5f6f 725f 6775 6964  oup_name_or_guid
-0001f540: 7d2f 7b77 6c61 6e5f 6e61 6d65 7d22 0a0a  }/{wlan_name}"..
-0001f550: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0001f560: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-0001f570: 2020 2765 7373 6964 273a 2065 7373 6964    'essid': essid
-0001f580: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
-0001f590: 7970 6527 3a20 7479 7065 2c0a 2020 2020  ype': type,.    
-0001f5a0: 2020 2020 2020 2020 2768 6964 655f 7373          'hide_ss
-0001f5b0: 6964 273a 2068 6964 655f 7373 6964 2c0a  id': hide_ssid,.
-0001f5c0: 2020 2020 2020 2020 2020 2020 2776 6c61              'vla
-0001f5d0: 6e27 3a20 766c 616e 2c0a 2020 2020 2020  n': vlan,.      
-0001f5e0: 2020 2020 2020 277a 6f6e 6527 3a20 7a6f        'zone': zo
-0001f5f0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-0001f600: 2777 7061 5f70 6173 7370 6872 6173 6527  'wpa_passphrase'
-0001f610: 3a20 7770 615f 7061 7373 7068 7261 7365  : wpa_passphrase
-0001f620: 2c0a 2020 2020 2020 2020 2020 2020 2777  ,.            'w
-0001f630: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
-0001f640: 616e 6765 6427 3a20 7770 615f 7061 7373  anged': wpa_pass
-0001f650: 7068 7261 7365 5f63 6861 6e67 6564 2c0a  phrase_changed,.
-0001f660: 2020 2020 2020 2020 2020 2020 2769 735f              'is_
-0001f670: 6c6f 636b 6564 273a 2069 735f 6c6f 636b  locked': is_lock
-0001f680: 6564 2c0a 2020 2020 2020 2020 2020 2020  ed,.            
-0001f690: 2763 6170 7469 7665 5f70 726f 6669 6c65  'captive_profile
-0001f6a0: 5f6e 616d 6527 3a20 6361 7074 6976 655f  _name': captive_
-0001f6b0: 7072 6f66 696c 655f 6e61 6d65 2c0a 2020  profile_name,.  
-0001f6c0: 2020 2020 2020 2020 2020 2762 616e 6477            'bandw
-0001f6d0: 6964 7468 5f6c 696d 6974 5f75 7027 3a20  idth_limit_up': 
-0001f6e0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001f6f0: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0001f700: 2762 616e 6477 6964 7468 5f6c 696d 6974  'bandwidth_limit
-0001f710: 5f64 6f77 6e27 3a20 6261 6e64 7769 6474  _down': bandwidt
-0001f720: 685f 6c69 6d69 745f 646f 776e 2c0a 2020  h_limit_down,.  
-0001f730: 2020 2020 2020 2020 2020 2762 616e 6477            'bandw
-0001f740: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
-0001f750: 6572 5f75 7027 3a20 6261 6e64 7769 6474  er_up': bandwidt
-0001f760: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-0001f770: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0001f780: 2762 616e 6477 6964 7468 5f6c 696d 6974  'bandwidth_limit
-0001f790: 5f70 6572 7573 6572 5f64 6f77 6e27 3a20  _peruser_down': 
-0001f7a0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001f7b0: 7065 7275 7365 725f 646f 776e 2c0a 2020  peruser_down,.  
-0001f7c0: 2020 2020 2020 2020 2020 2761 6363 6573            'acces
-0001f7d0: 735f 7275 6c65 7327 3a20 6163 6365 7373  s_rules': access
-0001f7e0: 5f72 756c 6573 0a20 2020 2020 2020 207d  _rules.        }
-0001f7f0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001f800: 2061 7761 6974 2073 656c 662e 7061 7463   await self.patc
-0001f810: 6828 7572 6c2c 206a 736f 6e5f 6461 7461  h(url, json_data
-0001f820: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-0001f830: 2061 7379 6e63 2064 6566 2063 6f6e 6669   async def confi
-0001f840: 6775 7261 7469 6f6e 5f75 7064 6174 655f  guration_update_
-0001f850: 776c 616e 5f76 3228 0a20 2020 2020 2020  wlan_v2(.       
-0001f860: 2020 2020 2073 656c 662c 2067 726f 7570       self, group
-0001f870: 5f6e 616d 655f 6f72 5f67 7569 643a 2073  _name_or_guid: s
-0001f880: 7472 2c20 776c 616e 5f6e 616d 653a 2073  tr, wlan_name: s
-0001f890: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-0001f8a0: 6573 7369 643a 2073 7472 2c20 7479 7065  essid: str, type
-0001f8b0: 3a20 7374 722c 2068 6964 655f 7373 6964  : str, hide_ssid
-0001f8c0: 3a20 626f 6f6c 2c20 766c 616e 3a20 7374  : bool, vlan: st
-0001f8d0: 722c 0a20 2020 2020 2020 2020 2020 207a  r,.            z
-0001f8e0: 6f6e 653a 2073 7472 2c20 7770 615f 7061  one: str, wpa_pa
-0001f8f0: 7373 7068 7261 7365 3a20 7374 722c 0a20  ssphrase: str,. 
-0001f900: 2020 2020 2020 2020 2020 2077 7061 5f70             wpa_p
-0001f910: 6173 7370 6872 6173 655f 6368 616e 6765  assphrase_change
-0001f920: 643a 2062 6f6f 6c2c 2069 735f 6c6f 636b  d: bool, is_lock
-0001f930: 6564 3a20 626f 6f6c 2c0a 2020 2020 2020  ed: bool,.      
-0001f940: 2020 2020 2020 6361 7074 6976 655f 7072        captive_pr
-0001f950: 6f66 696c 655f 6e61 6d65 3a20 7374 722c  ofile_name: str,
-0001f960: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001f970: 5f75 703a 2073 7472 2c0a 2020 2020 2020  _up: str,.      
-0001f980: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
-0001f990: 6c69 6d69 745f 646f 776e 3a20 7374 722c  limit_down: str,
-0001f9a0: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
-0001f9b0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001f9c0: 7573 6572 5f75 703a 2073 7472 2c0a 2020  user_up: str,.  
-0001f9d0: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
-0001f9e0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001f9f0: 725f 646f 776e 3a20 7374 722c 2061 6363  r_down: str, acc
-0001fa00: 6573 735f 7275 6c65 733a 206c 6973 740a  ess_rules: list.
-0001fa10: 2020 2020 2020 2020 2920 2d3e 2052 6573          ) -> Res
-0001fa20: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0001fa30: 2222 5570 6461 7465 2061 6e20 6578 6973  ""Update an exis
-0001fa40: 7469 6e67 2057 4c41 4e2e 0a0a 2020 2020  ting WLAN...    
-0001fa50: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0001fa60: 2020 2020 2020 6772 6f75 705f 6e61 6d65        group_name
-0001fa70: 5f6f 725f 6775 6964 2028 7374 7229 3a20  _or_guid (str): 
-0001fa80: 4772 6f75 7020 6e61 6d65 206f 6620 7468  Group name of th
-0001fa90: 6520 6772 6f75 7020 6f72 2067 7569 6420  e group or guid 
-0001faa0: 6f66 2074 6865 2073 7761 726d 2e0a 2020  of the swarm..  
-0001fab0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
-0001fac0: 616d 706c 653a 4772 6f75 705f 3120 6f72  ample:Group_1 or
-0001fad0: 2036 6135 6431 3233 6230 3166 3934 3431   6a5d123b01f9441
-0001fae0: 3830 3632 3434 6561 3665 3032 3366 6162  806244ea6e023fab
-0001faf0: 3538 3431 6237 3763 3832 3861 3038 3566  5841b77c828a085f
-0001fb00: 3034 662e 0a20 2020 2020 2020 2020 2020  04f..           
-0001fb10: 2077 6c61 6e5f 6e61 6d65 2028 7374 7229   wlan_name (str)
-0001fb20: 3a20 4e61 6d65 206f 6620 574c 414e 2073  : Name of WLAN s
-0001fb30: 656c 6563 7465 642e 2020 2020 2020 2020  elected.        
-0001fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb50: 2020 2020 2020 4578 616d 706c 653a 776c        Example:wl
-0001fb60: 616e 5f31 2e0a 2020 2020 2020 2020 2020  an_1..          
-0001fb70: 2020 6573 7369 6420 2873 7472 293a 2065    essid (str): e
-0001fb80: 7373 6964 0a20 2020 2020 2020 2020 2020  ssid.           
-0001fb90: 2074 7970 6520 2873 7472 293a 2074 7970   type (str): typ
-0001fba0: 6520 2056 616c 6964 2056 616c 7565 733a  e  Valid Values:
-0001fbb0: 2065 6d70 6c6f 7965 652c 2067 7565 7374   employee, guest
-0001fbc0: 0a20 2020 2020 2020 2020 2020 2068 6964  .            hid
-0001fbd0: 655f 7373 6964 2028 626f 6f6c 293a 2068  e_ssid (bool): h
-0001fbe0: 6964 655f 7373 6964 0a20 2020 2020 2020  ide_ssid.       
-0001fbf0: 2020 2020 2076 6c61 6e20 2873 7472 293a       vlan (str):
-0001fc00: 2076 6c61 6e0a 2020 2020 2020 2020 2020   vlan.          
-0001fc10: 2020 7a6f 6e65 2028 7374 7229 3a20 7a6f    zone (str): zo
-0001fc20: 6e65 0a20 2020 2020 2020 2020 2020 2077  ne.            w
-0001fc30: 7061 5f70 6173 7370 6872 6173 6520 2873  pa_passphrase (s
-0001fc40: 7472 293a 2077 7061 5f70 6173 7370 6872  tr): wpa_passphr
-0001fc50: 6173 650a 2020 2020 2020 2020 2020 2020  ase.            
-0001fc60: 7770 615f 7061 7373 7068 7261 7365 5f63  wpa_passphrase_c
-0001fc70: 6861 6e67 6564 2028 626f 6f6c 293a 2077  hanged (bool): w
-0001fc80: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
-0001fc90: 616e 6765 640a 2020 2020 2020 2020 2020  anged.          
-0001fca0: 2020 6973 5f6c 6f63 6b65 6420 2862 6f6f    is_locked (boo
-0001fcb0: 6c29 3a20 6973 5f6c 6f63 6b65 640a 2020  l): is_locked.  
-0001fcc0: 2020 2020 2020 2020 2020 6361 7074 6976            captiv
-0001fcd0: 655f 7072 6f66 696c 655f 6e61 6d65 2028  e_profile_name (
-0001fce0: 7374 7229 3a20 6361 7074 6976 655f 7072  str): captive_pr
-0001fcf0: 6f66 696c 655f 6e61 6d65 0a20 2020 2020  ofile_name.     
-0001fd00: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-0001fd10: 5f6c 696d 6974 5f75 7020 2873 7472 293a  _limit_up (str):
-0001fd20: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001fd30: 5f75 700a 2020 2020 2020 2020 2020 2020  _up.            
-0001fd40: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001fd50: 646f 776e 2028 7374 7229 3a20 6261 6e64  down (str): band
-0001fd60: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
-0001fd70: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
-0001fd80: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001fd90: 7573 6572 5f75 7020 2873 7472 293a 2062  user_up (str): b
-0001fda0: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
-0001fdb0: 6572 7573 6572 5f75 700a 2020 2020 2020  eruser_up.      
-0001fdc0: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
-0001fdd0: 6c69 6d69 745f 7065 7275 7365 725f 646f  limit_peruser_do
-0001fde0: 776e 2028 7374 7229 3a20 6261 6e64 7769  wn (str): bandwi
-0001fdf0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001fe00: 725f 646f 776e 0a20 2020 2020 2020 2020  r_down.         
-0001fe10: 2020 2061 6363 6573 735f 7275 6c65 7320     access_rules 
-0001fe20: 286c 6973 7429 3a20 6163 6365 7373 5f72  (list): access_r
-0001fe30: 756c 6573 0a0a 2020 2020 2020 2020 5265  ules..        Re
-0001fe40: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0001fe50: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0001fe60: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0001fe70: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0001fe80: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0001fe90: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-0001fea0: 6f6e 2f76 322f 776c 616e 2f7b 6772 6f75  on/v2/wlan/{grou
-0001feb0: 705f 6e61 6d65 5f6f 725f 6775 6964 7d2f  p_name_or_guid}/
-0001fec0: 7b77 6c61 6e5f 6e61 6d65 7d22 0a0a 2020  {wlan_name}"..  
-0001fed0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-0001fee0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001fef0: 2765 7373 6964 273a 2065 7373 6964 2c0a  'essid': essid,.
-0001ff00: 2020 2020 2020 2020 2020 2020 2774 7970              'typ
-0001ff10: 6527 3a20 7479 7065 2c0a 2020 2020 2020  e': type,.      
-0001ff20: 2020 2020 2020 2768 6964 655f 7373 6964        'hide_ssid
-0001ff30: 273a 2068 6964 655f 7373 6964 2c0a 2020  ': hide_ssid,.  
-0001ff40: 2020 2020 2020 2020 2020 2776 6c61 6e27            'vlan'
-0001ff50: 3a20 766c 616e 2c0a 2020 2020 2020 2020  : vlan,.        
-0001ff60: 2020 2020 277a 6f6e 6527 3a20 7a6f 6e65      'zone': zone
-0001ff70: 2c0a 2020 2020 2020 2020 2020 2020 2777  ,.            'w
-0001ff80: 7061 5f70 6173 7370 6872 6173 6527 3a20  pa_passphrase': 
-0001ff90: 7770 615f 7061 7373 7068 7261 7365 2c0a  wpa_passphrase,.
-0001ffa0: 2020 2020 2020 2020 2020 2020 2777 7061              'wpa
-0001ffb0: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
-0001ffc0: 6765 6427 3a20 7770 615f 7061 7373 7068  ged': wpa_passph
-0001ffd0: 7261 7365 5f63 6861 6e67 6564 2c0a 2020  rase_changed,.  
-0001ffe0: 2020 2020 2020 2020 2020 2769 735f 6c6f            'is_lo
-0001fff0: 636b 6564 273a 2069 735f 6c6f 636b 6564  cked': is_locked
-00020000: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
-00020010: 6170 7469 7665 5f70 726f 6669 6c65 5f6e  aptive_profile_n
-00020020: 616d 6527 3a20 6361 7074 6976 655f 7072  ame': captive_pr
-00020030: 6f66 696c 655f 6e61 6d65 2c0a 2020 2020  ofile_name,.    
-00020040: 2020 2020 2020 2020 2762 616e 6477 6964          'bandwid
-00020050: 7468 5f6c 696d 6974 5f75 7027 3a20 6261  th_limit_up': ba
-00020060: 6e64 7769 6474 685f 6c69 6d69 745f 7570  ndwidth_limit_up
-00020070: 2c0a 2020 2020 2020 2020 2020 2020 2762  ,.            'b
-00020080: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-00020090: 6f77 6e27 3a20 6261 6e64 7769 6474 685f  own': bandwidth_
-000200a0: 6c69 6d69 745f 646f 776e 2c0a 2020 2020  limit_down,.    
-000200b0: 2020 2020 2020 2020 2762 616e 6477 6964          'bandwid
-000200c0: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
-000200d0: 5f75 7027 3a20 6261 6e64 7769 6474 685f  _up': bandwidth_
-000200e0: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
-000200f0: 2c0a 2020 2020 2020 2020 2020 2020 2762  ,.            'b
-00020100: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
-00020110: 6572 7573 6572 5f64 6f77 6e27 3a20 6261  eruser_down': ba
-00020120: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-00020130: 7275 7365 725f 646f 776e 2c0a 2020 2020  ruser_down,.    
-00020140: 2020 2020 2020 2020 2761 6363 6573 735f          'access_
-00020150: 7275 6c65 7327 3a20 6163 6365 7373 5f72  rules': access_r
-00020160: 756c 6573 0a20 2020 2020 2020 207d 0a0a  ules.        }..
-00020170: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00020180: 7761 6974 2073 656c 662e 7075 7428 7572  wait self.put(ur
-00020190: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-000201a0: 6e5f 6461 7461 290a 0a20 2020 2023 2054  n_data)..    # T
-000201b0: 4f44 4f20 6368 616e 6774 6520 746f 2075  ODO changte to u
-000201c0: 7365 2063 6f6e 7369 7374 656e 7420 6465  se consistent de
-000201d0: 7620 7470 6520 6170 2067 7720 6378 2073  v tpe ap gw cx s
-000201e0: 770a 2020 2020 2320 636f 6e76 6572 7420  w.    # convert 
-000201f0: 746f 2074 6865 2073 7475 6666 2061 7069  to the stuff api
-00020200: 6777 2077 616e 7473 2069 6e73 6964 6520  gw wants inside 
-00020210: 6d65 7468 6f64 0a20 2020 2023 2041 5049  method.    # API
-00020220: 2d46 4c41 5720 6e6f 2041 5049 2074 6f20  -FLAW no API to 
-00020230: 7570 6772 6164 6520 636c 7573 7465 720a  upgrade cluster.
-00020240: 2020 2020 2320 6874 7470 733a 2f2f 696e      # https://in
-00020250: 7465 726e 616c 2d75 692e 6365 6e74 7261  ternal-ui.centra
-00020260: 6c2e 6172 7562 616e 6574 776f 726b 732e  l.arubanetworks.
-00020270: 636f 6d2f 6669 726d 7761 7265 2f63 6f6e  com/firmware/con
-00020280: 7472 6f6c 6c65 722f 636c 7573 7465 7273  troller/clusters
-00020290: 2f75 7067 7261 6465 2069 7320 7768 6174  /upgrade is what
-000202a0: 2074 6865 2055 4920 6361 6c6c 7320 7768   the UI calls wh
-000202b0: 656e 2079 6f75 2075 7067 7261 6465 2076  en you upgrade v
-000202c0: 6961 2055 490a 2020 2020 2320 7061 796c  ia UI.    # payl
-000202d0: 6f61 643a 207b 2272 6562 6f6f 7422 3a74  oad: {"reboot":t
-000202e0: 7275 652c 2266 6972 6d77 6172 655f 7665  rue,"firmware_ve
-000202f0: 7273 696f 6e22 3a22 3130 2e35 2e30 2e30  rsion":"10.5.0.0
-00020300: 2d62 6574 615f 3837 3034 3622 2c22 6465  -beta_87046","de
-00020310: 7669 6365 7322 3a5b 5d2c 2263 6c75 7374  vices":[],"clust
-00020320: 6572 7322 3a5b 3732 5d2c 2277 6865 6e22  ers":[72],"when"
-00020330: 3a30 2c22 7469 6d65 7a6f 6e65 223a 222b  :0,"timezone":"+
-00020340: 3030 3a30 3022 2c22 7061 7274 6974 696f  00:00","partitio
-00020350: 6e22 3a22 7072 696d 6172 7922 7d0a 2020  n":"primary"}.  
-00020360: 2020 2320 6465 7669 6365 5f74 7970 6520    # device_type 
-00020370: 4358 2069 7320 6e6f 7420 7661 6c69 640a  CX is not valid.
-00020380: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
-00020390: 6772 6164 655f 6669 726d 7761 7265 280a  grade_firmware(.
-000203a0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-000203b0: 2020 2020 2020 7363 6865 6475 6c65 645f        scheduled_
-000203c0: 6174 3a20 696e 7420 3d20 4e6f 6e65 2c0a  at: int = None,.
-000203d0: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-000203e0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-000203f0: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
-00020400: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00020410: 2020 6772 6f75 703a 2073 7472 203d 204e    group: str = N
-00020420: 6f6e 652c 0a20 2020 2020 2020 2064 6576  one,.        dev
-00020430: 6963 655f 7479 7065 3a20 4c69 7465 7261  ice_type: Litera
-00020440: 6c5b 2249 4150 222c 2022 4d41 5322 2c20  l["IAP", "MAS", 
-00020450: 2248 5022 2c20 2243 4f4e 5452 4f4c 4c45  "HP", "CONTROLLE
-00020460: 5222 5d20 3d20 4e6f 6e65 2c0a 2020 2020  R"] = None,.    
-00020470: 2020 2020 6669 726d 7761 7265 5f76 6572      firmware_ver
-00020480: 7369 6f6e 3a20 7374 7220 3d20 4e6f 6e65  sion: str = None
-00020490: 2c0a 2020 2020 2020 2020 6d6f 6465 6c3a  ,.        model:
-000204a0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000204b0: 2020 2020 2072 6562 6f6f 743a 2062 6f6f       reboot: boo
-000204c0: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
-000204d0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000204e0: 2020 2020 2020 2222 2249 6e69 7469 6174        """Initiat
-000204f0: 6520 6669 726d 7761 7265 2075 7067 7261  e firmware upgra
-00020500: 6465 206f 6e20 6465 7669 6365 2873 292e  de on device(s).
-00020510: 0a0a 2020 2020 2020 2020 596f 7520 6361  ..        You ca
-00020520: 6e20 6f6e 6c79 2073 7065 6369 6679 206f  n only specify o
-00020530: 6e65 206f 6620 6465 7669 6365 5f74 7970  ne of device_typ
-00020540: 652c 2073 7761 726d 5f69 6420 6f72 2073  e, swarm_id or s
-00020550: 6572 6961 6c20 7061 7261 6d65 7465 7273  erial parameters
-00020560: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
-00020570: 6420 6279 2075 7067 7261 6465 205b 6465  d by upgrade [de
-00020580: 7669 6365 7c67 726f 7570 7c73 7761 726d  vice|group|swarm
-00020590: 5d20 2f2f 0a0a 2020 2020 2020 2020 4172  ] //..        Ar
-000205a0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-000205b0: 7363 6865 6475 6c65 645f 6174 2028 696e  scheduled_at (in
-000205c0: 742c 206f 7074 696f 6e61 6c29 3a20 5768  t, optional): Wh
-000205d0: 656e 2074 6f20 7363 6865 6475 6c65 2075  en to schedule u
-000205e0: 7067 7261 6465 2028 6570 6f63 6820 7365  pgrade (epoch se
-000205f0: 636f 6e64 7329 2e20 4465 6661 756c 7473  conds). Defaults
-00020600: 2074 6f20 4e6f 6e65 2028 4e6f 7729 2e0a   to None (Now)..
-00020610: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-00020620: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
-00020630: 6e61 6c29 3a20 5570 6772 6164 6520 6120  nal): Upgrade a 
-00020640: 7370 6563 6966 6963 2073 7761 726d 2062  specific swarm b
-00020650: 7920 6964 2e20 4465 6661 756c 7473 2074  y id. Defaults t
-00020660: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00020670: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
-00020680: 206f 7074 696f 6e61 6c29 3a20 5570 6772   optional): Upgr
-00020690: 6164 6520 6120 7370 6563 6966 6963 2064  ade a specific d
-000206a0: 6576 6963 6520 6279 2073 6572 6961 6c2e  evice by serial.
-000206b0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-000206c0: 652e 0a20 2020 2020 2020 2020 2020 2067  e..            g
-000206d0: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-000206e0: 6e61 6c29 3a20 5570 6772 6164 6520 6465  nal): Upgrade de
-000206f0: 7669 6365 7320 6265 6c6f 6e67 696e 6720  vices belonging 
-00020700: 746f 2067 726f 7570 2e20 4465 6661 756c  to group. Defaul
-00020710: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00020720: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-00020730: 7970 6520 2873 7472 5b22 4941 5022 7c22  ype (str["IAP"|"
-00020740: 4d41 5322 7c22 4850 227c 2243 4f4e 5452  MAS"|"HP"|"CONTR
-00020750: 4f4c 4c45 5222 5d29 3a20 5479 7065 206f  OLLER"]): Type o
-00020760: 6620 6465 7669 6365 2074 6f20 7570 6772  f device to upgr
-00020770: 6164 652e 2044 6566 6175 6c74 7320 746f  ade. Defaults to
-00020780: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00020790: 2020 2066 6972 6d77 6172 655f 7665 7273     firmware_vers
-000207a0: 696f 6e20 2873 7472 2c20 6f70 7469 6f6e  ion (str, option
-000207b0: 616c 293a 2056 6572 7369 6f6e 2074 6f20  al): Version to 
-000207c0: 7570 6772 6164 6520 746f 2e20 4465 6661  upgrade to. Defa
-000207d0: 756c 7473 2074 6f20 4e6f 6e65 2872 6563  ults to None(rec
-000207e0: 6f6d 6d65 6e64 6564 2076 6572 7369 6f6e  ommended version
-000207f0: 292e 0a20 2020 2020 2020 2020 2020 206d  )..            m
-00020800: 6f64 656c 2028 7374 722c 206f 7074 696f  odel (str, optio
-00020810: 6e61 6c29 3a20 546f 2069 6e69 7469 6174  nal): To initiat
-00020820: 6520 7570 6772 6164 6520 6174 2067 726f  e upgrade at gro
-00020830: 7570 206c 6576 656c 2066 6f72 2073 7065  up level for spe
-00020840: 6369 6669 6320 6d6f 6465 6c20 6661 6d69  cific model fami
-00020850: 6c79 2e20 4170 706c 6963 6162 6c65 0a20  ly. Applicable. 
-00020860: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00020870: 6e6c 7920 666f 7220 4172 7562 6120 7377  nly for Aruba sw
-00020880: 6974 6368 6573 2e20 4465 6661 756c 7473  itches. Defaults
-00020890: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-000208a0: 2020 2020 2020 7265 626f 6f74 2028 626f        reboot (bo
-000208b0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2041  ol, optional): A
-000208c0: 7574 6f6d 6174 6963 616c 6c79 2072 6562  utomatically reb
-000208d0: 6f6f 7420 6465 7669 6365 2061 6674 6572  oot device after
-000208e0: 2066 6972 6d77 6172 6520 646f 776e 6c6f   firmware downlo
-000208f0: 6164 2e20 4465 6661 756c 7473 2074 6f20  ad. Defaults to 
-00020900: 4661 6c73 652e 0a0a 2020 2020 2020 2020  False...        
-00020910: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00020920: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00020930: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00020940: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00020950: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00020960: 6c20 3d20 222f 6669 726d 7761 7265 2f76  l = "/firmware/v
-00020970: 312f 7570 6772 6164 6522 0a0a 2020 2020  1/upgrade"..    
-00020980: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-00020990: 7b0a 2020 2020 2020 2020 2020 2020 2766  {.            'f
-000209a0: 6972 6d77 6172 655f 7363 6865 6475 6c65  irmware_schedule
-000209b0: 645f 6174 273a 2073 6368 6564 756c 6564  d_at': scheduled
-000209c0: 5f61 742c 0a20 2020 2020 2020 2020 2020  _at,.           
-000209d0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
-000209e0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
-000209f0: 2020 2027 7365 7269 616c 273a 2073 6572     'serial': ser
-00020a00: 6961 6c2c 0a20 2020 2020 2020 2020 2020  ial,.           
-00020a10: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
-00020a20: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-00020a30: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
-00020a40: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
-00020a50: 2020 2020 2027 6669 726d 7761 7265 5f76       'firmware_v
-00020a60: 6572 7369 6f6e 273a 2066 6972 6d77 6172  ersion': firmwar
-00020a70: 655f 7665 7273 696f 6e2c 0a20 2020 2020  e_version,.     
-00020a80: 2020 2020 2020 2027 7265 626f 6f74 273a         'reboot':
-00020a90: 2072 6562 6f6f 742c 0a20 2020 2020 2020   reboot,.       
-00020aa0: 2020 2020 2027 6d6f 6465 6c27 3a20 6d6f       'model': mo
-00020ab0: 6465 6c0a 2020 2020 2020 2020 7d0a 0a20  del.        }.. 
-00020ac0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00020ad0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00020ae0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-00020af0: 6e5f 6461 7461 290a 0a20 2020 2023 2041  n_data)..    # A
-00020b00: 5049 2d46 4c41 5720 6f6e 6c79 2061 6363  PI-FLAW only acc
-00020b10: 6570 7473 2073 7761 726d 2069 6420 666f  epts swarm id fo
-00020b20: 7220 4941 502c 2041 4f53 3130 2073 686f  r IAP, AOS10 sho
-00020b30: 7720 6173 2049 4150 2062 7574 206e 6f20  w as IAP but no 
-00020b40: 7377 6172 6d20 6964 2e20 2073 6572 6961  swarm id.  seria
-00020b50: 6c20 6973 2072 656a 6563 7465 642e 0a20  l is rejected.. 
-00020b60: 2020 2023 2043 5820 7769 6c6c 2072 6574     # CX will ret
-00020b70: 7572 6e20 7265 7370 206c 696b 6520 6974  urn resp like it
-00020b80: 2077 6f72 6b73 2c20 6275 7420 6e6f 7468   works, but noth
-00020b90: 696e 6720 6576 6572 2068 6170 7065 6e73  ing ever happens
-00020ba0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00020bb0: 6574 5f75 7067 7261 6465 5f73 7461 7475  et_upgrade_statu
-00020bc0: 7328 7365 6c66 2c20 7377 6172 6d5f 6964  s(self, swarm_id
-00020bd0: 3a20 7374 7220 3d20 4e6f 6e65 2c20 7365  : str = None, se
-00020be0: 7269 616c 3a20 7374 7220 3d20 4e6f 6e65  rial: str = None
-00020bf0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00020c00: 2020 2020 2020 2022 2222 4765 7420 6669         """Get fi
-00020c10: 726d 7761 7265 2075 7067 7261 6465 2073  rmware upgrade s
-00020c20: 7461 7475 732e 0a0a 2020 2020 2020 2020  tatus...        
-00020c30: 2f2f 2055 7365 6420 6279 2073 686f 7720  // Used by show 
-00020c40: 7570 6772 6164 6520 5b64 6576 6963 652d  upgrade [device-
-00020c50: 6964 656e 5d20 2f2f 0a0a 2020 2020 2020  iden] //..      
-00020c60: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00020c70: 2020 2020 7377 6172 6d5f 6964 2028 7374      swarm_id (st
-00020c80: 722c 206f 7074 696f 6e61 6c29 3a20 5377  r, optional): Sw
-00020c90: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
-00020ca0: 2020 2073 6572 6961 6c20 2873 7472 2c20     serial (str, 
-00020cb0: 6f70 7469 6f6e 616c 293a 2053 6572 6961  optional): Seria
-00020cc0: 6c20 6f66 2064 6576 6963 650a 0a20 2020  l of device..   
-00020cd0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00020ce0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00020cf0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00020d00: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00020d10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00020d20: 2020 2075 726c 203d 2022 2f66 6972 6d77     url = "/firmw
-00020d30: 6172 652f 7631 2f73 7461 7475 7322 0a0a  are/v1/status"..
-00020d40: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00020d50: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-00020d60: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
-00020d70: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00020d80: 2022 7365 7269 616c 223a 2073 6572 6961   "serial": seria
-00020d90: 6c0a 2020 2020 2020 2020 7d0a 0a20 2020  l.        }..   
-00020da0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00020db0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-00020dc0: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-00020dd0: 2020 2020 4465 7654 7970 6520 3d20 4c69      DevType = Li
-00020de0: 7465 7261 6c5b 2249 4150 222c 2022 4850  teral["IAP", "HP
-00020df0: 222c 2022 434f 4e54 524f 4c4c 4552 225d  ", "CONTROLLER"]
-00020e00: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00020e10: 6765 745f 6669 726d 7761 7265 5f63 6f6d  get_firmware_com
-00020e20: 706c 6961 6e63 6528 7365 6c66 2c20 6465  pliance(self, de
-00020e30: 7669 6365 5f74 7970 653a 2063 6f6e 7374  vice_type: const
-00020e40: 616e 7473 2e44 6576 5479 7065 732c 2067  ants.DevTypes, g
-00020e50: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-00020e60: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00020e70: 2020 2020 2020 2022 2222 4765 7420 4669         """Get Fi
-00020e80: 726d 7761 7265 2043 6f6d 706c 6961 6e63  rmware Complianc
-00020e90: 6520 5665 7273 696f 6e2e 0a0a 2020 2020  e Version...    
-00020ea0: 2020 2020 2f2f 2055 7365 6420 6279 2073      // Used by s
-00020eb0: 686f 7720 6669 726d 7761 7265 2063 6f6d  how firmware com
-00020ec0: 706c 6961 6e63 6520 5b61 707c 6777 7c73  pliance [ap|gw|s
-00020ed0: 777c 6378 5d20 5b67 726f 7570 2d6e 616d  w|cx] [group-nam
-00020ee0: 655d 202f 2f0a 0a20 2020 2020 2020 2041  e] //..        A
-00020ef0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00020f00: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-00020f10: 7229 3a20 5370 6563 6966 7920 6f6e 6520  r): Specify one 
-00020f20: 6f66 2022 6170 7c67 777c 7377 7c73 7822  of "ap|gw|sw|sx"
-00020f30: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
-00020f40: 7570 2028 7374 722c 206f 7074 696f 6e61  up (str, optiona
-00020f50: 6c29 3a20 4772 6f75 7020 6e61 6d65 0a0a  l): Group name..
-00020f60: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00020f70: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00020f80: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00020f90: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00020fa0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00020fb0: 2020 2020 2020 2320 4150 4920 6d65 7468        # API meth
-00020fc0: 6f64 2072 6574 7572 6e73 2034 3034 2069  od returns 404 i
-00020fd0: 6620 636f 6d70 6c69 616e 6365 2069 7320  f compliance is 
-00020fe0: 6e6f 7420 7365 7421 0a20 2020 2020 2020  not set!.       
-00020ff0: 2075 726c 203d 2022 2f66 6972 6d77 6172   url = "/firmwar
-00021000: 652f 7631 2f75 7067 7261 6465 2f63 6f6d  e/v1/upgrade/com
-00021010: 706c 6961 6e63 655f 7665 7273 696f 6e22  pliance_version"
-00021020: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
-00021030: 7479 7065 203d 2063 6f6e 7374 616e 7473  type = constants
-00021040: 2e6c 6962 5f74 6f5f 6170 6928 2766 6972  .lib_to_api('fir
-00021050: 6d77 6172 6527 2c20 6465 7669 6365 5f74  mware', device_t
-00021060: 7970 6529 0a0a 2020 2020 2020 2020 7061  ype)..        pa
-00021070: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-00021080: 2020 2020 2027 6465 7669 6365 5f74 7970       'device_typ
-00021090: 6527 3a20 6465 7669 6365 5f74 7970 652c  e': device_type,
-000210a0: 0a20 2020 2020 2020 2020 2020 2027 6772  .            'gr
-000210b0: 6f75 7027 3a20 6772 6f75 700a 2020 2020  oup': group.    
-000210c0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-000210d0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-000210e0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-000210f0: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-00021100: 796e 6320 6465 6620 6465 6c65 7465 5f66  ync def delete_f
-00021110: 6972 6d77 6172 655f 636f 6d70 6c69 616e  irmware_complian
-00021120: 6365 2873 656c 662c 2064 6576 6963 655f  ce(self, device_
-00021130: 7479 7065 3a20 636f 6e73 7461 6e74 732e  type: constants.
-00021140: 4465 7654 7970 6573 2c20 6772 6f75 703a  DevTypes, group:
-00021150: 2073 7472 203d 204e 6f6e 6529 202d 3e20   str = None) -> 
-00021160: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00021170: 2020 2222 2243 6c65 6172 2046 6972 6d77    """Clear Firmw
-00021180: 6172 6520 436f 6d70 6c69 616e 6365 2056  are Compliance V
-00021190: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
-000211a0: 202f 2f20 5573 6564 2062 7920 6465 6c65   // Used by dele
-000211b0: 7465 2066 6972 6d77 6172 6520 636f 6d70  te firmware comp
-000211c0: 6c69 616e 6365 205b 6170 7c67 777c 7377  liance [ap|gw|sw
-000211d0: 7c63 785d 205b 6772 6f75 705d 202f 2f0a  |cx] [group] //.
-000211e0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-000211f0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-00021200: 655f 7479 7065 2028 7374 7229 3a20 5370  e_type (str): Sp
-00021210: 6563 6966 7920 6f6e 6520 6f66 2022 6170  ecify one of "ap
-00021220: 7c67 777c 7377 7c63 7822 0a20 2020 2020  |gw|sw|cx".     
-00021230: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-00021240: 722c 206f 7074 696f 6e61 6c29 3a20 4772  r, optional): Gr
-00021250: 6f75 7020 6e61 6d65 2e20 4465 6661 756c  oup name. Defaul
-00021260: 7473 2074 6f20 4e6f 6e65 2028 476c 6f62  ts to None (Glob
-00021270: 616c 2043 6f6d 706c 6961 6e63 6529 0a0a  al Compliance)..
-00021280: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00021290: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000212a0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-000212b0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-000212c0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000212d0: 2020 2020 2020 7572 6c20 3d20 222f 6669        url = "/fi
-000212e0: 726d 7761 7265 2f76 312f 7570 6772 6164  rmware/v1/upgrad
-000212f0: 652f 636f 6d70 6c69 616e 6365 5f76 6572  e/compliance_ver
-00021300: 7369 6f6e 220a 2020 2020 2020 2020 6465  sion".        de
-00021310: 7669 6365 5f74 7970 6520 3d20 636f 6e73  vice_type = cons
-00021320: 7461 6e74 732e 6c69 625f 746f 5f61 7069  tants.lib_to_api
-00021330: 2827 6669 726d 7761 7265 272c 2064 6576  ('firmware', dev
-00021340: 6963 655f 7479 7065 290a 0a20 2020 2020  ice_type)..     
-00021350: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00021360: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-00021370: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
-00021380: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-00021390: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
-000213a0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-000213b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000213c0: 2073 656c 662e 6465 6c65 7465 2875 726c   self.delete(url
-000213d0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-000213e0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-000213f0: 7365 745f 6669 726d 7761 7265 5f63 6f6d  set_firmware_com
-00021400: 706c 6961 6e63 6528 0a20 2020 2020 2020  pliance(.       
-00021410: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
-00021420: 6576 6963 655f 7479 7065 3a20 636f 6e73  evice_type: cons
-00021430: 7461 6e74 732e 4465 7654 7970 6573 2c0a  tants.DevTypes,.
-00021440: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-00021450: 7472 2c0a 2020 2020 2020 2020 7665 7273  tr,.        vers
-00021460: 696f 6e3a 2073 7472 2c0a 2020 2020 2020  ion: str,.      
-00021470: 2020 636f 6d70 6c69 616e 6365 5f73 6368    compliance_sch
-00021480: 6564 756c 6564 5f61 743a 2069 6e74 2c0a  eduled_at: int,.
-00021490: 2020 2020 2020 2020 7265 626f 6f74 3a20          reboot: 
-000214a0: 626f 6f6c 203d 2054 7275 652c 2020 2320  bool = True,  # 
-000214b0: 4f6e 6c79 2061 7070 6c69 6573 2074 6f20  Only applies to 
-000214c0: 4d41 5320 616c 6c20 6f74 6865 7273 2072  MAS all others r
-000214d0: 6562 6f6f 7420 7265 6761 7264 6c65 7373  eboot regardless
-000214e0: 2e20 2063 656e 636c 6920 646f 6573 6e27  .  cencli doesn'
-000214f0: 7420 7375 7070 6f72 7420 4d41 530a 2020  t support MAS.  
-00021500: 2020 2020 2020 616c 6c6f 775f 756e 7375        allow_unsu
-00021510: 7070 6f72 7465 645f 7665 7273 696f 6e3a  pported_version:
-00021520: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-00021530: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-00021540: 3a0a 2020 2020 2020 2020 2222 2253 6574  :.        """Set
-00021550: 2046 6972 6d77 6172 6520 436f 6d70 6c69   Firmware Compli
-00021560: 616e 6365 2076 6572 7369 6f6e 2028 666f  ance version (fo
-00021570: 7220 6772 6f75 702f 6465 7669 6365 2d74  r group/device-t
-00021580: 7970 6529 2e0a 0a20 2020 2020 2020 2041  ype)...        A
-00021590: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000215a0: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-000215b0: 7229 3a20 5370 6563 6966 7920 6f6e 6520  r): Specify one 
-000215c0: 6f66 2022 6170 7c73 777c 6378 7c67 7722  of "ap|sw|cx|gw"
-000215d0: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
-000215e0: 7570 2028 7374 7229 3a20 4772 6f75 7020  up (str): Group 
-000215f0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-00021600: 2066 6972 6d77 6172 655f 636f 6d70 6c69   firmware_compli
-00021610: 616e 6365 5f76 6572 7369 6f6e 2028 7374  ance_version (st
-00021620: 7229 3a20 4669 726d 7761 7265 2063 6f6d  r): Firmware com
-00021630: 706c 6961 6e63 6520 7665 7273 696f 6e20  pliance version 
-00021640: 666f 7220 7370 6563 6966 6963 2064 6576  for specific dev
-00021650: 6963 655f 7479 7065 2e0a 2020 2020 2020  ice_type..      
-00021660: 2020 2020 2020 636f 6d70 6c69 616e 6365        compliance
-00021670: 5f73 6368 6564 756c 6564 5f61 7420 2869  _scheduled_at (i
-00021680: 6e74 293a 2046 6972 6d77 6172 6520 636f  nt): Firmware co
-00021690: 6d70 6c69 616e 6365 2077 696c 6c20 6265  mpliance will be
-000216a0: 2073 6368 6564 756c 6520 6174 2c0a 2020   schedule at,.  
-000216b0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000216c0: 6d70 6c69 616e 6365 5f73 6368 6564 756c  mpliance_schedul
-000216d0: 6564 5f61 7420 2d20 6375 7272 656e 7420  ed_at - current 
-000216e0: 7469 6d65 2e20 636f 6d70 6c69 616e 6365  time. compliance
-000216f0: 5f73 6368 6564 756c 6564 5f61 7420 6973  _scheduled_at is
-00021700: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
-00021710: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00021720: 2020 616e 6420 6465 6661 756c 7420 7661    and default va
-00021730: 6c75 6520 6973 2063 7572 7265 6e74 2074  lue is current t
-00021740: 696d 652e 0a20 2020 2020 2020 2020 2020  ime..           
-00021750: 2072 6562 6f6f 7420 2862 6f6f 6c29 3a20   reboot (bool): 
-00021760: 5573 6520 5472 7565 2066 6f72 2061 7574  Use True for aut
-00021770: 6f20 7265 626f 6f74 2061 6674 6572 2073  o reboot after s
-00021780: 7563 6365 7373 6675 6c20 6669 726d 7761  uccessful firmwa
-00021790: 7265 2064 6f77 6e6c 6f61 642e 2044 6566  re download. Def
-000217a0: 6175 6c74 0a20 2020 2020 2020 2020 2020  ault.           
-000217b0: 2020 2020 2076 616c 7565 2069 7320 4661       value is Fa
-000217c0: 6c73 652e 2041 7070 6c69 6361 626c 6520  lse. Applicable 
-000217d0: 6f6e 6c79 206f 6e20 4d41 532c 2061 7275  only on MAS, aru
-000217e0: 6261 2073 7769 7463 6865 732c 2043 5820  ba switches, CX 
-000217f0: 7377 6974 6368 6573 2c20 616e 6420 636f  switches, and co
-00021800: 6e74 726f 6c6c 6572 0a20 2020 2020 2020  ntroller.       
-00021810: 2020 2020 2020 2020 2073 696e 6365 2049           since I
-00021820: 4150 2072 6562 6f6f 7473 2061 7574 6f6d  AP reboots autom
-00021830: 6174 6963 616c 6c79 2061 6674 6572 2066  atically after f
-00021840: 6972 6d77 6172 6520 646f 776e 6c6f 6164  irmware download
-00021850: 2e0a 2020 2020 2020 2020 2020 2020 616c  ..            al
-00021860: 6c6f 775f 756e 7375 7070 6f72 7465 645f  low_unsupported_
-00021870: 7665 7273 696f 6e20 2862 6f6f 6c29 3a20  version (bool): 
-00021880: 5573 6520 5472 7565 2074 6f20 7365 7420  Use True to set 
-00021890: 756e 7375 7070 6f72 7465 6420 7665 7273  unsupported vers
-000218a0: 696f 6e20 6173 2066 6972 6d77 6172 650a  ion as firmware.
-000218b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000218c0: 636f 6d70 6c69 616e 6365 2076 6572 7369  compliance versi
-000218d0: 6f6e 2066 6f72 2073 7065 6369 6669 6320  on for specific 
-000218e0: 6465 7669 6365 5f74 7970 652e 2044 6566  device_type. Def
-000218f0: 6175 6c74 2069 7320 4661 6c73 652e 0a0a  ault is False...
-00021900: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00021910: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00021920: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00021930: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00021940: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00021950: 2020 2020 2020 7572 6c20 3d20 222f 6669        url = "/fi
-00021960: 726d 7761 7265 2f76 322f 7570 6772 6164  rmware/v2/upgrad
-00021970: 652f 636f 6d70 6c69 616e 6365 5f76 6572  e/compliance_ver
-00021980: 7369 6f6e 220a 2020 2020 2020 2020 6465  sion".        de
-00021990: 7669 6365 5f74 7970 6520 3d20 636f 6e73  vice_type = cons
-000219a0: 7461 6e74 732e 6c69 625f 746f 5f61 7069  tants.lib_to_api
-000219b0: 2827 6669 726d 7761 7265 272c 2064 6576  ('firmware', dev
-000219c0: 6963 655f 7479 7065 290a 0a0a 2020 2020  ice_type)...    
-000219d0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-000219e0: 7b0a 2020 2020 2020 2020 2020 2020 2764  {.            'd
-000219f0: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
-00021a00: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
-00021a10: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
-00021a20: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
-00021a30: 2020 2766 6972 6d77 6172 655f 636f 6d70    'firmware_comp
-00021a40: 6c69 616e 6365 5f76 6572 7369 6f6e 273a  liance_version':
-00021a50: 2076 6572 7369 6f6e 2c0a 2020 2020 2020   version,.      
-00021a60: 2020 2020 2020 2772 6562 6f6f 7427 3a20        'reboot': 
-00021a70: 7265 626f 6f74 2c0a 2020 2020 2020 2020  reboot,.        
-00021a80: 2020 2020 2761 6c6c 6f77 5f75 6e73 7570      'allow_unsup
-00021a90: 706f 7274 6564 5f76 6572 7369 6f6e 273a  ported_version':
-00021aa0: 2061 6c6c 6f77 5f75 6e73 7570 706f 7274   allow_unsupport
-00021ab0: 6564 5f76 6572 7369 6f6e 2c0a 2020 2020  ed_version,.    
-00021ac0: 2020 2020 2020 2020 2763 6f6d 706c 6961          'complia
-00021ad0: 6e63 655f 7363 6865 6475 6c65 645f 6174  nce_scheduled_at
-00021ae0: 273a 2063 6f6d 706c 6961 6e63 655f 7363  ': compliance_sc
-00021af0: 6865 6475 6c65 645f 6174 0a20 2020 2020  heduled_at.     
-00021b00: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00021b10: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00021b20: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00021b30: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00021b40: 2020 2020 6173 796e 6320 6465 6620 6d6f      async def mo
-00021b50: 7665 5f64 6576 6963 6573 5f74 6f5f 6772  ve_devices_to_gr
-00021b60: 6f75 7028 0a20 2020 2020 2020 2073 656c  oup(.        sel
-00021b70: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
-00021b80: 3a20 7374 722c 0a20 2020 2020 2020 2073  : str,.        s
-00021b90: 6572 6961 6c5f 6e75 6d73 3a20 556e 696f  erial_nums: Unio
-00021ba0: 6e5b 7374 722c 204c 6973 745b 7374 725d  n[str, List[str]
-00021bb0: 5d2c 0a20 2020 2020 2020 202a 2c0a 2020  ],.        *,.  
-00021bc0: 2020 2020 2020 6378 5f72 6574 6169 6e5f        cx_retain_
-00021bd0: 636f 6e66 6967 3a20 626f 6f6c 203d 2054  config: bool = T
-00021be0: 7275 652c 2020 2320 544f 444f 2063 616e  rue,  # TODO can
-00021bf0: 2077 6520 7365 6e64 2074 6869 7320 6174   we send this at
-00021c00: 7472 6962 7574 6520 6576 656e 2069 6620  tribute even if 
-00021c10: 6974 2773 206e 6f74 2043 582c 2077 696c  it's not CX, wil
-00021c20: 6c20 6974 2069 676e 6f72 6520 6f72 2065  l it ignore or e
-00021c30: 7272 6f72 0a20 2020 2029 202d 3e20 5265  rror.    ) -> Re
-00021c40: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00021c50: 2222 224d 6f76 6520 6465 7669 6365 7320  """Move devices 
-00021c60: 746f 2061 2067 726f 7570 2e0a 0a20 2020  to a group...   
-00021c70: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00021c80: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-00021c90: 7229 3a20 4772 6f75 7020 4e61 6d65 2074  r): Group Name t
-00021ca0: 6f20 6d6f 7665 2064 6576 6963 6520 746f  o move device to
-00021cb0: 2e0a 2020 2020 2020 2020 2020 2020 7365  ..            se
-00021cc0: 7269 616c 7320 284c 6973 745b 7374 725d  rials (List[str]
-00021cd0: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-00021ce0: 7320 6f66 2064 6576 6963 6573 2074 6f20  s of devices to 
-00021cf0: 6265 2061 6464 6564 2074 6f20 6772 6f75  be added to grou
-00021d00: 702e 0a0a 2020 2020 2020 2020 5265 7475  p...        Retu
-00021d10: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00021d20: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00021d30: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00021d40: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00021d50: 220a 2020 2020 2020 2020 2320 4150 492d  ".        # API-
-00021d60: 464c 4157 2072 6570 6f72 7420 666c 6177  FLAW report flaw
-00021d70: 6564 2041 5049 206d 6574 686f 640a 2020  ed API method.  
-00021d80: 2020 2020 2020 2320 5265 7475 726e 7320        # Returns 
-00021d90: 3530 3020 7374 6174 7573 2063 6f64 6520  500 status code 
-00021da0: 7768 656e 2072 6573 756c 7420 6973 2065  when result is e
-00021db0: 7373 656e 7469 616c 6c79 2073 7563 6365  ssentially succe
-00021dc0: 7373 0a20 2020 2020 2020 2023 2050 6c65  ss.        # Ple
-00021dd0: 6173 6520 436f 6e66 6972 6d3a 206d 6f76  ase Confirm: mov
-00021de0: 6520 4172 7562 6139 3030 345f 3831 5f45  e Aruba9004_81_E
-00021df0: 385f 4641 2026 2050 6f6d 6d6f 7265 4757  8_FA & PommoreGW
-00021e00: 3120 746f 2067 726f 7570 2057 4c4e 4554  1 to group WLNET
-00021e10: 3f20 5b79 2f4e 5d3a 2079 0a20 2020 2020  ? [y/N]: y.     
-00021e20: 2020 2023 20e2 9c96 2053 656e 6469 6e67     # ... Sending
-00021e30: 2044 6174 6120 5b63 6f6e 6669 6775 7261   Data [configura
-00021e40: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
-00021e50: 6d6f 7665 5d0a 2020 2020 2020 2020 2320  move].        # 
-00021e60: 7374 6174 7573 2063 6f64 653a 2035 3030  status code: 500
-00021e70: 203c 2d2d 2035 3030 206f 6e20 7375 6363   <-- 500 on succ
-00021e80: 6573 732e 2020 4174 206c 6561 7374 2066  ess.  At least f
-00021e90: 6f72 2067 7720 776f 756c 6420 6e65 6564  or gw would need
-00021ea0: 2074 6f20 646f 7562 6c65 2063 6865 636b   to double check
-00021eb0: 206f 7468 6572 732e 0a20 2020 2020 2020   others..       
-00021ec0: 2023 2064 6573 6372 6970 7469 6f6e 3a0a   # description:.
-00021ed0: 2020 2020 2020 2020 2320 436f 6e74 726f          # Contro
-00021ee0: 6c6c 6572 2f47 6174 6577 6179 2067 726f  ller/Gateway gro
-00021ef0: 7570 206d 6f76 6520 6861 7320 6265 656e  up move has been
-00021f00: 2069 6e69 7469 6174 6564 2c20 706c 6561   initiated, plea
-00021f10: 7365 2063 6865 636b 2061 7564 6974 2074  se check audit t
-00021f20: 7261 696c 2066 6f72 2064 6574 6169 6c73  rail for details
-00021f30: 0a20 2020 2020 2020 2023 2065 7272 6f72  .        # error
-00021f40: 5f63 6f64 653a 2030 3030 310a 2020 2020  _code: 0001.    
-00021f50: 2020 2020 2320 7365 7276 6963 655f 6e61      # service_na
-00021f60: 6d65 3a20 436f 6e66 6967 7572 6174 696f  me: Configuratio
-00021f70: 6e0a 2020 2020 2020 2020 7572 6c20 3d20  n.        url = 
-00021f80: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-00021f90: 7631 2f64 6576 6963 6573 2f6d 6f76 6522  v1/devices/move"
-00021fa0: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
-00021fb0: 6e75 6d73 203d 2075 7469 6c73 2e6c 6973  nums = utils.lis
-00021fc0: 7469 6679 2873 6572 6961 6c5f 6e75 6d73  tify(serial_nums
-00021fd0: 290a 0a20 2020 2020 2020 206a 736f 6e5f  )..        json_
-00021fe0: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
-00021ff0: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
-00022000: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
-00022010: 2027 7365 7269 616c 7327 3a20 7365 7269   'serials': seri
-00022020: 616c 5f6e 756d 730a 2020 2020 2020 2020  al_nums.        
-00022030: 7d0a 0a20 2020 2020 2020 2069 6620 6378  }..        if cx
-00022040: 5f72 6574 6169 6e5f 636f 6e66 6967 3a0a  _retain_config:.
-00022050: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-00022060: 5f64 6174 615b 2270 7265 7365 7276 655f  _data["preserve_
-00022070: 636f 6e66 6967 5f6f 7665 7272 6964 6573  config_overrides
-00022080: 225d 203d 205b 2241 4f53 5f43 5822 5d0a  "] = ["AOS_CX"].
-00022090: 0a20 2020 2020 2020 2072 6573 7020 3d20  .        resp = 
-000220a0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-000220b0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-000220c0: 736f 6e5f 6461 7461 290a 0a20 2020 2020  son_data)..     
-000220d0: 2020 2023 2054 6869 7320 6d65 7468 6f64     # This method
-000220e0: 2072 6574 7572 6e73 2073 7461 7475 7320   returns status 
-000220f0: 3530 3020 7769 7468 206d 7367 2074 6861  500 with msg tha
-00022100: 7420 6d6f 7665 2069 7320 696e 6974 6961  t move is initia
-00022110: 7465 6420 6f6e 2073 7563 6365 7373 2e0a  ted on success..
-00022120: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
-00022130: 6573 7020 616e 6420 7265 7370 2e73 7461  esp and resp.sta
-00022140: 7475 7320 3d3d 2035 3030 3a0a 2020 2020  tus == 500:.    
-00022150: 2020 2020 2020 2020 6d61 7463 685f 7374          match_st
-00022160: 7220 3d20 2267 726f 7570 206d 6f76 6520  r = "group move 
-00022170: 6861 7320 6265 656e 2069 6e69 7469 6174  has been initiat
-00022180: 6564 2c20 706c 6561 7365 2063 6865 636b  ed, please check
-00022190: 2061 7564 6974 2074 7261 696c 2066 6f72   audit trail for
-000221a0: 2064 6574 6169 6c73 220a 2020 2020 2020   details".      
-000221b0: 2020 2020 2020 6966 206d 6174 6368 5f73        if match_s
-000221c0: 7472 2069 6e20 7265 7370 2e6f 7574 7075  tr in resp.outpu
-000221d0: 742e 6765 7428 2264 6573 6372 6970 7469  t.get("descripti
-000221e0: 6f6e 222c 2022 2229 3a0a 2020 2020 2020  on", ""):.      
-000221f0: 2020 2020 2020 2020 2020 7265 7370 2e6f            resp.o
-00022200: 6b20 3d20 5472 7565 0a0a 2020 2020 2020  k = True..      
-00022210: 2020 7265 7475 726e 2072 6573 700a 0a20    return resp.. 
-00022220: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00022230: 5f64 6566 6175 6c74 5f67 726f 7570 2873  _default_group(s
-00022240: 656c 662c 2920 2d3e 2052 6573 706f 6e73  elf,) -> Respons
-00022250: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-00022260: 7420 6465 6661 756c 7420 6772 6f75 702e  t default group.
-00022270: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00022280: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00022290: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-000222a0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-000222b0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-000222c0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-000222d0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-000222e0: 2f67 726f 7570 732f 6465 6661 756c 745f  /groups/default_
-000222f0: 6772 6f75 7022 0a0a 2020 2020 2020 2020  group"..        
-00022300: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00022310: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
-00022320: 6173 796e 6320 6465 6620 6d6f 7665 5f64  async def move_d
-00022330: 6576 6963 6573 5f74 6f5f 7369 7465 280a  evices_to_site(.
-00022340: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00022350: 2020 2020 2020 7369 7465 5f69 643a 2069        site_id: i
-00022360: 6e74 2c0a 2020 2020 2020 2020 7365 7269  nt,.        seri
-00022370: 616c 5f6e 756d 733a 2055 6e69 6f6e 5b73  al_nums: Union[s
-00022380: 7472 2c20 4c69 7374 5b73 7472 5d5d 2c0a  tr, List[str]],.
-00022390: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-000223a0: 7970 653a 204c 6974 6572 616c 5b22 6170  ype: Literal["ap
-000223b0: 222c 2022 6378 222c 2022 7377 222c 2022  ", "cx", "sw", "
-000223c0: 7377 6974 6368 222c 2022 6777 225d 2c0a  switch", "gw"],.
-000223d0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-000223e0: 653a 0a20 2020 2020 2020 2022 2222 4173  e:.        """As
-000223f0: 736f 6369 6174 6520 6c69 7374 206f 6620  sociate list of 
-00022400: 6465 7669 6365 7320 746f 2061 2073 6974  devices to a sit
-00022410: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
-00022420: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
-00022430: 7465 5f69 6420 2869 6e74 293a 2053 6974  te_id (int): Sit
-00022440: 6520 4944 0a20 2020 2020 2020 2020 2020  e ID.           
-00022450: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-00022460: 7229 3a20 4465 7669 6365 2074 7970 652e  r): Device type.
-00022470: 2056 616c 6964 2056 616c 7565 733a 2061   Valid Values: a
-00022480: 702c 2063 782c 2073 772c 2073 7769 7463  p, cx, sw, switc
-00022490: 682c 2067 770a 2020 2020 2020 2020 2020  h, gw.          
-000224a0: 2020 2020 2020 6378 2061 6e64 2073 7720        cx and sw 
-000224b0: 6172 6520 7468 6520 7361 6d65 2061 7320  are the same as 
-000224c0: 7468 6520 6d6f 7265 2067 656e 6572 6963  the more generic
-000224d0: 2073 7769 7463 682e 0a20 2020 2020 2020   switch..       
-000224e0: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
-000224f0: 2028 4c69 7374 5b73 7472 5d29 3a20 4c69   (List[str]): Li
-00022500: 7374 206f 6620 6465 7669 6365 2073 6572  st of device ser
-00022510: 6961 6c20 6e75 6d62 6572 7320 6f66 2074  ial numbers of t
-00022520: 6865 2064 6576 6963 6573 2074 6f20 7768  he devices to wh
-00022530: 6963 6820 7468 6520 7369 7465 0a20 2020  ich the site.   
-00022540: 2020 2020 2020 2020 2020 2020 2068 6173               has
-00022550: 2074 6f20 6265 2075 6e2f 6173 736f 6369   to be un/associ
-00022560: 6174 6564 2077 6974 682e 2041 206d 6178  ated with. A max
-00022570: 696d 756d 206f 6620 3530 3030 2064 6576  imum of 5000 dev
-00022580: 6963 6520 7365 7269 616c 7320 6172 6520  ice serials are 
-00022590: 616c 6c6f 7765 6420 6174 206f 6e63 652e  allowed at once.
-000225a0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-000225b0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-000225c0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-000225d0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-000225e0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-000225f0: 2020 2020 2020 2020 2320 544f 444f 206d          # TODO m
-00022600: 616b 6520 6465 7669 6365 5f74 7970 6573  ake device_types
-00022610: 2063 6f6e 7369 7374 656e 7420 7468 726f   consistent thro
-00022620: 7567 686f 7574 0a20 2020 2020 2020 2064  ughout.        d
-00022630: 6576 6963 655f 7479 7065 203d 2063 6f6e  evice_type = con
-00022640: 7374 616e 7473 2e6c 6962 5f74 6f5f 6170  stants.lib_to_ap
-00022650: 6928 2273 6974 6522 2c20 6465 7669 6365  i("site", device
-00022660: 5f74 7970 6529 0a20 2020 2020 2020 2069  _type).        i
-00022670: 6620 6e6f 7420 6465 7669 6365 5f74 7970  f not device_typ
-00022680: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00022690: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-000226a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000226b0: 2066 2249 6e76 616c 6964 2056 616c 7565   f"Invalid Value
-000226c0: 2066 6f72 2064 6576 6963 655f 7479 7065   for device_type
-000226d0: 2e20 2053 7570 706f 7274 6564 2056 616c  .  Supported Val
-000226e0: 7565 733a 207b 636f 6e73 7461 6e74 732e  ues: {constants.
-000226f0: 6c69 625f 746f 5f61 7069 2e76 616c 6964  lib_to_api.valid
-00022700: 5f73 7472 7d22 0a20 2020 2020 2020 2020  _str}".         
-00022710: 2020 2029 0a0a 2020 2020 2020 2020 7572     )..        ur
-00022720: 6c20 3d20 222f 6365 6e74 7261 6c2f 7632  l = "/central/v2
-00022730: 2f73 6974 6573 2f61 7373 6f63 6961 7469  /sites/associati
-00022740: 6f6e 7322 0a20 2020 2020 2020 2073 6572  ons".        ser
-00022750: 6961 6c5f 6e75 6d73 203d 2075 7469 6c73  ial_nums = utils
-00022760: 2e6c 6973 7469 6679 2873 6572 6961 6c5f  .listify(serial_
-00022770: 6e75 6d73 290a 0a20 2020 2020 2020 206a  nums)..        j
-00022780: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-00022790: 2020 2020 2020 2020 2027 7369 7465 5f69           'site_i
-000227a0: 6427 3a20 7369 7465 5f69 642c 0a20 2020  d': site_id,.   
-000227b0: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-000227c0: 5f69 6473 273a 2073 6572 6961 6c5f 6e75  _ids': serial_nu
-000227d0: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
-000227e0: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
-000227f0: 6576 6963 655f 7479 7065 0a20 2020 2020  evice_type.     
-00022800: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00022810: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00022820: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00022830: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00022840: 2020 2020 6173 796e 6320 6465 6620 7265      async def re
-00022850: 6d6f 7665 5f64 6576 6963 6573 5f66 726f  move_devices_fro
-00022860: 6d5f 7369 7465 280a 2020 2020 2020 2020  m_site(.        
-00022870: 7365 6c66 2c0a 2020 2020 2020 2020 7369  self,.        si
-00022880: 7465 5f69 643a 2069 6e74 2c0a 2020 2020  te_id: int,.    
-00022890: 2020 2020 7365 7269 616c 5f6e 756d 733a      serial_nums:
-000228a0: 204c 6973 745b 7374 725d 2c0a 2020 2020   List[str],.    
-000228b0: 2020 2020 6465 7669 6365 5f74 7970 653a      device_type:
-000228c0: 204c 6974 6572 616c 5b22 6170 222c 2022   Literal["ap", "
-000228d0: 6378 222c 2022 7377 222c 2022 7377 6974  cx", "sw", "swit
-000228e0: 6368 222c 2022 6777 225d 2c0a 2020 2020  ch", "gw"],.    
-000228f0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00022900: 2020 2020 2020 2022 2222 5265 6d6f 7665         """Remove
-00022910: 2061 206c 6973 7420 6f66 2064 6576 6963   a list of devic
-00022920: 6573 2066 726f 6d20 6120 7369 7465 2e0a  es from a site..
-00022930: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-00022940: 2020 2020 2020 2020 2020 2073 6974 655f             site_
-00022950: 6964 2028 696e 7429 3a20 5369 7465 2049  id (int): Site I
-00022960: 440a 2020 2020 2020 2020 2020 2020 6465  D.            de
-00022970: 7669 6365 5f74 7970 6520 2873 7472 293a  vice_type (str):
-00022980: 2044 6576 6963 6520 7479 7065 2e20 5661   Device type. Va
-00022990: 6c69 6420 5661 6c75 6573 3a20 6170 2c20  lid Values: ap, 
-000229a0: 6378 2c20 7377 2c20 7377 6974 6368 2c20  cx, sw, switch, 
-000229b0: 6777 0a20 2020 2020 2020 2020 2020 2020  gw.             
-000229c0: 2020 2063 7820 616e 6420 7377 2061 7265     cx and sw are
-000229d0: 2074 6865 2073 616d 6520 6173 2074 6865   the same as the
-000229e0: 206d 6f72 6520 6765 6e65 7269 6320 7377   more generic sw
-000229f0: 6974 6368 2e0a 2020 2020 2020 2020 2020  itch..          
-00022a00: 2020 7365 7269 616c 5f6e 756d 7320 284c    serial_nums (L
-00022a10: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
-00022a20: 6f66 2064 6576 6963 6520 7365 7269 616c  of device serial
-00022a30: 206e 756d 6265 7273 206f 6620 7468 6520   numbers of the 
-00022a40: 6465 7669 6365 7320 746f 2077 6869 6368  devices to which
-00022a50: 2074 6865 2073 6974 650a 2020 2020 2020   the site.      
-00022a60: 2020 2020 2020 2020 2020 6861 7320 746f            has to
-00022a70: 2062 6520 756e 2f61 7373 6f63 6961 7465   be un/associate
-00022a80: 6420 7769 7468 2e20 4120 6d61 7869 6d75  d with. A maximu
-00022a90: 6d20 6f66 2035 3030 3020 6465 7669 6365  m of 5000 device
-00022aa0: 2073 6572 6961 6c73 2061 7265 2061 6c6c   serials are all
-00022ab0: 6f77 6564 2061 7420 6f6e 6365 2e0a 0a20  owed at once... 
-00022ac0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00022ad0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00022ae0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00022af0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00022b00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00022b10: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-00022b20: 203d 2063 6f6e 7374 616e 7473 2e6c 6962   = constants.lib
-00022b30: 5f74 6f5f 6170 6928 2273 6974 6522 2c20  _to_api("site", 
-00022b40: 6465 7669 6365 5f74 7970 6529 0a20 2020  device_type).   
-00022b50: 2020 2020 2069 6620 6e6f 7420 6465 7669       if not devi
-00022b60: 6365 5f74 7970 653a 0a20 2020 2020 2020  ce_type:.       
-00022b70: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-00022b80: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00022b90: 2020 2020 2020 2066 2249 6e76 616c 6964         f"Invalid
-00022ba0: 2056 616c 7565 2066 6f72 2064 6576 6963   Value for devic
-00022bb0: 655f 7479 7065 2e20 2053 7570 706f 7274  e_type.  Support
-00022bc0: 6564 2056 616c 7565 733a 207b 636f 6e73  ed Values: {cons
-00022bd0: 7461 6e74 732e 6c69 625f 746f 5f61 7069  tants.lib_to_api
-00022be0: 2e76 616c 6964 5f73 7472 7d22 0a20 2020  .valid_str}".   
-00022bf0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-00022c00: 2020 2020 7572 6c20 3d20 222f 6365 6e74      url = "/cent
-00022c10: 7261 6c2f 7632 2f73 6974 6573 2f61 7373  ral/v2/sites/ass
-00022c20: 6f63 6961 7469 6f6e 7322 0a20 2020 2020  ociations".     
-00022c30: 2020 2073 6572 6961 6c5f 6e75 6d73 203d     serial_nums =
-00022c40: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
-00022c50: 6572 6961 6c5f 6e75 6d73 290a 0a20 2020  erial_nums)..   
-00022c60: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-00022c70: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00022c80: 7369 7465 5f69 6427 3a20 7369 7465 5f69  site_id': site_i
-00022c90: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-00022ca0: 6465 7669 6365 5f69 6473 273a 2073 6572  device_ids': ser
-00022cb0: 6961 6c5f 6e75 6d73 2c0a 2020 2020 2020  ial_nums,.      
-00022cc0: 2020 2020 2020 2764 6576 6963 655f 7479        'device_ty
-00022cd0: 7065 273a 2064 6576 6963 655f 7479 7065  pe': device_type
-00022ce0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00022cf0: 2020 2020 2320 4150 492d 464c 4157 3a20      # API-FLAW: 
-00022d00: 5468 6973 206d 6574 686f 6420 7265 7475  This method retu
-00022d10: 726e 7320 3230 3020 7768 656e 2066 6169  rns 200 when fai
-00022d20: 6c75 7265 7320 6f63 6375 722e 0a20 2020  lures occur..   
-00022d30: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00022d40: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
-00022d50: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-00022d60: 6e5f 6461 7461 290a 0a20 2020 2061 7379  n_data)..    asy
-00022d70: 6e63 2064 6566 2063 7265 6174 655f 6c61  nc def create_la
-00022d80: 6265 6c28 0a20 2020 2020 2020 2073 656c  bel(.        sel
-00022d90: 662c 0a20 2020 2020 2020 206c 6162 656c  f,.        label
-00022da0: 5f6e 616d 653a 2073 7472 2c0a 2020 2020  _name: str,.    
-00022db0: 2020 2020 6361 7465 676f 7279 5f69 643a      category_id:
-00022dc0: 2069 6e74 203d 2031 2c0a 2020 2020 2920   int = 1,.    ) 
-00022dd0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00022de0: 2020 2020 2022 2222 4372 6561 7465 204c       """Create L
-00022df0: 6162 656c 2e0a 0a20 2020 2020 2020 2041  abel...        A
-00022e00: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00022e10: 206c 6162 656c 5f6e 616d 6520 2873 7472   label_name (str
-00022e20: 293a 204c 6162 656c 206e 616d 650a 2020  ): Label name.  
-00022e30: 2020 2020 2020 2020 2020 6361 7465 676f            catego
-00022e40: 7279 5f69 6420 2869 6e74 2c20 6f70 7469  ry_id (int, opti
-00022e50: 6f6e 616c 293a 204c 6162 656c 2063 6174  onal): Label cat
-00022e60: 6567 6f72 7920 4944 2064 6566 6175 6c74  egory ID default
-00022e70: 7320 746f 2031 0a20 2020 2020 2020 2020  s to 1.         
-00022e80: 2020 2020 2020 2031 203d 2064 6566 6175         1 = defau
-00022e90: 6c74 206c 6162 656c 2063 6174 6567 6f72  lt label categor
-00022ea0: 792c 2032 203d 2073 6974 650a 0a20 2020  y, 2 = site..   
-00022eb0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00022ec0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00022ed0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00022ee0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00022ef0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00022f00: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
-00022f10: 616c 2f76 312f 6c61 6265 6c73 220a 0a20  al/v1/labels".. 
-00022f20: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-00022f30: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00022f40: 2027 6361 7465 676f 7279 5f69 6427 3a20   'category_id': 
-00022f50: 6361 7465 676f 7279 5f69 642c 0a20 2020  category_id,.   
-00022f60: 2020 2020 2020 2020 2027 6c61 6265 6c5f           'label_
-00022f70: 6e61 6d65 273a 206c 6162 656c 5f6e 616d  name': label_nam
-00022f80: 650a 2020 2020 2020 2020 7d0a 0a20 2020  e.        }..   
-00022f90: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00022fa0: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
-00022fb0: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
-00022fc0: 6461 7461 290a 0a20 2020 2061 7379 6e63  data)..    async
-00022fd0: 2064 6566 2067 6574 5f6c 6162 656c 7328   def get_labels(
-00022fe0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00022ff0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-00023000: 5f74 6f74 616c 3a20 626f 6f6c 203d 204e  _total: bool = N
-00023010: 6f6e 652c 0a20 2020 2020 2020 2072 6576  one,.        rev
-00023020: 6572 7365 3a20 626f 6f6c 203d 2046 616c  erse: bool = Fal
-00023030: 7365 2c0a 2020 2020 2020 2020 6f66 6673  se,.        offs
-00023040: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-00023050: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-00023060: 3d20 3130 302c 0a20 2020 2029 202d 3e20  = 100,.    ) -> 
-00023070: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00023080: 2020 2222 224c 6973 7420 4c61 6265 6c73    """List Labels
-00023090: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-000230a0: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
-000230b0: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
-000230c0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
-000230d0: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
-000230e0: 6174 6520 746f 7461 6c20 4c61 6265 6c73  ate total Labels
-000230f0: 0a20 2020 2020 2020 2020 2020 2072 6576  .            rev
-00023100: 6572 7365 2028 626f 6f6c 2c20 6f70 7469  erse (bool, opti
-00023110: 6f6e 616c 293a 204c 6973 7420 6c61 6265  onal): List labe
-00023120: 6c73 2069 6e20 7265 7665 7273 6520 616c  ls in reverse al
-00023130: 7068 6162 6574 6963 616c 206f 7264 6572  phabetical order
-00023140: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
-00023150: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
-00023160: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-00023170: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-00023180: 6f6e 206f 6666 7365 7420 4465 6661 756c  on offset Defaul
-00023190: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-000231a0: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-000231b0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-000231c0: 6e61 7469 6f6e 206c 696d 6974 2e20 4465  nation limit. De
-000231d0: 6661 756c 7420 6973 2031 3030 2061 6e64  fault is 100 and
-000231e0: 206d 6178 2069 7320 3130 3030 2044 6566   max is 1000 Def
-000231f0: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
-00023200: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00023210: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00023220: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00023230: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00023240: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00023250: 2020 2020 2075 726c 203d 2022 2f63 656e       url = "/cen
-00023260: 7472 616c 2f76 322f 6c61 6265 6c73 220a  tral/v2/labels".
-00023270: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00023280: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00023290: 2263 616c 6375 6c61 7465 5f74 6f74 616c  "calculate_total
-000232a0: 223a 2063 616c 6375 6c61 7465 5f74 6f74  ": calculate_tot
-000232b0: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-000232c0: 226f 6666 7365 7422 3a20 6f66 6673 6574  "offset": offset
-000232d0: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
-000232e0: 696d 6974 223a 206c 696d 6974 0a20 2020  imit": limit.   
-000232f0: 2020 2020 207d 0a20 2020 2020 2020 2069       }.        i
-00023300: 6620 7265 7665 7273 653a 0a20 2020 2020  f reverse:.     
-00023310: 2020 2020 2020 2070 6172 616d 735b 2273         params["s
-00023320: 6f72 7422 5d20 3d20 222d 6c61 6265 6c5f  ort"] = "-label_
-00023330: 6e61 6d65 220a 0a20 2020 2020 2020 2072  name"..        r
-00023340: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00023350: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-00023360: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-00023370: 796e 6320 6465 6620 6173 7369 676e 5f6c  ync def assign_l
-00023380: 6162 656c 5f74 6f5f 6465 7669 6365 7328  abel_to_devices(
-00023390: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000233a0: 2020 2020 2020 206c 6162 656c 5f69 643a         label_id:
-000233b0: 2069 6e74 2c0a 2020 2020 2020 2020 6465   int,.        de
-000233c0: 7669 6365 5f74 7970 653a 2063 6f6e 7374  vice_type: const
-000233d0: 616e 7473 2e47 656e 6572 6963 4465 7654  ants.GenericDevT
-000233e0: 7970 6573 2c0a 2020 2020 2020 2020 7365  ypes,.        se
-000233f0: 7269 616c 5f6e 756d 733a 2055 6e69 6f6e  rial_nums: Union
-00023400: 5b73 7472 2c20 4c69 7374 5b73 7472 5d5d  [str, List[str]]
-00023410: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-00023420: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00023430: 4173 736f 6369 6174 6520 4c61 6265 6c20  Associate Label 
-00023440: 746f 2061 206c 6973 7420 6f66 2064 6576  to a list of dev
-00023450: 6963 6573 2e0a 0a20 2020 2020 2020 2041  ices...        A
-00023460: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00023470: 206c 6162 656c 5f69 6420 2869 6e74 293a   label_id (int):
-00023480: 204c 6162 656c 2049 440a 2020 2020 2020   Label ID.      
-00023490: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-000234a0: 6520 2873 7472 293a 2044 6576 6963 6520  e (str): Device 
-000234b0: 7479 7065 2e20 5661 6c69 6420 5661 6c75  type. Valid Valu
-000234c0: 6573 3a20 6170 2c20 6777 2c20 7377 6974  es: ap, gw, swit
-000234d0: 6368 0a20 2020 2020 2020 2020 2020 2073  ch.            s
-000234e0: 6572 6961 6c5f 6e75 6d73 2028 7374 7220  erial_nums (str 
-000234f0: 7c20 4c69 7374 5b73 7472 5d29 3a20 4c69  | List[str]): Li
-00023500: 7374 206f 6620 6465 7669 6365 2073 6572  st of device ser
-00023510: 6961 6c20 6e75 6d62 6572 7320 6f66 2074  ial numbers of t
-00023520: 6865 2064 6576 6963 6573 2074 6f20 7768  he devices to wh
-00023530: 6963 6820 7468 6520 6c61 6265 6c0a 2020  ich the label.  
-00023540: 2020 2020 2020 2020 2020 2020 2020 6861                ha
-00023550: 7320 746f 2062 6520 756e 2f61 7373 6f63  s to be un/assoc
-00023560: 6961 7465 6420 7769 7468 2e20 4120 6d61  iated with. A ma
-00023570: 7869 6d75 6d20 6f66 2035 3030 3020 6465  ximum of 5000 de
-00023580: 7669 6365 2073 6572 6961 6c73 2061 7265  vice serials are
-00023590: 2061 6c6c 6f77 6564 2061 7420 6f6e 6365   allowed at once
-000235a0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-000235b0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-000235c0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-000235d0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-000235e0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-000235f0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00023600: 2f63 656e 7472 616c 2f76 322f 6c61 6265  /central/v2/labe
-00023610: 6c73 2f61 7373 6f63 6961 7469 6f6e 7322  ls/associations"
-00023620: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
-00023630: 6e75 6d73 203d 2075 7469 6c73 2e6c 6973  nums = utils.lis
-00023640: 7469 6679 2873 6572 6961 6c5f 6e75 6d73  tify(serial_nums
-00023650: 290a 2020 2020 2020 2020 6465 7669 6365  ).        device
-00023660: 5f74 7970 6520 3d20 636f 6e73 7461 6e74  _type = constant
-00023670: 732e 6c69 625f 746f 5f61 7069 2822 7369  s.lib_to_api("si
-00023680: 7465 222c 2064 6576 6963 655f 7479 7065  te", device_type
-00023690: 290a 0a20 2020 2020 2020 206a 736f 6e5f  )..        json_
-000236a0: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
-000236b0: 2020 2020 2027 6c61 6265 6c5f 6964 273a       'label_id':
-000236c0: 206c 6162 656c 5f69 642c 0a20 2020 2020   label_id,.     
-000236d0: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
-000236e0: 7970 6527 3a20 6465 7669 6365 5f74 7970  ype': device_typ
-000236f0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00023700: 6465 7669 6365 5f69 6473 273a 2073 6572  device_ids': ser
-00023710: 6961 6c5f 6e75 6d73 0a20 2020 2020 2020  ial_nums.       
-00023720: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-00023730: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
-00023740: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
-00023750: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
-00023760: 2020 2320 544f 444f 206d 616b 6520 666f    # TODO make fo
-00023770: 726d 6174 206f 6620 7468 6973 2061 6e64  rmat of this and
-00023780: 206f 7468 6572 206c 6162 656c 206d 6574   other label met
-00023790: 686f 6473 206d 6174 6368 2073 6974 6520  hods match site 
-000237a0: 6d65 7468 6f64 730a 2020 2020 6173 796e  methods.    asyn
-000237b0: 6320 6465 6620 7265 6d6f 7665 5f6c 6162  c def remove_lab
-000237c0: 656c 5f66 726f 6d5f 6465 7669 6365 7328  el_from_devices(
-000237d0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000237e0: 2020 2020 2020 206c 6162 656c 5f69 643a         label_id:
-000237f0: 2069 6e74 2c0a 2020 2020 2020 2020 6465   int,.        de
-00023800: 7669 6365 5f74 7970 653a 2073 7472 2c0a  vice_type: str,.
-00023810: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-00023820: 756d 733a 204c 6973 745b 7374 725d 2c0a  ums: List[str],.
-00023830: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00023840: 653a 0a20 2020 2020 2020 2022 2222 756e  e:.        """un
-00023850: 6173 7369 676e 2061 206c 6162 656c 2066  assign a label f
-00023860: 726f 6d20 6120 6c69 7374 206f 6620 6465  rom a list of de
-00023870: 7669 6365 732e 0a0a 2020 2020 2020 2020  vices...        
-00023880: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00023890: 2020 6c61 6265 6c5f 6964 2028 696e 7429    label_id (int)
-000238a0: 3a20 4c61 6265 6c20 4944 0a20 2020 2020  : Label ID.     
-000238b0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-000238c0: 7065 2028 7374 7229 3a20 4465 7669 6365  pe (str): Device
-000238d0: 2074 7970 652e 204f 6e65 206f 6620 6170   type. One of ap
-000238e0: 2c20 6777 2c20 7377 6974 6368 0a20 2020  , gw, switch.   
-000238f0: 2020 2020 2020 2020 2073 6572 6961 6c5f           serial_
-00023900: 6e75 6d73 2028 7374 7220 7c20 4c69 7374  nums (str | List
-00023910: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
-00023920: 6465 7669 6365 2073 6572 6961 6c20 6e75  device serial nu
-00023930: 6d62 6572 7320 6f66 2074 6865 2064 6576  mbers of the dev
-00023940: 6963 6573 2074 6f20 7768 6963 6820 7468  ices to which th
-00023950: 6520 6c61 6265 6c0a 2020 2020 2020 2020  e label.        
-00023960: 2020 2020 2020 2020 6861 7320 746f 2062          has to b
-00023970: 6520 756e 2f61 7373 6f63 6961 7465 6420  e un/associated 
-00023980: 7769 7468 2e20 4120 6d61 7869 6d75 6d20  with. A maximum 
-00023990: 6f66 2035 3030 3020 6465 7669 6365 2073  of 5000 device s
-000239a0: 6572 6961 6c73 2061 7265 2061 6c6c 6f77  erials are allow
-000239b0: 6564 2061 7420 6f6e 6365 2e0a 0a20 2020  ed at once...   
-000239c0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000239d0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000239e0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-000239f0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00023a00: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00023a10: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
-00023a20: 616c 2f76 322f 6c61 6265 6c73 2f61 7373  al/v2/labels/ass
-00023a30: 6f63 6961 7469 6f6e 7322 0a20 2020 2020  ociations".     
-00023a40: 2020 2073 6572 6961 6c5f 6e75 6d73 203d     serial_nums =
-00023a50: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
-00023a60: 6572 6961 6c5f 6e75 6d73 290a 2020 2020  erial_nums).    
-00023a70: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
-00023a80: 3d20 636f 6e73 7461 6e74 732e 6c69 625f  = constants.lib_
-00023a90: 746f 5f61 7069 2822 7369 7465 222c 2064  to_api("site", d
-00023aa0: 6576 6963 655f 7479 7065 290a 0a20 2020  evice_type)..   
-00023ab0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-00023ac0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00023ad0: 6c61 6265 6c5f 6964 273a 206c 6162 656c  label_id': label
-00023ae0: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00023af0: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
-00023b00: 6465 7669 6365 5f74 7970 652c 0a20 2020  device_type,.   
-00023b10: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-00023b20: 5f69 6473 273a 2073 6572 6961 6c5f 6e75  _ids': serial_nu
-00023b30: 6d73 0a20 2020 2020 2020 207d 0a0a 2020  ms.        }..  
-00023b40: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00023b50: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
-00023b60: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-00023b70: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
-00023b80: 4150 492d 464c 4157 2072 6574 7572 6e73  API-FLAW returns
-00023b90: 2065 6d70 7479 2070 6179 6c6f 6164 202f   empty payload /
-00023ba0: 2072 6573 706f 6e73 6520 6f6e 2073 7563   response on suc
-00023bb0: 6365 7373 2032 3030 0a20 2020 2061 7379  cess 200.    asy
-00023bc0: 6e63 2064 6566 2064 656c 6574 655f 6c61  nc def delete_la
-00023bd0: 6265 6c28 0a20 2020 2020 2020 2073 656c  bel(.        sel
-00023be0: 662c 0a20 2020 2020 2020 206c 6162 656c  f,.        label
-00023bf0: 5f69 643a 2069 6e74 2c0a 2020 2020 2920  _id: int,.    ) 
-00023c00: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00023c10: 2020 2020 2022 2222 4465 6c65 7465 204c       """Delete L
-00023c20: 6162 656c 2e0a 0a20 2020 2020 2020 2041  abel...        A
-00023c30: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00023c40: 206c 6162 656c 5f69 6420 2869 6e74 293a   label_id (int):
-00023c50: 204c 6162 656c 2049 440a 0a20 2020 2020   Label ID..     
-00023c60: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00023c70: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00023c80: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00023c90: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00023ca0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00023cb0: 2075 726c 203d 2066 222f 6365 6e74 7261   url = f"/centra
-00023cc0: 6c2f 7631 2f6c 6162 656c 732f 7b6c 6162  l/v1/labels/{lab
-00023cd0: 656c 5f69 647d 220a 0a20 2020 2020 2020  el_id}"..       
-00023ce0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00023cf0: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
-00023d00: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-00023d10: 745f 6465 7669 6365 5f69 705f 726f 7574  t_device_ip_rout
-00023d20: 6573 280a 2020 2020 2020 2020 7365 6c66  es(.        self
-00023d30: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-00023d40: 5f6e 756d 3a20 7374 722c 0a20 2020 2020  _num: str,.     
-00023d50: 2020 2061 7069 3a20 7374 7220 3d20 2256     api: str = "V
-00023d60: 3122 2c0a 2020 2020 2020 2020 6f66 6673  1",.        offs
-00023d70: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-00023d80: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-00023d90: 3d20 3130 300a 2020 2020 2920 2d3e 2052  = 100.    ) -> R
-00023da0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00023db0: 2022 2222 4765 7420 726f 7574 6573 2066   """Get routes f
-00023dc0: 6f72 2061 2064 6576 6963 652e 0a0a 2020  or a device...  
-00023dd0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00023de0: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-00023df0: 756d 2028 7374 7229 3a20 4465 7669 6365  um (str): Device
-00023e00: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
-00023e10: 2020 2020 2020 2020 2020 2061 7069 2028             api (
-00023e20: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00023e30: 4150 4920 7665 7273 696f 6e20 2856 307c  API version (V0|
-00023e40: 5631 292c 2044 6566 6175 6c74 7320 746f  V1), Defaults to
-00023e50: 2056 312e 0a20 2020 2020 2020 2020 2020   V1..           
-00023e60: 206f 6666 7365 7420 2873 7472 2c20 6f70   offset (str, op
-00023e70: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
-00023e80: 696f 6e20 6f66 6673 6574 2e0a 2020 2020  ion offset..    
-00023e90: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-00023ea0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
-00023eb0: 6167 6520 7369 7a65 2044 6566 6175 6c74  age size Default
-00023ec0: 7320 746f 2031 3030 2e0a 0a20 2020 2020  s to 100...     
-00023ed0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00023ee0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00023ef0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00023f00: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00023f10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00023f20: 2075 726c 203d 2022 2f61 7069 2f72 6f75   url = "/api/rou
-00023f30: 7469 6e67 2f76 312f 726f 7574 6522 0a0a  ting/v1/route"..
-00023f40: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00023f50: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00023f60: 6465 7669 6365 273a 2073 6572 6961 6c5f  device': serial_
-00023f70: 6e75 6d2c 0a20 2020 2020 2020 2020 2020  num,.           
-00023f80: 2027 6170 6927 3a20 6170 692c 0a20 2020   'api': api,.   
-00023f90: 2020 2020 2020 2020 2027 6d61 726b 6572           'marker
-00023fa0: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-00023fb0: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-00023fc0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-00023fd0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00023fe0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00023ff0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00024000: 7329 0a0a 2020 2020 2320 544f 444f 206d  s)..    # TODO m
-00024010: 616b 6520 6164 645f 6465 7669 6365 2061  ake add_device a
-00024020: 6374 7561 6c20 6675 6e63 2073 6570 2061  ctual func sep a
-00024030: 6e64 206d 616b 6520 7468 6973 2061 6e20  nd make this an 
-00024040: 6167 6772 6567 6174 6f72 2074 6861 7420  aggregator that 
-00024050: 6361 6c6c 7320 6974 2061 6e64 2061 6e79  calls it and any
-00024060: 7468 696e 6720 656c 7365 2062 6173 6564  thing else based
-00024070: 206f 6e20 7061 7261 6d73 0a20 2020 2061   on params.    a
-00024080: 7379 6e63 2064 6566 2061 6464 5f64 6576  sync def add_dev
-00024090: 6963 6573 280a 2020 2020 2020 2020 7365  ices(.        se
-000240a0: 6c66 2c0a 2020 2020 2020 2020 6d61 635f  lf,.        mac_
-000240b0: 6164 6472 6573 733a 2073 7472 203d 204e  address: str = N
-000240c0: 6f6e 652c 0a20 2020 2020 2020 2073 6572  one,.        ser
-000240d0: 6961 6c5f 6e75 6d3a 2073 7472 203d 204e  ial_num: str = N
-000240e0: 6f6e 652c 0a20 2020 2020 2020 2067 726f  one,.        gro
-000240f0: 7570 3a20 7374 7220 3d20 4e6f 6e65 2c0a  up: str = None,.
-00024100: 2020 2020 2020 2020 2320 7369 7465 3a20          # site: 
-00024110: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-00024120: 2020 2020 7061 7274 5f6e 756d 3a20 7374      part_num: st
-00024130: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00024140: 2020 6c69 6365 6e73 653a 2055 6e69 6f6e    license: Union
-00024150: 5b73 7472 2c20 4c69 7374 5b73 7472 5d5d  [str, List[str]]
-00024160: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00024170: 2064 6576 6963 655f 6c69 7374 3a20 4c69   device_list: Li
-00024180: 7374 5b44 6963 745b 7374 722c 2073 7472  st[Dict[str, str
-00024190: 5d5d 203d 204e 6f6e 650a 2020 2020 2920  ]] = None.    ) 
-000241a0: 2d3e 2055 6e69 6f6e 5b52 6573 706f 6e73  -> Union[Respons
-000241b0: 652c 204c 6973 745b 5265 7370 6f6e 7365  e, List[Response
-000241c0: 5d5d 3a0a 2020 2020 2020 2020 2222 2241  ]]:.        """A
-000241d0: 6464 2064 6576 6963 6528 7329 2075 7369  dd device(s) usi
-000241e0: 6e67 204d 6163 2061 6e64 2053 6572 6961  ng Mac and Seria
-000241f0: 6c20 6e75 6d62 6572 2028 7061 7274 5f6e  l number (part_n
-00024200: 756d 2061 6c73 6f20 7265 7175 6972 6564  um also required
-00024210: 2066 6f72 2043 6f50 290a 2020 2020 2020   for CoP).      
-00024220: 2020 5769 6c6c 2061 6c73 6f20 7072 652d    Will also pre-
-00024230: 6173 7369 676e 2064 6576 6963 6520 746f  assign device to
-00024240: 2067 726f 7570 2069 6620 7072 6f76 6964   group if provid
-00024250: 6564 0a0a 2020 2020 2020 2020 4569 7468  ed..        Eith
-00024260: 6572 206d 6163 5f61 6464 7265 7373 2061  er mac_address a
-00024270: 6e64 2073 6572 6961 6c5f 6e75 6d20 6f72  nd serial_num or
-00024280: 2064 6576 6963 655f 6c69 7374 2028 7768   device_list (wh
-00024290: 6963 6820 7368 6f75 6c64 2063 6f6e 7461  ich should conta
-000242a0: 696e 2061 2064 6963 7420 7769 7468 206d  in a dict with m
-000242b0: 6163 2073 6572 6961 6c29 2061 7265 2072  ac serial) are r
-000242c0: 6571 7569 7265 642e 0a20 2020 2020 2020  equired..       
-000242d0: 202f 2f20 5573 6564 2062 7920 6164 6420   // Used by add 
-000242e0: 6465 7669 6365 2061 6e64 2062 6174 6368  device and batch
-000242f0: 2061 6464 2064 6576 6963 6573 202f 2f0a   add devices //.
-00024300: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-00024310: 2020 2020 2020 2020 2020 206d 6163 5f61             mac_a
-00024320: 6464 7265 7373 2028 7374 722c 206f 7074  ddress (str, opt
-00024330: 696f 6e61 6c29 3a20 4d41 4320 6164 6472  ional): MAC addr
-00024340: 6573 7320 6f66 2064 6576 6963 6520 746f  ess of device to
-00024350: 2062 6520 6164 6465 640a 2020 2020 2020   be added.      
-00024360: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-00024370: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00024380: 3a20 5365 7269 616c 206e 756d 6265 7220  : Serial number 
-00024390: 6f66 2064 6576 6963 6520 746f 2062 6520  of device to be 
-000243a0: 6164 6465 640a 2020 2020 2020 2020 2020  added.          
-000243b0: 2020 6772 6f75 7020 2873 7472 2c20 6f70    group (str, op
-000243c0: 7469 6f6e 616c 293a 2041 6464 2064 6576  tional): Add dev
-000243d0: 6963 6520 746f 2070 7265 2d70 726f 7669  ice to pre-provi
-000243e0: 7369 6f6e 6564 2067 726f 7570 2028 6164  sioned group (ad
-000243f0: 6469 7469 6f6e 616c 2041 5049 2063 616c  ditional API cal
-00024400: 6c20 6973 206d 6164 6529 0a20 2020 2020  l is made).     
-00024410: 2020 2020 2020 2073 6974 6520 2869 6e74         site (int
-00024420: 2c20 6f70 7469 6f6e 616c 293a 202d 2d20  , optional): -- 
-00024430: 4e6f 7420 696d 706c 656d 656e 7465 6420  Not implemented 
-00024440: 2d2d 2053 6974 6520 4944 0a20 2020 2020  -- Site ID.     
-00024450: 2020 2020 2020 2070 6172 745f 6e75 6d20         part_num 
-00024460: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00024470: 2050 6172 7420 4e75 6d62 6572 2069 7320   Part Number is 
-00024480: 7265 7175 6972 6564 2066 6f72 2043 656e  required for Cen
-00024490: 7472 616c 204f 6e20 5072 656d 2e0a 2020  tral On Prem..  
-000244a0: 2020 2020 2020 2020 2020 6c69 6365 6e73            licens
-000244b0: 6520 2873 7472 7c4c 6973 7428 7374 7229  e (str|List(str)
-000244c0: 2c20 6f70 7469 6f6e 616c 293a 2054 6865  , optional): The
-000244d0: 2073 7562 7363 7269 7074 696f 6e20 6c69   subscription li
-000244e0: 6365 6e73 6528 7329 2074 6f20 6173 7369  cense(s) to assi
-000244f0: 676e 2e0a 2020 2020 2020 2020 2020 2020  gn..            
-00024500: 6465 7669 6365 5f6c 6973 7420 284c 6973  device_list (Lis
-00024510: 745b 4469 6374 5b73 7472 2c20 7374 725d  t[Dict[str, str]
-00024520: 5d2c 206f 7074 696f 6e61 6c29 3a20 4c69  ], optional): Li
-00024530: 7374 206f 6620 6469 6374 7320 7769 7468  st of dicts with
-00024540: 206d 6163 2c20 7365 7269 616c 2066 6f72   mac, serial for
-00024550: 2065 6163 6820 6465 7669 6365 0a20 2020   each device.   
-00024560: 2020 2020 2020 2020 2020 2020 2061 6e64               and
-00024570: 206f 7074 696f 6e61 6c6c 7920 6772 6f75   optionally grou
-00024580: 702c 2070 6172 745f 6e75 6d2c 206c 6963  p, part_num, lic
-00024590: 656e 7365 2c0a 0a20 2020 2020 2020 2052  ense,..        R
-000245a0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-000245b0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000245c0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-000245d0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-000245e0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-000245f0: 203d 2022 2f70 6c61 7466 6f72 6d2f 6465   = "/platform/de
-00024600: 7669 6365 5f69 6e76 656e 746f 7279 2f76  vice_inventory/v
-00024610: 312f 6465 7669 6365 7322 0a20 2020 2020  1/devices".     
-00024620: 2020 206c 6963 656e 7365 5f6b 7761 7267     license_kwarg
-00024630: 7320 3d20 5b5d 0a0a 2020 2020 2020 2020  s = []..        
-00024640: 6966 206c 6963 656e 7365 3a0a 2020 2020  if license:.    
-00024650: 2020 2020 2020 2020 6c69 6365 6e73 655f          license_
-00024660: 6b77 6172 6773 203d 205b 7b22 7365 7269  kwargs = [{"seri
-00024670: 616c 7322 3a20 5b73 6572 6961 6c5f 6e75  als": [serial_nu
-00024680: 6d5d 2c20 2273 6572 7669 6365 7322 3a20  m], "services": 
-00024690: 7574 696c 732e 6c69 7374 6966 7928 6c69  utils.listify(li
-000246a0: 6365 6e73 6529 7d5d 0a20 2020 2020 2020  cense)}].       
-000246b0: 2069 6620 7365 7269 616c 5f6e 756d 2061   if serial_num a
-000246c0: 6e64 206d 6163 5f61 6464 7265 7373 3a0a  nd mac_address:.
-000246d0: 2020 2020 2020 2020 2020 2020 6966 2064              if d
-000246e0: 6576 6963 655f 6c69 7374 3a0a 2020 2020  evice_list:.    
-000246f0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00024700: 6520 5661 6c75 6545 7272 6f72 2822 7365  e ValueError("se
-00024710: 7269 616c 5f6e 756d 2061 6e64 206d 6163  rial_num and mac
-00024720: 5f61 6464 7265 7373 2061 7265 206e 6f74  _address are not
-00024730: 2065 7870 6563 7465 6420 7768 656e 2064   expected when d
-00024740: 6576 6963 655f 6c69 7374 2069 7320 6265  evice_list is be
-00024750: 696e 6720 7072 6f76 6964 6564 2e22 290a  ing provided.").
-00024760: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
-00024770: 6772 6f75 7020 3d20 4e6f 6e65 2069 6620  group = None if 
-00024780: 6e6f 7420 6772 6f75 7020 656c 7365 207b  not group else {
-00024790: 6772 6f75 703a 205b 7365 7269 616c 5f6e  group: [serial_n
-000247a0: 756d 5d7d 0a20 2020 2020 2020 2020 2020  um]}.           
-000247b0: 2023 2074 6f5f 7369 7465 203d 204e 6f6e   # to_site = Non
-000247c0: 6520 6966 206e 6f74 2073 6974 6520 656c  e if not site el
-000247d0: 7365 207b 7369 7465 3a20 5b73 6572 6961  se {site: [seria
-000247e0: 6c5f 6e75 6d5d 7d0a 0a20 2020 2020 2020  l_num]}..       
-000247f0: 2020 2020 206d 6163 203d 2075 7469 6c73       mac = utils
-00024800: 2e4d 6163 286d 6163 5f61 6464 7265 7373  .Mac(mac_address
-00024810: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00024820: 206e 6f74 206d 6163 3a0a 2020 2020 2020   not mac:.      
-00024830: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00024840: 5661 6c75 6545 7272 6f72 2866 226d 6163  ValueError(f"mac
-00024850: 5f61 6464 7265 7373 207b 6d61 635f 6164  _address {mac_ad
-00024860: 6472 6573 737d 2061 7070 6561 7273 2074  dress} appears t
-00024870: 6f20 6265 2069 6e76 616c 6964 2e22 290a  o be invalid.").
-00024880: 0a20 2020 2020 2020 2020 2020 206a 736f  .            jso
-00024890: 6e5f 6461 7461 203d 205b 0a20 2020 2020  n_data = [.     
-000248a0: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-000248b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000248c0: 2022 6d61 6322 3a20 6d61 632e 636f 6c73   "mac": mac.cols
-000248d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000248e0: 2020 2020 2020 2273 6572 6961 6c22 3a20        "serial": 
-000248f0: 7365 7269 616c 5f6e 756d 0a20 2020 2020  serial_num.     
-00024900: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
-00024910: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-00024920: 2020 2020 2020 2069 6620 7061 7274 5f6e         if part_n
-00024930: 756d 3a0a 2020 2020 2020 2020 2020 2020  um:.            
-00024940: 2020 2020 6a73 6f6e 5f64 6174 615b 305d      json_data[0]
-00024950: 5b22 7061 7274 4e75 6d62 6572 225d 203d  ["partNumber"] =
-00024960: 2070 6172 745f 6e75 6d0a 0a20 2020 2020   part_num..     
-00024970: 2020 2065 6c69 6620 6465 7669 6365 5f6c     elif device_l
-00024980: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
-00024990: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-000249a0: 6365 2864 6576 6963 655f 6c69 7374 2c20  ce(device_list, 
-000249b0: 6c69 7374 2920 616e 6420 6e6f 7420 616c  list) and not al
-000249c0: 6c28 6973 696e 7374 616e 6365 2864 2c20  l(isinstance(d, 
-000249d0: 6469 6374 2920 666f 7220 6420 696e 2064  dict) for d in d
-000249e0: 6576 6963 655f 6c69 7374 293a 0a20 2020  evice_list):.   
-000249f0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00024a00: 7365 2056 616c 7565 4572 726f 7228 2257  se ValueError("W
-00024a10: 6865 6e20 7573 696e 6720 6465 7669 6365  hen using device
-00024a20: 5f6c 6973 7420 746f 2062 6174 6368 2061  _list to batch a
-00024a30: 6464 2064 6576 6963 6573 2c20 7468 6579  dd devices, they
-00024a40: 2073 686f 756c 6420 6265 2070 726f 7669   should be provi
-00024a50: 6465 6420 6173 2061 206c 6973 7420 6f66  ded as a list of
-00024a60: 2064 6963 7473 2229 0a0a 2020 2020 2020   dicts")..      
-00024a70: 2020 2020 2020 5f6b 6579 7320 3d20 7b0a        _keys = {.
-00024a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024a90: 226d 6163 5f61 6464 7265 7373 223a 2022  "mac_address": "
-00024aa0: 6d61 6322 2c0a 2020 2020 2020 2020 2020  mac",.          
-00024ab0: 2020 2020 2020 2273 6572 6961 6c5f 6e75        "serial_nu
-00024ac0: 6d22 3a20 2273 6572 6961 6c22 2c0a 2020  m": "serial",.  
-00024ad0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-00024ae0: 6172 745f 6e75 6d22 3a20 2270 6172 744e  art_num": "partN
-00024af0: 756d 6265 7222 0a20 2020 2020 2020 2020  umber".         
-00024b00: 2020 207d 0a0a 2020 2020 2020 2020 2020     }..          
-00024b10: 2020 6a73 6f6e 5f64 6174 6120 3d20 5b5d    json_data = []
-00024b20: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00024b30: 2064 2069 6e20 6465 7669 6365 5f6c 6973   d in device_lis
-00024b40: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00024b50: 2020 206d 6163 203d 2064 2e67 6574 2822     mac = d.get("
-00024b60: 6d61 6322 2c20 642e 6765 7428 226d 6163  mac", d.get("mac
-00024b70: 5f61 6464 7265 7373 2229 290a 2020 2020  _address")).    
-00024b80: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00024b90: 6f74 206d 6163 3a0a 2020 2020 2020 2020  ot mac:.        
-00024ba0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00024bb0: 6520 5661 6c75 6545 7272 6f72 2866 224e  e ValueError(f"N
-00024bc0: 6f20 4d61 6320 4164 6472 6573 7320 666f  o Mac Address fo
-00024bd0: 756e 6420 666f 7220 656e 7472 7920 7b64  und for entry {d
-00024be0: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
-00024bf0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00024c00: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-00024c10: 6320 3d20 7574 696c 732e 4d61 6328 6d61  c = utils.Mac(ma
-00024c20: 6329 0a20 2020 2020 2020 2020 2020 2020  c).             
-00024c30: 2020 2020 2020 2069 6620 6e6f 7420 6d61         if not ma
-00024c40: 633a 0a20 2020 2020 2020 2020 2020 2020  c:.             
-00024c50: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00024c60: 2056 616c 7565 4572 726f 7228 6622 4d61   ValueError(f"Ma
-00024c70: 6320 4164 6472 6573 7320 7b6d 6163 7d20  c Address {mac} 
-00024c80: 6170 7065 6172 7320 746f 2062 6520 696e  appears to be in
-00024c90: 7661 6c69 642e 2229 0a20 2020 2020 2020  valid.").       
-00024ca0: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-00024cb0: 3d20 642e 6765 7428 2273 6572 6961 6c22  = d.get("serial"
-00024cc0: 2c20 642e 6765 7428 2273 6572 6961 6c5f  , d.get("serial_
-00024cd0: 6e75 6d22 2929 0a20 2020 2020 2020 2020  num")).         
-00024ce0: 2020 2020 2020 205f 7468 6973 5f64 6963         _this_dic
-00024cf0: 7420 3d20 7b22 6d61 6322 3a20 6d61 632e  t = {"mac": mac.
-00024d00: 636f 6c73 2c20 2273 6572 6961 6c22 3a20  cols, "serial": 
-00024d10: 7365 7269 616c 7d0a 2020 2020 2020 2020  serial}.        
-00024d20: 2020 2020 2020 2020 7061 7274 5f6e 756d          part_num
-00024d30: 203d 2064 2e67 6574 2822 7061 7274 5f6e   = d.get("part_n
-00024d40: 756d 222c 2064 2e67 6574 2822 7061 7274  um", d.get("part
-00024d50: 4e75 6d62 6572 2229 290a 2020 2020 2020  Number")).      
-00024d60: 2020 2020 2020 2020 2020 6966 2070 6172            if par
-00024d70: 745f 6e75 6d3a 0a20 2020 2020 2020 2020  t_num:.         
-00024d80: 2020 2020 2020 2020 2020 205f 7468 6973             _this
-00024d90: 5f64 6963 745b 2270 6172 744e 756d 6265  _dict["partNumbe
-00024da0: 7222 5d20 3d20 7061 7274 5f6e 756d 0a0a  r"] = part_num..
-00024db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024dc0: 6a73 6f6e 5f64 6174 6120 2b3d 205b 5f74  json_data += [_t
-00024dd0: 6869 735f 6469 6374 5d0a 0a20 2020 2020  his_dict]..     
-00024de0: 2020 2020 2020 2074 6f5f 6772 6f75 7020         to_group 
-00024df0: 3d20 7b64 2e67 6574 2822 6772 6f75 7022  = {d.get("group"
-00024e00: 293a 205b 5d20 666f 7220 6420 696e 2064  ): [] for d in d
-00024e10: 6576 6963 655f 6c69 7374 2069 6620 2267  evice_list if "g
-00024e20: 726f 7570 2220 696e 2064 7d0a 2020 2020  roup" in d}.    
-00024e30: 2020 2020 2020 2020 666f 7220 6420 696e          for d in
-00024e40: 2064 6576 6963 655f 6c69 7374 3a0a 2020   device_list:.  
-00024e50: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00024e60: 2022 6772 6f75 7022 2069 6e20 643a 0a20   "group" in d:. 
-00024e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e80: 2020 2074 6f5f 6772 6f75 705b 645b 2267     to_group[d["g
-00024e90: 726f 7570 225d 5d2e 6170 7065 6e64 2864  roup"]].append(d
-00024ea0: 2e67 6574 2822 7365 7269 616c 5f6e 756d  .get("serial_num
-00024eb0: 222c 2064 2e67 6574 2822 7365 7269 616c  ", d.get("serial
-00024ec0: 2229 2929 0a0a 2020 2020 2020 2020 2020  ")))..          
-00024ed0: 2020 2320 746f 5f73 6974 6520 3d20 7b64    # to_site = {d
-00024ee0: 2e67 6574 2822 7369 7465 2229 3a20 5b5d  .get("site"): []
-00024ef0: 2066 6f72 2064 2069 6e20 6465 7669 6365   for d in device
-00024f00: 5f6c 6973 7420 6966 2022 7369 7465 2220  _list if "site" 
-00024f10: 696e 2064 7d0a 2020 2020 2020 2020 2020  in d}.          
-00024f20: 2020 2320 666f 7220 6420 696e 2064 6576    # for d in dev
-00024f30: 6963 655f 6c69 7374 3a0a 2020 2020 2020  ice_list:.      
-00024f40: 2020 2020 2020 2320 2020 2020 6966 2022        #     if "
-00024f50: 7369 7465 2220 696e 2064 3a0a 2020 2020  site" in d:.    
-00024f60: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00024f70: 2020 746f 5f73 6974 655b 645b 2273 6974    to_site[d["sit
-00024f80: 6522 5d5d 2e61 7070 656e 6428 642e 6765  e"]].append(d.ge
-00024f90: 7428 2273 6572 6961 6c5f 6e75 6d22 2c20  t("serial_num", 
-00024fa0: 642e 6765 7428 2273 6572 6961 6c22 2929  d.get("serial"))
-00024fb0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-00024fc0: 2047 6174 6865 7220 616c 6c20 7365 7269   Gather all seri
-00024fd0: 616c 7320 666f 7220 6561 6368 206c 6963  als for each lic
-00024fe0: 656e 7365 2063 6f6d 6269 6e61 7469 6f6e  ense combination
-00024ff0: 2066 726f 6d20 6465 7669 6365 5f6c 6973   from device_lis
-00025000: 740a 2020 2020 2020 2020 2020 2020 2320  t.            # 
-00025010: 544f 444f 2074 6869 7320 6e65 6564 7320  TODO this needs 
-00025020: 746f 2062 6520 7465 7374 6564 0a20 2020  to be tested.   
-00025030: 2020 2020 2020 2020 205f 6c69 635f 6b77           _lic_kw
-00025040: 6172 6773 203d 207b 7d0a 2020 2020 2020  args = {}.      
-00025050: 2020 2020 2020 666f 7220 6420 696e 2064        for d in d
-00025060: 6576 6963 655f 6c69 7374 3a0a 2020 2020  evice_list:.    
-00025070: 2020 2020 2020 2020 2020 2020 6966 2022              if "
-00025080: 6c69 6365 6e73 6522 206e 6f74 2069 6e20  license" not in 
-00025090: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
-000250a0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-000250b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000250c0: 2064 5b22 6c69 6365 6e73 6522 5d20 3d20   d["license"] = 
-000250d0: 7574 696c 732e 6c69 7374 6966 7928 645b  utils.listify(d[
-000250e0: 226c 6963 656e 7365 225d 290a 2020 2020  "license"]).    
-000250f0: 2020 2020 2020 2020 2020 2020 5f6b 6579              _key
-00025100: 203d 2066 227b 645b 276c 6963 656e 7365   = f"{d['license
-00025110: 275d 2069 6620 6c65 6e28 645b 276c 6963  '] if len(d['lic
-00025120: 656e 7365 275d 2920 3d3d 2031 2065 6c73  ense']) == 1 els
-00025130: 6520 277c 272e 6a6f 696e 2873 6f72 7465  e '|'.join(sorte
-00025140: 6428 645b 276c 6963 656e 7365 275d 2929  d(d['license']))
-00025150: 7d22 0a20 2020 2020 2020 2020 2020 2020  }".             
-00025160: 2020 205f 7365 7269 616c 203d 2064 2e67     _serial = d.g
-00025170: 6574 2822 7365 7269 616c 5f6e 756d 222c  et("serial_num",
-00025180: 2064 2e67 6574 2822 7365 7269 616c 2229   d.get("serial")
-00025190: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000251a0: 2020 6966 206e 6f74 205f 7365 7269 616c    if not _serial
-000251b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000251c0: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-000251d0: 6545 7272 6f72 2866 224e 6f20 7365 7269  eError(f"No seri
-000251e0: 616c 2066 6f75 6e64 2066 6f72 2064 6576  al found for dev
-000251f0: 6963 653a 207b 647d 2229 0a0a 2020 2020  ice: {d}")..    
-00025200: 2020 2020 2020 2020 2020 2020 6966 205f              if _
-00025210: 6b65 7920 696e 205f 6c69 635f 6b77 6172  key in _lic_kwar
-00025220: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00025230: 2020 2020 2020 2020 5f6c 6963 5f6b 7761          _lic_kwa
-00025240: 7267 735b 5f6b 6579 5d5b 2273 6572 6961  rgs[_key]["seria
-00025250: 6c73 225d 202b 3d20 7574 696c 732e 6c69  ls"] += utils.li
-00025260: 7374 6966 7928 5f73 6572 6961 6c29 0a20  stify(_serial). 
-00025270: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00025280: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00025290: 2020 2020 2020 2020 205f 6c69 635f 6b77           _lic_kw
-000252a0: 6172 6773 5b5f 6b65 795d 203d 207b 0a20  args[_key] = {. 
-000252b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252c0: 2020 2020 2020 2022 7365 7276 6963 6573         "services
-000252d0: 223a 2075 7469 6c73 2e6c 6973 7469 6679  ": utils.listify
-000252e0: 2864 5b22 6c69 6365 6e73 6522 5d29 2c0a  (d["license"]),.
-000252f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025300: 2020 2020 2020 2020 2273 6572 6961 6c73          "serials
-00025310: 223a 2075 7469 6c73 2e6c 6973 7469 6679  ": utils.listify
-00025320: 285f 7365 7269 616c 290a 2020 2020 2020  (_serial).      
-00025330: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
-00025340: 2020 2020 2020 2020 2020 2020 6c69 6365              lice
-00025350: 6e73 655f 6b77 6172 6773 203d 206c 6973  nse_kwargs = lis
-00025360: 7428 5f6c 6963 5f6b 7761 7267 732e 7661  t(_lic_kwargs.va
-00025370: 6c75 6573 2829 290a 0a20 2020 2020 2020  lues())..       
-00025380: 2020 2020 2023 206c 6963 656e 7365 5f61       # license_a
-00025390: 7267 7320 3d20 5b5b 5d2c 205b 5d5d 0a20  rgs = [[], []]. 
-000253a0: 2020 2020 2020 2020 2020 2023 2062 795f             # by_
-000253b0: 7365 7220 3d20 7b64 5b22 7365 7269 616c  ser = {d["serial
-000253c0: 5f6e 756d 225d 3a20 7574 696c 732e 6c69  _num"]: utils.li
-000253d0: 7374 6966 7928 642e 6765 7428 226c 6963  stify(d.get("lic
-000253e0: 656e 7365 2229 2920 666f 7220 6420 696e  ense")) for d in
-000253f0: 2064 6576 6963 655f 6c69 7374 2069 6620   device_list if 
-00025400: 642e 6765 7428 226c 6963 656e 7365 2229  d.get("license")
-00025410: 7d0a 2020 2020 2020 2020 2020 2020 2320  }.            # 
-00025420: 544f 444f 206d 6f73 7420 6566 6669 6369  TODO most effici
-00025430: 656e 7420 7061 6972 696e 6720 6f66 2070  ent pairing of p
-00025440: 6f73 7369 626c 6520 6c69 632f 6465 7620  ossible lic/dev 
-00025450: 666f 7220 6665 7765 7374 2063 616c 6c0a  for fewest call.
-00025460: 2020 2020 2020 2020 2020 2020 2320 544f              # TO
-00025470: 444f 206c 6963 656e 7365 2076 6961 206c  DO license via l
-00025480: 6973 7420 6e6f 7420 696d 706c 656d 656e  ist not implemen
-00025490: 7465 6420 7965 742e 0a0a 2020 2020 2020  ted yet...      
-000254a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000254b0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-000254c0: 7272 6f72 2822 6d61 635f 6164 6472 6573  rror("mac_addres
-000254d0: 7320 616e 6420 7365 7269 616c 5f6e 756d  s and serial_num
-000254e0: 206f 7220 6465 7669 6365 5f6c 6973 7420   or device_list 
-000254f0: 6973 2072 6571 7569 7265 6422 290a 0a20  is required").. 
-00025500: 2020 2020 2020 2023 2050 6572 666f 726d         # Perform
-00025510: 2041 5049 2063 616c 6c28 7329 2074 6f20   API call(s) to 
-00025520: 4365 6e74 7261 6c20 4150 4920 4757 0a20  Central API GW. 
-00025530: 2020 2020 2020 2023 2054 4f44 4f20 6272         # TODO br
-00025540: 6561 6b20 6f75 7420 7468 6520 6164 6420  eak out the add 
-00025550: 6465 7669 6365 2063 616c 6c20 696e 746f  device call into
-00025560: 2069 7427 7320 6f77 6e20 6d65 7468 6f64   it's own method
-00025570: 2e0a 2020 2020 2020 2020 6966 2074 6f5f  ..        if to_
-00025580: 6772 6f75 7020 6f72 206c 6963 656e 7365  group or license
-00025590: 5f6b 7761 7267 733a 0a20 2020 2020 2020  _kwargs:.       
-000255a0: 2020 2020 2023 2041 6464 2064 6576 6963       # Add devic
-000255b0: 6573 2074 6f20 6365 6e74 7261 6c2e 2020  es to central.  
-000255c0: 3120 4150 4920 6361 6c6c 2066 6f72 2031  1 API call for 1
-000255d0: 206f 7220 6d61 6e79 2064 6576 6963 6573   or many devices
-000255e0: 2e0a 2020 2020 2020 2020 2020 2020 6272  ..            br
-000255f0: 203d 2073 656c 662e 4261 7463 6852 6571   = self.BatchReq
-00025600: 7565 7374 0a20 2020 2020 2020 2020 2020  uest.           
-00025610: 2072 6571 7320 3d20 5b0a 2020 2020 2020   reqs = [.      
-00025620: 2020 2020 2020 2020 2020 6272 2873 656c            br(sel
-00025630: 662e 706f 7374 2c20 7572 6c2c 206a 736f  f.post, url, jso
-00025640: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-00025650: 292c 0a20 2020 2020 2020 2020 2020 205d  ),.            ]
-00025660: 0a20 2020 2020 2020 2020 2020 2023 2041  .            # A
-00025670: 7373 6967 6e20 6465 7669 6365 7320 746f  ssign devices to
-00025680: 2070 7265 2d70 726f 7669 7369 6f6e 6564   pre-provisioned
-00025690: 2067 726f 7570 2e20 2031 2041 5049 2063   group.  1 API c
-000256a0: 616c 6c20 7065 7220 6772 6f75 700a 2020  all per group.  
-000256b0: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
-000256c0: 2074 6573 7420 7468 6174 2074 6869 7320   test that this 
-000256d0: 6973 2031 2041 5049 2063 616c 6c20 7065  is 1 API call pe
-000256e0: 7220 6772 6f75 702e 0a20 2020 2020 2020  r group..       
-000256f0: 2020 2020 2069 6620 746f 5f67 726f 7570       if to_group
-00025700: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025710: 2020 6772 6f75 705f 7265 7173 203d 205b    group_reqs = [
-00025720: 6272 2873 656c 662e 7072 6570 726f 7669  br(self.preprovi
-00025730: 7369 6f6e 5f64 6576 6963 655f 746f 5f67  sion_device_to_g
-00025740: 726f 7570 2c20 2867 2c20 6465 7673 2929  roup, (g, devs))
-00025750: 2066 6f72 2067 2c20 6465 7673 2069 6e20   for g, devs in 
-00025760: 746f 5f67 726f 7570 2e69 7465 6d73 2829  to_group.items()
-00025770: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00025780: 2020 7265 7173 203d 205b 2a72 6571 732c    reqs = [*reqs,
-00025790: 202a 6772 6f75 705f 7265 7173 5d0a 0a20   *group_reqs].. 
-000257a0: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-000257b0: 4f20 596f 7520 6361 6e20 6164 6420 7468  O You can add th
-000257c0: 6520 6465 7669 6365 2074 6f20 6120 7369  e device to a si
-000257d0: 7465 2061 6674 6572 2069 7427 7320 6265  te after it's be
-000257e0: 656e 2070 7265 2d61 7373 6967 6e65 640a  en pre-assigned.
-000257f0: 2020 2020 2020 2020 2020 2020 2320 6966              # if
-00025800: 2074 6f5f 7369 7465 3a0a 2020 2020 2020   to_site:.      
-00025810: 2020 2020 2020 2320 2020 2020 7369 7465        #     site
-00025820: 5f72 6571 7320 3d20 5b62 7228 7365 6c66  _reqs = [br(self
-00025830: 2e6d 6f76 655f 6465 7669 6365 735f 746f  .move_devices_to
-00025840: 5f73 6974 652c 2028 732c 2064 6576 732c  _site, (s, devs,
-00025850: 2022 6777 2229 2920 666f 7220 732c 2064   "gw")) for s, d
-00025860: 6576 7320 696e 2074 6f5f 7369 7465 2e69  evs in to_site.i
-00025870: 7465 6d73 2829 5d0a 2020 2020 2020 2020  tems()].        
-00025880: 2020 2020 2320 2020 2020 7265 7173 203d      #     reqs =
-00025890: 205b 2a72 6571 732c 202a 7369 7465 5f72   [*reqs, *site_r
-000258a0: 6571 735d 0a0a 2020 2020 2020 2020 2020  eqs]..          
-000258b0: 2020 2320 4173 7369 676e 206c 6963 656e    # Assign licen
-000258c0: 7365 2074 6f20 6465 7669 6365 732e 2020  se to devices.  
-000258d0: 3120 4150 4920 6361 6c6c 2066 6f72 2061  1 API call for a
-000258e0: 6c6c 2064 6576 6963 6573 2077 6974 6820  ll devices with 
-000258f0: 7361 6d65 2063 6f6d 6269 6e61 7469 6f6e  same combination
-00025900: 206f 6620 6c69 6365 6e73 6573 0a20 2020   of licenses.   
-00025910: 2020 2020 2020 2020 2069 6620 6c69 6365           if lice
-00025920: 6e73 655f 6b77 6172 6773 3a0a 2020 2020  nse_kwargs:.    
-00025930: 2020 2020 2020 2020 2020 2020 6c69 635f              lic_
-00025940: 7265 7173 203d 205b 6272 2873 656c 662e  reqs = [br(self.
-00025950: 6173 7369 676e 5f6c 6963 656e 7365 732c  assign_licenses,
-00025960: 202a 2a6b 7761 7267 7329 2066 6f72 206b   **kwargs) for k
-00025970: 7761 7267 7320 696e 206c 6963 656e 7365  wargs in license
-00025980: 5f6b 7761 7267 735d 0a20 2020 2020 2020  _kwargs].       
-00025990: 2020 2020 2020 2020 2072 6571 7320 3d20           reqs = 
-000259a0: 5b2a 7265 7173 2c20 2a6c 6963 5f72 6571  [*reqs, *lic_req
-000259b0: 735d 0a0a 2020 2020 2020 2020 2020 2020  s]..            
-000259c0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-000259d0: 662e 5f62 6174 6368 5f72 6571 7565 7374  f._batch_request
-000259e0: 2872 6571 732c 2063 6f6e 7469 6e75 655f  (reqs, continue_
-000259f0: 6f6e 5f66 6169 6c3d 5472 7565 290a 2020  on_fail=True).  
-00025a00: 2020 2020 2020 2320 656c 6966 2074 6f5f        # elif to_
-00025a10: 7369 7465 3a0a 2020 2020 2020 2020 2320  site:.        # 
-00025a20: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-00025a30: 7272 6f72 2822 5369 7465 2063 616e 206f  rror("Site can o
-00025a40: 6e6c 7920 6265 2070 7265 2d61 7373 6967  nly be pre-assig
-00025a50: 6e65 6420 6966 2064 6576 6963 6520 6973  ned if device is
-00025a60: 2070 7265 2d70 726f 7669 7369 6f6e 6564   pre-provisioned
-00025a70: 2074 6f20 6120 6772 6f75 7022 290a 2020   to a group").  
-00025a80: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00025a90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00025aa0: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
-00025ab0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-00025ac0: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
-00025ad0: 796e 6320 6465 6620 636f 705f 6465 6c65  ync def cop_dele
-00025ae0: 7465 5f64 6576 6963 655f 6672 6f6d 5f69  te_device_from_i
-00025af0: 6e76 656e 746f 7279 280a 2020 2020 2020  nventory(.      
-00025b00: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00025b10: 6465 7669 6365 733a 204c 6973 745b 7374  devices: List[st
-00025b20: 725d 203d 204e 6f6e 652c 0a20 2020 2029  r] = None,.    )
-00025b30: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-00025b40: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
-00025b50: 6465 7669 6365 7320 7573 696e 6720 5365  devices using Se
-00025b60: 7269 616c 206e 756d 6265 722e 2020 4f6e  rial number.  On
-00025b70: 6c79 2061 7070 6c69 6573 2074 6f20 436f  ly applies to Co
-00025b80: 5020 6465 706c 6f79 6d65 6e74 732e 0a0a  P deployments...
-00025b90: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00025ba0: 2020 2020 2020 2020 2020 6465 7669 6365            device
-00025bb0: 7320 286c 6973 742c 206f 7074 696f 6e61  s (list, optiona
-00025bc0: 6c29 3a20 4c69 7374 206f 6620 6465 7669  l): List of devi
-00025bd0: 6365 7320 746f 2062 6520 6465 6c65 7465  ces to be delete
-00025be0: 6420 6672 6f6d 0a20 2020 2020 2020 2020  d from.         
-00025bf0: 2020 2020 2020 2047 7265 656e 4c61 6b65         GreenLake
-00025c00: 2069 6e76 656e 746f 7279 2e20 204f 6e6c   inventory.  Onl
-00025c10: 7920 6170 706c 6965 7320 746f 2043 6f50  y applies to CoP
-00025c20: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00025c30: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00025c40: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00025c50: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00025c60: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00025c70: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00025c80: 706c 6174 666f 726d 2f64 6576 6963 655f  platform/device_
-00025c90: 696e 7665 6e74 6f72 792f 7631 2f64 6576  inventory/v1/dev
-00025ca0: 6963 6573 220a 0a20 2020 2020 2020 2064  ices"..        d
-00025cb0: 6576 6963 6573 203d 205b 7b22 7365 7269  evices = [{"seri
-00025cc0: 616c 223a 2073 6572 6961 6c7d 2066 6f72  al": serial} for
-00025cd0: 2073 6572 6961 6c20 696e 2064 6576 6963   serial in devic
-00025ce0: 6573 5d0a 0a20 2020 2020 2020 2072 6574  es]..        ret
-00025cf0: 7572 6e20 6177 6169 7420 7365 6c66 2e64  urn await self.d
-00025d00: 656c 6574 6528 7572 6c2c 206a 736f 6e5f  elete(url, json_
-00025d10: 6461 7461 3d64 6576 6963 6573 290a 0a20  data=devices).. 
-00025d20: 2020 2023 2054 4f44 4f20 6d61 7962 6520     # TODO maybe 
-00025d30: 6865 6c70 6572 206d 6574 686f 6420 746f  helper method to
-00025d40: 2064 656c 6574 655f 6465 7669 6365 2074   delete_device t
-00025d50: 6861 7420 6361 6c6c 7320 7468 6573 650a  hat calls these.
-00025d60: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
-00025d70: 6c65 7465 5f67 6174 6577 6179 280a 2020  lete_gateway(.  
-00025d80: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00025d90: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
-00025da0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00025db0: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
-00025dc0: 656c 6574 6520 4761 7465 7761 792e 0a0a  elete Gateway...
-00025dd0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00025de0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-00025df0: 2028 7374 7229 3a20 5365 7269 616c 204e   (str): Serial N
-00025e00: 756d 6265 7220 6f66 2047 6174 6577 6179  umber of Gateway
-00025e10: 2074 6f20 6265 2064 656c 6574 6564 0a0a   to be deleted..
-00025e20: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00025e30: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00025e40: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00025e50: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00025e60: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00025e70: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
-00025e80: 6f6e 6974 6f72 696e 672f 7632 2f6d 6f62  onitoring/v2/mob
-00025e90: 696c 6974 795f 636f 6e74 726f 6c6c 6572  ility_controller
-00025ea0: 732f 7b73 6572 6961 6c7d 2220 6966 2063  s/{serial}" if c
-00025eb0: 6f6e 6669 672e 6973 5f63 6f70 2065 6c73  onfig.is_cop els
-00025ec0: 6520 6622 2f6d 6f6e 6974 6f72 696e 672f  e f"/monitoring/
-00025ed0: 7631 2f67 6174 6577 6179 732f 7b73 6572  v1/gateways/{ser
-00025ee0: 6961 6c7d 220a 0a20 2020 2020 2020 2072  ial}"..        r
-00025ef0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00025f00: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-00025f10: 2020 6173 796e 6320 6465 6620 6465 6c65    async def dele
-00025f20: 7465 5f73 7769 7463 6828 0a20 2020 2020  te_switch(.     
-00025f30: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00025f40: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
-00025f50: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00025f60: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
-00025f70: 7465 2053 7769 7463 682e 0a0a 2020 2020  te Switch...    
-00025f80: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00025f90: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-00025fa0: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
-00025fb0: 7220 6f66 2073 7769 7463 6820 746f 2062  r of switch to b
-00025fc0: 6520 6465 6c65 7465 640a 0a20 2020 2020  e deleted..     
-00025fd0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00025fe0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00025ff0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00026000: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00026010: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00026020: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-00026030: 7269 6e67 2f76 312f 7377 6974 6368 6573  ring/v1/switches
-00026040: 2f7b 7365 7269 616c 7d22 0a0a 2020 2020  /{serial}"..    
-00026050: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00026060: 2073 656c 662e 6465 6c65 7465 2875 726c   self.delete(url
-00026070: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00026080: 2064 656c 6574 655f 7374 6163 6b28 0a20   delete_stack(. 
-00026090: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-000260a0: 2020 2020 2073 7461 636b 5f69 643a 2073       stack_id: s
-000260b0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-000260c0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-000260d0: 2222 4465 6c65 7465 2053 7769 7463 6820  ""Delete Switch 
-000260e0: 5374 6163 6b2e 0a0a 2020 2020 2020 2020  Stack...        
-000260f0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00026100: 2020 7374 6163 6b5f 6964 2028 7374 7229    stack_id (str)
-00026110: 3a20 4669 6c74 6572 2062 7920 5377 6974  : Filter by Swit
-00026120: 6368 2073 7461 636b 5f69 640a 0a20 2020  ch stack_id..   
-00026130: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00026140: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00026150: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00026160: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00026170: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00026180: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-00026190: 746f 7269 6e67 2f76 312f 7377 6974 6368  toring/v1/switch
-000261a0: 5f73 7461 636b 732f 7b73 7461 636b 5f69  _stacks/{stack_i
-000261b0: 647d 220a 0a20 2020 2020 2020 2072 6574  d}"..        ret
-000261c0: 7572 6e20 6177 6169 7420 7365 6c66 2e64  urn await self.d
-000261d0: 656c 6574 6528 7572 6c29 0a0a 2020 2020  elete(url)..    
-000261e0: 6173 796e 6320 6465 6620 6465 6c65 7465  async def delete
-000261f0: 5f61 7028 0a20 2020 2020 2020 2073 656c  _ap(.        sel
-00026200: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
-00026210: 6c3a 2073 7472 2c0a 2020 2020 2920 2d3e  l: str,.    ) ->
-00026220: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00026230: 2020 2022 2222 4465 6c65 7465 2041 502e     """Delete AP.
-00026240: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00026250: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-00026260: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
-00026270: 204e 756d 6265 7220 6f66 2041 5020 746f   Number of AP to
-00026280: 2062 6520 6465 6c65 7465 640a 0a20 2020   be deleted..   
-00026290: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000262a0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000262b0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-000262c0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-000262d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000262e0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-000262f0: 746f 7269 6e67 2f76 312f 6170 732f 7b73  toring/v1/aps/{s
-00026300: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
-00026310: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00026320: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
-00026330: 2020 2020 6173 796e 6320 6465 6620 7072      async def pr
-00026340: 6570 726f 7669 7369 6f6e 5f64 6576 6963  eprovision_devic
-00026350: 655f 746f 5f67 726f 7570 280a 2020 2020  e_to_group(.    
-00026360: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00026370: 2020 6772 6f75 705f 6e61 6d65 3a20 7374    group_name: st
-00026380: 722c 0a20 2020 2020 2020 2073 6572 6961  r,.        seria
-00026390: 6c5f 6e75 6d73 3a20 4c69 7374 5b73 7472  l_nums: List[str
-000263a0: 5d20 7c20 7374 722c 0a20 2020 2020 2020  ] | str,.       
-000263b0: 2074 656e 616e 745f 6964 3a20 7374 7220   tenant_id: str 
-000263c0: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-000263d0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000263e0: 2020 2022 2222 5072 6520 5072 6f76 6973     """Pre Provis
-000263f0: 696f 6e20 6120 6772 6f75 7020 746f 2074  ion a group to t
-00026400: 6865 2064 6576 6963 652e 0a0a 2020 2020  he device...    
-00026410: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00026420: 2020 2020 2020 6465 7669 6365 5f69 6420        device_id 
-00026430: 284c 6973 745b 7374 725d 293a 2064 6576  (List[str]): dev
-00026440: 6963 655f 6964 0a20 2020 2020 2020 2020  ice_id.         
-00026450: 2020 2067 726f 7570 5f6e 616d 6520 2873     group_name (s
-00026460: 7472 293a 2047 726f 7570 206e 616d 650a  tr): Group name.
-00026470: 2020 2020 2020 2020 2020 2020 7465 6e61              tena
-00026480: 6e74 5f69 6420 2873 7472 293a 2054 656e  nt_id (str): Ten
-00026490: 616e 7420 6964 2c20 286f 6e6c 7920 6170  ant id, (only ap
-000264a0: 706c 6963 6162 6c65 2077 6974 6820 4d53  plicable with MS
-000264b0: 5020 6d6f 6465 290a 0a20 2020 2020 2020  P mode)..       
-000264c0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000264d0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000264e0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000264f0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00026500: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00026510: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-00026520: 7469 6f6e 2f76 312f 7072 6561 7373 6967  tion/v1/preassig
-00026530: 6e22 0a0a 2020 2020 2020 2020 6a73 6f6e  n"..        json
-00026540: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-00026550: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
-00026560: 273a 2075 7469 6c73 2e6c 6973 7469 6679  ': utils.listify
-00026570: 2873 6572 6961 6c5f 6e75 6d73 292c 0a20  (serial_nums),. 
-00026580: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
-00026590: 705f 6e61 6d65 273a 2067 726f 7570 5f6e  p_name': group_n
-000265a0: 616d 652c 0a20 2020 2020 2020 207d 0a0a  ame,.        }..
-000265b0: 2020 2020 2020 2020 6966 2074 656e 616e          if tenan
-000265c0: 745f 6964 2069 7320 6e6f 7420 4e6f 6e65  t_id is not None
-000265d0: 3a0a 2020 2020 2020 2020 2020 2020 6a73  :.            js
-000265e0: 6f6e 5f64 6174 615b 2274 656e 616e 745f  on_data["tenant_
-000265f0: 6964 225d 203d 2073 7472 2874 656e 616e  id"] = str(tenan
-00026600: 745f 6964 290a 0a20 2020 2020 2020 2072  t_id)..        r
-00026610: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00026620: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00026630: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-00026640: 0a20 2020 2023 2054 4f44 4f20 7665 7269  .    # TODO veri
-00026650: 6679 2074 7970 652d 6869 6e74 2066 6f72  fy type-hint for
-00026660: 2064 6576 6963 655f 6c69 7374 2069 7320   device_list is 
-00026670: 7468 6520 7269 6768 7420 7761 7920 746f  the right way to
-00026680: 2064 6f20 7468 6174 2e0a 2020 2020 6173   do that..    as
-00026690: 796e 6320 6465 6620 7665 7269 6679 5f64  ync def verify_d
-000266a0: 6576 6963 655f 6164 6469 7469 6f6e 280a  evice_addition(.
-000266b0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-000266c0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-000266d0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-000266e0: 2020 2020 2020 6d61 635f 6164 6472 6573        mac_addres
-000266f0: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
-00026700: 2020 2020 2020 2064 6576 6963 655f 6c69         device_li
-00026710: 7374 3a20 4c69 7374 5b44 6963 745b 4c69  st: List[Dict[Li
-00026720: 7465 7261 6c5b 226d 6163 5f61 6464 7265  teral["mac_addre
-00026730: 7373 222c 2022 7365 7269 616c 5f6e 756d  ss", "serial_num
-00026740: 225d 2c20 7374 725d 5d20 3d20 5b5d 0a20  "], str]] = []. 
-00026750: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-00026760: 3a0a 2020 2020 2020 2020 2222 2256 6572  :.        """Ver
-00026770: 6966 7920 4465 7669 6365 2041 6464 6974  ify Device Addit
-00026780: 696f 6e0a 0a20 2020 2020 2020 2041 7267  ion..        Arg
-00026790: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-000267a0: 6572 6961 6c5f 6e75 6d20 2873 7472 2c20  erial_num (str, 
-000267b0: 6f70 7469 6f6e 616c 293a 2053 6572 6961  optional): Seria
-000267c0: 6c20 4e75 6d62 6572 206f 6620 6465 7669  l Number of devi
-000267d0: 6365 2074 6f20 7665 7269 6679 2e20 4465  ce to verify. De
-000267e0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-000267f0: 2020 2020 2020 2020 2020 2020 6d61 635f              mac_
-00026800: 6164 6472 6573 7320 2873 7472 2c20 6f70  address (str, op
-00026810: 7469 6f6e 616c 293a 204d 6163 2041 6464  tional): Mac Add
-00026820: 7265 7373 206f 6620 6465 7669 6365 2074  ress of device t
-00026830: 6f20 7665 7269 6679 2e20 4465 6661 756c  o verify. Defaul
-00026840: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00026850: 2020 2020 2020 2020 6465 7669 6365 5f6c          device_l
-00026860: 6973 7420 284c 6973 745b 4469 6374 5b4c  ist (List[Dict[L
-00026870: 6974 6572 616c 5b2c 206f 7074 696f 6e61  iteral[, optiona
-00026880: 6c29 3a20 6465 7669 6365 5f6c 6973 7420  l): device_list 
-00026890: 6c69 7374 206f 6620 6469 6374 7320 7769  list of dicts wi
-000268a0: 7468 0a20 2020 2020 2020 2020 2020 2020  th.             
-000268b0: 2020 2022 7365 7269 616c 5f6e 756d 2220     "serial_num" 
-000268c0: 616e 6420 226d 6163 5f61 6464 7265 7373  and "mac_address
-000268d0: 2220 666f 7220 6561 6368 2064 6576 6963  " for each devic
-000268e0: 6520 746f 2076 6572 6966 792e 2044 6566  e to verify. Def
-000268f0: 6175 6c74 7320 746f 204e 6f6e 652e 0a0a  aults to None...
-00026900: 2020 2020 2020 2020 4d75 7374 2070 726f          Must pro
-00026910: 7669 6465 2073 6572 6961 6c5f 6e75 6d20  vide serial_num 
-00026920: 616e 6420 6d61 635f 6164 6472 6573 7320  and mac_address 
-00026930: 666f 7220 6561 6368 2064 6576 6963 6520  for each device 
-00026940: 6569 7468 6572 2076 6961 206b 6579 776f  either via keywo
-00026950: 7264 2061 7267 756d 656e 7420 6f72 206c  rd argument or l
-00026960: 6973 742e 0a0a 2020 2020 2020 2020 5265  ist...        Re
-00026970: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00026980: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00026990: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000269a0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000269b0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-000269c0: 3d20 222f 706c 6174 666f 726d 2f64 6576  = "/platform/dev
-000269d0: 6963 655f 696e 7665 6e74 6f72 792f 7631  ice_inventory/v1
-000269e0: 2f64 6576 6963 6573 2f76 6572 6966 7922  /devices/verify"
-000269f0: 0a20 2020 2020 2020 2069 6620 7365 7269  .        if seri
-00026a00: 616c 5f6e 756d 2061 6e64 206d 6163 5f61  al_num and mac_a
-00026a10: 6464 7265 7373 3a0a 2020 2020 2020 2020  ddress:.        
-00026a20: 2020 2020 6465 7669 6365 5f6c 6973 7420      device_list 
-00026a30: 2b3d 207b 0a20 2020 2020 2020 2020 2020  += {.           
-00026a40: 2020 2020 2022 7365 7269 616c 5f6e 756d       "serial_num
-00026a50: 223a 2073 6572 6961 6c5f 6e75 6d2c 0a20  ": serial_num,. 
-00026a60: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026a70: 6d61 635f 6164 6472 6573 7322 3a20 6d61  mac_address": ma
-00026a80: 635f 6164 6472 6573 732c 0a20 2020 2020  c_address,.     
-00026a90: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00026aa0: 2020 6966 206e 6f74 2064 6576 6963 655f    if not device_
-00026ab0: 6c69 7374 3a0a 2020 2020 2020 2020 2020  list:.          
-00026ac0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
-00026ad0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00026ae0: 2020 2020 2249 6e76 616c 6964 2070 6172      "Invalid par
-00026af0: 616d 6574 6572 7320 6578 7065 6374 696e  ameters expectin
-00026b00: 6720 7365 7269 616c 5f6e 756d 2061 6e64  g serial_num and
-00026b10: 206d 6163 5f61 6464 7265 7373 2066 6f72   mac_address for
-00026b20: 2065 6163 6820 6465 7669 6365 2022 0a20   each device ". 
-00026b30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026b40: 6569 7468 6572 2076 6961 206b 6579 776f  either via keywo
-00026b50: 7264 2061 7267 756d 656e 7420 6f72 204c  rd argument or L
-00026b60: 6973 745b 6469 6374 5d2e 220a 2020 2020  ist[dict].".    
-00026b70: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00026b80: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00026b90: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-00026ba0: 736f 6e5f 6461 7461 3d64 6576 6963 655f  son_data=device_
-00026bb0: 6c69 7374 290a 0a20 2020 2061 7379 6e63  list)..    async
-00026bc0: 2064 6566 2075 706c 6f61 645f 6365 7274   def upload_cert
-00026bd0: 6966 6963 6174 6528 0a20 2020 2020 2020  ificate(.       
-00026be0: 2073 656c 662c 0a20 2020 2020 2020 2070   self,.        p
-00026bf0: 6173 7370 6872 6173 653a 2073 7472 203d  assphrase: str =
-00026c00: 2022 222c 0a20 2020 2020 2020 2063 6572   "",.        cer
-00026c10: 745f 6669 6c65 3a20 556e 696f 6e5b 7374  t_file: Union[st
-00026c20: 722c 2050 6174 685d 203d 204e 6f6e 652c  r, Path] = None,
-00026c30: 0a20 2020 2020 2020 2063 6572 745f 6e61  .        cert_na
-00026c40: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
-00026c50: 2020 2020 2020 2020 6365 7274 5f66 6f72          cert_for
-00026c60: 6d61 743a 204c 6974 6572 616c 5b22 5045  mat: Literal["PE
-00026c70: 4d22 2c20 2244 4552 222c 2022 504b 4353  M", "DER", "PKCS
-00026c80: 3132 225d 203d 204e 6f6e 652c 0a20 2020  12"] = None,.   
-00026c90: 2020 2020 2063 6572 745f 6461 7461 3a20       cert_data: 
-00026ca0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00026cb0: 2020 2020 7365 7276 6572 5f63 6572 743a      server_cert:
-00026cc0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-00026cd0: 2020 2020 2020 2063 615f 6365 7274 3a20         ca_cert: 
-00026ce0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00026cf0: 2020 2020 2020 6372 6c3a 2062 6f6f 6c20        crl: bool 
-00026d00: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00026d10: 2069 6e74 5f63 615f 6365 7274 3a20 626f   int_ca_cert: bo
-00026d20: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00026d30: 2020 2020 6f63 7370 5f72 6573 705f 6365      ocsp_resp_ce
-00026d40: 7274 3a20 626f 6f6c 203d 2046 616c 7365  rt: bool = False
-00026d50: 2c0a 2020 2020 2020 2020 6f63 7370 5f73  ,.        ocsp_s
-00026d60: 6967 6e65 725f 6365 7274 3a20 626f 6f6c  igner_cert: bool
-00026d70: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00026d80: 2020 7373 685f 7075 625f 6b65 793a 2062    ssh_pub_key: b
-00026d90: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00026da0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00026db0: 2020 2020 2020 2020 2222 2255 706c 6f61          """Uploa
-00026dc0: 6420 6120 6365 7274 6966 6963 6174 652e  d a certificate.
-00026dd0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00026de0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-00026df0: 7068 7261 7365 2028 7374 7229 3a20 7061  phrase (str): pa
-00026e00: 7373 7068 7261 7365 0a20 2020 2020 2020  ssphrase.       
-00026e10: 2020 2020 2063 6572 745f 6669 6c65 2028       cert_file (
-00026e20: 5061 7468 7c73 7472 2c20 6f70 7469 6f6e  Path|str, option
-00026e30: 616c 293a 2043 6572 7420 6669 6c65 2074  al): Cert file t
-00026e40: 6f20 7570 6c6f 6164 2c20 6966 2066 696c  o upload, if fil
-00026e50: 6520 6973 2070 726f 7669 6465 6420 6365  e is provided ce
-00026e60: 7274 5f6e 616d 650a 2020 2020 2020 2020  rt_name.        
-00026e70: 2020 2020 2020 2020 616e 6420 6365 7274          and cert
-00026e80: 5f66 6f72 6d61 7420 7769 6c6c 2062 6520  _format will be 
-00026e90: 6465 7269 7665 6420 6672 6f6d 2066 696c  derived from fil
-00026ea0: 6520 6e61 6d65 202f 2065 7874 656e 7369  e name / extensi
-00026eb0: 6f6e 2c20 756e 6c65 7373 2074 686f 7365  on, unless those
-00026ec0: 2070 6172 616d 730a 2020 2020 2020 2020   params.        
-00026ed0: 2020 2020 2020 2020 6172 6520 616c 736f          are also
-00026ee0: 2070 726f 7669 6465 642e 0a20 2020 2020   provided..     
-00026ef0: 2020 2020 2020 2063 6572 745f 6e61 6d65         cert_name
-00026f00: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00026f10: 3a20 5468 6520 6e61 6d65 206f 6620 7468  : The name of th
-00026f20: 6520 6365 7274 6966 6963 6174 652e 0a20  e certificate.. 
-00026f30: 2020 2020 2020 2020 2020 2063 6572 745f             cert_
-00026f40: 666f 726d 6174 2028 4c69 7465 7261 6c5b  format (Literal[
-00026f50: 2250 454d 222c 2022 4445 5222 2c20 2250  "PEM", "DER", "P
-00026f60: 4b43 5331 3222 5d2c 206f 7074 696f 6e61  KCS12"], optiona
-00026f70: 6c29 3a20 6365 7274 5f66 6f72 6d61 7420  l): cert_format 
-00026f80: 2056 616c 6964 2056 616c 7565 733a 2050   Valid Values: P
-00026f90: 454d 2c20 4445 522c 2050 4b43 5331 320a  EM, DER, PKCS12.
-00026fa0: 2020 2020 2020 2020 2020 2020 6365 7274              cert
-00026fb0: 5f64 6174 6120 2873 7472 2c20 6f70 7469  _data (str, opti
-00026fc0: 6f6e 616c 293a 2043 6572 7469 6669 6361  onal): Certifica
-00026fd0: 7465 2063 6f6e 7465 6e74 2065 6e63 6f64  te content encod
-00026fe0: 6564 2069 6e20 6261 7365 3634 2066 6f72  ed in base64 for
-00026ff0: 2061 6c6c 2066 6f72 6d61 7420 6365 7274   all format cert
-00027000: 6966 6963 6174 6573 2e0a 2020 2020 2020  ificates..      
-00027010: 2020 2020 2020 7365 7276 6572 5f63 6572        server_cer
-00027020: 7420 2862 6f6f 6c2c 206f 7074 696f 6e61  t (bool, optiona
-00027030: 6c29 3a20 5365 7420 746f 2054 7275 6520  l): Set to True 
-00027040: 6966 2063 6572 7420 6973 2061 2073 6572  if cert is a ser
-00027050: 7665 7220 6365 7274 6966 6963 6174 652e  ver certificate.
-00027060: 2044 6566 6175 6c74 7320 746f 2046 616c   Defaults to Fal
-00027070: 7365 2e0a 2020 2020 2020 2020 2020 2020  se..            
-00027080: 6361 5f63 6572 7420 2862 6f6f 6c2c 206f  ca_cert (bool, o
-00027090: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
-000270a0: 2054 7275 6520 6966 2063 6572 7420 6973   True if cert is
-000270b0: 2061 2043 4120 4365 7274 6966 6963 6174   a CA Certificat
-000270c0: 652e 2044 6566 6175 6c74 7320 746f 2046  e. Defaults to F
-000270d0: 616c 7365 2e0a 2020 2020 2020 2020 2020  alse..          
-000270e0: 2020 6372 6c20 2862 6f6f 6c2c 206f 7074    crl (bool, opt
-000270f0: 696f 6e61 6c29 3a20 5365 7420 746f 2054  ional): Set to T
-00027100: 7275 6520 6966 2064 6174 6120 6973 2061  rue if data is a
-00027110: 2063 6572 7469 6669 6361 7465 2072 6576   certificate rev
-00027120: 6f63 6174 696f 6e20 6c69 7374 2e20 4465  ocation list. De
-00027130: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
-00027140: 0a20 2020 2020 2020 2020 2020 2069 6e74  .            int
-00027150: 5f63 615f 6365 7274 2028 626f 6f6c 2c20  _ca_cert (bool, 
-00027160: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-00027170: 6f20 5472 7565 2069 6620 6365 7274 6966  o True if certif
-00027180: 6963 6174 6520 6973 2061 6e20 696e 7465  icate is an inte
-00027190: 726d 6564 6961 7465 2043 4120 6365 7274  rmediate CA cert
-000271a0: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
-000271b0: 6c73 652e 0a20 2020 2020 2020 2020 2020  lse..           
-000271c0: 206f 6373 705f 7265 7370 5f63 6572 7420   ocsp_resp_cert 
-000271d0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-000271e0: 3a20 5365 7420 746f 2054 7275 6520 6966  : Set to True if
-000271f0: 2063 6572 7469 6669 6361 7465 2069 7320   certificate is 
-00027200: 616e 204f 4353 5020 7265 7370 6f6e 6465  an OCSP responde
-00027210: 7220 6365 7274 2e20 4465 6661 756c 7473  r cert. Defaults
-00027220: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
-00027230: 2020 2020 2020 206f 6373 705f 7369 676e         ocsp_sign
-00027240: 6572 5f63 6572 7420 2862 6f6f 6c2c 206f  er_cert (bool, o
-00027250: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
-00027260: 2054 7275 6520 6966 2063 6572 7469 6669   True if certifi
-00027270: 6361 7465 2069 7320 616e 204f 4353 5020  cate is an OCSP 
-00027280: 7369 676e 6572 2063 6572 742e 2044 6566  signer cert. Def
-00027290: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
-000272a0: 2020 2020 2020 2020 2020 2020 7373 685f              ssh_
-000272b0: 7075 625f 6b65 7920 2862 6f6f 6c2c 206f  pub_key (bool, o
-000272c0: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
-000272d0: 2054 7275 6520 6966 2063 6572 7469 6669   True if certifi
-000272e0: 6361 7465 2069 7320 616e 2053 5348 2050  cate is an SSH P
-000272f0: 7562 206b 6579 2e20 4465 6661 756c 7473  ub key. Defaults
-00027300: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
-00027310: 2020 2020 2020 2020 2020 2073 7368 5f70             ssh_p
-00027320: 7562 5f6b 6579 206e 6565 6473 2074 6f20  ub_key needs to 
-00027330: 6265 2069 6e20 5045 4d20 666f 726d 6174  be in PEM format
-00027340: 2c20 7373 682d 7273 6120 6973 206e 6f74  , ssh-rsa is not
-00027350: 2073 7570 706f 7274 6564 2e0a 0a20 2020   supported...   
-00027360: 2020 2020 2052 6169 7365 733a 0a20 2020       Raises:.   
-00027370: 2020 2020 2020 2020 2056 616c 7565 4572           ValueEr
-00027380: 726f 723a 2052 6169 7365 6420 6966 2069  ror: Raised if i
-00027390: 6e76 616c 6964 2063 6f6d 6269 6e61 7469  nvalid combinati
-000273a0: 6f6e 206f 6620 6172 6775 6d65 6e74 7320  on of arguments 
-000273b0: 6973 2070 726f 7669 6465 642e 0a0a 2020  is provided...  
-000273c0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-000273d0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000273e0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-000273f0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00027400: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00027410: 2020 2020 2320 4150 492d 464c 4157 2041      # API-FLAW A
-00027420: 5049 206d 6574 686f 642c 2050 5542 4c49  PI method, PUBLI
-00027430: 435f 4345 5254 2069 7320 6e6f 7420 6163  C_CERT is not ac
-00027440: 6365 7074 6564 0a20 2020 2020 2020 2075  cepted.        u
-00027450: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-00027460: 7469 6f6e 2f76 312f 6365 7274 6966 6963  tion/v1/certific
-00027470: 6174 6573 220a 2020 2020 2020 2020 7661  ates".        va
-00027480: 6c69 645f 7479 7065 7320 3d20 5b0a 2020  lid_types = [.  
-00027490: 2020 2020 2020 2020 2020 2253 4552 5645            "SERVE
-000274a0: 525f 4345 5254 222c 0a20 2020 2020 2020  R_CERT",.       
-000274b0: 2020 2020 2022 4341 5f43 4552 5422 2c0a       "CA_CERT",.
-000274c0: 2020 2020 2020 2020 2020 2020 2243 524c              "CRL
-000274d0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-000274e0: 494e 5445 524d 4544 4941 5445 5f43 4122  INTERMEDIATE_CA"
-000274f0: 2c0a 2020 2020 2020 2020 2020 2020 224f  ,.            "O
-00027500: 4353 505f 5245 5350 4f4e 4445 525f 4345  CSP_RESPONDER_CE
-00027510: 5254 222c 0a20 2020 2020 2020 2020 2020  RT",.           
-00027520: 2022 4f43 5350 5f53 4947 4e45 525f 4345   "OCSP_SIGNER_CE
-00027530: 5254 222c 0a20 2020 2020 2020 2020 2020  RT",.           
-00027540: 2022 5055 424c 4943 5f43 4552 5422 0a20   "PUBLIC_CERT". 
-00027550: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00027560: 2074 7970 655f 7661 7273 203d 205b 7365   type_vars = [se
-00027570: 7276 6572 5f63 6572 742c 2063 615f 6365  rver_cert, ca_ce
-00027580: 7274 2c20 6372 6c2c 2069 6e74 5f63 615f  rt, crl, int_ca_
-00027590: 6365 7274 2c20 6f63 7370 5f72 6573 705f  cert, ocsp_resp_
-000275a0: 6365 7274 2c20 6f63 7370 5f73 6967 6e65  cert, ocsp_signe
-000275b0: 725f 6365 7274 2c20 7373 685f 7075 625f  r_cert, ssh_pub_
-000275c0: 6b65 795d 0a20 2020 2020 2020 2069 6620  key].        if 
-000275d0: 7479 7065 5f76 6172 732e 636f 756e 7428  type_vars.count(
-000275e0: 5472 7565 2920 3e20 313a 0a20 2020 2020  True) > 1:.     
-000275f0: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-00027600: 7565 4572 726f 7228 2250 726f 7669 6465  ueError("Provide
-00027610: 6420 636f 6e66 6c69 6374 696e 6720 6365  d conflicting ce
-00027620: 7274 6966 6963 6174 6520 7479 7065 732c  rtificate types,
-00027630: 206f 6e6c 7920 3120 7368 6f75 6c64 2062   only 1 should b
-00027640: 6520 7365 7420 746f 2054 7275 652e 2229  e set to True.")
-00027650: 0a20 2020 2020 2020 2065 6c69 6620 616c  .        elif al
-00027660: 6c28 5b6e 6f74 2062 6f6f 6c28 7661 7229  l([not bool(var)
-00027670: 2066 6f72 2076 6172 2069 6e20 7479 7065   for var in type
-00027680: 5f76 6172 735d 293a 0a20 2020 2020 2020  _vars]):.       
-00027690: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-000276a0: 4572 726f 7228 224e 6f20 6365 7274 5f74  Error("No cert_t
-000276b0: 7970 6520 7072 6f76 6964 6564 2c20 6f6e  ype provided, on
-000276c0: 6520 6f66 2074 6865 2063 6572 745f 7479  e of the cert_ty
-000276d0: 7065 7320 7368 6f75 6c64 2062 6520 7365  pes should be se
-000276e0: 7420 746f 2054 7275 6522 290a 0a20 2020  t to True")..   
-000276f0: 2020 2020 2069 6620 6365 7274 5f66 6f72       if cert_for
-00027700: 6d61 7420 616e 6420 6365 7274 5f66 6f72  mat and cert_for
-00027710: 6d61 742e 7570 7065 7228 2920 6e6f 7420  mat.upper() not 
-00027720: 696e 205b 2250 454d 222c 2022 4445 5222  in ["PEM", "DER"
-00027730: 2c20 2250 4b43 5331 3222 5d3a 0a20 2020  , "PKCS12"]:.   
-00027740: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-00027750: 616c 7565 4572 726f 7228 6622 496e 7661  alueError(f"Inva
-00027760: 6c69 6420 6365 7274 5f66 6f72 6d61 7420  lid cert_format 
-00027770: 7b63 6572 745f 666f 726d 6174 7d2c 2076  {cert_format}, v
-00027780: 616c 6964 2076 616c 7565 7320 6172 6520  alid values are 
-00027790: 2750 454d 272c 2027 4445 5227 2c20 2750  'PEM', 'DER', 'P
-000277a0: 4b43 5331 3227 2229 0a20 2020 2020 2020  KCS12'").       
-000277b0: 2065 6c69 6620 6e6f 7420 6365 7274 5f66   elif not cert_f
-000277c0: 6f72 6d61 7420 616e 6420 6e6f 7420 6365  ormat and not ce
-000277d0: 7274 5f66 696c 653a 0a20 2020 2020 2020  rt_file:.       
-000277e0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-000277f0: 4572 726f 7228 2263 6572 745f 666f 726d  Error("cert_form
-00027800: 6174 2069 7320 7265 7175 6972 6564 2077  at is required w
-00027810: 6865 6e20 6e6f 7420 7072 6f76 6964 696e  hen not providin
-00027820: 6720 6365 7274 6966 6963 6174 6520 7669  g certificate vi
-00027830: 6120 6669 6c65 2e22 290a 0a20 2020 2020  a file.")..     
-00027840: 2020 2069 6620 6e6f 7420 6365 7274 5f64     if not cert_d
-00027850: 6174 6120 616e 6420 6e6f 7420 6365 7274  ata and not cert
-00027860: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
-00027870: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-00027880: 726f 7228 224f 6e65 206f 6620 6365 7274  ror("One of cert
-00027890: 5f66 696c 6520 6f72 2063 6572 745f 6461  _file or cert_da
-000278a0: 7461 2073 686f 756c 6420 6265 2070 726f  ta should be pro
-000278b0: 7669 6465 6422 290a 2020 2020 2020 2020  vided").        
-000278c0: 656c 6966 2063 6572 745f 6461 7461 2061  elif cert_data a
-000278d0: 6e64 2063 6572 745f 6669 6c65 3a0a 2020  nd cert_file:.  
-000278e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000278f0: 5661 6c75 6545 7272 6f72 2822 4f6e 6c79  ValueError("Only
-00027900: 206f 6e65 206f 6620 6365 7274 5f66 696c   one of cert_fil
-00027910: 6520 616e 6420 6365 7274 5f64 6174 6120  e and cert_data 
-00027920: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
-00027930: 6564 2229 0a0a 2020 2020 2020 2020 666f  ed")..        fo
-00027940: 7220 6365 7274 5f74 7970 652c 2076 6172  r cert_type, var
-00027950: 2069 6e20 7a69 7028 7661 6c69 645f 7479   in zip(valid_ty
-00027960: 7065 732c 2074 7970 655f 7661 7273 293a  pes, type_vars):
-00027970: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00027980: 7661 723a 0a20 2020 2020 2020 2020 2020  var:.           
-00027990: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
-000279a0: 2020 2020 6966 2063 6572 745f 6669 6c65      if cert_file
-000279b0: 3a0a 2020 2020 2020 2020 2020 2020 6365  :.            ce
-000279c0: 7274 5f66 696c 6520 3d20 5061 7468 2863  rt_file = Path(c
-000279d0: 6572 745f 6669 6c65 2920 6966 206e 6f74  ert_file) if not
-000279e0: 2069 7369 6e73 7461 6e63 6528 6365 7274   isinstance(cert
-000279f0: 5f66 696c 652c 2050 6174 6829 2065 6c73  _file, Path) els
-00027a00: 6520 6365 7274 5f66 696c 650a 2020 2020  e cert_file.    
-00027a10: 2020 2020 2020 2020 6365 7274 5f6e 616d          cert_nam
-00027a20: 6520 3d20 6365 7274 5f6e 616d 6520 6f72  e = cert_name or
-00027a30: 2063 6572 745f 6669 6c65 2e73 7465 6d0a   cert_file.stem.
-00027a40: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00027a50: 6f74 2063 6572 745f 666f 726d 6174 3a0a  ot cert_format:.
-00027a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027a70: 6966 2063 6572 745f 6669 6c65 2e73 7566  if cert_file.suf
-00027a80: 6669 782e 6c6f 7765 7228 2920 696e 205b  fix.lower() in [
-00027a90: 222e 7066 7822 2c20 222e 7031 3222 5d3a  ".pfx", ".p12"]:
-00027aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027ab0: 2020 2020 2063 6572 745f 666f 726d 6174       cert_format
-00027ac0: 203d 2022 504b 4353 3132 220a 2020 2020   = "PKCS12".    
-00027ad0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00027ae0: 2063 6572 745f 6669 6c65 2e73 7566 6669   cert_file.suffi
-00027af0: 782e 6c6f 7765 7228 2920 696e 205b 222e  x.lower() in [".
-00027b00: 7065 6d22 2c20 222e 6365 7222 5d3a 0a20  pem", ".cer"]:. 
-00027b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b20: 2020 2063 6572 745f 666f 726d 6174 203d     cert_format =
-00027b30: 2022 5045 4d22 0a20 2020 2020 2020 2020   "PEM".         
-00027b40: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00027b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b60: 2023 2054 4f44 4f20 6465 7465 726d 696e   # TODO determin
-00027b70: 6520 666f 726d 6174 2075 7369 6e67 2063  e format using c
-00027b80: 7279 7074 6f67 7261 7068 7920 6c69 620a  ryptography lib.
-00027b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027ba0: 2020 2020 6365 7274 5f66 6f72 6d61 7420      cert_format 
-00027bb0: 3d20 2244 4552 220a 2020 2020 2020 2020  = "DER".        
-00027bc0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00027bd0: 2020 2020 2020 2020 2020 6365 7274 5f66            cert_f
-00027be0: 6f72 6d61 7420 3d20 6365 7274 5f66 6f72  ormat = cert_for
-00027bf0: 6d61 742e 7570 7065 7228 290a 0a20 2020  mat.upper()..   
-00027c00: 2020 2020 2020 2020 2063 6572 745f 6461           cert_da
-00027c10: 7461 203d 2063 6572 745f 6669 6c65 2e72  ta = cert_file.r
-00027c20: 6561 645f 7465 7874 2829 0a0a 2020 2020  ead_text()..    
-00027c30: 2020 2020 6365 7274 5f62 7974 6573 203d      cert_bytes =
-00027c40: 2063 6572 745f 6461 7461 2e65 6e63 6f64   cert_data.encod
-00027c50: 6528 2275 7466 2d38 2229 0a20 2020 2020  e("utf-8").     
-00027c60: 2020 2063 6572 745f 6236 3420 3d20 6261     cert_b64 = ba
-00027c70: 7365 3634 2e62 3634 656e 636f 6465 2863  se64.b64encode(c
-00027c80: 6572 745f 6279 7465 7329 2e64 6563 6f64  ert_bytes).decod
-00027c90: 6528 2275 7466 2d38 2229 0a0a 2020 2020  e("utf-8")..    
-00027ca0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-00027cb0: 7b0a 2020 2020 2020 2020 2020 2020 2763  {.            'c
-00027cc0: 6572 745f 6e61 6d65 273a 2063 6572 745f  ert_name': cert_
-00027cd0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-00027ce0: 2020 2763 6572 745f 7479 7065 273a 2063    'cert_type': c
-00027cf0: 6572 745f 7479 7065 2c0a 2020 2020 2020  ert_type,.      
-00027d00: 2020 2020 2020 2763 6572 745f 666f 726d        'cert_form
-00027d10: 6174 273a 2063 6572 745f 666f 726d 6174  at': cert_format
-00027d20: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
-00027d30: 6173 7370 6872 6173 6527 3a20 7061 7373  assphrase': pass
-00027d40: 7068 7261 7365 2c0a 2020 2020 2020 2020  phrase,.        
-00027d50: 2020 2020 2763 6572 745f 6461 7461 273a      'cert_data':
-00027d60: 2063 6572 745f 6236 340a 2020 2020 2020   cert_b64.      
-00027d70: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-00027d80: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
-00027d90: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
-00027da0: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-00027db0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00027dc0: 5f73 7562 7363 7269 7074 696f 6e73 280a  _subscriptions(.
-00027dd0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00027de0: 2020 2020 2020 6c69 6365 6e73 655f 7479        license_ty
-00027df0: 7065 3a20 7374 7220 3d20 4e6f 6e65 2c0a  pe: str = None,.
-00027e00: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
-00027e10: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
-00027e20: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
-00027e30: 3030 2c20 2023 2044 6f65 736e 2774 2061  00,  # Doesn't a
-00027e40: 7070 6561 7220 746f 2068 6176 6520 6d61  ppear to have ma
-00027e50: 782c 2061 6c6c 6f77 6564 2031 306b 206c  x, allowed 10k l
-00027e60: 696d 6974 2069 6e20 7377 6167 6765 720a  imit in swagger.
-00027e70: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00027e80: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-00027e90: 7420 7573 6572 2073 7562 7363 7269 7074  t user subscript
-00027ea0: 696f 6e20 6b65 7973 2e0a 0a20 2020 2020  ion keys...     
-00027eb0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00027ec0: 2020 2020 206c 6963 656e 7365 5f74 7970       license_typ
-00027ed0: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
-00027ee0: 293a 2053 7570 706f 7274 7320 4261 7369  ): Supports Basi
-00027ef0: 632c 2053 6572 7669 6365 2054 6f6b 656e  c, Service Token
-00027f00: 2061 6e64 204d 756c 7469 2054 6965 7220   and Multi Tier 
-00027f10: 6c69 6365 6e73 696e 6720 7479 7065 7320  licensing types 
-00027f20: 6173 2077 656c 6c0a 2020 2020 2020 2020  as well.        
-00027f30: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
-00027f40: 206f 7074 696f 6e61 6c29 3a20 6f66 6673   optional): offs
-00027f50: 6574 206f 7220 7061 6765 206e 756d 6265  et or page numbe
-00027f60: 7220 4465 6661 756c 7473 2074 6f20 302e  r Defaults to 0.
-00027f70: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00027f80: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00027f90: 6c29 3a20 4e75 6d62 6572 206f 6620 7375  l): Number of su
-00027fa0: 6273 6372 6970 7469 6f6e 7320 746f 2067  bscriptions to g
-00027fb0: 6574 2044 6566 6175 6c74 7320 746f 2031  et Defaults to 1
-00027fc0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-00027fd0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00027fe0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00027ff0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00028000: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00028010: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00028020: 2022 2f70 6c61 7466 6f72 6d2f 6c69 6365   "/platform/lice
-00028030: 6e73 696e 672f 7631 2f73 7562 7363 7269  nsing/v1/subscri
-00028040: 7074 696f 6e73 220a 0a20 2020 2020 2020  ptions"..       
-00028050: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-00028060: 2020 2020 2020 2020 276c 6963 656e 7365          'license
-00028070: 5f74 7970 6527 3a20 6c69 6365 6e73 655f  _type': license_
-00028080: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-00028090: 2020 276f 6666 7365 7427 3a20 6f66 6673    'offset': offs
-000280a0: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
-000280b0: 276c 696d 6974 273a 206c 696d 6974 0a20  'limit': limit. 
-000280c0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-000280d0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000280e0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-000280f0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00028100: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
-00028110: 7562 7363 7269 7074 696f 6e5f 7374 6174  ubscription_stat
-00028120: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00028130: 0a20 2020 2020 2020 206c 6963 656e 7365  .        license
-00028140: 5f74 7970 653a 2073 7472 203d 2027 616c  _type: str = 'al
-00028150: 6c27 2c0a 2020 2020 2020 2020 7365 7276  l',.        serv
-00028160: 6963 653a 2073 7472 203d 204e 6f6e 652c  ice: str = None,
-00028170: 0a20 2020 2020 2020 2061 7070 5f6f 6e6c  .        app_onl
-00028180: 795f 7374 6174 733a 2062 6f6f 6c20 3d20  y_stats: bool = 
-00028190: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
-000281a0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-000281b0: 2022 2222 4765 7420 7375 6273 6372 6970   """Get subscrip
-000281c0: 7469 6f6e 2073 7461 7473 2e0a 0a20 2020  tion stats...   
-000281d0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-000281e0: 2020 2020 2020 206c 6963 656e 7365 5f74         license_t
-000281f0: 7970 6520 2873 7472 2c20 6f70 7469 6f6e  ype (str, option
-00028200: 616c 293a 2053 7570 706f 7274 7320 6261  al): Supports ba
-00028210: 7369 632f 7370 6563 6961 6c2f 616c 6c2e  sic/special/all.
-00028220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028230: 2073 7065 6369 616c 202d 2077 696c 6c20   special - will 
-00028240: 6665 7463 6820 7468 6520 7374 6174 6973  fetch the statis
-00028250: 7469 6373 206f 6620 7370 6563 6961 6c20  tics of special 
-00028260: 6365 6e74 7261 6c20 7365 7276 6963 6573  central services
-00028270: 206c 696b 6520 7061 2c20 7563 632c 2063   like pa, ucc, c
-00028280: 6c61 7269 7479 2065 7463 2e0a 2020 2020  larity etc..    
-00028290: 2020 2020 2020 2020 2020 2020 6261 7369              basi
-000282a0: 6320 2d20 7769 6c6c 2066 6574 6368 2074  c - will fetch t
-000282b0: 6865 2073 7461 7469 7374 6963 7320 6f66  he statistics of
-000282c0: 2064 6576 6963 6520 6d61 6e61 6765 6d65   device manageme
-000282d0: 6e74 2073 6572 7669 6365 206c 6963 656e  nt service licen
-000282e0: 7365 732e 0a20 2020 2020 2020 2020 2020  ses..           
-000282f0: 2020 2020 2061 6c6c 202d 2077 696c 6c20       all - will 
-00028300: 6665 7463 6820 626f 7468 206f 6620 7468  fetch both of th
-00028310: 6573 6520 6c69 6365 6e73 6520 7479 7065  ese license type
-00028320: 732e 0a0a 2020 2020 2020 2020 2020 2020  s...            
-00028330: 2020 2020 416c 736f 2073 7570 706f 7274      Also support
-00028340: 7320 6d75 6c74 6920 7469 6572 206c 6963  s multi tier lic
-00028350: 656e 7365 2074 7970 6573 2073 7563 6820  ense types such 
-00028360: 666f 756e 6461 7469 6f6e 5f61 702c 2061  foundation_ap, a
-00028370: 6476 616e 6365 645f 7377 6974 6368 5f36  dvanced_switch_6
-00028380: 3330 302c 0a20 2020 2020 2020 2020 2020  300,.           
-00028390: 2020 2020 2066 6f75 6e64 6174 696f 6e5f       foundation_
-000283a0: 3730 5858 2065 7463 2e0a 0a20 2020 2020  70XX etc...     
-000283b0: 2020 2020 2020 2073 6572 7669 6365 2028         service (
-000283c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-000283d0: 5365 7276 6963 6520 7479 7065 3a20 7061  Service type: pa
-000283e0: 2f70 612c 636c 6172 6974 792c 666f 756e  /pa,clarity,foun
-000283f0: 6461 7469 6f6e 5f61 702c 0a20 2020 2020  dation_ap,.     
-00028400: 2020 2020 2020 2020 2020 2061 6476 616e             advan
-00028410: 6365 645f 7377 6974 6368 5f36 3330 302c  ced_switch_6300,
-00028420: 2066 6f75 6e64 6174 696f 6e5f 3730 5858   foundation_70XX
-00028430: 2020 6574 632e 0a20 2020 2020 2020 2020    etc..         
-00028440: 2020 2061 7070 5f6f 6e6c 795f 7374 6174     app_only_stat
-00028450: 7320 2862 6f6f 6c2c 206f 7074 696f 6e61  s (bool, optiona
-00028460: 6c29 3a20 4966 2076 616c 7565 2069 7320  l): If value is 
-00028470: 5472 7565 2c20 7374 6174 7320 6f6e 6c79  True, stats only
-00028480: 2066 6f72 2074 6865 2063 7572 7265 6e74   for the current
-00028490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000284a0: 2061 7070 6c69 6361 7469 6f6e 2072 6574   application ret
-000284b0: 7572 6e65 6420 7261 7468 6572 2074 6861  urned rather tha
-000284c0: 6e20 676c 6f62 616c 2073 7461 7473 0a0a  n global stats..
-000284d0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000284e0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000284f0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00028500: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00028510: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00028520: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
-00028530: 6174 666f 726d 2f6c 6963 656e 7369 6e67  atform/licensing
-00028540: 2f76 312f 7375 6273 6372 6970 7469 6f6e  /v1/subscription
-00028550: 732f 7374 6174 7322 0a0a 2020 2020 2020  s/stats"..      
-00028560: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00028570: 2020 2020 2020 2020 2027 6c69 6365 6e73           'licens
-00028580: 655f 7479 7065 273a 206c 6963 656e 7365  e_type': license
-00028590: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-000285a0: 2020 2027 7365 7276 6963 6527 3a20 7365     'service': se
-000285b0: 7276 6963 652c 0a20 2020 2020 2020 2020  rvice,.         
-000285c0: 2020 2027 6170 705f 6f6e 6c79 5f73 7461     'app_only_sta
-000285d0: 7473 273a 2061 7070 5f6f 6e6c 795f 7374  ts': app_only_st
-000285e0: 6174 730a 2020 2020 2020 2020 7d0a 0a20  ats.        }.. 
-000285f0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00028600: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00028610: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00028620: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00028630: 6765 745f 7661 6c69 645f 7375 6273 6372  get_valid_subscr
-00028640: 6970 7469 6f6e 5f6e 616d 6573 280a 2020  iption_names(.  
-00028650: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00028660: 2020 2020 7365 7276 6963 655f 6361 7465      service_cate
-00028670: 676f 7279 3a20 7374 7220 3d20 4e6f 6e65  gory: str = None
-00028680: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-00028690: 5f74 7970 653a 2073 7472 203d 204e 6f6e  _type: str = Non
-000286a0: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-000286b0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000286c0: 2247 6574 2056 616c 6964 2073 7562 7363  "Get Valid subsc
-000286d0: 7269 7074 696f 6e20 6e61 6d65 7320 6672  ription names fr
-000286e0: 6f6d 2043 656e 7472 616c 2e0a 0a20 2020  om Central...   
-000286f0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00028700: 2020 2020 2020 2073 6572 7669 6365 5f63         service_c
-00028710: 6174 6567 6f72 7920 2873 7472 2c20 6f70  ategory (str, op
-00028720: 7469 6f6e 616c 293a 2053 6572 7669 6365  tional): Service
-00028730: 2063 6174 6567 6f72 7920 2d20 646d 2f6e   category - dm/n
-00028740: 6574 776f 726b 0a20 2020 2020 2020 2020  etwork.         
-00028750: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
-00028760: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00028770: 4465 7669 6365 2054 7970 6520 2d20 6961  Device Type - ia
-00028780: 702f 6361 702f 7377 6974 6368 2f62 6f63  p/cap/switch/boc
-00028790: 2f63 6f6e 7472 6f6c 6c65 720a 0a20 2020  /controller..   
-000287a0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000287b0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000287c0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-000287d0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-000287e0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000287f0: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
-00028800: 6f72 6d2f 6c69 6365 6e73 696e 672f 7631  orm/licensing/v1
-00028810: 2f73 6572 7669 6365 732f 636f 6e66 6967  /services/config
-00028820: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-00028830: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00028840: 2020 2773 6572 7669 6365 5f63 6174 6567    'service_categ
-00028850: 6f72 7927 3a20 7365 7276 6963 655f 6361  ory': service_ca
-00028860: 7465 676f 7279 2c0a 2020 2020 2020 2020  tegory,.        
-00028870: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
-00028880: 273a 2064 6576 6963 655f 7479 7065 0a20  ': device_type. 
-00028890: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-000288a0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000288b0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-000288c0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-000288d0: 2061 7379 6e63 2064 6566 2061 7373 6967   async def assig
-000288e0: 6e5f 6c69 6365 6e73 6573 2873 656c 662c  n_licenses(self,
-000288f0: 2073 6572 6961 6c73 3a20 556e 696f 6e5b   serials: Union[
-00028900: 7374 722c 204c 6973 745b 7374 725d 5d2c  str, List[str]],
-00028910: 2073 6572 7669 6365 733a 2055 6e69 6f6e   services: Union
-00028920: 5b73 7472 2c20 4c69 7374 5b73 7472 5d5d  [str, List[str]]
-00028930: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00028940: 2020 2020 2020 2022 2222 4173 7369 676e         """Assign
-00028950: 2073 7562 7363 7269 7074 696f 6e20 746f   subscription to
-00028960: 2061 2064 6576 6963 652e 0a0a 2020 2020   a device...    
-00028970: 2020 2020 2f2f 2055 7365 6420 696e 6469      // Used indi
-00028980: 7265 6374 6c79 2062 7920 6164 6420 6465  rectly by add de
-00028990: 7669 6365 2077 6865 6e20 2d2d 6c69 6365  vice when --lice
-000289a0: 6e73 6520 3c6c 6963 656e 7365 3e20 6973  nse <license> is
-000289b0: 2070 726f 7669 6465 6420 616e 6420 6261   provided and ba
-000289c0: 7463 6820 6164 6420 6465 7669 6365 7320  tch add devices 
-000289d0: 7769 7468 206c 6963 656e 7365 202f 2f0a  with license //.
-000289e0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-000289f0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-00028a00: 6c73 2028 7374 7220 7c20 4c69 7374 5b73  ls (str | List[s
-00028a10: 7472 5d29 3a20 4c69 7374 206f 6620 7365  tr]): List of se
-00028a20: 7269 616c 206e 756d 6265 7220 6f66 2064  rial number of d
-00028a30: 6576 6963 652e 0a20 2020 2020 2020 2020  evice..         
-00028a40: 2020 2073 6572 7669 6365 7320 2873 7472     services (str
-00028a50: 207c 204c 6973 745b 7374 725d 293a 204c   | List[str]): L
-00028a60: 6973 7420 6f66 2073 6572 7669 6365 206e  ist of service n
-00028a70: 616d 6573 2e20 4361 6c6c 2073 6572 7669  ames. Call servi
-00028a80: 6365 732f 636f 6e66 6967 2041 5049 2074  ces/config API t
-00028a90: 6f20 6765 7420 7468 6520 6c69 7374 206f  o get the list o
-00028aa0: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
-00028ab0: 2020 7661 6c69 6420 7365 7276 6963 6520    valid service 
-00028ac0: 6e61 6d65 732e 0a0a 2020 2020 2020 2020  names...        
-00028ad0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00028ae0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00028af0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00028b00: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00028b10: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00028b20: 6c20 3d20 222f 706c 6174 666f 726d 2f6c  l = "/platform/l
-00028b30: 6963 656e 7369 6e67 2f76 312f 7375 6273  icensing/v1/subs
-00028b40: 6372 6970 7469 6f6e 732f 6173 7369 676e  criptions/assign
-00028b50: 220a 2020 2020 2020 2020 7365 7269 616c  ".        serial
-00028b60: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
-00028b70: 7928 7365 7269 616c 7329 0a20 2020 2020  y(serials).     
-00028b80: 2020 2073 6572 7669 6365 7320 3d20 7574     services = ut
-00028b90: 696c 732e 6c69 7374 6966 7928 7365 7276  ils.listify(serv
-00028ba0: 6963 6573 290a 0a20 2020 2020 2020 206a  ices)..        j
-00028bb0: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-00028bc0: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
-00028bd0: 7327 3a20 7365 7269 616c 732c 0a20 2020  s': serials,.   
-00028be0: 2020 2020 2020 2020 2027 7365 7276 6963           'servic
-00028bf0: 6573 273a 2073 6572 7669 6365 730a 2020  es': services.  
-00028c00: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-00028c10: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00028c20: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-00028c30: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-00028c40: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00028c50: 2075 6e61 7373 6967 6e5f 6c69 6365 6e73   unassign_licens
-00028c60: 6573 2873 656c 662c 2073 6572 6961 6c73  es(self, serials
-00028c70: 3a20 556e 696f 6e5b 7374 722c 204c 6973  : Union[str, Lis
-00028c80: 745b 7374 725d 5d2c 2073 6572 7669 6365  t[str]], service
-00028c90: 733a 2055 6e69 6f6e 5b73 7472 2c20 4c69  s: Union[str, Li
-00028ca0: 7374 5b73 7472 5d5d 2920 2d3e 2052 6573  st[str]]) -> Res
-00028cb0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00028cc0: 2222 556e 6173 7369 676e 2073 7562 7363  ""Unassign subsc
-00028cd0: 7269 7074 696f 6e28 7329 2066 726f 6d20  ription(s) from 
-00028ce0: 6465 7669 6365 2873 292e 0a0a 2020 2020  device(s)...    
-00028cf0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00028d00: 2020 2020 2020 7365 7269 616c 7320 2873        serials (s
-00028d10: 7472 207c 204c 6973 745b 7374 725d 293a  tr | List[str]):
-00028d20: 204c 6973 7420 6f66 2073 6572 6961 6c20   List of serial 
-00028d30: 6e75 6d62 6572 206f 6620 6465 7669 6365  number of device
-00028d40: 2e0a 2020 2020 2020 2020 2020 2020 7365  ..            se
-00028d50: 7276 6963 6573 2028 7374 7220 7c20 4c69  rvices (str | Li
-00028d60: 7374 5b73 7472 5d29 3a20 4c69 7374 206f  st[str]): List o
-00028d70: 6620 7365 7276 6963 6520 6e61 6d65 732e  f service names.
-00028d80: 2043 616c 6c20 7365 7276 6963 6573 2f63   Call services/c
-00028d90: 6f6e 6669 6720 4150 4920 746f 2067 6574  onfig API to get
-00028da0: 2074 6865 206c 6973 7420 6f66 0a20 2020   the list of.   
-00028db0: 2020 2020 2020 2020 2020 2020 2076 616c               val
-00028dc0: 6964 2073 6572 7669 6365 206e 616d 6573  id service names
-00028dd0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00028de0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00028df0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00028e00: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00028e10: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00028e20: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00028e30: 2f70 6c61 7466 6f72 6d2f 6c69 6365 6e73  /platform/licens
-00028e40: 696e 672f 7631 2f73 7562 7363 7269 7074  ing/v1/subscript
-00028e50: 696f 6e73 2f75 6e61 7373 6967 6e22 0a20  ions/unassign". 
-00028e60: 2020 2020 2020 2073 6572 6961 6c73 203d         serials =
-00028e70: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
-00028e80: 6572 6961 6c73 290a 2020 2020 2020 2020  erials).        
-00028e90: 7365 7276 6963 6573 203d 2075 7469 6c73  services = utils
-00028ea0: 2e6c 6973 7469 6679 2873 6572 7669 6365  .listify(service
-00028eb0: 7329 0a0a 2020 2020 2020 2020 6a73 6f6e  s)..        json
-00028ec0: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-00028ed0: 2020 2020 2020 2773 6572 6961 6c73 273a        'serials':
-00028ee0: 2073 6572 6961 6c73 2c0a 2020 2020 2020   serials,.      
-00028ef0: 2020 2020 2020 2773 6572 7669 6365 7327        'services'
-00028f00: 3a20 7365 7276 6963 6573 0a20 2020 2020  : services.     
-00028f10: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00028f20: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00028f30: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00028f40: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00028f50: 2020 2020 2320 544f 444f 2062 7569 6c64      # TODO build
-00028f60: 2061 6767 7265 6761 746f 7220 746f 2072   aggregator to r
-00028f70: 756e 2072 6570 6f72 7420 7368 6f77 696e  un report showin
-00028f80: 6720 726f 6775 6573 2f69 6e74 6572 6665  g rogues/interfe
-00028f90: 7269 6e67 2f6e 6569 6768 626f 7273 0a20  ring/neighbors. 
-00028fa0: 2020 2023 2061 7379 6e63 2064 6566 2077     # async def w
-00028fb0: 6964 735f 6765 745f 616c 6c28 7365 6c66  ids_get_all(self
-00028fc0: 293a 0a0a 2020 2020 6173 796e 6320 6465  ):..    async de
-00028fd0: 6620 7769 6473 5f67 6574 5f72 6f67 7565  f wids_get_rogue
-00028fe0: 5f61 7073 280a 2020 2020 2020 2020 7365  _aps(.        se
-00028ff0: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
-00029000: 703a 204c 6973 745b 7374 725d 203d 204e  p: List[str] = N
-00029010: 6f6e 652c 0a20 2020 2020 2020 206c 6162  one,.        lab
-00029020: 656c 3a20 4c69 7374 5b73 7472 5d20 3d20  el: List[str] = 
-00029030: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
-00029040: 7465 3a20 4c69 7374 5b73 7472 5d20 3d20  te: List[str] = 
-00029050: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
-00029060: 6172 743a 2069 6e74 203d 204e 6f6e 652c  art: int = None,
-00029070: 0a20 2020 2020 2020 2065 6e64 3a20 696e  .        end: in
-00029080: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-00029090: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
-000290a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000290b0: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
-000290c0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-000290d0: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
-000290e0: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-000290f0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-00029100: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-00029110: 696d 6974 3a20 696e 7420 3d20 3130 300a  imit: int = 100.
-00029120: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00029130: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
-00029140: 7374 2052 6f67 7565 2041 5073 2e0a 0a20  st Rogue APs... 
-00029150: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00029160: 2020 2020 2020 2020 2067 726f 7570 2028           group (
-00029170: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-00029180: 6e61 6c29 3a20 4c69 7374 206f 6620 6772  nal): List of gr
-00029190: 6f75 7020 6e61 6d65 730a 2020 2020 2020  oup names.      
-000291a0: 2020 2020 2020 6c61 6265 6c20 284c 6973        label (Lis
-000291b0: 745b 7374 725d 2c20 6f70 7469 6f6e 616c  t[str], optional
-000291c0: 293a 204c 6973 7420 6f66 206c 6162 656c  ): List of label
-000291d0: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
-000291e0: 2020 2073 6974 6520 284c 6973 745b 7374     site (List[st
-000291f0: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
-00029200: 6973 7420 6f66 2073 6974 6520 6e61 6d65  ist of site name
-00029210: 730a 2020 2020 2020 2020 2020 2020 7374  s.            st
-00029220: 6172 7420 2869 6e74 2c20 6f70 7469 6f6e  art (int, option
-00029230: 616c 293a 204e 6565 6420 696e 666f 726d  al): Need inform
-00029240: 6174 696f 6e20 6672 6f6d 2074 6869 7320  ation from this 
-00029250: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-00029260: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-00029270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029280: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
-00029290: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
-000292a0: 7420 7469 6d65 7374 616d 7020 6d69 6e75  t timestamp minu
-000292b0: 7320 3320 686f 7572 730a 2020 2020 2020  s 3 hours.      
-000292c0: 2020 2020 2020 656e 6420 2869 6e74 2c20        end (int, 
-000292d0: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
-000292e0: 696e 666f 726d 6174 696f 6e20 746f 2074  information to t
-000292f0: 6869 7320 7469 6d65 7374 616d 702e 2054  his timestamp. T
-00029300: 696d 6573 7461 6d70 2069 7320 6570 6f63  imestamp is epoc
-00029310: 6820 696e 0a20 2020 2020 2020 2020 2020  h in.           
-00029320: 2020 2020 206d 696c 6c69 7365 636f 6e64       millisecond
-00029330: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-00029340: 7272 656e 7420 7469 6d65 7374 616d 700a  rrent timestamp.
-00029350: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-00029360: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
-00029370: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00029380: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
-00029390: 2020 2020 2066 726f 6d5f 7469 6d65 7374       from_timest
-000293a0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
-000293b0: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
-000293c0: 7465 7220 7375 7065 7263 6564 6573 2073  ter supercedes s
-000293d0: 7461 7274 2070 6172 616d 6574 6572 2e20  tart parameter. 
-000293e0: 4e65 6564 0a20 2020 2020 2020 2020 2020  Need.           
-000293f0: 2020 2020 2069 6e66 6f72 6d61 7469 6f6e       information
-00029400: 2066 726f 6d20 7468 6973 2074 696d 6573   from this times
-00029410: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
-00029420: 6973 2065 706f 6368 2069 6e20 7365 636f  is epoch in seco
-00029430: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
-00029440: 6375 7272 656e 740a 2020 2020 2020 2020  current.        
-00029450: 2020 2020 2020 2020 5554 4320 7469 6d65          UTC time
-00029460: 7374 616d 7020 6d69 6e75 7320 3320 686f  stamp minus 3 ho
-00029470: 7572 730a 2020 2020 2020 2020 2020 2020  urs.            
-00029480: 746f 5f74 696d 6573 7461 6d70 2028 696e  to_timestamp (in
-00029490: 742c 206f 7074 696f 6e61 6c29 3a20 5468  t, optional): Th
-000294a0: 6973 2070 6172 616d 6574 6572 2073 7570  is parameter sup
-000294b0: 6572 6365 6465 7320 656e 6420 7061 7261  ercedes end para
-000294c0: 6d65 7465 722e 204e 6565 6420 696e 666f  meter. Need info
-000294d0: 726d 6174 696f 6e0a 2020 2020 2020 2020  rmation.        
-000294e0: 2020 2020 2020 2020 746f 2074 6869 7320          to this 
-000294f0: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-00029500: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-00029510: 2073 6563 6f6e 6473 2e20 4465 6661 756c   seconds. Defaul
-00029520: 7420 6973 2063 7572 7265 6e74 2055 5443  t is current UTC
-00029530: 2074 696d 6573 7461 6d70 0a20 2020 2020   timestamp.     
-00029540: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
-00029550: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-00029560: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
-00029570: 2028 6465 6661 756c 7420 3d20 3029 2044   (default = 0) D
-00029580: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
-00029590: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-000295a0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000295b0: 2070 6167 696e 6174 696f 6e20 7369 7a65   pagination size
-000295c0: 2028 6465 6661 756c 7420 3d20 3130 3029   (default = 100)
-000295d0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-000295e0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-000295f0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00029600: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00029610: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00029620: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00029630: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00029640: 2f72 6170 6964 732f 7631 2f72 6f67 7565  /rapids/v1/rogue
-00029650: 5f61 7073 220a 0a20 2020 2020 2020 2070  _aps"..        p
-00029660: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-00029670: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
-00029680: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
-00029690: 2020 276c 6162 656c 273a 206c 6162 656c    'label': label
-000296a0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-000296b0: 6974 6527 3a20 7369 7465 2c0a 2020 2020  ite': site,.    
-000296c0: 2020 2020 2020 2020 2773 7461 7274 273a          'start':
-000296d0: 2073 7461 7274 2c0a 2020 2020 2020 2020   start,.        
-000296e0: 2020 2020 2765 6e64 273a 2065 6e64 2c0a      'end': end,.
-000296f0: 2020 2020 2020 2020 2020 2020 2773 7761              'swa
-00029700: 726d 5f69 6427 3a20 7377 6172 6d5f 6964  rm_id': swarm_id
-00029710: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
-00029720: 726f 6d5f 7469 6d65 7374 616d 7027 3a20  rom_timestamp': 
-00029730: 6672 6f6d 5f74 696d 6573 7461 6d70 2c0a  from_timestamp,.
-00029740: 2020 2020 2020 2020 2020 2020 2774 6f5f              'to_
-00029750: 7469 6d65 7374 616d 7027 3a20 746f 5f74  timestamp': to_t
-00029760: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
-00029770: 2020 2020 2020 276f 6666 7365 7427 3a20        'offset': 
-00029780: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
-00029790: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
-000297a0: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
-000297b0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-000297c0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-000297d0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-000297e0: 0a20 2020 2061 7379 6e63 2064 6566 2077  .    async def w
-000297f0: 6964 735f 6765 745f 696e 7465 7266 6572  ids_get_interfer
-00029800: 696e 675f 6170 7328 0a20 2020 2020 2020  ing_aps(.       
-00029810: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
-00029820: 726f 7570 3a20 4c69 7374 5b73 7472 5d20  roup: List[str] 
-00029830: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00029840: 6c61 6265 6c3a 204c 6973 745b 7374 725d  label: List[str]
-00029850: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00029860: 2073 6974 653a 204c 6973 745b 7374 725d   site: List[str]
-00029870: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00029880: 2073 7461 7274 3a20 696e 7420 3d20 4e6f   start: int = No
-00029890: 6e65 2c0a 2020 2020 2020 2020 656e 643a  ne,.        end:
-000298a0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-000298b0: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-000298c0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000298d0: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-000298e0: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
-000298f0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
-00029900: 616d 703a 2069 6e74 203d 204e 6f6e 652c  amp: int = None,
-00029910: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-00029920: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00029930: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-00029940: 3030 0a20 2020 2029 202d 3e20 5265 7370  00.    ) -> Resp
-00029950: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00029960: 224c 6973 7420 496e 7465 7266 6572 696e  "List Interferin
-00029970: 6720 4150 732e 0a0a 2020 2020 2020 2020  g APs...        
-00029980: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00029990: 2020 6772 6f75 7020 284c 6973 745b 7374    group (List[st
-000299a0: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
-000299b0: 6973 7420 6f66 2067 726f 7570 206e 616d  ist of group nam
-000299c0: 6573 0a20 2020 2020 2020 2020 2020 206c  es.            l
-000299d0: 6162 656c 2028 4c69 7374 5b73 7472 5d2c  abel (List[str],
-000299e0: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
-000299f0: 206f 6620 6c61 6265 6c20 6e61 6d65 730a   of label names.
-00029a00: 2020 2020 2020 2020 2020 2020 7369 7465              site
-00029a10: 2028 4c69 7374 5b73 7472 5d2c 206f 7074   (List[str], opt
-00029a20: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
-00029a30: 7369 7465 206e 616d 6573 0a20 2020 2020  site names.     
-00029a40: 2020 2020 2020 2073 7461 7274 2028 696e         start (in
-00029a50: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-00029a60: 6564 2069 6e66 6f72 6d61 7469 6f6e 2066  ed information f
-00029a70: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
-00029a80: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-00029a90: 2065 706f 6368 2069 6e0a 2020 2020 2020   epoch in.      
-00029aa0: 2020 2020 2020 2020 2020 6d69 6c6c 6973            millis
-00029ab0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-00029ac0: 6973 2063 7572 7265 6e74 2074 696d 6573  is current times
-00029ad0: 7461 6d70 206d 696e 7573 2033 2068 6f75  tamp minus 3 hou
-00029ae0: 7273 0a20 2020 2020 2020 2020 2020 2065  rs.            e
-00029af0: 6e64 2028 696e 742c 206f 7074 696f 6e61  nd (int, optiona
-00029b00: 6c29 3a20 4e65 6564 2069 6e66 6f72 6d61  l): Need informa
-00029b10: 7469 6f6e 2074 6f20 7468 6973 2074 696d  tion to this tim
-00029b20: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
-00029b30: 7020 6973 2065 706f 6368 2069 6e0a 2020  p is epoch in.  
-00029b40: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
-00029b50: 6c6c 6973 6563 6f6e 6473 2e20 4465 6661  lliseconds. Defa
-00029b60: 756c 7420 6973 2063 7572 7265 6e74 2074  ult is current t
-00029b70: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
-00029b80: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
-00029b90: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00029ba0: 696c 7465 7220 6279 2053 7761 726d 2049  ilter by Swarm I
-00029bb0: 440a 2020 2020 2020 2020 2020 2020 6672  D.            fr
-00029bc0: 6f6d 5f74 696d 6573 7461 6d70 2028 696e  om_timestamp (in
-00029bd0: 742c 206f 7074 696f 6e61 6c29 3a20 5468  t, optional): Th
-00029be0: 6973 2070 6172 616d 6574 6572 2073 7570  is parameter sup
-00029bf0: 6572 6365 6465 7320 7374 6172 7420 7061  ercedes start pa
-00029c00: 7261 6d65 7465 722e 204e 6565 640a 2020  rameter. Need.  
-00029c10: 2020 2020 2020 2020 2020 2020 2020 696e                in
-00029c20: 666f 726d 6174 696f 6e20 6672 6f6d 2074  formation from t
-00029c30: 6869 7320 7469 6d65 7374 616d 702e 2054  his timestamp. T
-00029c40: 696d 6573 7461 6d70 2069 7320 6570 6f63  imestamp is epoc
-00029c50: 6820 696e 2073 6563 6f6e 6473 2e20 4465  h in seconds. De
-00029c60: 6661 756c 7420 6973 2063 7572 7265 6e74  fault is current
-00029c70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029c80: 2055 5443 2074 696d 6573 7461 6d70 206d   UTC timestamp m
-00029c90: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
-00029ca0: 2020 2020 2020 2020 2074 6f5f 7469 6d65           to_time
-00029cb0: 7374 616d 7020 2869 6e74 2c20 6f70 7469  stamp (int, opti
-00029cc0: 6f6e 616c 293a 2054 6869 7320 7061 7261  onal): This para
-00029cd0: 6d65 7465 7220 7375 7065 7263 6564 6573  meter supercedes
-00029ce0: 2065 6e64 2070 6172 616d 6574 6572 2e20   end parameter. 
-00029cf0: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
-00029d00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029d10: 2074 6f20 7468 6973 2074 696d 6573 7461   to this timesta
-00029d20: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-00029d30: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
-00029d40: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-00029d50: 7272 656e 7420 5554 4320 7469 6d65 7374  rrent UTC timest
-00029d60: 616d 700a 2020 2020 2020 2020 2020 2020  amp.            
-00029d70: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-00029d80: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-00029d90: 6f6e 206f 6666 7365 7420 2864 6566 6175  on offset (defau
-00029da0: 6c74 203d 2030 2920 4465 6661 756c 7473  lt = 0) Defaults
-00029db0: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-00029dc0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-00029dd0: 7074 696f 6e61 6c29 3a20 7061 6769 6e61  ptional): pagina
-00029de0: 7469 6f6e 2073 697a 6520 2864 6566 6175  tion size (defau
-00029df0: 6c74 203d 2031 3030 2920 4465 6661 756c  lt = 100) Defaul
-00029e00: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
-00029e10: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00029e20: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00029e30: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00029e40: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00029e50: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00029e60: 2020 7572 6c20 3d20 222f 7261 7069 6473    url = "/rapids
-00029e70: 2f76 312f 696e 7465 7266 6572 696e 675f  /v1/interfering_
-00029e80: 6170 7322 0a0a 2020 2020 2020 2020 7061  aps"..        pa
-00029e90: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-00029ea0: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
-00029eb0: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
-00029ec0: 2027 6c61 6265 6c27 3a20 6c61 6265 6c2c   'label': label,
-00029ed0: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
-00029ee0: 7465 273a 2073 6974 652c 0a20 2020 2020  te': site,.     
-00029ef0: 2020 2020 2020 2027 7374 6172 7427 3a20         'start': 
-00029f00: 7374 6172 742c 0a20 2020 2020 2020 2020  start,.         
-00029f10: 2020 2027 656e 6427 3a20 656e 642c 0a20     'end': end,. 
-00029f20: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
-00029f30: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
-00029f40: 0a20 2020 2020 2020 2020 2020 2027 6672  .            'fr
-00029f50: 6f6d 5f74 696d 6573 7461 6d70 273a 2066  om_timestamp': f
-00029f60: 726f 6d5f 7469 6d65 7374 616d 702c 0a20  rom_timestamp,. 
-00029f70: 2020 2020 2020 2020 2020 2027 746f 5f74             'to_t
-00029f80: 696d 6573 7461 6d70 273a 2074 6f5f 7469  imestamp': to_ti
-00029f90: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
-00029fa0: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
-00029fb0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
-00029fc0: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
-00029fd0: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
-00029fe0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00029ff0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-0002a000: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-0002a010: 2020 2020 6173 796e 6320 6465 6620 7769      async def wi
-0002a020: 6473 5f67 6574 5f73 7573 7065 6374 5f61  ds_get_suspect_a
-0002a030: 7073 280a 2020 2020 2020 2020 7365 6c66  ps(.        self
-0002a040: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
-0002a050: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-0002a060: 652c 0a20 2020 2020 2020 206c 6162 656c  e,.        label
-0002a070: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0002a080: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
-0002a090: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0002a0a0: 6e65 2c0a 2020 2020 2020 2020 7374 6172  ne,.        star
-0002a0b0: 743a 2069 6e74 203d 204e 6f6e 652c 0a20  t: int = None,. 
-0002a0c0: 2020 2020 2020 2065 6e64 3a20 696e 7420         end: int 
-0002a0d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002a0e0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-0002a0f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6672  None,.        fr
-0002a100: 6f6d 5f74 696d 6573 7461 6d70 3a20 696e  om_timestamp: in
-0002a110: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-0002a120: 2020 746f 5f74 696d 6573 7461 6d70 3a20    to_timestamp: 
-0002a130: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-0002a140: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0002a150: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0002a160: 6974 3a20 696e 7420 3d20 3130 300a 2020  it: int = 100.  
-0002a170: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0002a180: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-0002a190: 2073 7573 7065 6374 2041 5073 2e0a 0a20   suspect APs... 
-0002a1a0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002a1b0: 2020 2020 2020 2020 2067 726f 7570 2028           group (
-0002a1c0: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-0002a1d0: 6e61 6c29 3a20 4c69 7374 206f 6620 6772  nal): List of gr
-0002a1e0: 6f75 7020 6e61 6d65 730a 2020 2020 2020  oup names.      
-0002a1f0: 2020 2020 2020 6c61 6265 6c20 284c 6973        label (Lis
-0002a200: 745b 7374 725d 2c20 6f70 7469 6f6e 616c  t[str], optional
-0002a210: 293a 204c 6973 7420 6f66 206c 6162 656c  ): List of label
-0002a220: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
-0002a230: 2020 2073 6974 6520 284c 6973 745b 7374     site (List[st
-0002a240: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
-0002a250: 6973 7420 6f66 2073 6974 6520 6e61 6d65  ist of site name
-0002a260: 730a 2020 2020 2020 2020 2020 2020 7374  s.            st
-0002a270: 6172 7420 2869 6e74 2c20 6f70 7469 6f6e  art (int, option
-0002a280: 616c 293a 204e 6565 6420 696e 666f 726d  al): Need inform
-0002a290: 6174 696f 6e20 6672 6f6d 2074 6869 7320  ation from this 
-0002a2a0: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-0002a2b0: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-0002a2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a2d0: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
-0002a2e0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
-0002a2f0: 7420 7469 6d65 7374 616d 7020 6d69 6e75  t timestamp minu
-0002a300: 7320 3320 686f 7572 730a 2020 2020 2020  s 3 hours.      
-0002a310: 2020 2020 2020 656e 6420 2869 6e74 2c20        end (int, 
-0002a320: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
-0002a330: 696e 666f 726d 6174 696f 6e20 746f 2074  information to t
-0002a340: 6869 7320 7469 6d65 7374 616d 702e 2054  his timestamp. T
-0002a350: 696d 6573 7461 6d70 2069 7320 6570 6f63  imestamp is epoc
-0002a360: 6820 696e 0a20 2020 2020 2020 2020 2020  h in.           
-0002a370: 2020 2020 206d 696c 6c69 7365 636f 6e64       millisecond
-0002a380: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-0002a390: 7272 656e 7420 7469 6d65 7374 616d 700a  rrent timestamp.
-0002a3a0: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-0002a3b0: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
-0002a3c0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0002a3d0: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
-0002a3e0: 2020 2020 2066 726f 6d5f 7469 6d65 7374       from_timest
-0002a3f0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
-0002a400: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
-0002a410: 7465 7220 7375 7065 7263 6564 6573 2073  ter supercedes s
-0002a420: 7461 7274 2070 6172 616d 6574 6572 2e20  tart parameter. 
-0002a430: 4e65 6564 0a20 2020 2020 2020 2020 2020  Need.           
-0002a440: 2020 2020 2069 6e66 6f72 6d61 7469 6f6e       information
-0002a450: 2066 726f 6d20 7468 6973 2074 696d 6573   from this times
-0002a460: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
-0002a470: 6973 2065 706f 6368 2069 6e20 7365 636f  is epoch in seco
-0002a480: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
-0002a490: 6375 7272 656e 740a 2020 2020 2020 2020  current.        
-0002a4a0: 2020 2020 2020 2020 5554 4320 7469 6d65          UTC time
-0002a4b0: 7374 616d 7020 6d69 6e75 7320 3320 686f  stamp minus 3 ho
-0002a4c0: 7572 730a 2020 2020 2020 2020 2020 2020  urs.            
-0002a4d0: 746f 5f74 696d 6573 7461 6d70 2028 696e  to_timestamp (in
-0002a4e0: 742c 206f 7074 696f 6e61 6c29 3a20 5468  t, optional): Th
-0002a4f0: 6973 2070 6172 616d 6574 6572 2073 7570  is parameter sup
-0002a500: 6572 6365 6465 7320 656e 6420 7061 7261  ercedes end para
-0002a510: 6d65 7465 722e 204e 6565 6420 696e 666f  meter. Need info
-0002a520: 726d 6174 696f 6e0a 2020 2020 2020 2020  rmation.        
-0002a530: 2020 2020 2020 2020 746f 2074 6869 7320          to this 
-0002a540: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-0002a550: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-0002a560: 2073 6563 6f6e 6473 2e20 4465 6661 756c   seconds. Defaul
-0002a570: 7420 6973 2063 7572 7265 6e74 2055 5443  t is current UTC
-0002a580: 2074 696d 6573 7461 6d70 0a20 2020 2020   timestamp.     
-0002a590: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
-0002a5a0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-0002a5b0: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
-0002a5c0: 2028 6465 6661 756c 7420 3d20 3029 2044   (default = 0) D
-0002a5d0: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
-0002a5e0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-0002a5f0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002a600: 2070 6167 696e 6174 696f 6e20 7369 7a65   pagination size
-0002a610: 2028 6465 6661 756c 7420 3d20 3130 3029   (default = 100)
-0002a620: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-0002a630: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0002a640: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0002a650: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0002a660: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0002a670: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0002a680: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0002a690: 2f72 6170 6964 732f 7631 2f73 7573 7065  /rapids/v1/suspe
-0002a6a0: 6374 5f61 7073 220a 0a20 2020 2020 2020  ct_aps"..       
-0002a6b0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-0002a6c0: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-0002a6d0: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
-0002a6e0: 2020 2020 276c 6162 656c 273a 206c 6162      'label': lab
-0002a6f0: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-0002a700: 2773 6974 6527 3a20 7369 7465 2c0a 2020  'site': site,.  
-0002a710: 2020 2020 2020 2020 2020 2773 7461 7274            'start
-0002a720: 273a 2073 7461 7274 2c0a 2020 2020 2020  ': start,.      
-0002a730: 2020 2020 2020 2765 6e64 273a 2065 6e64        'end': end
-0002a740: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002a750: 7761 726d 5f69 6427 3a20 7377 6172 6d5f  warm_id': swarm_
-0002a760: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-0002a770: 2766 726f 6d5f 7469 6d65 7374 616d 7027  'from_timestamp'
-0002a780: 3a20 6672 6f6d 5f74 696d 6573 7461 6d70  : from_timestamp
-0002a790: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
-0002a7a0: 6f5f 7469 6d65 7374 616d 7027 3a20 746f  o_timestamp': to
-0002a7b0: 5f74 696d 6573 7461 6d70 2c0a 2020 2020  _timestamp,.    
-0002a7c0: 2020 2020 2020 2020 276f 6666 7365 7427          'offset'
-0002a7d0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-0002a7e0: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
-0002a7f0: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
-0002a800: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0002a810: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0002a820: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0002a830: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0002a840: 2077 6964 735f 6765 745f 6e65 6967 6862   wids_get_neighb
-0002a850: 6f72 5f61 7073 280a 2020 2020 2020 2020  or_aps(.        
-0002a860: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-0002a870: 6f75 703a 204c 6973 745b 7374 725d 203d  oup: List[str] =
-0002a880: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-0002a890: 6162 656c 3a20 4c69 7374 5b73 7472 5d20  abel: List[str] 
-0002a8a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002a8b0: 7369 7465 3a20 4c69 7374 5b73 7472 5d20  site: List[str] 
-0002a8c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002a8d0: 7374 6172 743a 2069 6e74 203d 204e 6f6e  start: int = Non
-0002a8e0: 652c 0a20 2020 2020 2020 2065 6e64 3a20  e,.        end: 
-0002a8f0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-0002a900: 2020 2020 7377 6172 6d5f 6964 3a20 7374      swarm_id: st
-0002a910: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0002a920: 2020 6672 6f6d 5f74 696d 6573 7461 6d70    from_timestamp
-0002a930: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-0002a940: 2020 2020 2020 746f 5f74 696d 6573 7461        to_timesta
-0002a950: 6d70 3a20 696e 7420 3d20 4e6f 6e65 2c0a  mp: int = None,.
-0002a960: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
-0002a970: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
-0002a980: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
-0002a990: 300a 2020 2020 2920 2d3e 2052 6573 706f  0.    ) -> Respo
-0002a9a0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0002a9b0: 4c69 7374 206e 6569 6768 626f 7220 4150  List neighbor AP
-0002a9c0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
-0002a9d0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-0002a9e0: 6f75 7020 284c 6973 745b 7374 725d 2c20  oup (List[str], 
-0002a9f0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
-0002aa00: 6f66 2067 726f 7570 206e 616d 6573 0a20  of group names. 
-0002aa10: 2020 2020 2020 2020 2020 206c 6162 656c             label
-0002aa20: 2028 4c69 7374 5b73 7472 5d2c 206f 7074   (List[str], opt
-0002aa30: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
-0002aa40: 6c61 6265 6c20 6e61 6d65 730a 2020 2020  label names.    
-0002aa50: 2020 2020 2020 2020 7369 7465 2028 4c69          site (Li
-0002aa60: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
-0002aa70: 6c29 3a20 4c69 7374 206f 6620 7369 7465  l): List of site
-0002aa80: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
-0002aa90: 2020 2073 7461 7274 2028 696e 742c 206f     start (int, o
-0002aaa0: 7074 696f 6e61 6c29 3a20 4e65 6564 2069  ptional): Need i
-0002aab0: 6e66 6f72 6d61 7469 6f6e 2066 726f 6d20  nformation from 
-0002aac0: 7468 6973 2074 696d 6573 7461 6d70 2e20  this timestamp. 
-0002aad0: 5469 6d65 7374 616d 7020 6973 2065 706f  Timestamp is epo
-0002aae0: 6368 2069 6e0a 2020 2020 2020 2020 2020  ch in.          
-0002aaf0: 2020 2020 2020 6d69 6c6c 6973 6563 6f6e        millisecon
-0002ab00: 6473 2e20 4465 6661 756c 7420 6973 2063  ds. Default is c
-0002ab10: 7572 7265 6e74 2074 696d 6573 7461 6d70  urrent timestamp
-0002ab20: 206d 696e 7573 2033 2068 6f75 7273 0a20   minus 3 hours. 
-0002ab30: 2020 2020 2020 2020 2020 2065 6e64 2028             end (
-0002ab40: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0002ab50: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
-0002ab60: 2074 6f20 7468 6973 2074 696d 6573 7461   to this timesta
-0002ab70: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-0002ab80: 2065 706f 6368 2069 6e0a 2020 2020 2020   epoch in.      
-0002ab90: 2020 2020 2020 2020 2020 6d69 6c6c 6973            millis
-0002aba0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-0002abb0: 6973 2063 7572 7265 6e74 2074 696d 6573  is current times
-0002abc0: 7461 6d70 0a20 2020 2020 2020 2020 2020  tamp.           
-0002abd0: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
-0002abe0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0002abf0: 7220 6279 2053 7761 726d 2049 440a 2020  r by Swarm ID.  
-0002ac00: 2020 2020 2020 2020 2020 6672 6f6d 5f74            from_t
-0002ac10: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
-0002ac20: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
-0002ac30: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
-0002ac40: 6465 7320 7374 6172 7420 7061 7261 6d65  des start parame
-0002ac50: 7465 722e 204e 6565 640a 2020 2020 2020  ter. Need.      
-0002ac60: 2020 2020 2020 2020 2020 696e 666f 726d            inform
-0002ac70: 6174 696f 6e20 6672 6f6d 2074 6869 7320  ation from this 
-0002ac80: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-0002ac90: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-0002aca0: 2073 6563 6f6e 6473 2e20 4465 6661 756c   seconds. Defaul
-0002acb0: 7420 6973 2063 7572 7265 6e74 0a20 2020  t is current.   
-0002acc0: 2020 2020 2020 2020 2020 2020 2055 5443               UTC
-0002acd0: 2074 696d 6573 7461 6d70 206d 696e 7573   timestamp minus
-0002ace0: 2033 2068 6f75 7273 0a20 2020 2020 2020   3 hours.       
-0002acf0: 2020 2020 2074 6f5f 7469 6d65 7374 616d       to_timestam
-0002ad00: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
-0002ad10: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
-0002ad20: 7220 7375 7065 7263 6564 6573 2065 6e64  r supercedes end
-0002ad30: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
-0002ad40: 2069 6e66 6f72 6d61 7469 6f6e 0a20 2020   information.   
-0002ad50: 2020 2020 2020 2020 2020 2020 2074 6f20               to 
-0002ad60: 7468 6973 2074 696d 6573 7461 6d70 2e20  this timestamp. 
-0002ad70: 5469 6d65 7374 616d 7020 6973 2065 706f  Timestamp is epo
-0002ad80: 6368 2069 6e20 7365 636f 6e64 732e 2044  ch in seconds. D
-0002ad90: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
-0002ada0: 7420 5554 4320 7469 6d65 7374 616d 700a  t UTC timestamp.
-0002adb0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-0002adc0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-0002add0: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
-0002ade0: 6666 7365 7420 2864 6566 6175 6c74 203d  ffset (default =
-0002adf0: 2030 2920 4465 6661 756c 7473 2074 6f20   0) Defaults to 
-0002ae00: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-0002ae10: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-0002ae20: 6e61 6c29 3a20 7061 6769 6e61 7469 6f6e  nal): pagination
-0002ae30: 2073 697a 6520 2864 6566 6175 6c74 203d   size (default =
-0002ae40: 2031 3030 2920 4465 6661 756c 7473 2074   100) Defaults t
-0002ae50: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
-0002ae60: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0002ae70: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0002ae80: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0002ae90: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0002aea0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0002aeb0: 6c20 3d20 222f 7261 7069 6473 2f76 312f  l = "/rapids/v1/
-0002aec0: 6e65 6967 6862 6f72 5f61 7073 220a 0a20  neighbor_aps".. 
-0002aed0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0002aee0: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
-0002aef0: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
-0002af00: 2020 2020 2020 2020 2020 276c 6162 656c            'label
-0002af10: 273a 206c 6162 656c 2c0a 2020 2020 2020  ': label,.      
-0002af20: 2020 2020 2020 2773 6974 6527 3a20 7369        'site': si
-0002af30: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-0002af40: 2773 7461 7274 273a 2073 7461 7274 2c0a  'start': start,.
-0002af50: 2020 2020 2020 2020 2020 2020 2765 6e64              'end
-0002af60: 273a 2065 6e64 2c0a 2020 2020 2020 2020  ': end,.        
-0002af70: 2020 2020 2773 7761 726d 5f69 6427 3a20      'swarm_id': 
-0002af80: 7377 6172 6d5f 6964 2c0a 2020 2020 2020  swarm_id,.      
-0002af90: 2020 2020 2020 2766 726f 6d5f 7469 6d65        'from_time
-0002afa0: 7374 616d 7027 3a20 6672 6f6d 5f74 696d  stamp': from_tim
-0002afb0: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
-0002afc0: 2020 2020 2774 6f5f 7469 6d65 7374 616d      'to_timestam
-0002afd0: 7027 3a20 746f 5f74 696d 6573 7461 6d70  p': to_timestamp
-0002afe0: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
-0002aff0: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
-0002b000: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-0002b010: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-0002b020: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0002b030: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0002b040: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0002b050: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0002b060: 6e63 2064 6566 2077 6964 735f 6765 745f  nc def wids_get_
-0002b070: 616c 6c28 0a20 2020 2020 2020 2073 656c  all(.        sel
-0002b080: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
-0002b090: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0002b0a0: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
-0002b0b0: 6c3a 204c 6973 745b 7374 725d 203d 204e  l: List[str] = N
-0002b0c0: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
-0002b0d0: 653a 204c 6973 745b 7374 725d 203d 204e  e: List[str] = N
-0002b0e0: 6f6e 652c 0a20 2020 2020 2020 2073 7461  one,.        sta
-0002b0f0: 7274 3a20 696e 7420 3d20 4e6f 6e65 2c0a  rt: int = None,.
-0002b100: 2020 2020 2020 2020 656e 643a 2069 6e74          end: int
-0002b110: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002b120: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
-0002b130: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
-0002b140: 726f 6d5f 7469 6d65 7374 616d 703a 2069  rom_timestamp: i
-0002b150: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-0002b160: 2020 2074 6f5f 7469 6d65 7374 616d 703a     to_timestamp:
-0002b170: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-0002b180: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0002b190: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-0002b1a0: 6d69 743a 2069 6e74 203d 2031 3030 0a20  mit: int = 100. 
-0002b1b0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0002b1c0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
-0002b1d0: 7420 616c 6c20 7769 6473 2063 6c61 7373  t all wids class
-0002b1e0: 6966 6963 6174 696f 6e73 2e0a 0a20 2020  ifications...   
-0002b1f0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0002b200: 2020 2020 2020 2067 726f 7570 2028 4c69         group (Li
-0002b210: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
-0002b220: 6c29 3a20 4c69 7374 206f 6620 6772 6f75  l): List of grou
-0002b230: 7020 6e61 6d65 730a 2020 2020 2020 2020  p names.        
-0002b240: 2020 2020 6c61 6265 6c20 284c 6973 745b      label (List[
-0002b250: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
-0002b260: 204c 6973 7420 6f66 206c 6162 656c 206e   List of label n
-0002b270: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-0002b280: 2073 6974 6520 284c 6973 745b 7374 725d   site (List[str]
-0002b290: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
-0002b2a0: 7420 6f66 2073 6974 6520 6e61 6d65 730a  t of site names.
-0002b2b0: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0002b2c0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-0002b2d0: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
-0002b2e0: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-0002b2f0: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-0002b300: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
-0002b310: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0002b320: 696c 6c69 7365 636f 6e64 732e 2044 6566  illiseconds. Def
-0002b330: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-0002b340: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
-0002b350: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
-0002b360: 2020 2020 656e 6420 2869 6e74 2c20 6f70      end (int, op
-0002b370: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
-0002b380: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
-0002b390: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
-0002b3a0: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
-0002b3b0: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
-0002b3c0: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
-0002b3d0: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-0002b3e0: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
-0002b3f0: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-0002b400: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
-0002b410: 6c29 3a20 4669 6c74 6572 2062 7920 5377  l): Filter by Sw
-0002b420: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
-0002b430: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-0002b440: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
-0002b450: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
-0002b460: 7220 7375 7065 7263 6564 6573 2073 7461  r supercedes sta
-0002b470: 7274 2070 6172 616d 6574 6572 2e20 4e65  rt parameter. Ne
-0002b480: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-0002b490: 2020 2069 6e66 6f72 6d61 7469 6f6e 2066     information f
-0002b4a0: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
-0002b4b0: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-0002b4c0: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
-0002b4d0: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-0002b4e0: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
-0002b4f0: 2020 2020 2020 5554 4320 7469 6d65 7374        UTC timest
-0002b500: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
-0002b510: 730a 2020 2020 2020 2020 2020 2020 746f  s.            to
-0002b520: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
-0002b530: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
-0002b540: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
-0002b550: 6365 6465 7320 656e 6420 7061 7261 6d65  cedes end parame
-0002b560: 7465 722e 204e 6565 6420 696e 666f 726d  ter. Need inform
-0002b570: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
-0002b580: 2020 2020 2020 746f 2074 6869 7320 7469        to this ti
-0002b590: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-0002b5a0: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-0002b5b0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-0002b5c0: 6973 2063 7572 7265 6e74 2055 5443 2074  is current UTC t
-0002b5d0: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
-0002b5e0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-0002b5f0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-0002b600: 696e 6174 696f 6e20 6f66 6673 6574 2028  ination offset (
-0002b610: 6465 6661 756c 7420 3d20 3029 2044 6566  default = 0) Def
-0002b620: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-0002b630: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-0002b640: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
-0002b650: 6167 696e 6174 696f 6e20 7369 7a65 2028  agination size (
-0002b660: 6465 6661 756c 7420 3d20 3130 3029 2044  default = 100) D
-0002b670: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-0002b680: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0002b690: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0002b6a0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0002b6b0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0002b6c0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0002b6d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0002b6e0: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
-0002b6f0: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
-0002b700: 2020 2020 2020 2020 2020 276c 6162 656c            'label
-0002b710: 273a 206c 6162 656c 2c0a 2020 2020 2020  ': label,.      
-0002b720: 2020 2020 2020 2773 6974 6527 3a20 7369        'site': si
-0002b730: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-0002b740: 2773 7461 7274 273a 2073 7461 7274 2c0a  'start': start,.
-0002b750: 2020 2020 2020 2020 2020 2020 2765 6e64              'end
-0002b760: 273a 2065 6e64 2c0a 2020 2020 2020 2020  ': end,.        
-0002b770: 2020 2020 2773 7761 726d 5f69 6427 3a20      'swarm_id': 
-0002b780: 7377 6172 6d5f 6964 2c0a 2020 2020 2020  swarm_id,.      
-0002b790: 2020 2020 2020 2766 726f 6d5f 7469 6d65        'from_time
-0002b7a0: 7374 616d 7027 3a20 6672 6f6d 5f74 696d  stamp': from_tim
-0002b7b0: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
-0002b7c0: 2020 2020 2774 6f5f 7469 6d65 7374 616d      'to_timestam
-0002b7d0: 7027 3a20 746f 5f74 696d 6573 7461 6d70  p': to_timestamp
-0002b7e0: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
-0002b7f0: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
-0002b800: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-0002b810: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-0002b820: 2020 207d 0a0a 2020 2020 2020 2020 6272     }..        br
-0002b830: 203d 2073 656c 662e 4261 7463 6852 6571   = self.BatchReq
-0002b840: 7565 7374 0a20 2020 2020 2020 2066 756e  uest.        fun
-0002b850: 6373 203d 205b 0a20 2020 2020 2020 2020  cs = [.         
-0002b860: 2020 2073 656c 662e 7769 6473 5f67 6574     self.wids_get
-0002b870: 5f69 6e74 6572 6665 7269 6e67 5f61 7073  _interfering_aps
-0002b880: 2c0a 2020 2020 2020 2020 2020 2020 7365  ,.            se
-0002b890: 6c66 2e77 6964 735f 6765 745f 6e65 6967  lf.wids_get_neig
-0002b8a0: 6862 6f72 5f61 7073 2c0a 2020 2020 2020  hbor_aps,.      
-0002b8b0: 2020 2020 2020 7365 6c66 2e77 6964 735f        self.wids_
-0002b8c0: 6765 745f 7375 7370 6563 745f 6170 732c  get_suspect_aps,
-0002b8d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0002b8e0: 662e 7769 6473 5f67 6574 5f72 6f67 7565  f.wids_get_rogue
-0002b8f0: 5f61 7073 2c0a 2020 2020 2020 2020 5d0a  _aps,.        ].
-0002b900: 0a20 2020 2020 2020 2062 6174 6368 5f72  .        batch_r
-0002b910: 6571 203d 205b 0a20 2020 2020 2020 2020  eq = [.         
-0002b920: 2020 2062 7228 662c 202a 2a70 6172 616d     br(f, **param
-0002b930: 7329 2066 6f72 2066 2069 6e20 6675 6e63  s) for f in func
-0002b940: 730a 2020 2020 2020 2020 5d0a 0a20 2020  s.        ]..   
-0002b950: 2020 2020 2062 6174 6368 5f72 6573 203d       batch_res =
-0002b960: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
-0002b970: 6368 5f72 6571 7565 7374 2862 6174 6368  ch_request(batch
-0002b980: 5f72 6571 290a 2020 2020 2020 2020 7265  _req).        re
-0002b990: 7370 203d 2062 6174 6368 5f72 6573 5b2d  sp = batch_res[-
-0002b9a0: 315d 0a20 2020 2020 2020 206f 6b5f 7265  1].        ok_re
-0002b9b0: 7320 3d20 5b69 6478 2066 6f72 2069 6478  s = [idx for idx
-0002b9c0: 2c20 7265 7320 696e 2065 6e75 6d65 7261  , res in enumera
-0002b9d0: 7465 2862 6174 6368 5f72 6573 2920 6966  te(batch_res) if
-0002b9e0: 2072 6573 2e6f 6b5d 0a20 2020 2020 2020   res.ok].       
-0002b9f0: 2069 6620 6e6f 7420 6c65 6e28 6f6b 5f72   if not len(ok_r
-0002ba00: 6573 2920 3d3d 206c 656e 2866 756e 6373  es) == len(funcs
-0002ba10: 293a 0a20 2020 2020 2020 2020 2020 2066  ):.            f
-0002ba20: 6169 6c65 6420 3d20 5b78 2066 6f72 2078  ailed = [x for x
-0002ba30: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
-0002ba40: 2866 756e 6373 2929 2069 6620 7820 6e6f  (funcs)) if x no
-0002ba50: 7420 696e 206f 6b5f 7265 735d 0a20 2020  t in ok_res].   
-0002ba60: 2020 2020 2020 2020 2066 6f72 2066 2069           for f i
-0002ba70: 6e20 6661 696c 6564 3a0a 2020 2020 2020  n failed:.      
-0002ba80: 2020 2020 2020 2020 2020 6966 2066 2069            if f i
-0002ba90: 6e20 7261 6e67 6528 302c 206c 656e 2862  n range(0, len(b
-0002baa0: 6174 6368 5f72 6573 2929 3a0a 2020 2020  atch_res)):.    
-0002bab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bac0: 6c6f 672e 6572 726f 7228 6622 7b62 6174  log.error(f"{bat
-0002bad0: 6368 5f72 6573 5b66 5d2e 6d65 7468 6f64  ch_res[f].method
-0002bae0: 7d20 7b62 6174 6368 5f72 6573 5b66 5d2e  } {batch_res[f].
-0002baf0: 7572 6c2e 7061 7468 7d20 5265 7475 726e  url.path} Return
-0002bb00: 6564 2045 7272 6f72 2053 7461 7475 7320  ed Error Status 
-0002bb10: 7b62 6174 6368 5f72 6573 5b66 5d2e 7374  {batch_res[f].st
-0002bb20: 6174 7573 7d2e 207b 6261 7463 685f 7265  atus}. {batch_re
-0002bb30: 735b 665d 2e6f 7574 7075 7420 6f72 2062  s[f].output or b
-0002bb40: 6174 6368 5f72 6573 5b66 5d2e 6572 726f  atch_res[f].erro
-0002bb50: 727d 222c 2073 686f 773d 5472 7565 290a  r}", show=True).
-0002bb60: 2020 2020 2020 2020 7261 775f 6b65 7973          raw_keys
-0002bb70: 203d 205b 2269 6e74 6572 6665 7269 6e67   = ["interfering
-0002bb80: 5f61 7073 222c 2022 6e65 6967 6862 6f72  _aps", "neighbor
-0002bb90: 5f61 7073 222c 2022 7375 7370 6563 745f  _aps", "suspect_
-0002bba0: 6170 7322 5d0a 2020 2020 2020 2020 7265  aps"].        re
-0002bbb0: 7370 2e72 6177 203d 207b 2272 6f67 7565  sp.raw = {"rogue
-0002bbc0: 5f61 7073 223a 2072 6573 702e 7261 772e  _aps": resp.raw.
-0002bbd0: 6765 7428 2272 6f67 7565 5f61 7073 222c  get("rogue_aps",
-0002bbe0: 205b 5d29 2c20 225f 636f 756e 7473 223a   []), "_counts":
-0002bbf0: 207b 2272 6f67 7565 7322 3a20 7265 7370   {"rogues": resp
-0002bc00: 2e72 6177 2e67 6574 2822 746f 7461 6c22  .raw.get("total"
-0002bc10: 297d 7d0a 2020 2020 2020 2020 666f 7220  )}}.        for 
-0002bc20: 6964 782c 206b 6579 2069 6e20 656e 756d  idx, key in enum
-0002bc30: 6572 6174 6528 7261 775f 6b65 7973 293a  erate(raw_keys):
-0002bc40: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002bc50: 6964 7820 696e 206f 6b5f 7265 733a 0a20  idx in ok_res:. 
-0002bc60: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0002bc70: 6573 702e 7261 7720 3d20 7b2a 2a72 6573  esp.raw = {**res
-0002bc80: 702e 7261 772c 202a 2a7b 6b65 793a 2062  p.raw, **{key: b
-0002bc90: 6174 6368 5f72 6573 5b69 6478 5d2e 7261  atch_res[idx].ra
-0002bca0: 772e 6765 7428 6b65 792c 205b 5d29 7d7d  w.get(key, [])}}
-0002bcb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bcc0: 2072 6573 702e 7261 775b 225f 636f 756e   resp.raw["_coun
-0002bcd0: 7473 225d 5b6b 6579 2e72 7374 7269 7028  ts"][key.rstrip(
-0002bce0: 225f 6170 7322 295d 203d 2062 6174 6368  "_aps")] = batch
-0002bcf0: 5f72 6573 5b69 6478 5d2e 7261 772e 6765  _res[idx].raw.ge
-0002bd00: 7428 2274 6f74 616c 2229 0a20 2020 2020  t("total").     
-0002bd10: 2020 2020 2020 2020 2020 2072 6573 702e             resp.
-0002bd20: 6f75 7470 7574 203d 205b 2a72 6573 702e  output = [*resp.
-0002bd30: 6f75 7470 7574 2c20 2a62 6174 6368 5f72  output, *batch_r
-0002bd40: 6573 5b69 6478 5d2e 6f75 7470 7574 5d0a  es[idx].output].
-0002bd50: 2020 2020 2020 2020 2320 7265 7370 2e6f          # resp.o
-0002bd60: 7574 7075 7420 3d20 5b2a 7265 7370 2e6f  utput = [*resp.o
-0002bd70: 7574 7075 742c 202a 6261 7463 685f 7265  utput, *batch_re
-0002bd80: 735b 305d 2e6f 7574 7075 742c 202a 6261  s[0].output, *ba
-0002bd90: 7463 685f 7265 735b 315d 2e6f 7574 7075  tch_res[1].outpu
-0002bda0: 742c 202a 6261 7463 685f 7265 735b 325d  t, *batch_res[2]
-0002bdb0: 2e6f 7574 7075 745d 0a20 2020 2020 2020  .output].       
-0002bdc0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-0002bdd0: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
-0002bde0: 5b6d 6f64 656c 732e 5749 4453 282a 2a64  [models.WIDS(**d
-0002bdf0: 292e 6469 6374 2829 2066 6f72 2064 2069  ).dict() for d i
-0002be00: 6e20 7265 7370 2e6f 7574 7075 745d 0a20  n resp.output]. 
-0002be10: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-0002be20: 6365 7074 696f 6e20 6173 2065 3a0a 2020  ception as e:.  
-0002be30: 2020 2020 2020 2020 2020 6c6f 672e 7761            log.wa
-0002be40: 726e 696e 6728 6622 6465 7620 6e6f 7465  rning(f"dev note
-0002be50: 2e20 7079 6461 6e74 6963 2063 6f6e 7665  . pydantic conve
-0002be60: 7273 696f 6e20 6469 6420 6e6f 7420 776f  rsion did not wo
-0002be70: 726b 5c6e 7b65 7d22 2c20 7368 6f77 3d54  rk\n{e}", show=T
-0002be80: 7275 6529 0a0a 2020 2020 2020 2020 7265  rue)..        re
-0002be90: 7475 726e 2072 6573 700a 0a0a 2020 2020  turn resp...    
-0002bea0: 6173 796e 6320 6465 6620 6765 745f 616c  async def get_al
-0002beb0: 6572 7473 280a 2020 2020 2020 2020 7365  erts(.        se
-0002bec0: 6c66 2c0a 2020 2020 2020 2020 6375 7374  lf,.        cust
-0002bed0: 6f6d 6572 5f69 643a 2073 7472 203d 204e  omer_id: str = N
-0002bee0: 6f6e 652c 0a20 2020 2020 2020 2067 726f  one,.        gro
-0002bef0: 7570 3a20 7374 7220 3d20 4e6f 6e65 2c0a  up: str = None,.
-0002bf00: 2020 2020 2020 2020 6c61 6265 6c3a 2073          label: s
-0002bf10: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0002bf20: 2020 2073 6572 6961 6c3a 2073 7472 203d     serial: str =
-0002bf30: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-0002bf40: 6974 653a 2073 7472 203d 204e 6f6e 652c  ite: str = None,
-0002bf50: 0a20 2020 2020 2020 2066 726f 6d5f 7473  .        from_ts
-0002bf60: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-0002bf70: 2020 2020 2020 746f 5f74 733a 2069 6e74        to_ts: int
-0002bf80: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002bf90: 2073 6576 6572 6974 793a 2073 7472 203d   severity: str =
-0002bfa0: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
-0002bfb0: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
-0002bfc0: 0a20 2020 2020 2020 2073 6561 7263 683a  .        search:
-0002bfd0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0002bfe0: 2020 2020 2023 2063 616c 6375 6c61 7465       # calculate
-0002bff0: 5f74 6f74 616c 3a20 626f 6f6c 203d 2046  _total: bool = F
-0002c000: 616c 7365 2c20 2023 2044 6f65 736e 2774  alse,  # Doesn't
-0002c010: 2061 7070 6561 7220 746f 2069 6d70 6163   appear to impac
-0002c020: 7420 616c 7761 7973 2072 6574 7572 6e73  t always returns
-0002c030: 2074 6f74 616c 0a20 2020 2020 2020 2061   total.        a
-0002c040: 636b 3a20 626f 6f6c 203d 204e 6f6e 652c  ck: bool = None,
-0002c050: 0a20 2020 2020 2020 2066 6965 6c64 733a  .        fields:
-0002c060: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0002c070: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0002c080: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-0002c090: 6d69 743a 2069 6e74 203d 2031 3030 302c  mit: int = 1000,
-0002c0a0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0002c0b0: 7365 3a0a 2020 2020 2020 2020 2222 225b  se:.        """[
-0002c0c0: 6365 6e74 7261 6c5d 204c 6973 7420 4e6f  central] List No
-0002c0d0: 7469 6669 6361 7469 6f6e 732f 416c 6572  tifications/Aler
-0002c0e0: 7473 2e20 2052 6574 7572 6e73 2031 2064  ts.  Returns 1 d
-0002c0f0: 6179 2062 7920 6465 6661 756c 742e 0a0a  ay by default...
-0002c100: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0002c110: 2020 2020 2020 2020 2020 6375 7374 6f6d            custom
-0002c120: 6572 5f69 6420 2873 7472 2c20 6f70 7469  er_id (str, opti
-0002c130: 6f6e 616c 293a 204d 5350 2075 7365 7220  onal): MSP user 
-0002c140: 6361 6e20 6669 6c74 6572 206e 6f74 6966  can filter notif
-0002c150: 6963 6174 696f 6e73 2062 6173 6564 206f  ications based o
-0002c160: 6e20 6375 7374 6f6d 6572 2069 640a 2020  n customer id.  
-0002c170: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
-0002c180: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0002c190: 2055 7365 6420 746f 2066 696c 7465 7220   Used to filter 
-0002c1a0: 7468 6520 6e6f 7469 6669 6361 7469 6f6e  the notification
-0002c1b0: 2074 7970 6573 2062 6173 6564 206f 6e20   types based on 
-0002c1c0: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
-0002c1d0: 2020 2020 2020 206c 6162 656c 2028 7374         label (st
-0002c1e0: 722c 206f 7074 696f 6e61 6c29 3a20 5573  r, optional): Us
-0002c1f0: 6564 2074 6f20 6669 6c74 6572 2074 6865  ed to filter the
-0002c200: 206e 6f74 6966 6963 6174 696f 6e20 7479   notification ty
-0002c210: 7065 7320 6261 7365 6420 6f6e 204c 6162  pes based on Lab
-0002c220: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
-0002c230: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
-0002c240: 206f 7074 696f 6e61 6c29 3a20 5573 6564   optional): Used
-0002c250: 2074 6f20 6669 6c74 6572 2074 6865 2072   to filter the r
-0002c260: 6573 756c 7420 6261 7365 6420 6f6e 2073  esult based on s
-0002c270: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-0002c280: 7468 6520 6465 7669 6365 0a20 2020 2020  the device.     
-0002c290: 2020 2020 2020 2073 6974 6520 2873 7472         site (str
-0002c2a0: 2c20 6f70 7469 6f6e 616c 293a 2055 7365  , optional): Use
-0002c2b0: 6420 746f 2066 696c 7465 7220 7468 6520  d to filter the 
-0002c2c0: 6e6f 7469 6669 6361 7469 6f6e 2074 7970  notification typ
-0002c2d0: 6573 2062 6173 6564 206f 6e20 5369 7465  es based on Site
-0002c2e0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-0002c2f0: 2020 6672 6f6d 5f74 7320 2869 6e74 2c20    from_ts (int, 
-0002c300: 6f70 7469 6f6e 616c 293a 2031 2973 7461  optional): 1)sta
-0002c310: 7274 206f 6620 6475 7261 7469 6f6e 2077  rt of duration w
-0002c320: 6974 6869 6e20 7768 6963 6820 616c 6572  ithin which aler
-0002c330: 7473 2061 7265 2072 6169 7365 640a 2020  ts are raised.  
-0002c340: 2020 2020 2020 2020 2020 2020 2020 3229                2)
-0002c350: 6465 7363 7269 6265 6420 7573 696e 6720  described using 
-0002c360: 556e 6978 2045 706f 6368 2074 696d 6520  Unix Epoch time 
-0002c370: 696e 2073 6563 6f6e 6473 2020 4465 6661  in seconds  Defa
-0002c380: 756c 7420 3330 2064 6179 7320 286d 6178  ult 30 days (max
-0002c390: 2039 3029 0a20 2020 2020 2020 2020 2020   90).           
-0002c3a0: 2074 6f5f 7473 2028 696e 742c 206f 7074   to_ts (int, opt
-0002c3b0: 696f 6e61 6c29 3a20 3129 656e 6420 6f66  ional): 1)end of
-0002c3c0: 2064 7572 6174 696f 6e20 7769 7468 696e   duration within
-0002c3d0: 2077 6869 6368 2061 6c65 7274 7320 6172   which alerts ar
-0002c3e0: 6520 7261 6973 6564 0a20 2020 2020 2020  e raised.       
-0002c3f0: 2020 2020 2020 2020 2032 2964 6573 6372           2)descr
-0002c400: 6962 6564 2075 7369 6e67 2055 6e69 7820  ibed using Unix 
-0002c410: 4570 6f63 6820 7469 6d65 2069 6e20 7365  Epoch time in se
-0002c420: 636f 6e64 730a 2020 2020 2020 2020 2020  conds.          
-0002c430: 2020 7365 7665 7269 7479 2028 7374 722c    severity (str,
-0002c440: 206f 7074 696f 6e61 6c29 3a20 5573 6564   optional): Used
-0002c450: 2074 6f20 6669 6c74 6572 2074 6865 206e   to filter the n
-0002c460: 6f74 6966 6963 6174 696f 6e20 7479 7065  otification type
-0002c470: 7320 6261 7365 6420 6f6e 2073 6576 6572  s based on sever
-0002c480: 6974 790a 2020 2020 2020 2020 2020 2020  ity.            
-0002c490: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-0002c4a0: 6e61 6c29 3a20 5573 6564 2074 6f20 6669  nal): Used to fi
-0002c4b0: 6c74 6572 2074 6865 206e 6f74 6966 6963  lter the notific
-0002c4c0: 6174 696f 6e20 7479 7065 7320 6261 7365  ation types base
-0002c4d0: 6420 6f6e 206e 6f74 6966 6963 6174 696f  d on notificatio
-0002c4e0: 6e20 7479 7065 0a20 2020 2020 2020 2020  n type.         
-0002c4f0: 2020 2020 2020 206e 616d 650a 2020 2020         name.    
-0002c500: 2020 2020 2020 2020 7365 6172 6368 2028          search (
-0002c510: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0002c520: 7465 726d 2075 7365 6420 746f 2073 6561  term used to sea
-0002c530: 7263 6820 696e 206e 616d 652c 2063 6174  rch in name, cat
-0002c540: 6567 6f72 7920 6f66 2074 6865 2061 6c65  egory of the ale
-0002c550: 7274 0a20 2020 2020 2020 2020 2020 2063  rt.            c
-0002c560: 616c 6375 6c61 7465 5f74 6f74 616c 2028  alculate_total (
-0002c570: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-0002c580: 2057 6865 7468 6572 2074 6f20 636f 756e   Whether to coun
-0002c590: 7420 746f 7461 6c20 6974 656d 7320 696e  t total items in
-0002c5a0: 2074 6865 2072 6573 706f 6e73 650a 2020   the response.  
-0002c5b0: 2020 2020 2020 2020 2020 6163 6b20 2862            ack (b
-0002c5c0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0002c5d0: 4669 6c74 6572 2061 636b 6e6f 776c 6564  Filter acknowled
-0002c5e0: 6765 6420 6f72 2075 6e61 636b 6e6f 776c  ged or unacknowl
-0002c5f0: 6564 6765 6420 6e6f 7469 6669 6361 7469  edged notificati
-0002c600: 6f6e 732e 2057 6865 6e20 7175 6572 790a  ons. When query.
-0002c610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c620: 7061 7261 6d65 7465 7220 6973 206e 6f74  parameter is not
-0002c630: 2073 7065 6369 6669 6564 2c20 626f 7468   specified, both
-0002c640: 2061 636b 6e6f 776c 6564 6765 6420 616e   acknowledged an
-0002c650: 6420 756e 6163 6b6e 6f77 6c65 6467 6564  d unacknowledged
-0002c660: 206e 6f74 6966 6963 6174 696f 6e73 2061   notifications a
-0002c670: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
-0002c680: 2020 2069 6e63 6c75 6465 640a 2020 2020     included.    
-0002c690: 2020 2020 2020 2020 6669 656c 6473 2028          fields (
-0002c6a0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0002c6b0: 436f 6d6d 6120 7365 7061 7261 7465 6420  Comma separated 
-0002c6c0: 6c69 7374 206f 6620 6669 656c 6473 2074  list of fields t
-0002c6d0: 6f20 6265 2072 6574 7572 6e65 640a 2020  o be returned.  
-0002c6e0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-0002c6f0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002c700: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-0002c710: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-0002c720: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-0002c730: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-0002c740: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-0002c750: 206c 696d 6974 2e20 4465 6661 756c 7420   limit. Default 
-0002c760: 6973 2031 3030 2061 6e64 206d 6178 2069  is 100 and max i
-0002c770: 7320 3130 3030 2044 6566 6175 6c74 7320  s 1000 Defaults 
-0002c780: 746f 2035 3030 2e0a 0a20 2020 2020 2020  to 500...       
-0002c790: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0002c7a0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0002c7b0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0002c7c0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0002c7d0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0002c7e0: 726c 203d 2022 2f63 656e 7472 616c 2f76  rl = "/central/v
-0002c7f0: 312f 6e6f 7469 6669 6361 7469 6f6e 7322  1/notifications"
-0002c800: 0a0a 2020 2020 2020 2020 6966 206e 6f74  ..        if not
-0002c810: 2066 726f 6d5f 7473 3a0a 2020 2020 2020   from_ts:.      
-0002c820: 2020 2020 2020 6672 6f6d 5f74 7320 3d20        from_ts = 
-0002c830: 696e 7428 6461 7465 7469 6d65 2e74 696d  int(datetime.tim
-0002c840: 6573 7461 6d70 2864 6174 6574 696d 652e  estamp(datetime.
-0002c850: 746f 6461 7928 2920 2d20 7469 6d65 6465  today() - timede
-0002c860: 6c74 6128 6461 7973 3d31 2929 290a 2020  lta(days=1))).  
-0002c870: 2020 2020 2020 6966 2061 636b 2069 6e20        if ack in 
-0002c880: 5b54 7275 652c 2046 616c 7365 5d3a 0a20  [True, False]:. 
-0002c890: 2020 2020 2020 2020 2020 2061 636b 203d             ack =
-0002c8a0: 2073 7472 2861 636b 292e 6c6f 7765 7228   str(ack).lower(
-0002c8b0: 290a 0a20 2020 2020 2020 2069 6620 746f  )..        if to
-0002c8c0: 5f74 7320 616e 6420 746f 5f74 7320 3c3d  _ts and to_ts <=
-0002c8d0: 2066 726f 6d5f 7473 3a0a 2020 2020 2020   from_ts:.      
-0002c8e0: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-0002c8f0: 706f 6e73 6528 6572 726f 723d 6622 546f  ponse(error=f"To
-0002c900: 2074 696d 6573 7461 6d70 2028 7b74 6f5f   timestamp ({to_
-0002c910: 7473 7d29 2063 616e 206e 6f74 2062 6520  ts}) can not be 
-0002c920: 6c65 7373 2074 6861 6e20 6672 6f6d 2074  less than from t
-0002c930: 696d 6573 7461 6d70 2028 7b66 726f 6d5f  imestamp ({from_
-0002c940: 7473 7d29 2229 0a0a 2020 2020 2020 2020  ts})")..        
-0002c950: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-0002c960: 2020 2020 2020 2027 6375 7374 6f6d 6572         'customer
-0002c970: 5f69 6427 3a20 6375 7374 6f6d 6572 5f69  _id': customer_i
-0002c980: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-0002c990: 6772 6f75 7027 3a20 6772 6f75 702c 0a20  group': group,. 
-0002c9a0: 2020 2020 2020 2020 2020 2027 6c61 6265             'labe
-0002c9b0: 6c27 3a20 6c61 6265 6c2c 0a20 2020 2020  l': label,.     
-0002c9c0: 2020 2020 2020 2027 7365 7269 616c 273a         'serial':
-0002c9d0: 2073 6572 6961 6c2c 0a20 2020 2020 2020   serial,.       
-0002c9e0: 2020 2020 2027 7369 7465 273a 2073 6974       'site': sit
-0002c9f0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-0002ca00: 6672 6f6d 5f74 696d 6573 7461 6d70 273a  from_timestamp':
-0002ca10: 2066 726f 6d5f 7473 2c0a 2020 2020 2020   from_ts,.      
-0002ca20: 2020 2020 2020 2774 6f5f 7469 6d65 7374        'to_timest
-0002ca30: 616d 7027 3a20 746f 5f74 732c 0a20 2020  amp': to_ts,.   
-0002ca40: 2020 2020 2020 2020 2027 7365 7665 7269           'severi
-0002ca50: 7479 273a 2073 6576 6572 6974 792c 0a20  ty': severity,. 
-0002ca60: 2020 2020 2020 2020 2020 2027 7365 6172             'sear
-0002ca70: 6368 273a 2073 6561 7263 682c 0a20 2020  ch': search,.   
-0002ca80: 2020 2020 2020 2020 2023 2027 6361 6c63           # 'calc
-0002ca90: 756c 6174 655f 746f 7461 6c27 3a20 7374  ulate_total': st
-0002caa0: 7228 6361 6c63 756c 6174 655f 746f 7461  r(calculate_tota
-0002cab0: 6c29 2c0a 2020 2020 2020 2020 2020 2020  l),.            
-0002cac0: 2774 7970 6527 3a20 7479 7065 2c0a 2020  'type': type,.  
-0002cad0: 2020 2020 2020 2020 2020 2761 636b 273a            'ack':
-0002cae0: 2061 636b 2c0a 2020 2020 2020 2020 2020   ack,.          
-0002caf0: 2020 2766 6965 6c64 7327 3a20 6669 656c    'fields': fiel
-0002cb00: 6473 2c0a 2020 2020 2020 2020 2020 2020  ds,.            
-0002cb10: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
-0002cb20: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-0002cb30: 696d 6974 273a 206c 696d 6974 2c0a 2020  imit': limit,.  
-0002cb40: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0002cb50: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0002cb60: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-0002cb70: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-0002cb80: 6173 796e 6320 6465 6620 6365 6e74 7261  async def centra
-0002cb90: 6c5f 6163 6b6e 6f77 6c65 6467 655f 6e6f  l_acknowledge_no
-0002cba0: 7469 6669 6361 7469 6f6e 7328 0a20 2020  tifications(.   
-0002cbb0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002cbc0: 2020 204e 6f4e 616d 653a 204c 6973 745b     NoName: List[
-0002cbd0: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
-0002cbe0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0002cbf0: 2020 2020 2020 2020 2222 2241 636b 6e6f          """Ackno
-0002cc00: 776c 6564 6765 204e 6f74 6966 6963 6174  wledge Notificat
-0002cc10: 696f 6e73 2062 7920 4944 204c 6973 7420  ions by ID List 
-0002cc20: 2f20 416c 6c2e 0a0a 2020 2020 2020 2020  / All...        
-0002cc30: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0002cc40: 2020 4e6f 4e61 6d65 2028 4c69 7374 5b73    NoName (List[s
-0002cc50: 7472 5d2c 206f 7074 696f 6e61 6c29 3a20  tr], optional): 
-0002cc60: 4163 6b6e 6f77 6c65 6467 6520 6e6f 7469  Acknowledge noti
-0002cc70: 6669 6361 7469 6f6e 730a 0a20 2020 2020  fications..     
-0002cc80: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0002cc90: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0002cca0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0002ccb0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0002ccc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002ccd0: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
-0002cce0: 2f76 312f 6e6f 7469 6669 6361 7469 6f6e  /v1/notification
-0002ccf0: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
-0002cd00: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
-0002cd10: 7374 2875 726c 290a 0a20 2020 2061 7379  st(url)..    asy
-0002cd20: 6e63 2064 6566 2063 656e 7472 616c 5f67  nc def central_g
-0002cd30: 6574 5f6e 6f74 6966 6963 6174 696f 6e5f  et_notification_
-0002cd40: 636f 6e66 6967 280a 2020 2020 2020 2020  config(.        
-0002cd50: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
-0002cd60: 6172 6368 3a20 7374 7220 3d20 4e6f 6e65  arch: str = None
-0002cd70: 2c0a 2020 2020 2020 2020 736f 7274 3a20  ,.        sort: 
-0002cd80: 7374 7220 3d20 272d 6372 6561 7465 645f  str = '-created_
-0002cd90: 7473 272c 0a20 2020 2020 2020 206f 6666  ts',.        off
-0002cda0: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
-0002cdb0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-0002cdc0: 203d 2035 3030 2c0a 2020 2020 2920 2d3e   = 500,.    ) ->
-0002cdd0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002cde0: 2020 2022 2222 4c69 7374 2043 6f6e 6669     """List Confi
-0002cdf0: 6775 7261 7469 6f6e 2f53 6574 7469 6e67  guration/Setting
-0002ce00: 7320 666f 7220 616c 6572 7473 2074 6861  s for alerts tha
-0002ce10: 7420 7265 7375 6c74 2069 6e20 6e6f 7469  t result in noti
-0002ce20: 6669 6361 7469 6f6e 2e0a 0a20 2020 2020  fication...     
-0002ce30: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0002ce40: 2020 2020 2073 6561 7263 6820 2873 7472       search (str
-0002ce50: 2c20 6f70 7469 6f6e 616c 293a 2074 6572  , optional): ter
-0002ce60: 6d20 7573 6564 2074 6f20 7365 6172 6368  m used to search
-0002ce70: 2069 6e20 6e61 6d65 2c20 6361 7465 676f   in name, catego
-0002ce80: 7279 206f 6620 7468 6520 616c 6572 740a  ry of the alert.
-0002ce90: 2020 2020 2020 2020 2020 2020 736f 7274              sort
-0002cea0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0002ceb0: 3a20 536f 7274 2070 6172 616d 6574 6572  : Sort parameter
-0002cec0: 206d 6179 2062 6520 6f6e 6520 6f66 202b   may be one of +
-0002ced0: 6372 6561 7465 645f 7473 2c20 2d63 7265  created_ts, -cre
-0002cee0: 6174 6564 5f74 732c 2044 6566 6175 6c74  ated_ts, Default
-0002cef0: 2069 730a 2020 2020 2020 2020 2020 2020   is.            
-0002cf00: 2020 2020 272d 6372 6561 7465 645f 7473      '-created_ts
-0002cf10: 2720 2056 616c 6964 2056 616c 7565 733a  '  Valid Values:
-0002cf20: 202d 6372 6561 7465 645f 7473 2c20 2b63   -created_ts, +c
-0002cf30: 7265 6174 6564 5f74 730a 2020 2020 2020  reated_ts.      
-0002cf40: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-0002cf50: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-0002cf60: 6769 6e61 7469 6f6e 206f 6666 7365 7420  gination offset 
-0002cf70: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
-0002cf80: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-0002cf90: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002cfa0: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
-0002cfb0: 6974 2e20 4465 6661 756c 7420 6973 2031  it. Default is 1
-0002cfc0: 3030 2061 6e64 206d 6178 2069 7320 3130  00 and max is 10
-0002cfd0: 3030 2044 6566 6175 6c74 7320 746f 2031  00 Defaults to 1
-0002cfe0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-0002cff0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0002d000: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0002d010: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0002d020: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0002d030: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0002d040: 2022 2f63 656e 7472 616c 2f76 312f 6e6f   "/central/v1/no
-0002d050: 7469 6669 6361 7469 6f6e 732f 7365 7474  tifications/sett
-0002d060: 696e 6773 220a 0a20 2020 2020 2020 2070  ings"..        p
-0002d070: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0002d080: 2020 2020 2020 2773 6561 7263 6827 3a20        'search': 
-0002d090: 7365 6172 6368 2c0a 2020 2020 2020 2020  search,.        
-0002d0a0: 2020 2020 2773 6f72 7427 3a20 736f 7274      'sort': sort
-0002d0b0: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
-0002d0c0: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
-0002d0d0: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-0002d0e0: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-0002d0f0: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0002d100: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0002d110: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0002d120: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0002d130: 6e63 2064 6566 2067 6574 5f61 705f 636f  nc def get_ap_co
-0002d140: 6e66 6967 280a 2020 2020 2020 2020 7365  nfig(.        se
-0002d150: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
-0002d160: 705f 7377 6172 6d69 643a 2073 7472 2c0a  p_swarmid: str,.
-0002d170: 2020 2020 2020 2020 7665 7273 696f 6e3a          version:
-0002d180: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0002d190: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0002d1a0: 2020 2020 2020 2020 2222 2247 6574 2041          """Get A
-0002d1b0: 5020 4772 6f75 7020 4c65 7665 6c20 636f  P Group Level co
-0002d1c0: 6e66 6967 7572 6174 696f 6e20 666f 7220  nfiguration for 
-0002d1d0: 5549 2067 726f 7570 2e0a 0a20 2020 2020  UI group...     
-0002d1e0: 2020 202f 2f20 5573 6564 2062 7920 7368     // Used by sh
-0002d1f0: 6f77 2063 6f6e 6669 6720 3c41 5020 4d41  ow config <AP MA
-0002d200: 4320 666f 7220 414f 5331 3020 4150 3e20  C for AOS10 AP> 
-0002d210: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-0002d220: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-0002d230: 6f75 705f 7377 6172 6d69 6420 2873 7472  oup_swarmid (str
-0002d240: 293a 2047 726f 7570 206e 616d 6520 6f66  ): Group name of
-0002d250: 2074 6865 2067 726f 7570 206f 7220 6775   the group or gu
-0002d260: 6964 206f 6620 7468 6520 7377 6172 6d2e  id of the swarm.
-0002d270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d280: 2045 7861 6d70 6c65 3a47 726f 7570 5f31   Example:Group_1
-0002d290: 206f 7220 3661 3564 3132 3362 3031 6639   or 6a5d123b01f9
-0002d2a0: 3434 3138 3036 3234 3465 6136 6530 3233  441806244ea6e023
-0002d2b0: 6661 6235 3834 3162 3737 6338 3238 6130  fab5841b77c828a0
-0002d2c0: 3835 6630 3466 2e0a 2020 2020 2020 2020  85f04f..        
-0002d2d0: 2020 2020 7665 7273 696f 6e20 2873 7472      version (str
-0002d2e0: 2c20 6f70 7469 6f6e 616c 293a 2056 6572  , optional): Ver
-0002d2f0: 7369 6f6e 206f 6620 4150 2e0a 0a20 2020  sion of AP...   
-0002d300: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0002d310: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0002d320: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0002d330: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0002d340: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0002d350: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
-0002d360: 6967 7572 6174 696f 6e2f 7631 2f61 705f  iguration/v1/ap_
-0002d370: 636c 692f 7b67 726f 7570 5f73 7761 726d  cli/{group_swarm
-0002d380: 6964 7d22 0a0a 2020 2020 2020 2020 7061  id}"..        pa
-0002d390: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-0002d3a0: 2020 2020 2027 7665 7273 696f 6e27 3a20       'version': 
-0002d3b0: 7665 7273 696f 6e0a 2020 2020 2020 2020  version.        
-0002d3c0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0002d3d0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0002d3e0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-0002d3f0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-0002d400: 6465 6620 7265 706c 6163 655f 6170 5f63  def replace_ap_c
-0002d410: 6f6e 6669 6728 0a20 2020 2020 2020 2073  onfig(.        s
-0002d420: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
-0002d430: 7570 5f6e 616d 655f 6f72 5f67 7569 643a  up_name_or_guid:
-0002d440: 2073 7472 2c0a 2020 2020 2020 2020 636c   str,.        cl
-0002d450: 6973 3a20 4c69 7374 5b73 7472 5d2c 0a20  is: List[str],. 
-0002d460: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0002d470: 3a0a 2020 2020 2020 2020 2222 2252 6570  :.        """Rep
-0002d480: 6c61 6365 2041 5020 4772 6f75 7020 4c65  lace AP Group Le
-0002d490: 7665 6c20 636f 6e66 6967 7572 6174 696f  vel configuratio
-0002d4a0: 6e20 666f 7220 5549 2067 726f 7570 2e0a  n for UI group..
-0002d4b0: 0a20 2020 2020 2020 2053 656e 6420 4150  .        Send AP
-0002d4c0: 2063 6f6e 6669 6775 7261 7469 6f6e 2069   configuration i
-0002d4d0: 6e20 434c 4920 666f 726d 6174 2061 7320  n CLI format as 
-0002d4e0: 6120 6c69 7374 206f 6620 7374 7269 6e67  a list of string
-0002d4f0: 7320 7768 6572 6520 6561 6368 2069 7465  s where each ite
-0002d500: 6d20 696e 2074 6865 206c 6973 7420 6973  m in the list is
-0002d510: 0a20 2020 2020 2020 2061 206c 696e 6520  .        a line 
-0002d520: 6672 6f6d 2074 6865 2063 6f6e 6669 672e  from the config.
-0002d530: 2020 5265 7175 6972 6573 2061 6c6c 206c    Requires all l
-0002d540: 696e 6573 206f 6620 7468 6520 636f 6e66  ines of the conf
-0002d550: 6967 2c20 6e6f 7420 6120 7061 7274 6961  ig, not a partia
-0002d560: 6c20 7570 6461 7465 2e0a 0a20 2020 2020  l update...     
-0002d570: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0002d580: 2020 2020 2067 726f 7570 5f6e 616d 655f       group_name_
-0002d590: 6f72 5f67 7569 6420 2873 7472 293a 2047  or_guid (str): G
-0002d5a0: 726f 7570 206e 616d 6520 6f66 2074 6865  roup name of the
-0002d5b0: 2067 726f 7570 206f 7220 6775 6964 206f   group or guid o
-0002d5c0: 6620 7468 6520 7377 6172 6d2e 0a20 2020  f the swarm..   
-0002d5d0: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
-0002d5e0: 6d70 6c65 3a47 726f 7570 5f31 206f 7220  mple:Group_1 or 
-0002d5f0: 3661 3564 3132 3362 3031 6639 3434 3138  6a5d123b01f94418
-0002d600: 3036 3234 3465 6136 6530 3233 6661 6235  06244ea6e023fab5
-0002d610: 3834 3162 3737 6338 3238 6130 3835 6630  841b77c828a085f0
-0002d620: 3466 2e0a 2020 2020 2020 2020 2020 2020  4f..            
-0002d630: 636c 6973 2028 4c69 7374 5b73 7472 5d29  clis (List[str])
-0002d640: 3a20 5768 6f6c 6520 636f 6e66 6967 7572  : Whole configur
-0002d650: 6174 696f 6e20 4c69 7374 2069 6e20 434c  ation List in CL
-0002d660: 4920 666f 726d 6174 2e0a 0a20 2020 2020  I format...     
-0002d670: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0002d680: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0002d690: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0002d6a0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0002d6b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002d6c0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
-0002d6d0: 7572 6174 696f 6e2f 7631 2f61 705f 636c  uration/v1/ap_cl
-0002d6e0: 692f 7b67 726f 7570 5f6e 616d 655f 6f72  i/{group_name_or
-0002d6f0: 5f67 7569 647d 220a 0a20 2020 2020 2020  _guid}"..       
-0002d700: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-0002d710: 2020 2020 2020 2020 2020 2027 636c 6973             'clis
-0002d720: 273a 2063 6c69 730a 2020 2020 2020 2020  ': clis.        
-0002d730: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0002d740: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
-0002d750: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
-0002d760: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-0002d770: 2061 7379 6e63 2064 6566 2067 6574 5f70   async def get_p
-0002d780: 6572 5f61 705f 636f 6e66 6967 280a 2020  er_ap_config(.  
-0002d790: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0002d7a0: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
-0002d7b0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0002d7c0: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-0002d7d0: 6574 2070 6572 2041 5020 7365 7474 696e  et per AP settin
-0002d7e0: 672e 0a0a 2020 2020 2020 2020 4172 6773  g...        Args
-0002d7f0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0002d800: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
-0002d810: 616c 204e 756d 6265 7220 6f66 2041 500a  al Number of AP.
-0002d820: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0002d830: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0002d840: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0002d850: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0002d860: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0002d870: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0002d880: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-0002d890: 2f61 705f 7365 7474 696e 6773 5f63 6c69  /ap_settings_cli
-0002d8a0: 2f7b 7365 7269 616c 7d22 0a0a 2020 2020  /{serial}"..    
-0002d8b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002d8c0: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
-0002d8d0: 2020 2020 6173 796e 6320 6465 6620 7265      async def re
-0002d8e0: 706c 6163 655f 7065 725f 6170 5f63 6f6e  place_per_ap_con
-0002d8f0: 6669 6728 0a20 2020 2020 2020 2073 656c  fig(.        sel
-0002d900: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
-0002d910: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
-0002d920: 636c 6973 3a20 4c69 7374 5b73 7472 5d2c  clis: List[str],
-0002d930: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0002d940: 7365 3a0a 2020 2020 2020 2020 2222 2252  se:.        """R
-0002d950: 6570 6c61 6365 2070 6572 2041 5020 7365  eplace per AP se
-0002d960: 7474 696e 672e 0a0a 2020 2020 2020 2020  tting...        
-0002d970: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0002d980: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
-0002d990: 5365 7269 616c 204e 756d 6265 7220 6f66  Serial Number of
-0002d9a0: 2041 500a 2020 2020 2020 2020 2020 2020   AP.            
-0002d9b0: 636c 6973 2028 4c69 7374 5b73 7472 5d29  clis (List[str])
-0002d9c0: 3a20 416c 6c20 7065 7220 4150 2073 6574  : All per AP set
-0002d9d0: 7469 6e67 204c 6973 7420 696e 2043 4c49  ting List in CLI
-0002d9e0: 2066 6f72 6d61 740a 2020 2020 2020 2020   format.        
-0002d9f0: 2020 2020 2020 2020 4d75 7374 2070 726f          Must pro
-0002da00: 7669 6465 2061 6c6c 2070 6572 2041 5020  vide all per AP 
-0002da10: 7365 7474 696e 6773 2c20 6e6f 7420 7061  settings, not pa
-0002da20: 7274 6961 6c0a 0a20 2020 2020 2020 2052  rtial..        R
-0002da30: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0002da40: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0002da50: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0002da60: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0002da70: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0002da80: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
-0002da90: 696f 6e2f 7631 2f61 705f 7365 7474 696e  ion/v1/ap_settin
-0002daa0: 6773 5f63 6c69 2f7b 7365 7269 616c 7d22  gs_cli/{serial}"
-0002dab0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
-0002dac0: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
-0002dad0: 2020 2020 2763 6c69 7327 3a20 636c 6973      'clis': clis
-0002dae0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0002daf0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002db00: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-0002db10: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-0002db20: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-0002db30: 6465 6620 6765 745f 6272 6163 685f 6865  def get_brach_he
-0002db40: 616c 7468 280a 2020 2020 2020 2020 7365  alth(.        se
-0002db50: 6c66 2c0a 2020 2020 2020 2020 6e61 6d65  lf,.        name
-0002db60: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002db70: 2020 2020 2020 636f 6c75 6d6e 3a20 696e        column: in
-0002db80: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-0002db90: 2020 7265 7665 7273 653a 2062 6f6f 6c20    reverse: bool 
-0002dba0: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-0002dbb0: 2066 696c 7465 7273 3a20 6469 6374 203d   filters: dict =
-0002dbc0: 207b 7d2c 0a20 2020 2020 2020 206f 6666   {},.        off
-0002dbd0: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
-0002dbe0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-0002dbf0: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
-0002dc00: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002dc10: 2020 2022 2222 4765 7420 6461 7461 2066     """Get data f
-0002dc20: 6f72 2061 6c6c 2073 6974 6573 2e0a 0a20  or all sites... 
-0002dc30: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002dc40: 2020 2020 2020 2020 206e 616d 6520 2873           name (s
-0002dc50: 7472 2c20 6f70 7469 6f6e 616c 293a 2073  tr, optional): s
-0002dc60: 6974 6520 2f20 6c61 6265 6c20 6e61 6d65  ite / label name
-0002dc70: 206f 7220 7061 7274 206f 6620 6974 7320   or part of its 
-0002dc80: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-0002dc90: 2063 6f6c 756d 6e20 2869 6e74 2c20 6f70   column (int, op
-0002dca0: 7469 6f6e 616c 293a 2043 6f6c 756d 6e20  tional): Column 
-0002dcb0: 746f 2073 6f72 7420 6f6e 0a20 2020 2020  to sort on.     
-0002dcc0: 2020 2020 2020 2072 6576 6572 7365 2028         reverse (
-0002dcd0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-0002dce0: 2053 6f72 7420 696e 2072 6576 6572 7365   Sort in reverse
-0002dcf0: 206f 7264 6572 3a0a 2020 2020 2020 2020   order:.        
-0002dd00: 2020 2020 2020 2020 5661 6c69 6420 5661          Valid Va
-0002dd10: 6c75 6573 3a20 6173 632c 2064 6573 630a  lues: asc, desc.
-0002dd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002dd30: 2a20 6173 6320 2d20 4173 6365 6e64 696e  * asc - Ascendin
-0002dd40: 672c 2066 726f 6d20 4120 746f 205a 2e0a  g, from A to Z..
-0002dd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002dd60: 2a20 6465 7363 202d 2044 6573 6365 6e64  * desc - Descend
-0002dd70: 696e 672c 2066 726f 6d20 5a20 746f 2041  ing, from Z to A
-0002dd80: 2e0a 0a0a 2020 2020 2020 2020 2020 2020  ....            
-0002dd90: 6669 6c74 6572 7320 2873 7472 2c20 6f70  filters (str, op
-0002dda0: 7469 6f6e 616c 293a 2053 6974 6520 7468  tional): Site th
-0002ddb0: 7265 7368 6f6c 6473 0a20 2020 2020 2020  resholds.       
-0002ddc0: 2020 2020 2020 2020 2056 616c 6964 2056           Valid V
-0002ddd0: 616c 7565 733a 2067 7420 2028 4772 6561  alues: gt  (Grea
-0002dde0: 7465 7220 7468 616e 292c 206c 7420 2028  ter than), lt  (
-0002ddf0: 4c65 7373 2074 6861 6e29 2c20 6774 6520  Less than), gte 
-0002de00: 2847 7265 6174 6572 2074 6861 6e20 6f72  (Greater than or
-0002de10: 2065 7175 616c 2074 6f29 2c0a 2020 2020   equal to),.    
-0002de20: 2020 2020 2020 2020 2020 2020 6c74 6520              lte 
-0002de30: 284c 6573 7320 7468 616e 206f 7220 6571  (Less than or eq
-0002de40: 7561 6c20 746f 290a 2020 2020 2020 2020  ual to).        
-0002de50: 2020 2020 2020 2020 2a20 416c 6c20 7072          * All pr
-0002de60: 6f70 6572 7469 6573 206f 6620 6120 7369  operties of a si
-0002de70: 7465 2063 616e 2062 6520 7573 6564 2061  te can be used a
-0002de80: 7320 6669 6c74 6572 2070 6172 616d 6574  s filter paramet
-0002de90: 6572 7320 7769 7468 2061 2074 6872 6573  ers with a thres
-0002dea0: 686f 6c64 0a20 2020 2020 2020 2020 2020  hold.           
-0002deb0: 2020 2020 202a 2054 6865 2072 616e 6765       * The range
-0002dec0: 2066 696c 7465 7273 2063 616e 2062 6520   filters can be 
-0002ded0: 636f 6d62 696e 6564 2077 6974 6820 7468  combined with th
-0002dee0: 6520 636f 6c75 6d6e 206e 616d 6573 2077  e column names w
-0002def0: 6974 6820 225c 5f5f 2220 2023 206e 6f71  ith "\__"  # noq
-0002df00: 610a 2020 2020 2020 2020 2020 2020 2020  a.              
-0002df10: 2020 2a20 466f 7220 6567 2e20 2f73 6974    * For eg. /sit
-0002df20: 653f 6465 7669 6365 5f64 6f77 6e5c 5f5f  e?device_down\__
-0002df30: 6774 3d30 202d 204c 6973 7473 2061 6c6c  gt=0 - Lists all
-0002df40: 2073 6974 6573 2074 6861 7420 6861 7665   sites that have
-0002df50: 206d 6f72 6520 7468 616e 2031 2064 6576   more than 1 dev
-0002df60: 6963 6520 696e 2064 6f77 6e20 7374 6174  ice in down stat
-0002df70: 6520 2320 6e6f 7161 0a20 2020 2020 2020  e # noqa.       
-0002df80: 2020 2020 2020 2020 202a 2046 6f72 2065           * For e
-0002df90: 672e 202f 7369 7465 3f77 616e 5f75 706c  g. /site?wan_upl
-0002dfa0: 696e 6b73 5f64 6f77 6e5c 5f5f 6c74 3d31  inks_down\__lt=1
-0002dfb0: 202d 204c 6973 7473 2061 6c6c 2073 6974   - Lists all sit
-0002dfc0: 6573 2074 6861 7420 6861 7665 206c 6573  es that have les
-0002dfd0: 7320 7468 616e 2031 2077 616e 2069 6e20  s than 1 wan in 
-0002dfe0: 646f 776e 2073 7461 7465 2023 206e 6f71  down state # noq
-0002dff0: 610a 2020 2020 2020 2020 2020 2020 2020  a.              
-0002e000: 2020 2a20 466f 7220 6567 2e20 2f73 6974    * For eg. /sit
-0002e010: 653f 6465 7669 6365 5f75 705f 5f67 743d  e?device_up__gt=
-0002e020: 3126 6465 7669 6365 5f75 705c 5f5f 6c74  1&device_up\__lt
-0002e030: 3d31 3020 2d20 4c69 7374 7320 616c 6c20  =10 - Lists all 
-0002e040: 7369 7465 7320 7468 6174 2068 6176 6520  sites that have 
-0002e050: 312d 3130 2064 6576 6963 6573 2075 7020  1-10 devices up 
-0002e060: 2320 6e6f 7161 0a0a 0a20 2020 2020 2020  # noqa...       
-0002e070: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-0002e080: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
-0002e090: 696e 6174 696f 6e20 7374 6172 7420 696e  ination start in
-0002e0a0: 6465 7820 4465 6661 756c 7473 2074 6f20  dex Defaults to 
-0002e0b0: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-0002e0c0: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-0002e0d0: 6e61 6c29 3a20 7061 6769 6e61 7469 6f6e  nal): pagination
-0002e0e0: 2073 697a 6520 4465 6661 756c 7473 2074   size Defaults t
-0002e0f0: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
-0002e100: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0002e110: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0002e120: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0002e130: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0002e140: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0002e150: 6c20 3d20 222f 6272 616e 6368 6865 616c  l = "/branchheal
-0002e160: 7468 2f76 312f 7369 7465 220a 0a20 2020  th/v1/site"..   
-0002e170: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0002e180: 2020 2020 2020 2020 2020 2020 226e 616d              "nam
-0002e190: 6522 3a20 6e61 6d65 2c0a 2020 2020 2020  e": name,.      
-0002e1a0: 2020 2020 2020 2320 2263 6f6c 756d 6e22        # "column"
-0002e1b0: 3a20 636f 6c75 6d6e 2c0a 2020 2020 2020  : column,.      
-0002e1c0: 2020 2020 2020 226f 7264 6572 223a 2022        "order": "
-0002e1d0: 6173 6322 2069 6620 6e6f 7420 7265 7665  asc" if not reve
-0002e1e0: 7273 6520 656c 7365 2022 6465 7363 222c  rse else "desc",
-0002e1f0: 0a20 2020 2020 2020 2020 2020 2023 2022  .            # "
-0002e200: 7761 6e5f 7475 6e6e 656c 735f 646f 776e  wan_tunnels_down
-0002e210: 5c5f 5f67 7422 3a20 2230 222c 0a20 2020  \__gt": "0",.   
-0002e220: 2020 2020 2020 2020 2023 2022 7761 6e5f           # "wan_
-0002e230: 7570 6c69 6e6b 735f 646f 776e 5c5f 5f67  uplinks_down\__g
-0002e240: 7422 3a20 2230 222c 0a20 2020 2020 2020  t": "0",.       
-0002e250: 2020 2020 2023 202a 2a66 696c 7465 7273       # **filters
-0002e260: 2c0a 2020 2020 2020 2020 2020 2020 226f  ,.            "o
-0002e270: 6666 7365 7422 3a20 6f66 6673 6574 2c0a  ffset": offset,.
-0002e280: 2020 2020 2020 2020 2020 2020 226c 696d              "lim
-0002e290: 6974 223a 206c 696d 6974 2c0a 2020 2020  it": limit,.    
-0002e2a0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0002e2b0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0002e2c0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0002e2d0: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-0002e2e0: 796e 6320 6465 6620 6765 745f 6172 6368  ync def get_arch
-0002e2f0: 6976 6564 5f64 6576 6963 6573 280a 2020  ived_devices(.  
-0002e300: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0002e310: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0002e320: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0002e330: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
-0002e340: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0002e350: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-0002e360: 2041 7263 6869 7665 6420 6465 7669 6365   Archived device
-0002e370: 7320 6672 6f6d 2064 6576 6963 6520 696e  s from device in
-0002e380: 7665 6e74 6f72 792e 0a0a 2020 2020 2020  ventory...      
-0002e390: 2020 2f2f 2055 7365 6420 6279 2073 686f    // Used by sho
-0002e3a0: 7720 6172 6368 6976 6564 202f 2f0a 0a20  w archived //.. 
-0002e3b0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002e3c0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
-0002e3d0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002e3e0: 206f 6666 7365 7420 6f72 2070 6167 6520   offset or page 
-0002e3f0: 6e75 6d62 6572 2044 6566 6175 6c74 7320  number Defaults 
-0002e400: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
-0002e410: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-0002e420: 7469 6f6e 616c 293a 204e 756d 6265 7220  tional): Number 
-0002e430: 6f66 2064 6576 6963 6573 2074 6f20 6765  of devices to ge
-0002e440: 7420 4465 6661 756c 7473 2074 6f20 3130  t Defaults to 10
-0002e450: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-0002e460: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002e470: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002e480: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002e490: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002e4a0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0002e4b0: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
-0002e4c0: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
-0002e4d0: 6576 6963 6573 2f61 7263 6869 7665 220a  evices/archive".
-0002e4e0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0002e4f0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0002e500: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
-0002e510: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-0002e520: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-0002e530: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0002e540: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0002e550: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0002e560: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-0002e570: 7379 6e63 2064 6566 2061 7263 6869 7665  sync def archive
-0002e580: 5f64 6576 6963 6573 280a 2020 2020 2020  _devices(.      
-0002e590: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0002e5a0: 7365 7269 616c 733a 204c 6973 745b 7374  serials: List[st
-0002e5b0: 725d 2c0a 2020 2020 2920 2d3e 2052 6573  r],.    ) -> Res
-0002e5c0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0002e5d0: 2222 4172 6368 6976 6520 6465 7669 6365  ""Archive device
-0002e5e0: 7320 7573 696e 6720 5365 7269 616c 206c  s using Serial l
-0002e5f0: 6973 742e 0a0a 2020 2020 2020 2020 4172  ist...        Ar
-0002e600: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0002e610: 7365 7269 616c 7320 284c 6973 745b 7374  serials (List[st
-0002e620: 725d 293a 2073 6572 6961 6c73 0a0a 2020  r]): serials..  
-0002e630: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0002e640: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0002e650: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0002e660: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0002e670: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0002e680: 2020 2020 7572 6c20 3d20 222f 706c 6174      url = "/plat
-0002e690: 666f 726d 2f64 6576 6963 655f 696e 7665  form/device_inve
-0002e6a0: 6e74 6f72 792f 7631 2f64 6576 6963 6573  ntory/v1/devices
-0002e6b0: 2f61 7263 6869 7665 220a 0a20 2020 2020  /archive"..     
-0002e6c0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
-0002e6d0: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
-0002e6e0: 7269 616c 7327 3a20 7574 696c 732e 6c69  rials': utils.li
-0002e6f0: 7374 6966 7928 7365 7269 616c 7329 0a20  stify(serials). 
-0002e700: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0002e710: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0002e720: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
-0002e730: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-0002e740: 6129 0a0a 2020 2020 2320 4150 492d 4e4f  a)..    # API-NO
-0002e750: 5445 2063 656e 636c 6920 7265 6d6f 7665  TE cencli remove
-0002e760: 2061 7263 6869 7665 205b 6465 7669 6365   archive [device
-0002e770: 735d 0a20 2020 2061 7379 6e63 2064 6566  s].    async def
-0002e780: 2075 6e61 7263 6869 7665 5f64 6576 6963   unarchive_devic
-0002e790: 6573 280a 2020 2020 2020 2020 7365 6c66  es(.        self
-0002e7a0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-0002e7b0: 733a 204c 6973 745b 7374 725d 2c0a 2020  s: List[str],.  
-0002e7c0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0002e7d0: 0a20 2020 2020 2020 2022 2222 556e 6172  .        """Unar
-0002e7e0: 6368 6976 6520 6465 7669 6365 7320 7573  chive devices us
-0002e7f0: 696e 6720 5365 7269 616c 206c 6973 742e  ing Serial list.
-0002e800: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0002e810: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-0002e820: 616c 7320 284c 6973 745b 7374 725d 293a  als (List[str]):
-0002e830: 2073 6572 6961 6c73 0a0a 2020 2020 2020   serials..      
-0002e840: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0002e850: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0002e860: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0002e870: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0002e880: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002e890: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
-0002e8a0: 2f64 6576 6963 655f 696e 7665 6e74 6f72  /device_inventor
-0002e8b0: 792f 7631 2f64 6576 6963 6573 2f75 6e61  y/v1/devices/una
-0002e8c0: 7263 6869 7665 220a 0a20 2020 2020 2020  rchive"..       
-0002e8d0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-0002e8e0: 2020 2020 2020 2020 2020 2027 7365 7269             'seri
-0002e8f0: 616c 7327 3a20 7574 696c 732e 6c69 7374  als': utils.list
-0002e900: 6966 7928 7365 7269 616c 7329 0a20 2020  ify(serials).   
-0002e910: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0002e920: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0002e930: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
-0002e940: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
-0002e950: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0002e960: 6765 745f 706f 7274 616c 7328 0a20 2020  get_portals(.   
-0002e970: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002e980: 2020 2073 6f72 743a 2073 7472 203d 2027     sort: str = '
-0002e990: 2b6e 616d 6527 2c0a 2020 2020 2020 2020  +name',.        
-0002e9a0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-0002e9b0: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-0002e9c0: 696e 7420 3d20 3130 302c 0a20 2020 2029  int = 100,.    )
-0002e9d0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0002e9e0: 2020 2020 2020 2222 2247 6574 2061 6c6c        """Get all
-0002e9f0: 2070 6f72 7461 6c73 2077 6974 6820 6c69   portals with li
-0002ea00: 6d69 7465 6420 6461 7461 2e0a 0a20 2020  mited data...   
-0002ea10: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0002ea20: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
-0002ea30: 2c20 6f70 7469 6f6e 616c 293a 202b 2069  , optional): + i
-0002ea40: 7320 666f 7220 6173 6365 6e64 696e 6720  s for ascending 
-0002ea50: 2061 6e64 202d 2066 6f72 2064 6573 6365   and - for desce
-0002ea60: 6e64 696e 6720 6f72 6465 7220 2c20 736f  nding order , so
-0002ea70: 7274 7320 6279 206e 616d 6520 666f 7220  rts by name for 
-0002ea80: 6e6f 770a 2020 2020 2020 2020 2020 2020  now.            
-0002ea90: 2020 2020 5661 6c69 6420 5661 6c75 6573      Valid Values
-0002eaa0: 3a20 2b6e 616d 652c 202d 6e61 6d65 0a20  : +name, -name. 
-0002eab0: 2020 2020 2020 2020 2020 206f 6666 7365             offse
-0002eac0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-0002ead0: 293a 2053 7461 7274 696e 6720 696e 6465  ): Starting inde
-0002eae0: 7820 6f66 2065 6c65 6d65 6e74 2066 6f72  x of element for
-0002eaf0: 2061 2070 6167 696e 6174 6564 2071 7565   a paginated que
-0002eb00: 7279 2044 6566 6175 6c74 7320 746f 2030  ry Defaults to 0
-0002eb10: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-0002eb20: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-0002eb30: 616c 293a 204e 756d 6265 7220 6f66 2069  al): Number of i
-0002eb40: 7465 6d73 2072 6571 7569 7265 6420 7065  tems required pe
-0002eb50: 7220 7175 6572 7920 4465 6661 756c 7473  r query Defaults
-0002eb60: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
-0002eb70: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0002eb80: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0002eb90: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0002eba0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0002ebb0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002ebc0: 7572 6c20 3d20 222f 6775 6573 742f 7631  url = "/guest/v1
-0002ebd0: 2f70 6f72 7461 6c73 220a 0a20 2020 2020  /portals"..     
-0002ebe0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-0002ebf0: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
-0002ec00: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
-0002ec10: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
-0002ec20: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-0002ec30: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
-0002ec40: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0002ec50: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002ec60: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0002ec70: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-0002ec80: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0002ec90: 5f76 6973 6974 6f72 7328 0a20 2020 2020  _visitors(.     
-0002eca0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002ecb0: 2070 6f72 7461 6c5f 6964 3a20 7374 722c   portal_id: str,
-0002ecc0: 0a20 2020 2020 2020 2073 6f72 743a 2073  .        sort: s
-0002ecd0: 7472 203d 2027 2b6e 616d 6527 2c0a 2020  tr = '+name',.  
-0002ece0: 2020 2020 2020 6669 6c74 6572 5f62 793a        filter_by:
-0002ecf0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0002ed00: 2020 2020 2066 696c 7465 725f 7661 6c75       filter_valu
-0002ed10: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-0002ed20: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-0002ed30: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0002ed40: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-0002ed50: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0002ed60: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0002ed70: 4765 7420 616c 6c20 7669 7369 746f 7273  Get all visitors
-0002ed80: 2063 7265 6174 6564 2061 6761 696e 7374   created against
-0002ed90: 2061 2070 6f72 7461 6c2e 0a0a 2020 2020   a portal...    
-0002eda0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0002edb0: 2020 2020 2020 706f 7274 616c 5f69 6420        portal_id 
-0002edc0: 2873 7472 293a 2050 6f72 7461 6c20 4944  (str): Portal ID
-0002edd0: 206f 6620 7468 6520 7370 6c61 7368 2070   of the splash p
-0002ede0: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-0002edf0: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
-0002ee00: 6e61 6c29 3a20 2b20 6973 2066 6f72 2061  nal): + is for a
-0002ee10: 7363 656e 6469 6e67 2020 616e 6420 2d20  scending  and - 
-0002ee20: 666f 7220 6465 7363 656e 6469 6e67 206f  for descending o
-0002ee30: 7264 6572 202c 2073 6f72 7473 2062 7920  rder , sorts by 
-0002ee40: 6e61 6d65 2066 6f72 0a20 2020 2020 2020  name for.       
-0002ee50: 2020 2020 2020 2020 206e 6f77 2020 5661           now  Va
-0002ee60: 6c69 6420 5661 6c75 6573 3a20 2b6e 616d  lid Values: +nam
-0002ee70: 652c 202d 6e61 6d65 0a20 2020 2020 2020  e, -name.       
-0002ee80: 2020 2020 2066 696c 7465 725f 6279 2028       filter_by (
-0002ee90: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0002eea0: 6669 6c74 6572 2062 7920 656d 6169 6c20  filter by email 
-0002eeb0: 6f72 206e 616d 6520 2056 616c 6964 2056  or name  Valid V
-0002eec0: 616c 7565 733a 206e 616d 652c 2065 6d61  alues: name, ema
-0002eed0: 696c 0a20 2020 2020 2020 2020 2020 2066  il.            f
-0002eee0: 696c 7465 725f 7661 6c75 6520 2873 7472  ilter_value (str
-0002eef0: 2c20 6f70 7469 6f6e 616c 293a 2066 696c  , optional): fil
-0002ef00: 7465 7220 7661 6c75 650a 2020 2020 2020  ter value.      
-0002ef10: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-0002ef20: 742c 206f 7074 696f 6e61 6c29 3a20 5374  t, optional): St
-0002ef30: 6172 7469 6e67 2069 6e64 6578 206f 6620  arting index of 
-0002ef40: 656c 656d 656e 7420 666f 7220 6120 7061  element for a pa
-0002ef50: 6769 6e61 7465 6420 7175 6572 7920 4465  ginated query De
-0002ef60: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
-0002ef70: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
-0002ef80: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0002ef90: 4e75 6d62 6572 206f 6620 6974 656d 7320  Number of items 
-0002efa0: 7265 7175 6972 6564 2070 6572 2071 7565  required per que
-0002efb0: 7279 2044 6566 6175 6c74 7320 746f 2031  ry Defaults to 1
-0002efc0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-0002efd0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0002efe0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0002eff0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0002f000: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0002f010: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0002f020: 2066 222f 6775 6573 742f 7631 2f70 6f72   f"/guest/v1/por
-0002f030: 7461 6c73 2f7b 706f 7274 616c 5f69 647d  tals/{portal_id}
-0002f040: 2f76 6973 6974 6f72 7322 0a0a 2020 2020  /visitors"..    
-0002f050: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-0002f060: 2020 2020 2020 2020 2020 2027 736f 7274             'sort
-0002f070: 273a 2073 6f72 742c 0a20 2020 2020 2020  ': sort,.       
-0002f080: 2020 2020 2027 6669 6c74 6572 5f62 7927       'filter_by'
-0002f090: 3a20 6669 6c74 6572 5f62 792c 0a20 2020  : filter_by,.   
-0002f0a0: 2020 2020 2020 2020 2027 6669 6c74 6572           'filter
-0002f0b0: 5f76 616c 7565 273a 2066 696c 7465 725f  _value': filter_
-0002f0c0: 7661 6c75 652c 0a20 2020 2020 2020 2020  value,.         
-0002f0d0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
-0002f0e0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-0002f0f0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
-0002f100: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0002f110: 2020 7061 7261 6d73 203d 2075 7469 6c73    params = utils
-0002f120: 2e73 7472 6970 5f6e 6f6e 6528 7061 7261  .strip_none(para
-0002f130: 6d73 290a 0a20 2020 2020 2020 2072 6574  ms)..        ret
-0002f140: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0002f150: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-0002f160: 6172 616d 7329 0a0a 0a20 2020 2061 7379  arams)...    asy
-0002f170: 6e63 2064 6566 2061 6464 5f76 6973 6974  nc def add_visit
-0002f180: 6f72 280a 2020 2020 2020 2020 7365 6c66  or(.        self
-0002f190: 2c0a 2020 2020 2020 2020 706f 7274 616c  ,.        portal
-0002f1a0: 5f69 643a 2073 7472 2c0a 2020 2020 2020  _id: str,.      
-0002f1b0: 2020 6e61 6d65 3a20 7374 722c 0a20 2020    name: str,.   
-0002f1c0: 2020 2020 2023 2069 643a 2073 7472 2c0a       # id: str,.
-0002f1d0: 2020 2020 2020 2020 7061 7373 776f 7264          password
-0002f1e0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002f1f0: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
-0002f200: 2063 6f6d 7061 6e79 5f6e 616d 653a 2073   company_name: s
-0002f210: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0002f220: 2020 2070 686f 6e65 3a20 7374 7220 7c20     phone: str | 
-0002f230: 4e6f 6e65 203d 204e 6f6e 652c 0a20 2020  None = None,.   
-0002f240: 2020 2020 2065 6d61 696c 3a20 7374 7220       email: str 
-0002f250: 7c20 4e6f 6e65 203d 204e 6f6e 652c 0a20  | None = None,. 
-0002f260: 2020 2020 2020 2076 616c 6964 5f66 6f72         valid_for
-0002f270: 6576 6572 3a20 626f 6f6c 203d 2046 616c  ever: bool = Fal
-0002f280: 7365 2c0a 2020 2020 2020 2020 7661 6c69  se,.        vali
-0002f290: 645f 6461 7973 3a20 696e 7420 3d20 332c  d_days: int = 3,
-0002f2a0: 0a20 2020 2020 2020 2076 616c 6964 5f68  .        valid_h
-0002f2b0: 6f75 7273 3a20 696e 7420 3d20 302c 0a20  ours: int = 0,. 
-0002f2c0: 2020 2020 2020 2076 616c 6964 5f6d 696e         valid_min
-0002f2d0: 7574 6573 3a20 696e 7420 3d20 302c 0a20  utes: int = 0,. 
-0002f2e0: 2020 2020 2020 206e 6f74 6966 793a 2062         notify: b
-0002f2f0: 6f6f 6c20 7c20 4e6f 6e65 203d 204e 6f6e  ool | None = Non
-0002f300: 652c 0a20 2020 2020 2020 206e 6f74 6966  e,.        notif
-0002f310: 795f 746f 3a20 636f 6e73 7461 6e74 732e  y_to: constants.
-0002f320: 4e6f 7469 6679 546f 4172 6773 207c 204e  NotifyToArgs | N
-0002f330: 6f6e 6520 3d20 4e6f 6e65 2c0a 2020 2020  one = None,.    
-0002f340: 2020 2020 6973 5f65 6e61 626c 6564 3a20      is_enabled: 
-0002f350: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
-0002f360: 2020 2020 2023 2073 7461 7475 733a 2062       # status: b
-0002f370: 6f6f 6c2c 0a20 2020 2020 2020 2023 2063  ool,.        # c
-0002f380: 7265 6174 6564 5f61 743a 2073 7472 2c0a  reated_at: str,.
-0002f390: 2020 2020 2020 2020 2320 6578 7069 7265          # expire
-0002f3a0: 5f61 743a 2073 7472 2c0a 2020 2020 2920  _at: str,.    ) 
-0002f3b0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0002f3c0: 2020 2020 2022 2222 4372 6561 7465 2061       """Create a
-0002f3d0: 206e 6577 2067 7565 7374 2076 6973 6974   new guest visit
-0002f3e0: 6f72 206f 6620 6120 706f 7274 616c 2e0a  or of a portal..
-0002f3f0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0002f400: 2020 2020 2020 2020 2020 2070 6f72 7461             porta
-0002f410: 6c5f 6964 2028 7374 7229 3a20 506f 7274  l_id (str): Port
-0002f420: 616c 2049 4420 6f66 2074 6865 2073 706c  al ID of the spl
-0002f430: 6173 6820 7061 6765 0a20 2020 2020 2020  ash page.       
-0002f440: 2020 2020 206e 616d 6520 2873 7472 293a       name (str):
-0002f450: 2056 6973 6974 6f72 2061 6363 6f75 6e74   Visitor account
-0002f460: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-0002f470: 2020 7061 7373 776f 7264 2028 7374 7229    password (str)
-0002f480: 3a20 5061 7373 776f 7264 0a20 2020 2020  : Password.     
-0002f490: 2020 2020 2020 2063 6f6d 7061 6e79 5f6e         company_n
-0002f4a0: 616d 6520 2873 7472 293a 2043 6f6d 7061  ame (str): Compa
-0002f4b0: 6e79 206e 616d 6520 6f66 2074 6865 2076  ny name of the v
-0002f4c0: 6973 6974 6f72 0a20 2020 2020 2020 2020  isitor.         
-0002f4d0: 2020 2070 686f 6e65 2028 7374 7229 3a20     phone (str): 
-0002f4e0: 5068 6f6e 6520 6e75 6d62 6572 206f 6620  Phone number of 
-0002f4f0: 7468 6520 7669 7369 746f 723b 2046 6f72  the visitor; For
-0002f500: 6d61 7420 5b2b 436f 756e 7472 7943 6f64  mat [+CountryCod
-0002f510: 655d 5b50 686f 6e65 4e75 6d62 6572 5d0a  e][PhoneNumber].
-0002f520: 2020 2020 2020 2020 2020 2020 656d 6169              emai
-0002f530: 6c20 2873 7472 293a 2045 6d61 696c 2061  l (str): Email a
-0002f540: 6464 7265 7373 206f 6620 7468 6520 7669  ddress of the vi
-0002f550: 7369 746f 720a 2020 2020 2020 2020 2020  sitor.          
-0002f560: 2020 7661 6c69 645f 666f 7265 7665 7220    valid_forever 
-0002f570: 2862 6f6f 6c29 3a20 5669 7369 746f 7220  (bool): Visitor 
-0002f580: 6163 636f 756e 7420 7769 6c6c 206e 6f74  account will not
-0002f590: 2065 7870 6972 6520 7768 656e 2074 6869   expire when thi
-0002f5a0: 7320 6973 2073 6574 2074 6f20 7472 7565  s is set to true
-0002f5b0: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
-0002f5c0: 6964 5f64 6179 7320 2869 6e74 293a 2041  id_days (int): A
-0002f5d0: 6363 6f75 6e74 2076 616c 6964 6974 7920  ccount validity 
-0002f5e0: 696e 2064 6179 730a 2020 2020 2020 2020  in days.        
-0002f5f0: 2020 2020 7661 6c69 645f 686f 7572 7320      valid_hours 
-0002f600: 2869 6e74 293a 2041 6363 6f75 6e74 2076  (int): Account v
-0002f610: 616c 6964 6974 7920 696e 2068 6f75 7273  alidity in hours
-0002f620: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
-0002f630: 6964 5f6d 696e 7574 6573 2028 696e 7429  id_minutes (int)
-0002f640: 3a20 4163 636f 756e 7420 7661 6c69 6469  : Account validi
-0002f650: 7479 2069 6e20 6d69 6e75 7465 730a 2020  ty in minutes.  
-0002f660: 2020 2020 2020 2020 2020 6e6f 7469 6679            notify
-0002f670: 2028 626f 6f6c 293a 2046 6c61 6720 746f   (bool): Flag to
-0002f680: 206e 6f74 6966 7920 7468 6520 7061 7373   notify the pass
-0002f690: 776f 7264 2076 6961 2065 6d61 696c 206f  word via email o
-0002f6a0: 7220 6e75 6d62 6572 0a20 2020 2020 2020  r number.       
-0002f6b0: 2020 2020 206e 6f74 6966 795f 746f 2028       notify_to (
-0002f6c0: 7374 7229 3a20 4e6f 7469 6679 2074 6f20  str): Notify to 
-0002f6d0: 656d 6169 6c20 6f72 2070 686f 6e65 2e20  email or phone. 
-0002f6e0: 4465 6675 616c 7420 6973 2070 686f 6e65  Defualt is phone
-0002f6f0: 2077 6865 6e20 6974 2069 7320 7072 6f76   when it is prov
-0002f700: 6964 6564 0a20 2020 2020 2020 2020 2020  ided.           
-0002f710: 2020 2020 206f 7468 6572 7769 7365 2065       otherwise e
-0002f720: 6d61 696c 2e20 2056 616c 6964 2056 616c  mail.  Valid Val
-0002f730: 7565 733a 2065 6d61 696c 2c20 7068 6f6e  ues: email, phon
-0002f740: 650a 2020 2020 2020 2020 2020 2020 6973  e.            is
-0002f750: 5f65 6e61 626c 6564 2028 626f 6f6c 293a  _enabled (bool):
-0002f760: 2045 6e61 626c 6520 6f72 2064 6973 6162   Enable or disab
-0002f770: 6c65 2074 6865 2076 6973 6974 6f72 2061  le the visitor a
-0002f780: 6363 6f75 6e74 0a20 2020 2020 2020 2020  ccount.         
-0002f790: 2020 2023 2069 6420 2873 7472 293a 204e     # id (str): N
-0002f7a0: 4120 666f 7220 7669 7369 746f 7220 706f  A for visitor po
-0002f7b0: 7374 2f70 7574 206d 6574 686f 642e 2049  st/put method. I
-0002f7c0: 4420 6f66 2074 6865 2076 6973 6974 6f72  D of the visitor
-0002f7d0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-0002f7e0: 7461 7475 7320 2862 6f6f 6c29 3a20 5468  tatus (bool): Th
-0002f7f0: 6973 2066 6965 6c64 2070 726f 7669 6465  is field provide
-0002f800: 7320 7374 6174 7573 206f 6620 7468 6520  s status of the 
-0002f810: 6163 636f 756e 742e 2052 6574 7572 6e73  account. Returns
-0002f820: 2074 7275 6520 7768 656e 2065 6e61 626c   true when enabl
-0002f830: 6564 2061 6e64 0a20 2020 2020 2020 2020  ed and.         
-0002f840: 2020 2023 2020 2020 206e 6f74 2065 7870     #     not exp
-0002f850: 6972 6564 2e20 4e41 2066 6f72 2076 6973  ired. NA for vis
-0002f860: 6974 6f72 2070 6f73 742f 7075 7420 6d65  itor post/put me
-0002f870: 7468 6f64 2e20 5468 6973 2069 7320 6f70  thod. This is op
-0002f880: 7469 6f6e 616c 2066 6965 6c64 732e 0a20  tional fields.. 
-0002f890: 2020 2020 2020 2020 2020 2023 2063 7265             # cre
-0002f8a0: 6174 6564 5f61 7420 2873 7472 293a 2054  ated_at (str): T
-0002f8b0: 6869 7320 6669 656c 6420 696e 6469 6361  his field indica
-0002f8c0: 7465 7320 7468 6520 6372 6561 7465 6420  tes the created 
-0002f8d0: 6461 7465 2074 696d 6573 7461 6d70 2076  date timestamp v
-0002f8e0: 616c 7565 2e20 4974 2069 7320 6765 6e65  alue. It is gene
-0002f8f0: 7261 7465 640a 2020 2020 2020 2020 2020  rated.          
-0002f900: 2020 2320 2020 2020 7768 696c 6520 6372    #     while cr
-0002f910: 6561 7469 6e67 2076 6973 6974 6f72 2e20  eating visitor. 
-0002f920: 4e41 2066 6f72 2076 6973 6974 6f72 2070  NA for visitor p
-0002f930: 6f73 742f 7075 7420 6d65 7468 6f64 2e20  ost/put method. 
-0002f940: 5468 6973 2069 7320 6f70 7469 6f6e 616c  This is optional
-0002f950: 2066 6965 6c64 2e0a 2020 2020 2020 2020   field..        
-0002f960: 2020 2020 2320 6578 7069 7265 5f61 7420      # expire_at 
-0002f970: 2873 7472 293a 2054 6869 7320 6669 656c  (str): This fiel
-0002f980: 6420 696e 6469 6361 7465 7320 6578 7069  d indicates expi
-0002f990: 7279 2074 696d 6520 7469 6d65 7374 616d  ry time timestam
-0002f9a0: 7020 7661 6c75 652e 2049 7420 6973 2067  p value. It is g
-0002f9b0: 656e 6572 6174 6564 2062 6173 6564 0a20  enerated based. 
-0002f9c0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002f9d0: 206f 6e20 7468 6520 7661 6c69 645f 7469   on the valid_ti
-0002f9e0: 6c6c 2076 616c 7565 2061 6e64 2063 7265  ll value and cre
-0002f9f0: 6174 6564 5f61 7420 7469 6d65 2e20 4e41  ated_at time. NA
-0002fa00: 2066 6f72 2076 6973 6974 6f72 2070 6f73   for visitor pos
-0002fa10: 742f 7075 7420 6d65 7468 6f64 2e20 5468  t/put method. Th
-0002fa20: 6973 2069 730a 2020 2020 2020 2020 2020  is is.          
-0002fa30: 2020 2320 2020 2020 6f70 7469 6f6e 616c    #     optional
-0002fa40: 2066 6965 6c64 0a0a 2020 2020 2020 2020   field..        
-0002fa50: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0002fa60: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0002fa70: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0002fa80: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0002fa90: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0002faa0: 6c20 3d20 6622 2f67 7565 7374 2f76 312f  l = f"/guest/v1/
-0002fab0: 706f 7274 616c 732f 7b70 6f72 7461 6c5f  portals/{portal_
-0002fac0: 6964 7d2f 7669 7369 746f 7273 220a 0a20  id}/visitors".. 
-0002fad0: 2020 2020 2020 2075 7365 725f 6461 7461         user_data
-0002fae0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002faf0: 2027 7068 6f6e 6527 3a20 7068 6f6e 652c   'phone': phone,
-0002fb00: 0a20 2020 2020 2020 2020 2020 2027 656d  .            'em
-0002fb10: 6169 6c27 3a20 656d 6169 6c0a 2020 2020  ail': email.    
-0002fb20: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
-0002fb30: 4150 4920 7265 7175 6972 6573 2070 686f  API requires pho
-0002fb40: 6e65 2061 6e64 2065 6d61 696c 2c20 6275  ne and email, bu
-0002fb50: 7420 616c 6c6f 7773 204e 6f6e 652f 6e75  t allows None/nu
-0002fb60: 6c6c 2061 7320 7661 6c75 6520 6465 7065  ll as value depe
-0002fb70: 6e64 696e 6720 6f6e 2068 6f77 2070 6f72  nding on how por
-0002fb80: 7461 6c20 6973 2063 6f6e 6669 6775 7265  tal is configure
-0002fb90: 640a 2020 2020 2020 2020 2320 7573 6572  d.        # user
-0002fba0: 5f64 6174 6120 3d20 7574 696c 732e 7374  _data = utils.st
-0002fbb0: 7269 705f 6e6f 6e65 2875 7365 725f 6461  rip_none(user_da
-0002fbc0: 7461 290a 0a20 2020 2020 2020 206a 736f  ta)..        jso
-0002fbd0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
-0002fbe0: 2020 2020 2020 2027 6e61 6d65 273a 206e         'name': n
-0002fbf0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-0002fc00: 2027 636f 6d70 616e 795f 6e61 6d65 273a   'company_name':
-0002fc10: 2063 6f6d 7061 6e79 5f6e 616d 652c 0a20   company_name,. 
-0002fc20: 2020 2020 2020 2020 2020 2027 6973 5f65             'is_e
-0002fc30: 6e61 626c 6564 273a 2069 735f 656e 6162  nabled': is_enab
-0002fc40: 6c65 642c 0a20 2020 2020 2020 2020 2020  led,.           
-0002fc50: 2027 7661 6c69 645f 7469 6c6c 5f6e 6f5f   'valid_till_no_
-0002fc60: 6c69 6d69 7427 3a20 7661 6c69 645f 666f  limit': valid_fo
-0002fc70: 7265 7665 722c 0a20 2020 2020 2020 2020  rever,.         
-0002fc80: 2020 2027 7661 6c69 645f 7469 6c6c 5f64     'valid_till_d
-0002fc90: 6179 7327 3a20 7661 6c69 645f 6461 7973  ays': valid_days
-0002fca0: 2c0a 2020 2020 2020 2020 2020 2020 2776  ,.            'v
-0002fcb0: 616c 6964 5f74 696c 6c5f 686f 7572 7327  alid_till_hours'
-0002fcc0: 3a20 7661 6c69 645f 686f 7572 732c 0a20  : valid_hours,. 
-0002fcd0: 2020 2020 2020 2020 2020 2027 7661 6c69             'vali
-0002fce0: 645f 7469 6c6c 5f6d 696e 7574 6573 273a  d_till_minutes':
-0002fcf0: 2076 616c 6964 5f6d 696e 7574 6573 2c0a   valid_minutes,.
-0002fd00: 2020 2020 2020 2020 2020 2020 276e 6f74              'not
-0002fd10: 6966 7927 3a20 6e6f 7469 6679 2c0a 2020  ify': notify,.  
-0002fd20: 2020 2020 2020 2020 2020 276e 6f74 6966            'notif
-0002fd30: 795f 746f 273a 206e 6f74 6966 795f 746f  y_to': notify_to
-0002fd40: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
-0002fd50: 6173 7377 6f72 6427 3a20 7061 7373 776f  assword': passwo
-0002fd60: 7264 0a20 2020 2020 2020 207d 0a20 2020  rd.        }.   
-0002fd70: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-0002fd80: 2075 7469 6c73 2e73 7472 6970 5f6e 6f6e   utils.strip_non
-0002fd90: 6528 6a73 6f6e 5f64 6174 6129 0a20 2020  e(json_data).   
-0002fda0: 2020 2020 2069 6620 7573 6572 5f64 6174       if user_dat
-0002fdb0: 613a 0a20 2020 2020 2020 2020 2020 206a  a:.            j
-0002fdc0: 736f 6e5f 6461 7461 5b22 7573 6572 225d  son_data["user"]
-0002fdd0: 203d 2075 7365 725f 6461 7461 0a0a 2020   = user_data..  
-0002fde0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0002fdf0: 6974 2073 656c 662e 706f 7374 2875 726c  it self.post(url
-0002fe00: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
-0002fe10: 5f64 6174 6129 0a0a 2020 2020 2320 544f  _data)..    # TO
-0002fe20: 444f 2076 616c 6964 6174 6520 4950 2061  DO validate IP a
-0002fe30: 6464 7265 7373 2066 6f72 6d61 740a 2020  ddress format.  
-0002fe40: 2020 6173 796e 6320 6465 6620 7570 6461    async def upda
-0002fe50: 7465 5f63 785f 7072 6f70 6572 7469 6573  te_cx_properties
-0002fe60: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0002fe70: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
-0002fe80: 2020 2073 6572 6961 6c3a 2073 7472 203d     serial: str =
-0002fe90: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-0002fea0: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-0002feb0: 2c0a 2020 2020 2020 2020 6e61 6d65 3a20  ,.        name: 
-0002fec0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0002fed0: 2020 2020 636f 6e74 6163 743a 2073 7472      contact: str
-0002fee0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002fef0: 206c 6f63 6174 696f 6e3a 2073 7472 203d   location: str =
-0002ff00: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
-0002ff10: 696d 657a 6f6e 653a 2063 6f6e 7374 616e  imezone: constan
-0002ff20: 7473 2e54 5a44 4220 3d20 4e6f 6e65 2c0a  ts.TZDB = None,.
-0002ff30: 2020 2020 2020 2020 6d67 6d74 5f76 7266          mgmt_vrf
-0002ff40: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
-0002ff50: 2020 2020 2020 2064 6e73 5f73 6572 7665         dns_serve
-0002ff60: 7273 3a20 4c69 7374 5b73 7472 5d20 3d20  rs: List[str] = 
-0002ff70: 5b5d 2c0a 2020 2020 2020 2020 6e74 705f  [],.        ntp_
-0002ff80: 7365 7276 6572 733a 204c 6973 745b 7374  servers: List[st
-0002ff90: 725d 203d 205b 5d2c 0a20 2020 2020 2020  r] = [],.       
-0002ffa0: 2061 646d 696e 5f75 7365 723a 2073 7472   admin_user: str
-0002ffb0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002ffc0: 2061 646d 696e 5f70 6173 733a 2073 7472   admin_pass: str
-0002ffd0: 203d 204e 6f6e 652c 0a20 2020 2029 202d   = None,.    ) -
-0002ffe0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0002fff0: 2020 2020 2222 2255 7064 6174 6520 5072      """Update Pr
-00030000: 6f70 6572 7469 6573 2028 4172 7562 614f  operties (ArubaO
-00030010: 532d 4358 292e 0a0a 2020 2020 2020 2020  S-CX)...        
-00030020: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00030030: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
-00030040: 7074 696f 6e61 6c29 3a20 4465 7669 6365  ptional): Device
-00030050: 2073 6572 6961 6c20 6e75 6d62 6572 2e0a   serial number..
-00030060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030070: 4d61 6e64 6174 6f72 7920 666f 7220 6465  Mandatory for de
-00030080: 7669 6365 206c 6576 656c 2063 6f6e 6669  vice level confi
-00030090: 6775 7261 7469 6f6e 2e0a 2020 2020 2020  guration..      
-000300a0: 2020 2020 2020 2020 2020 3120 616e 6420            1 and 
-000300b0: 6f6e 6c79 2031 206f 6620 7365 7269 616c  only 1 of serial
-000300c0: 206f 7220 6772 6f75 7020 6172 6520 7265   or group are re
-000300d0: 7175 6972 6564 0a20 2020 2020 2020 2020  quired.         
-000300e0: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-000300f0: 7074 696f 6e61 6c29 3a20 4772 6f75 7020  ptional): Group 
-00030100: 6e61 6d65 2e0a 2020 2020 2020 2020 2020  name..          
-00030110: 2020 2020 2020 4d61 6e64 6174 6f72 7920        Mandatory 
-00030120: 666f 7220 6772 6f75 7020 6c65 7665 6c20  for group level 
-00030130: 636f 6e66 6967 7572 6174 696f 6e2e 0a20  configuration.. 
-00030140: 2020 2020 2020 2020 2020 2020 2020 2031                 1
-00030150: 2061 6e64 206f 6e6c 7920 3120 6f66 2073   and only 1 of s
-00030160: 6572 6961 6c20 6f72 2067 726f 7570 2061  erial or group a
-00030170: 7265 2072 6571 7569 7265 640a 2020 2020  re required.    
-00030180: 2020 2020 2020 2020 6e61 6d65 2028 7374          name (st
-00030190: 7229 3a20 4f6e 6c79 2063 6f6e 6669 6775  r): Only configu
-000301a0: 7261 626c 6520 6174 2064 6576 6963 652d  rable at device-
-000301b0: 6c65 7665 6c2e 0a20 2020 2020 2020 2020  level..         
-000301c0: 2020 2063 6f6e 7461 6374 2028 7374 7229     contact (str)
-000301d0: 3a20 5061 7474 6572 6e3a 2022 5e5b 5e22  : Pattern: "^[^"
-000301e0: 3f5d 2a24 220a 2020 2020 2020 2020 2020  ?]*$".          
-000301f0: 2020 6c6f 6361 7469 6f6e 2028 7374 7229    location (str)
-00030200: 3a20 5061 7474 6572 6e3a 2022 5e5b 5e22  : Pattern: "^[^"
-00030210: 3f5d 2a24 220a 2020 2020 2020 2020 2020  ?]*$".          
-00030220: 2020 7469 6d65 7a6f 6e65 2028 7374 7229    timezone (str)
-00030230: 3a20 7469 6d65 7a6f 6e65 2020 5661 6c69  : timezone  Vali
-00030240: 6420 5661 6c75 6573 3a20 7573 6520 747a  d Values: use tz
-00030250: 2064 6174 6162 6173 6520 666f 726d 6174   database format
-00030260: 206c 696b 6520 2241 6d65 7269 6361 2f43   like "America/C
-00030270: 6869 6361 676f 220a 2020 2020 2020 2020  hicago".        
-00030280: 2020 2020 6d67 6d74 5f76 7266 2028 626f      mgmt_vrf (bo
-00030290: 6f6c 293a 2055 7365 206d 676d 7420 5652  ol): Use mgmt VR
-000302a0: 462c 2069 6e64 6963 6174 6573 2056 5246  F, indicates VRF
-000302b0: 2066 6f72 2064 6e73 5f73 6572 7665 7273   for dns_servers
-000302c0: 2061 6e64 206e 7470 5f73 6572 7665 7273   and ntp_servers
-000302d0: 2c20 6966 2046 616c 7365 206f 7220 6e6f  , if False or no
-000302e0: 7420 7072 6f76 6964 6564 2064 6566 6175  t provided defau
-000302f0: 6c74 2056 5246 2069 7320 7573 6564 2e0a  lt VRF is used..
-00030300: 2020 2020 2020 2020 2020 2020 646e 735f              dns_
-00030310: 7365 7276 6572 7320 284c 6973 745b 7374  servers (List[st
-00030320: 725d 293a 2069 7076 342f 6970 7636 2061  r]): ipv4/ipv6 a
-00030330: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
-00030340: 2020 206e 7470 5f73 6572 7665 7273 2028     ntp_servers (
-00030350: 4c69 7374 5b73 7472 5d29 3a20 6970 7634  List[str]): ipv4
-00030360: 2f69 7076 3620 6164 6472 6573 730a 2020  /ipv6 address.  
-00030370: 2020 2020 2020 2020 2020 6164 6d69 6e5f            admin_
-00030380: 7573 6572 2028 7374 7229 3a20 6c6f 6361  user (str): loca
-00030390: 6c20 6164 6d69 6e20 7573 6572 0a20 2020  l admin user.   
-000303a0: 2020 2020 2020 2020 2061 646d 696e 5f70           admin_p
-000303b0: 6173 7320 2873 7472 293a 206c 6f63 616c  ass (str): local
-000303c0: 2061 646d 696e 2070 6173 7377 6f72 640a   admin password.
-000303d0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-000303e0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-000303f0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00030400: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00030410: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00030420: 2020 2020 2020 2075 726c 203d 2022 2f63         url = "/c
-00030430: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00030440: 7377 6974 6368 2f63 782f 7072 6f70 6572  switch/cx/proper
-00030450: 7469 6573 220a 0a20 2020 2020 2020 2070  ties"..        p
-00030460: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-00030470: 2020 2020 2020 2764 6576 6963 655f 7365        'device_se
-00030480: 7269 616c 273a 2073 6572 6961 6c2c 0a20  rial': serial,. 
-00030490: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
-000304a0: 705f 6e61 6d65 273a 2067 726f 7570 0a20  p_name': group. 
-000304b0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-000304c0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-000304d0: 2020 2020 2020 2020 2020 2020 276e 616d              'nam
-000304e0: 6527 3a20 6e61 6d65 2c0a 2020 2020 2020  e': name,.      
-000304f0: 2020 2020 2020 2763 6f6e 7461 6374 273a        'contact':
-00030500: 2063 6f6e 7461 6374 2c0a 2020 2020 2020   contact,.      
-00030510: 2020 2020 2020 276c 6f63 6174 696f 6e27        'location'
-00030520: 3a20 6c6f 6361 7469 6f6e 2c0a 2020 2020  : location,.    
-00030530: 2020 2020 2020 2020 2774 696d 657a 6f6e          'timezon
-00030540: 6527 3a20 7469 6d65 7a6f 6e65 2c0a 2020  e': timezone,.  
-00030550: 2020 2020 2020 2020 2020 2764 6e73 5f73            'dns_s
-00030560: 6572 7665 7273 273a 2064 6e73 5f73 6572  ervers': dns_ser
-00030570: 7665 7273 2c0a 2020 2020 2020 2020 2020  vers,.          
-00030580: 2020 276e 7470 5f73 6572 7665 7273 273a    'ntp_servers':
-00030590: 206e 7470 5f73 6572 7665 7273 2c0a 2020   ntp_servers,.  
-000305a0: 2020 2020 2020 2020 2020 2761 646d 696e            'admin
-000305b0: 5f75 7365 726e 616d 6527 3a20 6164 6d69  _username': admi
-000305c0: 6e5f 7573 6572 2c0a 2020 2020 2020 2020  n_user,.        
-000305d0: 2020 2020 2761 646d 696e 5f70 6173 7377      'admin_passw
-000305e0: 6f72 6427 3a20 6164 6d69 6e5f 7061 7373  ord': admin_pass
-000305f0: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-00030600: 2020 2069 6620 6d67 6d74 5f76 7266 2069     if mgmt_vrf i
-00030610: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00030620: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00030630: 615b 2276 7266 225d 203d 2022 6d67 6d74  a["vrf"] = "mgmt
-00030640: 2220 6966 206d 676d 745f 7672 6620 656c  " if mgmt_vrf el
-00030650: 7365 2022 6465 6661 756c 7422 0a20 2020  se "default".   
-00030660: 2020 2020 2065 6c69 6620 646e 735f 7365       elif dns_se
-00030670: 7276 6572 7320 6f72 206e 7470 5f73 6572  rvers or ntp_ser
-00030680: 7665 7273 3a0a 2020 2020 2020 2020 2020  vers:.          
-00030690: 2020 6a73 6f6e 5f64 6174 615b 2276 7266    json_data["vrf
-000306a0: 225d 203d 2022 6465 6661 756c 7422 0a0a  "] = "default"..
-000306b0: 2020 2020 2020 2020 6966 206c 656e 285b          if len([
-000306c0: 7820 666f 7220 7820 696e 205b 6164 6d69  x for x in [admi
-000306d0: 6e5f 7573 6572 2c20 6164 6d69 6e5f 7061  n_user, admin_pa
-000306e0: 7373 5d20 6966 2078 2069 7320 6e6f 7420  ss] if x is not 
-000306f0: 4e6f 6e65 5d29 203d 3d20 313a 0a20 2020  None]) == 1:.   
-00030700: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-00030710: 616c 7565 4572 726f 7228 2249 6620 6569  alueError("If ei
-00030720: 7468 6572 2061 646d 696e 5f75 7365 7220  ther admin_user 
-00030730: 6f72 2061 646d 696e 5f70 6173 7320 6172  or admin_pass ar
-00030740: 6520 6269 6e67 2075 7064 6174 6564 2c20  e bing updated, 
-00030750: 2a62 6f74 682a 2073 686f 756c 6420 6265  *both* should be
-00030760: 2070 726f 7669 6465 642e 2229 0a0a 2020   provided.")..  
-00030770: 2020 2020 2020 6966 206c 656e 285b 7820        if len([x 
-00030780: 666f 7220 7820 696e 205b 7365 7269 616c  for x in [serial
-00030790: 2c20 6772 6f75 705d 2069 6620 7820 6973  , group] if x is
-000307a0: 206e 6f74 204e 6f6e 655d 2920 3d3d 2032   not None]) == 2
-000307b0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-000307c0: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-000307d0: 7072 6f76 6964 6520 7365 7269 616c 2074  provide serial t
-000307e0: 6f20 7570 6461 7465 2064 6576 6963 6520  o update device 
-000307f0: 6c65 7665 6c20 7072 6f70 6572 7469 6573  level properties
-00030800: 2c20 6f72 2067 726f 7570 2074 6f20 7570  , or group to up
-00030810: 6461 7465 2061 7420 7468 6520 6772 6f75  date at the grou
-00030820: 7020 6c65 7665 6c2e 2020 5072 6f76 6964  p level.  Provid
-00030830: 696e 6720 626f 7468 2069 7320 696e 7661  ing both is inva
-00030840: 6c69 642e 2229 0a0a 2020 2020 2020 2020  lid.")..        
-00030850: 6a73 6f6e 5f64 6174 6120 3d20 7574 696c  json_data = util
-00030860: 732e 7374 7269 705f 6e6f 6e65 286a 736f  s.strip_none(jso
-00030870: 6e5f 6461 7461 2c20 7374 7269 705f 656d  n_data, strip_em
-00030880: 7074 795f 6f62 6a3d 5472 7565 290a 0a20  pty_obj=True).. 
-00030890: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-000308a0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-000308b0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-000308c0: 6e5f 6461 7461 2c20 7061 7261 6d73 3d70  n_data, params=p
-000308d0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-000308e0: 6320 6465 6620 6765 745f 6f73 7066 5f61  c def get_ospf_a
-000308f0: 7265 6128 0a20 2020 2020 2020 2073 656c  rea(.        sel
-00030900: 662c 0a20 2020 2020 2020 2064 6576 6963  f,.        devic
-00030910: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-00030920: 6d61 726b 6572 3a20 7374 7220 3d20 4e6f  marker: str = No
-00030930: 6e65 2c0a 2020 2020 2020 2020 6c69 6d69  ne,.        limi
-00030940: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
-00030950: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00030960: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-00030970: 204f 5350 4620 4172 6561 2049 6e66 6f72   OSPF Area Infor
-00030980: 6d61 7469 6f6e 2e0a 0a20 2020 2020 2020  mation...       
-00030990: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-000309a0: 2020 2064 6576 6963 6520 2873 7472 293a     device (str):
-000309b0: 2044 6576 6963 6520 7365 7269 616c 206e   Device serial n
-000309c0: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
-000309d0: 2020 6d61 726b 6572 2028 7374 722c 206f    marker (str, o
-000309e0: 7074 696f 6e61 6c29 3a20 4f70 6171 7565  ptional): Opaque
-000309f0: 2068 616e 646c 6520 746f 2066 6574 6368   handle to fetch
-00030a00: 206e 6578 7420 7061 6765 0a20 2020 2020   next page.     
-00030a10: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-00030a20: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
-00030a30: 6765 2073 697a 6520 4465 6661 756c 7473  ge size Defaults
-00030a40: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
-00030a50: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00030a60: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00030a70: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00030a80: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00030a90: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00030aa0: 7572 6c20 3d20 222f 6170 692f 726f 7574  url = "/api/rout
-00030ab0: 696e 672f 7631 2f6f 7370 662f 6172 6561  ing/v1/ospf/area
-00030ac0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-00030ad0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00030ae0: 2020 2764 6576 6963 6527 3a20 6465 7669    'device': devi
-00030af0: 6365 2c0a 2020 2020 2020 2020 2020 2020  ce,.            
-00030b00: 276d 6172 6b65 7227 3a20 6d61 726b 6572  'marker': marker
-00030b10: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-00030b20: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-00030b30: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00030b40: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00030b50: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-00030b60: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-00030b70: 7379 6e63 2064 6566 2067 6574 5f6f 7370  sync def get_osp
-00030b80: 665f 696e 7465 7266 6163 6528 0a20 2020  f_interface(.   
-00030b90: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00030ba0: 2020 2064 6576 6963 653a 2073 7472 2c0a     device: str,.
-00030bb0: 2020 2020 2020 2020 6d61 726b 6572 3a20          marker: 
-00030bc0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00030bd0: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-00030be0: 2031 3030 2c0a 2020 2020 2920 2d3e 2052   100,.    ) -> R
-00030bf0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00030c00: 2022 2222 4c69 7374 204f 5350 4620 496e   """List OSPF In
-00030c10: 7465 7266 6163 6520 496e 666f 726d 6174  terface Informat
-00030c20: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
-00030c30: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00030c40: 6465 7669 6365 2028 7374 7229 3a20 4465  device (str): De
-00030c50: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
-00030c60: 6572 0a20 2020 2020 2020 2020 2020 206d  er.            m
-00030c70: 6172 6b65 7220 2873 7472 2c20 6f70 7469  arker (str, opti
-00030c80: 6f6e 616c 293a 204f 7061 7175 6520 6861  onal): Opaque ha
-00030c90: 6e64 6c65 2074 6f20 6665 7463 6820 6e65  ndle to fetch ne
-00030ca0: 7874 2070 6167 650a 2020 2020 2020 2020  xt page.        
-00030cb0: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-00030cc0: 6f70 7469 6f6e 616c 293a 2070 6167 6520  optional): page 
-00030cd0: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
-00030ce0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-00030cf0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00030d00: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00030d10: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00030d20: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00030d30: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00030d40: 203d 2022 2f61 7069 2f72 6f75 7469 6e67   = "/api/routing
-00030d50: 2f76 312f 6f73 7066 2f69 6e74 6572 6661  /v1/ospf/interfa
-00030d60: 6365 220a 0a20 2020 2020 2020 2070 6172  ce"..        par
-00030d70: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-00030d80: 2020 2020 2764 6576 6963 6527 3a20 6465      'device': de
-00030d90: 7669 6365 2c0a 2020 2020 2020 2020 2020  vice,.          
-00030da0: 2020 276d 6172 6b65 7227 3a20 6d61 726b    'marker': mark
-00030db0: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
-00030dc0: 276c 696d 6974 273a 206c 696d 6974 0a20  'limit': limit. 
-00030dd0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00030de0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00030df0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00030e00: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00030e10: 2061 7379 6e63 2064 6566 2067 6574 5f6f   async def get_o
-00030e20: 7370 665f 6e65 6967 6862 6f72 280a 2020  spf_neighbor(.  
-00030e30: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00030e40: 2020 2020 6465 7669 6365 3a20 7374 722c      device: str,
-00030e50: 0a20 2020 2020 2020 206d 6172 6b65 723a  .        marker:
-00030e60: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00030e70: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-00030e80: 3d20 3130 302c 0a20 2020 2029 202d 3e20  = 100,.    ) -> 
-00030e90: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00030ea0: 2020 2222 224c 6973 7420 4f53 5046 206e    """List OSPF n
-00030eb0: 6569 6768 626f 7220 496e 666f 726d 6174  eighbor Informat
-00030ec0: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
-00030ed0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00030ee0: 6465 7669 6365 2028 7374 7229 3a20 4465  device (str): De
-00030ef0: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
-00030f00: 6572 0a20 2020 2020 2020 2020 2020 206d  er.            m
-00030f10: 6172 6b65 7220 2873 7472 2c20 6f70 7469  arker (str, opti
-00030f20: 6f6e 616c 293a 204f 7061 7175 6520 6861  onal): Opaque ha
-00030f30: 6e64 6c65 2074 6f20 6665 7463 6820 6e65  ndle to fetch ne
-00030f40: 7874 2070 6167 650a 2020 2020 2020 2020  xt page.        
-00030f50: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-00030f60: 6f70 7469 6f6e 616c 293a 2070 6167 6520  optional): page 
-00030f70: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
-00030f80: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-00030f90: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00030fa0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00030fb0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00030fc0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00030fd0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00030fe0: 203d 2022 2f61 7069 2f72 6f75 7469 6e67   = "/api/routing
-00030ff0: 2f76 312f 6f73 7066 2f6e 6569 6768 626f  /v1/ospf/neighbo
-00031000: 7222 0a0a 2020 2020 2020 2020 7061 7261  r"..        para
-00031010: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-00031020: 2020 2027 6465 7669 6365 273a 2064 6576     'device': dev
-00031030: 6963 652c 0a20 2020 2020 2020 2020 2020  ice,.           
-00031040: 2027 6d61 726b 6572 273a 206d 6172 6b65   'marker': marke
-00031050: 722c 0a20 2020 2020 2020 2020 2020 2027  r,.            '
-00031060: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
-00031070: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-00031080: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00031090: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-000310a0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-000310b0: 6173 796e 6320 6465 6620 6765 745f 6f73  async def get_os
-000310c0: 7066 5f64 6174 6162 6173 6528 0a20 2020  pf_database(.   
-000310d0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-000310e0: 2020 2064 6576 6963 653a 2073 7472 2c0a     device: str,.
-000310f0: 2020 2020 2020 2020 6d61 726b 6572 3a20          marker: 
-00031100: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00031110: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-00031120: 2031 3030 2c0a 2020 2020 2920 2d3e 2052   100,.    ) -> R
-00031130: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00031140: 2022 2222 4c69 7374 204f 5350 4620 4c69   """List OSPF Li
-00031150: 6e6b 2053 7461 7465 2044 6174 6162 6173  nk State Databas
-00031160: 6520 496e 666f 726d 6174 696f 6e2e 0a0a  e Information...
-00031170: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00031180: 2020 2020 2020 2020 2020 6465 7669 6365            device
-00031190: 2028 7374 7229 3a20 4465 7669 6365 2073   (str): Device s
-000311a0: 6572 6961 6c20 6e75 6d62 6572 0a20 2020  erial number.   
-000311b0: 2020 2020 2020 2020 206d 6172 6b65 7220           marker 
-000311c0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-000311d0: 204f 7061 7175 6520 6861 6e64 6c65 2074   Opaque handle t
-000311e0: 6f20 6665 7463 6820 6e65 7874 2070 6167  o fetch next pag
-000311f0: 650a 2020 2020 2020 2020 2020 2020 6c69  e.            li
-00031200: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-00031210: 616c 293a 2070 6167 6520 7369 7a65 2044  al): page size D
-00031220: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-00031230: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00031240: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00031250: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00031260: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00031270: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00031280: 2020 2020 2020 2075 726c 203d 2022 2f61         url = "/a
-00031290: 7069 2f72 6f75 7469 6e67 2f76 312f 6f73  pi/routing/v1/os
-000312a0: 7066 2f64 6174 6162 6173 6522 0a0a 2020  pf/database"..  
-000312b0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-000312c0: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-000312d0: 7669 6365 273a 2064 6576 6963 652c 0a20  vice': device,. 
-000312e0: 2020 2020 2020 2020 2020 2027 6d61 726b             'mark
-000312f0: 6572 273a 206d 6172 6b65 722c 0a20 2020  er': marker,.   
-00031300: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
-00031310: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
-00031320: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-00031330: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00031340: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00031350: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-00031360: 6465 6620 6765 745f 6f76 6572 6c61 795f  def get_overlay_
-00031370: 636f 6e6e 6563 7469 6f6e 280a 2020 2020  connection(.    
-00031380: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00031390: 2020 6465 7669 6365 3a20 7374 722c 0a20    device: str,. 
-000313a0: 2020 2020 2020 206d 6172 6b65 723a 2073         marker: s
-000313b0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000313c0: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
-000313d0: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
-000313e0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000313f0: 2222 2247 6574 2069 6e66 6f72 6d61 7469  """Get informati
-00031400: 6f6e 2061 626f 7574 206f 7665 726c 6179  on about overlay
-00031410: 2063 6f6e 7472 6f6c 2063 6f6e 6e65 6374   control connect
-00031420: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
-00031430: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00031440: 6465 7669 6365 2028 7374 7229 3a20 4465  device (str): De
-00031450: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
-00031460: 6572 0a20 2020 2020 2020 2020 2020 206d  er.            m
-00031470: 6172 6b65 7220 2873 7472 2c20 6f70 7469  arker (str, opti
-00031480: 6f6e 616c 293a 204f 7061 7175 6520 6861  onal): Opaque ha
-00031490: 6e64 6c65 2074 6f20 6665 7463 6820 6e65  ndle to fetch ne
-000314a0: 7874 2070 6167 650a 2020 2020 2020 2020  xt page.        
-000314b0: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-000314c0: 6f70 7469 6f6e 616c 293a 2070 6167 6520  optional): page 
-000314d0: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
-000314e0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-000314f0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00031500: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00031510: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00031520: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00031530: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00031540: 203d 2022 2f61 7069 2f72 6f75 7469 6e67   = "/api/routing
-00031550: 2f76 312f 6f76 6572 6c61 792f 636f 6e6e  /v1/overlay/conn
-00031560: 6563 7469 6f6e 220a 0a20 2020 2020 2020  ection"..       
-00031570: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-00031580: 2020 2020 2020 2020 2764 6576 6963 6527          'device'
-00031590: 3a20 6465 7669 6365 2c0a 2020 2020 2020  : device,.      
-000315a0: 2020 2020 2020 276d 6172 6b65 7227 3a20        'marker': 
-000315b0: 6d61 726b 6572 2c0a 2020 2020 2020 2020  marker,.        
-000315c0: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
-000315d0: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
-000315e0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-000315f0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-00031600: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-00031610: 0a20 2020 2061 7379 6e63 2064 6566 2072  .    async def r
-00031620: 6573 6574 5f6f 7665 726c 6179 5f63 6f6e  eset_overlay_con
-00031630: 6e65 6374 696f 6e28 0a20 2020 2020 2020  nection(.       
-00031640: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
-00031650: 6576 6963 653a 2073 7472 2c0a 2020 2020  evice: str,.    
-00031660: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00031670: 2020 2020 2020 2022 2222 5265 7365 7420         """Reset 
-00031680: 6f76 6572 6c61 7920 636f 6e74 726f 6c20  overlay control 
-00031690: 636f 6e6e 6563 7469 6f6e 2e0a 0a20 2020  connection...   
-000316a0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-000316b0: 2020 2020 2020 2064 6576 6963 6520 2873         device (s
-000316c0: 7472 293a 2044 6576 6963 6520 7365 7269  tr): Device seri
-000316d0: 616c 206e 756d 6265 720a 0a20 2020 2020  al number..     
-000316e0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000316f0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00031700: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00031710: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00031720: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00031730: 2075 726c 203d 2022 2f61 7069 2f72 6f75   url = "/api/rou
-00031740: 7469 6e67 2f76 312f 6f76 6572 6c61 792f  ting/v1/overlay/
-00031750: 636f 6e6e 6563 7469 6f6e 2f72 6573 6574  connection/reset
-00031760: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-00031770: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00031780: 2020 2764 6576 6963 6527 3a20 6465 7669    'device': devi
-00031790: 6365 0a20 2020 2020 2020 207d 0a0a 2020  ce.        }..  
-000317a0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-000317b0: 6974 2073 656c 662e 7075 7428 7572 6c2c  it self.put(url,
-000317c0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-000317d0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-000317e0: 6574 5f6f 7665 726c 6179 5f72 6f75 7465  et_overlay_route
-000317f0: 735f 6c65 6172 6e65 6428 0a20 2020 2020  s_learned(.     
-00031800: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00031810: 2064 6576 6963 653a 2073 7472 2c0a 2020   device: str,.  
-00031820: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
-00031830: 2062 6573 743a 2062 6f6f 6c20 3d20 4661   best: bool = Fa
-00031840: 6c73 652c 0a20 2020 2020 2020 206d 6172  lse,.        mar
-00031850: 6b65 723a 2073 7472 203d 204e 6f6e 652c  ker: str = None,
-00031860: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-00031870: 696e 7420 3d20 3130 302c 0a20 2020 2029  int = 100,.    )
-00031880: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-00031890: 2020 2020 2020 2222 224c 6973 7420 6f66        """List of
-000318a0: 206c 6561 726e 6564 2072 6f75 7465 7320   learned routes 
-000318b0: 6672 6f6d 206f 7665 726c 6179 2e0a 0a20  from overlay... 
-000318c0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-000318d0: 2020 2020 2020 2020 2064 6576 6963 6520           device 
-000318e0: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
-000318f0: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
-00031900: 2020 2020 2020 2020 6265 7374 2028 626f          best (bo
-00031910: 6f6c 293a 2052 6574 7572 6e20 6f6e 6c79  ol): Return only
-00031920: 2062 6573 7420 2f20 7072 6566 6572 7265   best / preferre
-00031930: 6420 726f 7574 6573 0a20 2020 2020 2020  d routes.       
-00031940: 2020 2020 206d 6172 6b65 7220 2873 7472       marker (str
-00031950: 2c20 6f70 7469 6f6e 616c 293a 204f 7061  , optional): Opa
-00031960: 7175 6520 6861 6e64 6c65 2074 6f20 6665  que handle to fe
-00031970: 7463 6820 6e65 7874 2070 6167 650a 2020  tch next page.  
-00031980: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-00031990: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000319a0: 2070 6167 6520 7369 7a65 2044 6566 6175   page size Defau
-000319b0: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
-000319c0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000319d0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000319e0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-000319f0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00031a00: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00031a10: 2020 2075 726c 203d 2022 2f61 7069 2f72     url = "/api/r
-00031a20: 6f75 7469 6e67 2f76 312f 6f76 6572 6c61  outing/v1/overla
-00031a30: 792f 726f 7574 652f 6c65 6172 6e65 6422  y/route/learned"
-00031a40: 0a20 2020 2020 2020 2069 6620 6265 7374  .        if best
-00031a50: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
-00031a60: 6c20 3d20 6627 7b75 726c 7d2f 6265 7374  l = f'{url}/best
-00031a70: 270a 0a20 2020 2020 2020 2070 6172 616d  '..        param
-00031a80: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00031a90: 2020 2764 6576 6963 6527 3a20 6465 7669    'device': devi
-00031aa0: 6365 2c0a 2020 2020 2020 2020 2020 2020  ce,.            
-00031ab0: 276d 6172 6b65 7227 3a20 6d61 726b 6572  'marker': marker
-00031ac0: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-00031ad0: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-00031ae0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00031af0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00031b00: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-00031b10: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-00031b20: 7379 6e63 2064 6566 2067 6574 5f6f 7665  sync def get_ove
-00031b30: 726c 6179 5f72 6f75 7465 735f 6164 7665  rlay_routes_adve
-00031b40: 7274 6973 6564 280a 2020 2020 2020 2020  rtised(.        
-00031b50: 7365 6c66 2c0a 2020 2020 2020 2020 6465  self,.        de
-00031b60: 7669 6365 3a20 7374 722c 0a20 2020 2020  vice: str,.     
-00031b70: 2020 206d 6172 6b65 723a 2073 7472 203d     marker: str =
-00031b80: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-00031b90: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
-00031ba0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00031bb0: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-00031bc0: 6973 7420 6f66 2061 6476 6572 7469 7365  ist of advertise
-00031bd0: 6420 726f 7574 6573 2074 6f20 6f76 6572  d routes to over
-00031be0: 6c61 792e 0a0a 2020 2020 2020 2020 4172  lay...        Ar
-00031bf0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00031c00: 6465 7669 6365 2028 7374 7229 3a20 4465  device (str): De
-00031c10: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
-00031c20: 6572 0a20 2020 2020 2020 2020 2020 206d  er.            m
-00031c30: 6172 6b65 7220 2873 7472 2c20 6f70 7469  arker (str, opti
-00031c40: 6f6e 616c 293a 204f 7061 7175 6520 6861  onal): Opaque ha
-00031c50: 6e64 6c65 2074 6f20 6665 7463 6820 6e65  ndle to fetch ne
-00031c60: 7874 2070 6167 650a 2020 2020 2020 2020  xt page.        
-00031c70: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-00031c80: 6f70 7469 6f6e 616c 293a 2070 6167 6520  optional): page 
-00031c90: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
-00031ca0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-00031cb0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00031cc0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00031cd0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00031ce0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00031cf0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00031d00: 203d 2022 2f61 7069 2f72 6f75 7469 6e67   = "/api/routing
-00031d10: 2f76 312f 6f76 6572 6c61 792f 726f 7574  /v1/overlay/rout
-00031d20: 652f 6164 7665 7274 6973 6564 220a 0a20  e/advertised".. 
-00031d30: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-00031d40: 7b0a 2020 2020 2020 2020 2020 2020 2764  {.            'd
-00031d50: 6576 6963 6527 3a20 6465 7669 6365 2c0a  evice': device,.
-00031d60: 2020 2020 2020 2020 2020 2020 276d 6172              'mar
-00031d70: 6b65 7227 3a20 6d61 726b 6572 2c0a 2020  ker': marker,.  
-00031d80: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-00031d90: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
-00031da0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-00031db0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00031dc0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-00031dd0: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-00031de0: 2064 6566 2067 6574 5f6f 7665 726c 6179   def get_overlay
-00031df0: 5f69 6e74 6572 6661 6365 7328 0a20 2020  _interfaces(.   
-00031e00: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00031e10: 2020 2064 6576 6963 653a 2073 7472 2c0a     device: str,.
-00031e20: 2020 2020 2020 2020 6d61 726b 6572 3a20          marker: 
-00031e30: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00031e40: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-00031e50: 2031 3030 2c0a 2020 2020 2920 2d3e 2052   100,.    ) -> R
-00031e60: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00031e70: 2022 2222 4c69 7374 206f 6620 6f76 6572   """List of over
-00031e80: 6c61 7920 696e 7465 7266 6163 6573 2028  lay interfaces (
-00031e90: 7475 6e6e 656c 7329 2e0a 0a20 2020 2020  tunnels)...     
-00031ea0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00031eb0: 2020 2020 2064 6576 6963 6520 2873 7472       device (str
-00031ec0: 293a 2044 6576 6963 6520 7365 7269 616c  ): Device serial
-00031ed0: 206e 756d 6265 720a 2020 2020 2020 2020   number.        
-00031ee0: 2020 2020 6d61 726b 6572 2028 7374 722c      marker (str,
-00031ef0: 206f 7074 696f 6e61 6c29 3a20 4f70 6171   optional): Opaq
-00031f00: 7565 2068 616e 646c 6520 746f 2066 6574  ue handle to fet
-00031f10: 6368 206e 6578 7420 7061 6765 0a20 2020  ch next page.   
-00031f20: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
-00031f30: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00031f40: 7061 6765 2073 697a 6520 4465 6661 756c  page size Defaul
-00031f50: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
-00031f60: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00031f70: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00031f80: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00031f90: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00031fa0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00031fb0: 2020 7572 6c20 3d20 222f 6170 692f 726f    url = "/api/ro
-00031fc0: 7574 696e 672f 7631 2f6f 7665 726c 6179  uting/v1/overlay
-00031fd0: 2f69 6e74 6572 6661 6365 220a 0a20 2020  /interface"..   
-00031fe0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-00031ff0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
-00032000: 6963 6527 3a20 6465 7669 6365 2c0a 2020  ice': device,.  
-00032010: 2020 2020 2020 2020 2020 276d 6172 6b65            'marke
-00032020: 7227 3a20 6d61 726b 6572 2c0a 2020 2020  r': marker,.    
-00032030: 2020 2020 2020 2020 276c 696d 6974 273a          'limit':
-00032040: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
-00032050: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00032060: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00032070: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-00032080: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-00032090: 6566 2067 6574 5f64 656e 796c 6973 745f  ef get_denylist_
-000320a0: 636c 6965 6e74 7328 0a20 2020 2020 2020  clients(.       
-000320b0: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-000320c0: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
-000320d0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-000320e0: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
-000320f0: 6c20 6465 6e79 6c69 7374 2063 6c69 656e  l denylist clien
-00032100: 7420 6d61 6320 6164 6472 6573 7320 696e  t mac address in
-00032110: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
-00032120: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00032130: 2020 2020 7365 7269 616c 2028 7374 7229      serial (str)
-00032140: 3a20 4465 7669 6365 2069 6420 6f66 2076  : Device id of v
-00032150: 6972 7475 616c 2063 6f6e 7472 6f6c 6c65  irtual controlle
-00032160: 7220 2841 4f53 3820 4941 5029 206f 7220  r (AOS8 IAP) or 
-00032170: 7365 7269 616c 206f 6620 414f 5331 3020  serial of AOS10 
-00032180: 6170 2e0a 2020 2020 2020 2020 2020 2020  ap..            
-00032190: 2020 2020 4578 616d 706c 653a 3134 6233      Example:14b3
-000321a0: 3734 3363 3031 6638 3038 3062 6661 3037  743c01f8080bfa07
-000321b0: 6361 3035 3365 6631 6538 3935 6466 3963  ca053ef1e895df9c
-000321c0: 3036 3830 6665 3561 3137 6266 6435 0a0a  0680fe5a17bfd5..
-000321d0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000321e0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000321f0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00032200: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00032210: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00032220: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00032230: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00032240: 7377 6172 6d2f 7b73 6572 6961 6c7d 2f62  swarm/{serial}/b
-00032250: 6c61 636b 6c69 7374 696e 6722 0a0a 2020  lacklisting"..  
-00032260: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00032270: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
-00032280: 0a0a 0a20 2020 2061 7379 6e63 2064 6566  ...    async def
-00032290: 2067 6574 5f61 7574 6f5f 7375 6273 6372   get_auto_subscr
-000322a0: 6962 6528 0a20 2020 2020 2020 2073 656c  ibe(.        sel
-000322b0: 662c 0a20 2020 2029 202d 3e20 5265 7370  f,.    ) -> Resp
-000322c0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000322d0: 2247 6574 2074 6865 2073 6572 7669 6365  "Get the service
-000322e0: 7320 7768 6963 6820 6861 7665 2061 7574  s which have aut
-000322f0: 6f20 7375 6273 6372 6962 6520 656e 6162  o subscribe enab
-00032300: 6c65 642e 0a0a 2020 2020 2020 2020 5265  led...        Re
-00032310: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00032320: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00032330: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00032340: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00032350: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00032360: 3d20 222f 706c 6174 666f 726d 2f6c 6963  = "/platform/lic
-00032370: 656e 7369 6e67 2f76 312f 6375 7374 6f6d  ensing/v1/custom
-00032380: 6572 2f73 6574 7469 6e67 732f 6175 746f  er/settings/auto
-00032390: 6c69 6365 6e73 6522 0a0a 2020 2020 2020  license"..      
-000323a0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000323b0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-000323c0: 2020 6173 796e 6320 6465 6620 656e 6162    async def enab
-000323d0: 6c65 5f61 7574 6f5f 7375 6273 6372 6962  le_auto_subscrib
-000323e0: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
-000323f0: 0a20 2020 2020 2020 2073 6572 7669 6365  .        service
-00032400: 733a 204c 6973 745b 7374 725d 207c 2073  s: List[str] | s
-00032410: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-00032420: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00032430: 2222 5374 616e 6461 6c6f 6e65 2043 7573  ""Standalone Cus
-00032440: 746f 6d65 7220 4150 493a 2041 7373 6967  tomer API: Assig
-00032450: 6e20 6c69 6365 6e73 6573 2074 6f20 616c  n licenses to al
-00032460: 6c20 6465 7669 6365 7320 616e 6420 656e  l devices and en
-00032470: 6162 6c65 2061 7574 6f20 7375 6273 6372  able auto subscr
-00032480: 6962 6520 666f 720a 2020 2020 2020 2020  ibe for.        
-00032490: 6769 7665 6e20 7365 7276 6963 6573 2e0a  given services..
-000324a0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-000324b0: 2020 2020 2020 2020 2020 2073 6572 7669             servi
-000324c0: 6365 7320 284c 6973 745b 7374 725d 293a  ces (List[str]):
-000324d0: 206c 6973 7420 6f66 2073 6572 7669 6365   list of service
-000324e0: 7320 652e 672e 205b 2770 6127 2c20 2775  s e.g. ['pa', 'u
-000324f0: 6363 272c 2066 6f75 6e64 6174 696f 6e5f  cc', foundation_
-00032500: 6170 2c0a 2020 2020 2020 2020 2020 2020  ap,.            
-00032510: 2020 2020 6164 7661 6e63 6564 5f73 7769      advanced_swi
-00032520: 7463 685f 3632 3030 2c20 666f 756e 6461  tch_6200, founda
-00032530: 7469 6f6e 5f37 3058 5820 6574 6320 2e2e  tion_70XX etc ..
-00032540: 2e5d 2e20 4368 6563 6b0a 2020 2020 2020  .]. Check.      
-00032550: 2020 2020 2020 2020 2020 2f70 6c61 7466            /platf
-00032560: 6f72 6d2f 6c69 6365 6e73 696e 672f 7631  orm/licensing/v1
-00032570: 2f73 6572 7669 6365 732f 636f 6e66 6967  /services/config
-00032580: 2041 5049 2072 6573 706f 6e73 6520 746f   API response to
-00032590: 206b 6e6f 7720 7468 6520 6c69 7374 206f   know the list o
-000325a0: 6620 7375 7070 6f72 7465 640a 2020 2020  f supported.    
-000325b0: 2020 2020 2020 2020 2020 2020 7365 7276              serv
-000325c0: 6963 6573 2e0a 0a20 2020 2020 2020 2052  ices...        R
-000325d0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-000325e0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000325f0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00032600: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00032610: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00032620: 203d 2022 2f70 6c61 7466 6f72 6d2f 6c69   = "/platform/li
-00032630: 6365 6e73 696e 672f 7631 2f63 7573 746f  censing/v1/custo
-00032640: 6d65 722f 7365 7474 696e 6773 2f61 7574  mer/settings/aut
-00032650: 6f6c 6963 656e 7365 220a 0a20 2020 2020  olicense"..     
-00032660: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00032670: 2873 6572 7669 6365 732c 2073 7472 293a  (services, str):
-00032680: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-00032690: 7669 6365 7320 3d20 5b73 6572 7669 6365  vices = [service
-000326a0: 735d 0a0a 2020 2020 2020 2020 6a73 6f6e  s]..        json
-000326b0: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-000326c0: 2020 2020 2020 2773 6572 7669 6365 7327        'services'
-000326d0: 3a20 7365 7276 6963 6573 0a20 2020 2020  : services.     
-000326e0: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-000326f0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00032700: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00032710: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00032720: 2020 2020 6173 796e 6320 6465 6620 6469      async def di
-00032730: 7361 626c 655f 6175 746f 5f73 7562 7363  sable_auto_subsc
-00032740: 7269 6265 280a 2020 2020 2020 2020 7365  ribe(.        se
-00032750: 6c66 2c0a 2020 2020 2020 2020 7365 7276  lf,.        serv
-00032760: 6963 6573 3a20 4c69 7374 5b73 7472 5d20  ices: List[str] 
-00032770: 7c20 7374 722c 0a20 2020 2029 202d 3e20  | str,.    ) -> 
-00032780: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00032790: 2020 2222 2253 7461 6e64 616c 6f6e 6520    """Standalone 
-000327a0: 4375 7374 6f6d 6572 2041 5049 3a20 4469  Customer API: Di
-000327b0: 7361 626c 6520 6175 746f 206c 6963 656e  sable auto licen
-000327c0: 7369 6e67 2066 6f72 2067 6976 656e 2073  sing for given s
-000327d0: 6572 7669 6365 732e 0a0a 2020 2020 2020  ervices...      
-000327e0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-000327f0: 2020 2020 7365 7276 6963 6573 2028 4c69      services (Li
-00032800: 7374 5b73 7472 5d29 3a20 6c69 7374 206f  st[str]): list o
-00032810: 6620 7365 7276 6963 6573 2065 2e67 2e20  f services e.g. 
-00032820: 5b27 7061 272c 2027 7563 6327 2c20 666f  ['pa', 'ucc', fo
-00032830: 756e 6461 7469 6f6e 5f61 702c 0a20 2020  undation_ap,.   
-00032840: 2020 2020 2020 2020 2020 2020 2061 6476               adv
-00032850: 616e 6365 645f 7377 6974 6368 5f36 3230  anced_switch_620
-00032860: 302c 2066 6f75 6e64 6174 696f 6e5f 3730  0, foundation_70
-00032870: 5858 2065 7463 202e 2e2e 5d2e 2043 6865  XX etc ...]. Che
-00032880: 636b 0a20 2020 2020 2020 2020 2020 2020  ck.             
-00032890: 2020 202f 706c 6174 666f 726d 2f6c 6963     /platform/lic
-000328a0: 656e 7369 6e67 2f76 312f 7365 7276 6963  ensing/v1/servic
-000328b0: 6573 2f63 6f6e 6669 6720 4150 4920 7265  es/config API re
-000328c0: 7370 6f6e 7365 2074 6f20 6b6e 6f77 2074  sponse to know t
-000328d0: 6865 206c 6973 7420 6f66 2073 7570 706f  he list of suppo
-000328e0: 7274 6564 0a20 2020 2020 2020 2020 2020  rted.           
-000328f0: 2020 2020 2073 6572 7669 6365 732e 0a0a       services...
-00032900: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00032910: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00032920: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00032930: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00032940: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00032950: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
-00032960: 6174 666f 726d 2f6c 6963 656e 7369 6e67  atform/licensing
-00032970: 2f76 312f 6375 7374 6f6d 6572 2f73 6574  /v1/customer/set
-00032980: 7469 6e67 732f 6175 746f 6c69 6365 6e73  tings/autolicens
-00032990: 6522 0a0a 2020 2020 2020 2020 6966 2069  e"..        if i
-000329a0: 7369 6e73 7461 6e63 6528 7365 7276 6963  sinstance(servic
-000329b0: 6573 2c20 7374 7229 3a0a 2020 2020 2020  es, str):.      
-000329c0: 2020 2020 2020 7365 7276 6963 6573 203d        services =
-000329d0: 205b 7365 7276 6963 6573 5d0a 0a20 2020   [services]..   
-000329e0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-000329f0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00032a00: 7365 7276 6963 6573 273a 2073 6572 7669  services': servi
-00032a10: 6365 730a 2020 2020 2020 2020 7d0a 0a20  ces.        }.. 
-00032a20: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00032a30: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
-00032a40: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00032a50: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
-00032a60: 202f 2f20 2d2d 204e 6f74 2075 7365 6420   // -- Not used 
-00032a70: 6279 2063 6f6d 6d61 6e64 7320 7965 742e  by commands yet.
-00032a80: 2020 756e 646f 6375 6d65 6e74 6564 206b    undocumented k
-00032a90: 6d73 2061 7069 202d 2d20 2f2f 0a20 2020  ms api -- //.   
-00032aa0: 2061 7379 6e63 2064 6566 206b 6d73 5f67   async def kms_g
-00032ab0: 6574 5f73 796e 6365 645f 6170 7328 7365  et_synced_aps(se
-00032ac0: 6c66 2c20 6d61 633a 2073 7472 2920 2d3e  lf, mac: str) ->
-00032ad0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00032ae0: 2020 2075 726c 203d 2066 222f 6b65 796d     url = f"/keym
-00032af0: 676d 742f 7631 2f73 796e 6365 6461 706c  gmt/v1/syncedapl
-00032b00: 6973 742f 7b6d 6163 7d22 0a20 2020 2020  ist/{mac}".     
-00032b10: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00032b20: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
-00032b30: 2020 2061 7379 6e63 2064 6566 206b 6d73     async def kms
-00032b40: 5f67 6574 5f63 6c69 656e 745f 7265 636f  _get_client_reco
-00032b50: 7264 2873 656c 662c 206d 6163 3a20 7374  rd(self, mac: st
-00032b60: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-00032b70: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00032b80: 2f6b 6579 6d67 6d74 2f76 312f 6b65 7963  /keymgmt/v1/keyc
-00032b90: 6163 6865 2f7b 6d61 637d 220a 2020 2020  ache/{mac}".    
-00032ba0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00032bb0: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
-00032bc0: 2020 2020 6173 796e 6320 6465 6620 6b6d      async def km
-00032bd0: 735f 6765 745f 6861 7368 2873 656c 6629  s_get_hash(self)
-00032be0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-00032bf0: 2020 2020 2020 7572 6c20 3d20 222f 6b65        url = "/ke
-00032c00: 796d 676d 742f 7631 2f6b 6579 6861 7368  ymgmt/v1/keyhash
-00032c10: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-00032c20: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00032c30: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-00032c40: 6465 6620 6b6d 735f 6765 745f 6170 5f73  def kms_get_ap_s
-00032c50: 7461 7465 2873 656c 662c 2073 6572 6961  tate(self, seria
-00032c60: 6c3a 2073 7472 2920 2d3e 2052 6573 706f  l: str) -> Respo
-00032c70: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
-00032c80: 203d 2066 222f 6b65 796d 676d 742f 7631   = f"/keymgmt/v1
-00032c90: 2f53 7461 7473 2f61 702f 7b73 6572 6961  /Stats/ap/{seria
-00032ca0: 6c7d 220a 2020 2020 2020 2020 7265 7475  l}".        retu
-00032cb0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00032cc0: 7428 7572 6c29 0a0a 2020 2020 2320 4261  t(url)..    # Ba
-00032cd0: 6420 656e 6470 6f69 6e74 2055 524c 2034  d endpoint URL 4
-00032ce0: 3034 0a20 2020 2061 7379 6e63 2064 6566  04.    async def
-00032cf0: 206b 6d73 5f67 6574 5f68 6561 6c74 6828   kms_get_health(
-00032d00: 7365 6c66 2920 2d3e 2052 6573 706f 6e73  self) -> Respons
-00032d10: 653a 0a20 2020 2020 2020 2075 726c 203d  e:.        url =
-00032d20: 2022 2f6b 6579 6d67 6d74 2f76 312f 6865   "/keymgmt/v1/he
-00032d30: 616c 7468 220a 2020 2020 2020 2020 7265  alth".        re
-00032d40: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00032d50: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
-00032d60: 796e 6320 6465 6620 636c 6f75 6461 7574  ync def cloudaut
-00032d70: 685f 6765 745f 7265 6769 7374 6572 6564  h_get_registered
-00032d80: 5f6d 6163 7328 0a20 2020 2020 2020 2073  _macs(.        s
-00032d90: 656c 662c 0a20 2020 2020 2020 2073 6561  elf,.        sea
-00032da0: 7263 683a 2073 7472 203d 204e 6f6e 652c  rch: str = None,
-00032db0: 0a20 2020 2020 2020 2073 6f72 743a 2073  .        sort: s
-00032dc0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00032dd0: 2020 2066 696c 656e 616d 653a 2073 7472     filename: str
-00032de0: 203d 204e 6f6e 652c 0a20 2020 2029 202d   = None,.    ) -
-00032df0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00032e00: 2020 2020 2222 2246 6574 6368 2061 6c6c      """Fetch all
-00032e10: 204d 6163 2052 6567 6973 7472 6174 696f   Mac Registratio
-00032e20: 6e73 2061 7320 6120 4353 5620 6669 6c65  ns as a CSV file
-00032e30: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00032e40: 0a20 2020 2020 2020 2020 2020 2073 6561  .            sea
-00032e50: 7263 6820 2873 7472 2c20 6f70 7469 6f6e  rch (str, option
-00032e60: 616c 293a 2046 696c 7465 7220 7468 6520  al): Filter the 
-00032e70: 4d61 6320 5265 6769 7374 7261 7469 6f6e  Mac Registration
-00032e80: 7320 6279 204d 6163 2041 6464 7265 7373  s by Mac Address
-00032e90: 2061 6e64 2043 6c69 656e 7420 4e61 6d65   and Client Name
-00032ea0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00032eb0: 2020 446f 6573 2061 2027 636f 6e74 6169    Does a 'contai
-00032ec0: 6e73 2720 6d61 7463 682e 0a20 2020 2020  ns' match..     
-00032ed0: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
-00032ee0: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
-00032ef0: 7420 6f72 6465 7220 2056 616c 6964 2056  t order  Valid V
-00032f00: 616c 7565 733a 202b 6e61 6d65 2c20 2d6e  alues: +name, -n
-00032f10: 616d 652c 202b 6469 7370 6c61 795f 6e61  ame, +display_na
-00032f20: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-00032f30: 2020 2020 2d64 6973 706c 6179 5f6e 616d      -display_nam
-00032f40: 650a 2020 2020 2020 2020 2020 2020 6669  e.            fi
-00032f50: 6c65 6e61 6d65 2028 7374 722c 206f 7074  lename (str, opt
-00032f60: 696f 6e61 6c29 3a20 5375 6767 6573 7420  ional): Suggest 
-00032f70: 6120 6669 6c65 206e 616d 6520 666f 7220  a file name for 
-00032f80: 7468 6520 646f 776e 6c6f 6164 696e 6720  the downloading 
-00032f90: 6669 6c65 2076 6961 2063 6f6e 7465 6e74  file via content
-00032fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00032fb0: 2064 6973 706f 7369 7469 6f6e 2068 6561   disposition hea
-00032fc0: 6465 722e 0a0a 2020 2020 2020 2020 5265  der...        Re
-00032fd0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00032fe0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00032ff0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00033000: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00033010: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00033020: 3d20 222f 636c 6f75 6461 7574 682f 6170  = "/cloudauth/ap
-00033030: 692f 7633 2f62 756c 6b2f 6d61 6322 0a0a  i/v3/bulk/mac"..
-00033040: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00033050: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00033060: 7365 6172 6368 273a 2073 6561 7263 682c  search': search,
-00033070: 0a20 2020 2020 2020 2020 2020 2027 736f  .            'so
-00033080: 7274 273a 2073 6f72 742c 0a20 2020 2020  rt': sort,.     
-00033090: 2020 2020 2020 2027 6669 6c65 6e61 6d65         'filename
-000330a0: 273a 2066 696c 656e 616d 650a 2020 2020  ': filename.    
-000330b0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-000330c0: 6573 7020 3d20 6177 6169 7420 7365 6c66  esp = await self
-000330d0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-000330e0: 3d70 6172 616d 7329 0a0a 2020 2020 2020  =params)..      
-000330f0: 2020 6966 2072 6573 703a 0a20 2020 2020    if resp:.     
-00033100: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-00033110: 2020 2020 2020 2020 2020 2020 6473 203d              ds =
-00033120: 2074 6162 6c69 622e 4461 7461 7365 7428   tablib.Dataset(
-00033130: 292e 6c6f 6164 2872 6573 702e 6f75 7470  ).load(resp.outp
-00033140: 7574 290a 2020 2020 2020 2020 2020 2020  ut).            
-00033150: 2020 2020 7265 7370 2e6f 7574 7075 7420      resp.output 
-00033160: 3d20 7961 6d6c 2e6c 6f61 6428 6473 2e6a  = yaml.load(ds.j
-00033170: 736f 6e2c 204c 6f61 6465 723d 7961 6d6c  son, Loader=yaml
-00033180: 2e53 6166 654c 6f61 6465 7229 0a20 2020  .SafeLoader).   
-00033190: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-000331a0: 4578 6365 7074 696f 6e20 6173 2065 3a0a  Exception as e:.
-000331b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000331c0: 6c6f 672e 6572 726f 7228 6622 636c 6f75  log.error(f"clou
-000331d0: 6461 7574 685f 6765 745f 7265 6769 7374  dauth_get_regist
-000331e0: 6572 6564 5f6d 6163 7320 6361 7567 6874  ered_macs caught
-000331f0: 207b 652e 5f5f 636c 6173 735f 5f2e 5f5f   {e.__class__.__
-00033200: 6e61 6d65 5f5f 7d20 7472 7969 6e67 2074  name__} trying t
-00033210: 6f20 636f 6e76 6572 7420 6373 7620 7265  o convert csv re
-00033220: 7475 726e 2066 726f 6d20 4150 4920 746f  turn from API to
-00033230: 2064 6963 742e 222c 2063 6170 7469 6f6e   dict.", caption
-00033240: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
-00033250: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
-00033260: 2061 7379 6e63 2064 6566 2067 6574 5f75   async def get_u
-00033270: 7365 725f 6163 636f 756e 7473 280a 2020  ser_accounts(.  
-00033280: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00033290: 2020 2020 6170 705f 6e61 6d65 3a20 7374      app_name: st
-000332a0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-000332b0: 2020 7479 7065 3a20 7374 7220 3d20 4e6f    type: str = No
-000332c0: 6e65 2c0a 2020 2020 2020 2020 7374 6174  ne,.        stat
-000332d0: 7573 3a20 7374 7220 3d20 4e6f 6e65 2c0a  us: str = None,.
-000332e0: 2020 2020 2020 2020 6f72 6465 725f 6279          order_by
-000332f0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00033300: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-00033310: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-00033320: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
-00033330: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00033340: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-00033350: 6973 7420 7573 6572 2061 6363 6f75 6e74  ist user account
-00033360: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
-00033370: 3a0a 2020 2020 2020 2020 2020 2020 6170  :.            ap
-00033380: 705f 6e61 6d65 2028 7374 722c 206f 7074  p_name (str, opt
-00033390: 696f 6e61 6c29 3a20 4170 706e 616d 6520  ional): Appname 
-000333a0: 6e6d 7320 746f 2066 696c 7465 7220 4172  nms to filter Ar
-000333b0: 7562 6120 4365 6e74 7261 6c20 7573 6572  uba Central user
-000333c0: 732c 2061 6e64 2061 6363 6f75 6e74 5f73  s, and account_s
-000333d0: 6574 7469 6e67 0a20 2020 2020 2020 2020  etting.         
-000333e0: 2020 2020 2020 2074 6f20 6669 6c74 6572         to filter
-000333f0: 2048 5045 2047 7265 656e 4c61 6b65 2045   HPE GreenLake E
-00033400: 6467 6520 746f 2043 6c6f 7564 2050 6c61  dge to Cloud Pla
-00033410: 7466 6f72 6d20 2843 4353 2920 6170 706c  tform (CCS) appl
-00033420: 6963 6174 696f 6e20 7573 6572 7320 2056  ication users  V
-00033430: 616c 6964 0a20 2020 2020 2020 2020 2020  alid.           
-00033440: 2020 2020 2056 616c 7565 733a 206e 6d73       Values: nms
-00033450: 2c20 6163 636f 756e 745f 7365 7474 696e  , account_settin
-00033460: 670a 2020 2020 2020 2020 2020 2020 7479  g.            ty
-00033470: 7065 2028 7374 722c 206f 7074 696f 6e61  pe (str, optiona
-00033480: 6c29 3a20 4669 6c74 6572 2062 6173 6564  l): Filter based
-00033490: 206f 6e20 7379 7374 656d 206f 7220 6665   on system or fe
-000334a0: 6465 7261 7465 6420 7573 6572 2020 5661  derated user  Va
-000334b0: 6c69 6420 5661 6c75 6573 3a20 7379 7374  lid Values: syst
-000334c0: 656d 2c0a 2020 2020 2020 2020 2020 2020  em,.            
-000334d0: 2020 2020 6665 6465 7261 7465 640a 2020      federated.  
-000334e0: 2020 2020 2020 2020 2020 7374 6174 7573            status
-000334f0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00033500: 3a20 4669 6c74 6572 2075 7365 7220 6261  : Filter user ba
-00033510: 7365 6420 6f6e 2073 7461 7475 7320 2869  sed on status (i
-00033520: 6e70 726f 6772 6573 732c 2066 6169 6c65  nprogress, faile
-00033530: 6429 2020 5661 6c69 6420 5661 6c75 6573  d)  Valid Values
-00033540: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00033550: 2020 696e 7072 6f67 7265 7373 2c20 6661    inprogress, fa
-00033560: 696c 6564 0a20 2020 2020 2020 2020 2020  iled.           
-00033570: 206f 7264 6572 5f62 7920 2873 7472 2c20   order_by (str, 
-00033580: 6f70 7469 6f6e 616c 293a 2053 6f72 7420  optional): Sort 
-00033590: 6f72 6465 7269 6e67 2028 6173 6365 6e64  ordering (ascend
-000335a0: 696e 6720 6f72 2064 6573 6365 6e64 696e  ing or descendin
-000335b0: 6729 2e20 2b75 7365 726e 616d 6520 7369  g). +username si
-000335c0: 676e 6966 6965 730a 2020 2020 2020 2020  gnifies.        
-000335d0: 2020 2020 2020 2020 6173 6365 6e64 696e          ascendin
-000335e0: 6720 6f72 6465 7220 6f66 2075 7365 726e  g order of usern
-000335f0: 616d 652e 2020 5661 6c69 6420 5661 6c75  ame.  Valid Valu
-00033600: 6573 3a20 2b75 7365 726e 616d 652c 202d  es: +username, -
-00033610: 7573 6572 6e61 6d65 0a20 2020 2020 2020  username.       
-00033620: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00033630: 2c20 6f70 7469 6f6e 616c 293a 205a 6572  , optional): Zer
-00033640: 6f20 6261 7365 6420 6f66 6673 6574 2074  o based offset t
-00033650: 6f20 7374 6172 7420 6672 6f6d 2044 6566  o start from Def
-00033660: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-00033670: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-00033680: 6e74 2c20 6f70 7469 6f6e 616c 293a 204d  nt, optional): M
-00033690: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-000336a0: 2069 7465 6d73 2074 6f20 7265 7475 726e   items to return
-000336b0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-000336c0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-000336d0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-000336e0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-000336f0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00033700: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00033710: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00033720: 2f70 6c61 7466 6f72 6d2f 7262 6163 2f76  /platform/rbac/v
-00033730: 312f 7573 6572 7322 0a0a 2020 2020 2020  1/users"..      
-00033740: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00033750: 2020 2020 2020 2020 2027 6170 705f 6e61           'app_na
-00033760: 6d65 273a 2061 7070 5f6e 616d 652c 0a20  me': app_name,. 
-00033770: 2020 2020 2020 2020 2020 2027 7479 7065             'type
-00033780: 273a 2074 7970 652c 0a20 2020 2020 2020  ': type,.       
-00033790: 2020 2020 2027 7374 6174 7573 273a 2073       'status': s
-000337a0: 7461 7475 732c 0a20 2020 2020 2020 2020  tatus,.         
-000337b0: 2020 2027 6f72 6465 725f 6279 273a 206f     'order_by': o
-000337c0: 7264 6572 5f62 792c 0a20 2020 2020 2020  rder_by,.       
-000337d0: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
-000337e0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
-000337f0: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
-00033800: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
-00033810: 2020 2020 2023 2054 4f44 4f20 7468 6973       # TODO this
-00033820: 206e 6565 6473 2061 2066 6169 7220 616d   needs a fair am
-00033830: 6f75 6e74 206f 6620 6d61 7373 6167 696e  ount of massagin
-00033840: 6720 746f 2074 7572 6e20 696e 746f 2061  g to turn into a
-00033850: 2063 6f6d 6d61 6e64 2c20 6974 2773 206e   command, it's n
-00033860: 6573 7465 6420 6469 6374 730a 2020 2020  ested dicts.    
-00033870: 2020 2020 2320 6578 616d 706c 6520 7265      # example re
-00033880: 7370 6f6e 7365 2069 6e20 7072 6976 6174  sponse in privat
-00033890: 6520 7673 636f 6465 2064 6972 2e0a 2020  e vscode dir..  
-000338a0: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-000338b0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-000338c0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-000338d0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-000338e0: 6573 700a 0a69 6620 5f5f 6e61 6d65 5f5f  esp..if __name__
-000338f0: 203d 3d20 225f 5f6d 6169 6e5f 5f22 3a0a   == "__main__":.
-00033900: 2020 2020 7061 7373 0a                       pass.
+00019450: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+00019460: 3a0a 2020 2020 2020 2020 2020 2020 6a73  :.            js
+00019470: 6f6e 5f64 6174 615b 2267 726f 7570 5f61  on_data["group_a
+00019480: 7474 7269 6275 7465 7322 5d5b 2267 726f  ttributes"]["gro
+00019490: 7570 5f70 726f 7065 7274 6965 7322 5d5b  up_properties"][
+000194a0: 2241 704e 6574 776f 726b 526f 6c65 225d  "ApNetworkRole"]
+000194b0: 203d 205c 0a20 2020 2020 2020 2020 2020   = \.           
+000194c0: 2020 2020 2022 5374 616e 6461 7264 2220       "Standard" 
+000194d0: 6966 206e 6f74 206d 6963 726f 6272 616e  if not microbran
+000194e0: 6368 2065 6c73 6520 224d 6963 726f 6272  ch else "Microbr
+000194f0: 616e 6368 220a 2020 2020 2020 2020 2020  anch".          
+00019500: 2020 6a73 6f6e 5f64 6174 615b 2267 726f    json_data["gro
+00019510: 7570 5f61 7474 7269 6275 7465 7322 5d5b  up_attributes"][
+00019520: 2267 726f 7570 5f70 726f 7065 7274 6965  "group_propertie
+00019530: 7322 5d5b 2241 7263 6869 7465 6374 7572  s"]["Architectur
+00019540: 6522 5d20 3d20 5c0a 2020 2020 2020 2020  e"] = \.        
+00019550: 2020 2020 2020 2020 2249 6e73 7461 6e74          "Instant
+00019560: 2220 6966 206e 6f74 2061 6f73 3130 2065  " if not aos10 e
+00019570: 6c73 6520 2241 4f53 3130 220a 2020 2020  lse "AOS10".    
+00019580: 2020 2020 6966 2022 5377 6974 6368 6573      if "Switches
+00019590: 2220 696e 2061 6c6c 6f77 6564 5f74 7970  " in allowed_typ
+000195a0: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+000195b0: 6a73 6f6e 5f64 6174 615b 2267 726f 7570  json_data["group
+000195c0: 5f61 7474 7269 6275 7465 7322 5d5b 2267  _attributes"]["g
+000195d0: 726f 7570 5f70 726f 7065 7274 6965 7322  roup_properties"
+000195e0: 5d5b 2241 6c6c 6f77 6564 5377 6974 6368  ]["AllowedSwitch
+000195f0: 5479 7065 7322 5d20 3d20 5c0a 2020 2020  Types"] = \.    
+00019600: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
+00019610: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
+00019620: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00019630: 6d6f 6e5f 6f6e 6c79 5f73 7769 7463 6865  mon_only_switche
+00019640: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00019650: 2020 206a 736f 6e5f 6461 7461 5b22 6772     json_data["gr
+00019660: 6f75 705f 6174 7472 6962 7574 6573 225d  oup_attributes"]
+00019670: 5b22 6772 6f75 705f 7072 6f70 6572 7469  ["group_properti
+00019680: 6573 225d 5b22 4d6f 6e69 746f 724f 6e6c  es"]["MonitorOnl
+00019690: 7922 5d20 3d20 5c0a 2020 2020 2020 2020  y"] = \.        
+000196a0: 2020 2020 2020 2020 2020 2020 6d6f 6e5f              mon_
+000196b0: 6f6e 6c79 5f73 7769 7463 6865 730a 0a20  only_switches.. 
+000196c0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000196d0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+000196e0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+000196f0: 6e5f 6461 7461 290a 0a20 2020 2061 7379  n_data)..    asy
+00019700: 6e63 2064 6566 2063 6c6f 6e65 5f67 726f  nc def clone_gro
+00019710: 7570 280a 2020 2020 2020 2020 7365 6c66  up(.        self
+00019720: 2c0a 2020 2020 2020 2020 636c 6f6e 655f  ,.        clone_
+00019730: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
+00019740: 2020 2020 6e65 775f 6772 6f75 703a 2073      new_group: s
+00019750: 7472 2c0a 2020 2020 2020 2020 7570 6772  tr,.        upgr
+00019760: 6164 655f 616f 7331 303a 2062 6f6f 6c20  ade_aos10: bool 
+00019770: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
+00019780: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00019790: 2020 2020 2222 2243 6c6f 6e65 2061 6e64      """Clone and
+000197a0: 2063 7265 6174 6520 6e65 7720 6772 6f75   create new grou
+000197b0: 702e 0a0a 2020 2020 2020 2020 4172 6773  p...        Args
+000197c0: 3a0a 2020 2020 2020 2020 2020 2020 636c  :.            cl
+000197d0: 6f6e 655f 6772 6f75 7020 2873 7472 293a  one_group (str):
+000197e0: 2047 726f 7570 2074 6f20 6265 2063 6c6f   Group to be clo
+000197f0: 6e65 642e 0a20 2020 2020 2020 2020 2020  ned..           
+00019800: 206e 6577 5f67 726f 7570 2028 7374 7229   new_group (str)
+00019810: 3a20 4e61 6d65 206f 6620 6772 6f75 7020  : Name of group 
+00019820: 746f 2062 6520 6372 6561 7465 6420 6261  to be created ba
+00019830: 7365 6420 6f6e 2063 6c6f 6e65 2e0a 2020  sed on clone..  
+00019840: 2020 2020 2020 2020 2020 7570 6772 6164            upgrad
+00019850: 655f 616f 7331 3020 2862 6f6f 6c29 3a20  e_aos10 (bool): 
+00019860: 5365 7420 5472 7565 2074 6f20 5570 6461  Set True to Upda
+00019870: 7465 2074 6865 206e 6577 2063 6c6f 6e65  te the new clone
+00019880: 6420 6772 6f75 7020 746f 2041 4f53 3130  d group to AOS10
+00019890: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+000198a0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+000198b0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+000198c0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+000198d0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+000198e0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+000198f0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+00019900: 322f 6772 6f75 7073 2f63 6c6f 6e65 220a  2/groups/clone".
+00019910: 0a20 2020 2020 2020 2069 6620 7570 6772  .        if upgr
+00019920: 6164 655f 616f 7331 303a 0a20 2020 2020  ade_aos10:.     
+00019930: 2020 2020 2020 206c 6f67 2e77 6172 6e69         log.warni
+00019940: 6e67 280a 2020 2020 2020 2020 2020 2020  ng(.            
+00019950: 2020 2020 2247 726f 7570 206d 6179 206e      "Group may n
+00019960: 6f74 2062 6520 7570 6772 6164 6564 2074  ot be upgraded t
+00019970: 6f20 414f 5331 302c 2041 5049 206d 6574  o AOS10, API met
+00019980: 686f 6420 6170 7065 6172 7320 746f 2068  hod appears to h
+00019990: 6176 6520 736f 6d65 2063 6176 6561 7473  ave some caveats
+000199a0: 2e2e 2e20 446f 6573 6e27 7420 616c 7761  ... Doesn't alwa
+000199b0: 7973 2077 6f72 6b2e 220a 2020 2020 2020  ys work.".      
+000199c0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+000199d0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+000199e0: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
+000199f0: 7027 3a20 6e65 775f 6772 6f75 702c 0a20  p': new_group,. 
+00019a00: 2020 2020 2020 2020 2020 2027 636c 6f6e             'clon
+00019a10: 655f 6772 6f75 7027 3a20 636c 6f6e 655f  e_group': clone_
+00019a20: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
+00019a30: 2020 2027 7570 6772 6164 655f 6172 6368     'upgrade_arch
+00019a40: 6974 6563 7475 7265 273a 2075 7067 7261  itecture': upgra
+00019a50: 6465 5f61 6f73 3130 2c0a 2020 2020 2020  de_aos10,.      
+00019a60: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00019a70: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00019a80: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+00019a90: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+00019aa0: 2020 2023 2041 5049 2d46 4c41 5720 6164     # API-FLAW ad
+00019ab0: 6420 6170 2061 6e64 2067 7720 746f 2067  d ap and gw to g
+00019ac0: 726f 7570 2077 6974 6820 6777 2d72 6f6c  roup with gw-rol
+00019ad0: 6520 6173 2077 6c61 6e20 616e 6420 7570  e as wlan and up
+00019ae0: 6772 6164 6520 746f 2061 6f73 3130 2e20  grade to aos10. 
+00019af0: 2052 6574 7572 6e73 2032 3030 2c20 6275   Returns 200, bu
+00019b00: 7420 6e6f 2063 6861 6e67 6573 206d 6164  t no changes mad
+00019b10: 650a 2020 2020 6173 796e 6320 6465 6620  e.    async def 
+00019b20: 7570 6461 7465 5f67 726f 7570 5f70 726f  update_group_pro
+00019b30: 7065 7274 6965 7328 0a20 2020 2020 2020  perties(.       
+00019b40: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+00019b50: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
+00019b60: 2020 2061 6c6c 6f77 6564 5f74 7970 6573     allowed_types
+00019b70: 3a20 556e 696f 6e5b 636f 6e73 7461 6e74  : Union[constant
+00019b80: 732e 416c 6c44 6576 5479 7065 732c 204c  s.AllDevTypes, L
+00019b90: 6973 745b 636f 6e73 7461 6e74 732e 416c  ist[constants.Al
+00019ba0: 6c44 6576 5479 7065 735d 5d20 3d20 4e6f  lDevTypes]] = No
+00019bb0: 6e65 2c0a 2020 2020 2020 2020 7769 7265  ne,.        wire
+00019bc0: 645f 7467 3a20 626f 6f6c 203d 204e 6f6e  d_tg: bool = Non
+00019bd0: 652c 0a20 2020 2020 2020 2077 6c61 6e5f  e,.        wlan_
+00019be0: 7467 3a20 626f 6f6c 203d 204e 6f6e 652c  tg: bool = None,
+00019bf0: 0a20 2020 2020 2020 2061 6f73 3130 3a20  .        aos10: 
+00019c00: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
+00019c10: 2020 2020 206d 6963 726f 6272 616e 6368       microbranch
+00019c20: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
+00019c30: 2020 2020 2020 2067 775f 726f 6c65 3a20         gw_role: 
+00019c40: 636f 6e73 7461 6e74 732e 4761 7465 7761  constants.Gatewa
+00019c50: 7952 6f6c 6520 3d20 4e6f 6e65 2c0a 2020  yRole = None,.  
+00019c60: 2020 2020 2020 6d6f 6e69 746f 725f 6f6e        monitor_on
+00019c70: 6c79 5f73 773a 2062 6f6f 6c20 3d20 4e6f  ly_sw: bool = No
+00019c80: 6e65 2c0a 2020 2020 2020 2020 6d6f 6e69  ne,.        moni
+00019c90: 746f 725f 6f6e 6c79 5f63 783a 2062 6f6f  tor_only_cx: boo
+00019ca0: 6c20 3d20 4e6f 6e65 2c20 2023 204e 6f74  l = None,  # Not
+00019cb0: 2073 7570 706f 7274 6564 2062 7920 6365   supported by ce
+00019cc0: 6e74 7261 6c20 7965 740a 2020 2020 2920  ntral yet.    ) 
+00019cd0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00019ce0: 2020 2020 2022 2222 5570 6461 7465 2070       """Update p
+00019cf0: 726f 7065 7274 6965 7320 666f 7220 7468  roperties for th
+00019d00: 6520 6769 7665 6e20 6772 6f75 702e 0a0a  e given group...
+00019d10: 2020 2020 2020 2020 2f2f 2055 7365 6420          // Used 
+00019d20: 6279 2075 7064 6174 6520 6772 6f75 7020  by update group 
+00019d30: 2f2f 0a0a 2020 2020 2020 2020 2d20 5468  //..        - Th
+00019d40: 6520 7570 6461 7465 206f 6620 7065 7273  e update of pers
+00019d50: 6f6e 6120 616e 6420 636f 6e66 6967 7572  ona and configur
+00019d60: 6174 696f 6e20 6d6f 6465 2073 6574 2066  ation mode set f
+00019d70: 6f72 2065 7869 7374 696e 6720 6465 7669  or existing devi
+00019d80: 6365 2074 7970 6573 2069 7320 6e6f 7420  ce types is not 
+00019d90: 7065 726d 6974 7465 642e 0a20 2020 2020  permitted..     
+00019da0: 2020 202d 2043 616e 2075 7064 6174 6520     - Can update 
+00019db0: 6672 6f6d 2073 7461 6e64 6172 6420 4150  from standard AP
+00019dc0: 2074 6f20 4d69 6372 6f42 7261 6e63 682c   to MicroBranch,
+00019dd0: 2062 7574 2063 616e 2774 2067 6f20 6261   but can't go ba
+00019de0: 636b 0a20 2020 2020 2020 202d 2043 616e  ck.        - Can
+00019df0: 2075 7064 6174 6520 746f 2041 4f53 3130   update to AOS10
+00019e00: 2c20 6275 7420 6361 6e27 7420 676f 2062  , but can't go b
+00019e10: 6163 6b0a 2020 2020 2020 2020 2d20 4361  ack.        - Ca
+00019e20: 6e20 4164 6420 416c 6c6f 7765 6420 4465  n Add Allowed De
+00019e30: 7669 6365 2054 7970 6573 2c20 6275 7420  vice Types, but 
+00019e40: 6361 6e27 7420 7265 6d6f 7665 2e0a 2020  can't remove..  
+00019e50: 2020 2020 2020 2d20 4361 6e20 4164 6420        - Can Add 
+00019e60: 416c 6c6f 7765 6420 5377 6974 6368 2054  Allowed Switch T
+00019e70: 7970 6573 2c20 6275 7420 6361 6e27 7420  ypes, but can't 
+00019e80: 7265 6d6f 7665 2e0a 2020 2020 2020 2020  remove..        
+00019e90: 2d20 4361 6e20 6f6e 6c79 2063 6861 6e67  - Can only chang
+00019ea0: 6520 6d6f 6e5f 6f6e 6c79 5f73 7720 616e  e mon_only_sw an
+00019eb0: 6420 7769 7265 645f 7467 2077 6865 6e20  d wired_tg when 
+00019ec0: 6164 6469 6e67 2073 7769 7463 6865 7320  adding switches 
+00019ed0: 2863 782c 2073 7729 2074 6f20 616c 6c6f  (cx, sw) to allo
+00019ee0: 7765 645f 6465 7669 6365 5f74 7970 6573  wed_device_types
+00019ef0: 0a0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00019f00: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+00019f10: 7570 2028 7374 7229 3a20 4772 6f75 7020  up (str): Group 
+00019f20: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+00019f30: 2061 6c6c 6f77 6564 5f74 7970 6573 2028   allowed_types (
+00019f40: 7374 722c 204c 6973 745b 7374 725d 293a  str, List[str]):
+00019f50: 2041 6c6c 6f77 6564 2044 6576 6963 6520   Allowed Device 
+00019f60: 5479 7065 7320 696e 2074 6865 2067 726f  Types in the gro
+00019f70: 7570 2e20 5461 6273 2066 6f72 2064 6576  up. Tabs for dev
+00019f80: 6963 6573 206e 6f74 2061 6c6c 6f77 6564  ices not allowed
+00019f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019fa0: 2077 6f6e 2774 2064 6973 706c 6179 2069   won't display i
+00019fb0: 6e20 5549 2e20 2076 616c 6964 2076 616c  n UI.  valid val
+00019fc0: 7565 7320 2261 7022 2c20 2267 7722 2c20  ues "ap", "gw", 
+00019fd0: 2263 7822 2c20 2273 7722 2c20 2273 7769  "cx", "sw", "swi
+00019fe0: 7463 6822 0a20 2020 2020 2020 2020 2020  tch".           
+00019ff0: 2020 2020 2028 2273 7769 7463 6822 2069       ("switch" i
+0001a000: 7320 6765 6e65 7269 632c 2077 696c 6c20  s generic, will 
+0001a010: 656e 6162 6c65 2062 6f74 6820 6378 2061  enable both cx a
+0001a020: 6e64 2073 7729 0a20 2020 2020 2020 2020  nd sw).         
+0001a030: 2020 2077 6972 6564 5f74 6720 2862 6f6f     wired_tg (boo
+0001a040: 6c2c 206f 7074 696f 6e61 6c29 3a20 5365  l, optional): Se
+0001a050: 7420 746f 2074 7275 6520 6966 2077 6972  t to true if wir
+0001a060: 6564 2853 7769 7463 6829 2063 6f6e 6669  ed(Switch) confi
+0001a070: 6775 7261 7469 6f6e 2069 6e20 6120 6772  guration in a gr
+0001a080: 6f75 7020 6973 206d 616e 6167 6564 0a20  oup is managed. 
+0001a090: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+0001a0a0: 7369 6e67 2074 656d 706c 6174 6573 2e0a  sing templates..
+0001a0b0: 2020 2020 2020 2020 2020 2020 776c 616e              wlan
+0001a0c0: 5f74 6720 2862 6f6f 6c2c 206f 7074 696f  _tg (bool, optio
+0001a0d0: 6e61 6c29 3a20 5365 7420 746f 2074 7275  nal): Set to tru
+0001a0e0: 6520 6966 2077 6972 656c 6573 7328 4941  e if wireless(IA
+0001a0f0: 502c 2047 6174 6577 6179 7329 2063 6f6e  P, Gateways) con
+0001a100: 6669 6775 7261 7469 6f6e 2069 6e20 610a  figuration in a.
+0001a110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a120: 6772 6f75 7020 6973 206d 616e 6167 6564  group is managed
+0001a130: 2075 7369 6e67 2074 656d 706c 6174 6573   using templates
+0001a140: 2e0a 2020 2020 2020 2020 2020 2020 616f  ..            ao
+0001a150: 7331 303a 2028 626f 6f6c 293a 2069 6620  s10: (bool): if 
+0001a160: 5472 7565 2075 7365 2041 4f53 3130 2061  True use AOS10 a
+0001a170: 7263 6869 7465 6374 7572 6520 666f 7220  rchitecture for 
+0001a180: 7468 6520 6163 6365 7373 2070 6f69 6e74  the access point
+0001a190: 7320 616e 6420 6761 7465 7761 7973 2069  s and gateways i
+0001a1a0: 6e20 7468 6520 6772 6f75 702e 0a20 2020  n the group..   
+0001a1b0: 2020 2020 2020 2020 2020 2020 2064 6566               def
+0001a1c0: 6175 6c74 2046 616c 7365 2028 496e 7374  ault False (Inst
+0001a1d0: 616e 7429 0a20 2020 2020 2020 2020 2020  ant).           
+0001a1e0: 206d 6963 726f 6272 616e 6368 2028 626f   microbranch (bo
+0001a1f0: 6f6c 293a 2054 7275 6520 746f 2065 6e61  ol): True to ena
+0001a200: 626c 6520 4d69 6372 6f62 7261 6e63 6820  ble Microbranch 
+0001a210: 6e65 7477 6f72 6b20 726f 6c65 2066 6f72  network role for
+0001a220: 2041 5073 2069 7320 6170 706c 6963 6162   APs is applicab
+0001a230: 6c65 206f 6e6c 7920 666f 7220 414f 5331  le only for AOS1
+0001a240: 3020 6172 6368 6974 6563 7475 7265 2e0a  0 architecture..
+0001a250: 2020 2020 2020 2020 2020 2020 6777 5f72              gw_r
+0001a260: 6f6c 6520 2847 6174 6577 6179 526f 6c65  ole (GatewayRole
+0001a270: 293a 2047 6174 6577 6179 2072 6f6c 6520  ): Gateway role 
+0001a280: 7661 6c69 6420 7661 6c75 6573 2022 6272  valid values "br
+0001a290: 616e 6368 222c 2022 7670 6e63 222c 2022  anch", "vpnc", "
+0001a2a0: 776c 616e 2220 2822 776c 616e 2220 6f6e  wlan" ("wlan" on
+0001a2b0: 6c79 2076 616c 6964 206f 6e20 414f 5331  ly valid on AOS1
+0001a2c0: 3020 6772 6f75 7029 0a20 2020 2020 2020  0 group).       
+0001a2d0: 2020 2020 206d 6f6e 6974 6f72 5f6f 6e6c       monitor_onl
+0001a2e0: 795f 7377 3a20 4d6f 6e69 746f 7220 6f6e  y_sw: Monitor on
+0001a2f0: 6c79 2041 7275 6261 4f53 2d53 5720 7377  ly ArubaOS-SW sw
+0001a300: 6974 6368 6573 2c20 6170 706c 6965 7320  itches, applies 
+0001a310: 746f 2055 4920 6772 6f75 7020 6f6e 6c79  to UI group only
+0001a320: 0a20 2020 2020 2020 2020 2020 206d 6f6e  .            mon
+0001a330: 6974 6f72 5f6f 6e6c 795f 6378 3a20 4d6f  itor_only_cx: Mo
+0001a340: 6e69 746f 7220 6f6e 6c79 2041 7275 6261  nitor only Aruba
+0001a350: 4f53 2d43 5820 7377 6974 6368 6573 2c20  OS-CX switches, 
+0001a360: 6170 706c 6965 7320 746f 2055 4920 6772  applies to UI gr
+0001a370: 6f75 7020 6f6e 6c79 2028 4675 7475 7265  oup only (Future
+0001a380: 2063 6170 6162 696c 6974 7929 0a0a 2020   capability)..  
+0001a390: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001a3a0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001a3b0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001a3c0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001a3d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001a3e0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+0001a3f0: 6669 6775 7261 7469 6f6e 2f76 322f 6772  figuration/v2/gr
+0001a400: 6f75 7073 2f7b 6772 6f75 707d 2f70 726f  oups/{group}/pro
+0001a410: 7065 7274 6965 7322 0a0a 2020 2020 2020  perties"..      
+0001a420: 2020 7265 7370 203d 2061 7761 6974 2073    resp = await s
+0001a430: 656c 662e 6765 745f 6772 6f75 7073 5f70  elf.get_groups_p
+0001a440: 726f 7065 7274 6965 7328 6772 6f75 7029  roperties(group)
+0001a450: 0a20 2020 2020 2020 2069 6620 7265 7370  .        if resp
+0001a460: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0001a470: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+0001a480: 7265 7370 2e6f 7574 7075 742c 206c 6973  resp.output, lis
+0001a490: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+0001a4a0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+0001a4b0: 7272 6f72 2866 2245 7870 6563 7465 6420  rror(f"Expected 
+0001a4c0: 6c69 7374 206f 6620 6469 6374 7320 6672  list of dicts fr
+0001a4d0: 6f6d 2067 6574 5f67 726f 7570 735f 7072  om get_groups_pr
+0001a4e0: 6f70 6572 7469 6573 2067 6f74 207b 7479  operties got {ty
+0001a4f0: 7065 2872 6573 702e 6f75 7470 7574 297d  pe(resp.output)}
+0001a500: 2229 0a20 2020 2020 2020 2020 2020 2063  ").            c
+0001a510: 7572 5f67 726f 7570 5f70 726f 7073 203d  ur_group_props =
+0001a520: 2072 6573 702e 6f75 7470 7574 5b2d 315d   resp.output[-1]
+0001a530: 5b22 7072 6f70 6572 7469 6573 225d 0a20  ["properties"]. 
+0001a540: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001a550: 2020 2020 2020 2020 206c 6f67 2e65 7272           log.err
+0001a560: 6f72 2866 2255 6e61 626c 6520 746f 2070  or(f"Unable to p
+0001a570: 6572 666f 726d 2063 616c 6c20 746f 2075  erform call to u
+0001a580: 7064 6174 6520 6772 6f75 7020 7b67 726f  pdate group {gro
+0001a590: 7570 7d20 7072 6f70 6572 7469 6573 2e20  up} properties. 
+0001a5a0: 2043 616c 6c20 746f 2067 6574 2063 7572   Call to get cur
+0001a5b0: 7265 6e74 2070 726f 7065 7274 6965 7320  rent properties 
+0001a5c0: 6661 696c 6564 2e22 290a 2020 2020 2020  failed.").      
+0001a5d0: 2020 2020 2020 7265 7475 726e 2072 6573        return res
+0001a5e0: 700a 0a20 2020 2020 2020 2069 6620 6375  p..        if cu
+0001a5f0: 725f 6772 6f75 705f 7072 6f70 735b 2241  r_group_props["A
+0001a600: 4f53 5665 7273 696f 6e22 5d20 3d3d 2022  OSVersion"] == "
+0001a610: 414f 535f 3130 5822 2061 6e64 2061 6f73  AOS_10X" and aos
+0001a620: 3130 2069 7320 4661 6c73 653a 0a20 2020  10 is False:.   
+0001a630: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0001a640: 5265 7370 6f6e 7365 280a 2020 2020 2020  Response(.      
+0001a650: 2020 2020 2020 2020 2020 6572 726f 723d            error=
+0001a660: 6622 7b67 726f 7570 7d20 6973 2063 7572  f"{group} is cur
+0001a670: 7265 6e74 6c79 2061 6e20 414f 5331 3020  rently an AOS10 
+0001a680: 6772 6f75 702e 2020 5570 6772 6164 696e  group.  Upgradin
+0001a690: 6720 746f 2041 4f53 3130 2069 7320 7375  g to AOS10 is su
+0001a6a0: 7070 6f72 7465 642c 2072 6576 6572 7469  pported, reverti
+0001a6b0: 6e67 2062 6163 6b20 6973 206e 6f74 2e22  ng back is not."
+0001a6c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001a6d0: 2020 726c 5f73 7472 3d72 6573 702e 726c    rl_str=resp.rl
+0001a6e0: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
+0001a6f0: 2020 2020 2020 2020 6966 2061 6f73 3130          if aos10
+0001a700: 2069 7320 5472 7565 3a0a 2020 2020 2020   is True:.      
+0001a710: 2020 2020 2020 6966 2022 4163 6365 7373        if "Access
+0001a720: 506f 696e 7473 2220 696e 2063 7572 5f67  Points" in cur_g
+0001a730: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
+0001a740: 7765 6444 6576 5479 7065 7322 5d20 6f72  wedDevTypes"] or
+0001a750: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
+0001a760: 2020 2022 4761 7465 7761 7973 2220 696e     "Gateways" in
+0001a770: 2063 7572 5f67 726f 7570 5f70 726f 7073   cur_group_props
+0001a780: 5b22 416c 6c6f 7765 6444 6576 5479 7065  ["AllowedDevType
+0001a790: 7322 5d3a 0a20 2020 2020 2020 2020 2020  s"]:.           
+0001a7a0: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
+0001a7b0: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
+0001a7c0: 2020 2020 2020 2020 2020 6572 726f 723d            error=
+0001a7d0: 6622 7b63 6f6c 6f72 2827 414f 5331 3027  f"{color('AOS10'
+0001a7e0: 297d 2063 616e 206f 6e6c 7920 6265 2073  )} can only be s
+0001a7f0: 6574 2077 6865 6e20 4150 7320 6f72 2047  et when APs or G
+0001a800: 5773 2061 7265 2069 6e69 7469 616c 6c79  Ws are initially
+0001a810: 2061 6464 6564 2074 6f20 616c 6c6f 7765   added to allowe
+0001a820: 645f 7479 7065 7320 6f66 2067 726f 7570  d_types of group
+0001a830: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001a840: 2020 2020 2020 2020 2020 2020 6622 5c6e              f"\n
+0001a850: 7b63 6f6c 6f72 2867 726f 7570 297d 2063  {color(group)} c
+0001a860: 616e 2062 6520 636c 6f6e 6564 2077 6974  an be cloned wit
+0001a870: 6820 6f70 7469 6f6e 2074 6f20 7570 6772  h option to upgr
+0001a880: 6164 6520 6475 7269 6e67 2063 6c6f 6e65  ade during clone
+0001a890: 2e22 2c0a 2020 2020 2020 2020 2020 2020  .",.            
+0001a8a0: 2020 2020 2020 2020 726c 5f73 7472 3d72          rl_str=r
+0001a8b0: 6573 702e 726c 2c0a 2020 2020 2020 2020  esp.rl,.        
+0001a8c0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+0001a8d0: 2020 2069 6620 2241 6363 6573 7350 6f69     if "AccessPoi
+0001a8e0: 6e74 7322 2069 6e20 6375 725f 6772 6f75  nts" in cur_grou
+0001a8f0: 705f 7072 6f70 735b 2241 6c6c 6f77 6564  p_props["Allowed
+0001a900: 4465 7654 7970 6573 225d 3a0a 2020 2020  DevTypes"]:.    
+0001a910: 2020 2020 2020 2020 6966 206d 6963 726f          if micro
+0001a920: 6272 616e 6368 2069 7320 6e6f 7420 4e6f  branch is not No
+0001a930: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0001a940: 2020 2020 7265 7475 726e 2052 6573 706f      return Respo
+0001a950: 6e73 6528 0a20 2020 2020 2020 2020 2020  nse(.           
+0001a960: 2020 2020 2020 2020 2065 7272 6f72 3d66           error=f
+0001a970: 227b 6772 6f75 707d 2061 6c72 6561 6479  "{group} already
+0001a980: 2061 6c6c 6f77 7320 4150 732e 2020 4d69   allows APs.  Mi
+0001a990: 6372 6f62 7261 6e63 682f 5374 616e 6461  crobranch/Standa
+0001a9a0: 7264 2041 5020 6361 6e20 6f6e 6c79 2062  rd AP can only b
+0001a9b0: 6520 7365 7420 220a 2020 2020 2020 2020  e set ".        
+0001a9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a9d0: 2020 2277 6865 6e20 696e 6974 6961 6c6c    "when initiall
+0001a9e0: 7920 6164 6469 6e67 2041 5073 2074 6f20  y adding APs to 
+0001a9f0: 616c 6c6f 7765 645f 7479 7065 7320 6f66  allowed_types of
+0001aa00: 2067 726f 7570 222c 0a20 2020 2020 2020   group",.       
+0001aa10: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
+0001aa20: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
+0001aa30: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+0001aa40: 2020 2020 2020 2069 6620 6d6f 6e69 746f         if monito
+0001aa50: 725f 6f6e 6c79 5f73 7720 6973 2046 616c  r_only_sw is Fal
+0001aa60: 7365 2061 6e64 2022 414f 535f 5322 2069  se and "AOS_S" i
+0001aa70: 6e20 6375 725f 6772 6f75 705f 7072 6f70  n cur_group_prop
+0001aa80: 735b 2241 6c6c 6f77 6564 5377 6974 6368  s["AllowedSwitch
+0001aa90: 5479 7065 7322 5d3a 0a20 2020 2020 2020  Types"]:.       
+0001aaa0: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
+0001aab0: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
+0001aac0: 2020 2020 2020 6572 726f 723d 6622 7b67        error=f"{g
+0001aad0: 726f 7570 7d20 616c 7265 6164 7920 616c  roup} already al
+0001aae0: 6c6f 7773 2041 4f53 2d53 572e 2020 4d6f  lows AOS-SW.  Mo
+0001aaf0: 6e69 746f 7220 4f6e 6c79 2063 616e 206f  nitor Only can o
+0001ab00: 6e6c 7920 6265 2073 6574 2022 0a20 2020  nly be set ".   
+0001ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab20: 2020 2022 7768 656e 2069 6e69 7469 616c     "when initial
+0001ab30: 6c79 2061 6464 696e 6720 414f 532d 5357  ly adding AOS-SW
+0001ab40: 2074 6f20 616c 6c6f 7765 645f 7479 7065   to allowed_type
+0001ab50: 7320 6f66 2067 726f 7570 222c 0a20 2020  s of group",.   
+0001ab60: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
+0001ab70: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
+0001ab80: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0001ab90: 2020 2069 6620 6d6f 6e69 746f 725f 6f6e     if monitor_on
+0001aba0: 6c79 5f63 7820 6973 2046 616c 7365 2061  ly_cx is False a
+0001abb0: 6e64 2022 414f 535f 4358 2220 696e 2063  nd "AOS_CX" in c
+0001abc0: 7572 5f67 726f 7570 5f70 726f 7073 5b22  ur_group_props["
+0001abd0: 416c 6c6f 7765 6453 7769 7463 6854 7970  AllowedSwitchTyp
+0001abe0: 6573 225d 3a0a 2020 2020 2020 2020 2020  es"]:.          
+0001abf0: 2020 7265 7475 726e 2052 6573 706f 6e73    return Respons
+0001ac00: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
+0001ac10: 2020 2065 7272 6f72 3d66 227b 6772 6f75     error=f"{grou
+0001ac20: 707d 2061 6c72 6561 6479 2061 6c6c 6f77  p} already allow
+0001ac30: 7320 414f 532d 4358 2e20 204d 6f6e 6974  s AOS-CX.  Monit
+0001ac40: 6f72 204f 6e6c 7920 6361 6e20 6f6e 6c79  or Only can only
+0001ac50: 2062 6520 7365 7420 220a 2020 2020 2020   be set ".      
+0001ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac70: 2277 6865 6e20 696e 6974 6961 6c6c 7920  "when initially 
+0001ac80: 6164 6469 6e67 2041 4f53 2d43 5820 746f  adding AOS-CX to
+0001ac90: 2061 6c6c 6f77 6564 5f74 7970 6573 206f   allowed_types o
+0001aca0: 6620 6772 6f75 7022 2c0a 2020 2020 2020  f group",.      
+0001acb0: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
+0001acc0: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
+0001acd0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+0001ace0: 2061 6c6c 6f77 6564 5f74 7970 6573 203d   allowed_types =
+0001acf0: 2061 6c6c 6f77 6564 5f74 7970 6573 206f   allowed_types o
+0001ad00: 7220 5b5d 0a20 2020 2020 2020 2061 6c6c  r [].        all
+0001ad10: 6f77 6564 5f73 7769 7463 685f 7479 7065  owed_switch_type
+0001ad20: 7320 3d20 5b5d 0a20 2020 2020 2020 2069  s = [].        i
+0001ad30: 6620 616c 6c6f 7765 645f 7479 7065 733a  f allowed_types:
+0001ad40: 0a20 2020 2020 2020 2020 2020 2061 6c6c  .            all
+0001ad50: 6f77 6564 5f74 7970 6573 203d 2075 7469  owed_types = uti
+0001ad60: 6c73 2e6c 6973 7469 6679 2861 6c6c 6f77  ls.listify(allow
+0001ad70: 6564 5f74 7970 6573 290a 2020 2020 2020  ed_types).      
+0001ad80: 2020 2020 2020 6966 2022 7377 6974 6368        if "switch
+0001ad90: 2220 696e 2061 6c6c 6f77 6564 5f74 7970  " in allowed_typ
+0001ada0: 6573 206f 7220 2822 6378 2220 696e 2061  es or ("cx" in a
+0001adb0: 6c6c 6f77 6564 5f74 7970 6573 2061 6e64  llowed_types and
+0001adc0: 2022 7377 2220 696e 2061 6c6c 6f77 6564   "sw" in allowed
+0001add0: 5f74 7970 6573 293a 0a20 2020 2020 2020  _types):.       
+0001ade0: 2020 2020 2020 2020 2061 6c6c 6f77 6564           allowed
+0001adf0: 5f73 7769 7463 685f 7479 7065 7320 2b3d  _switch_types +=
+0001ae00: 205b 2241 4f53 5f43 5822 2c20 2241 4f53   ["AOS_CX", "AOS
+0001ae10: 5f53 225d 0a20 2020 2020 2020 2020 2020  _S"].           
+0001ae20: 2065 6c69 6620 2273 7722 2069 6e20 616c   elif "sw" in al
+0001ae30: 6c6f 7765 645f 7479 7065 733a 0a20 2020  lowed_types:.   
+0001ae40: 2020 2020 2020 2020 2020 2020 2061 6c6c               all
+0001ae50: 6f77 6564 5f73 7769 7463 685f 7479 7065  owed_switch_type
+0001ae60: 7320 2b3d 205b 2241 4f53 5f53 225d 0a20  s += ["AOS_S"]. 
+0001ae70: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0001ae80: 2263 7822 2069 6e20 616c 6c6f 7765 645f  "cx" in allowed_
+0001ae90: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
+0001aea0: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
+0001aeb0: 7769 7463 685f 7479 7065 7320 2b3d 205b  witch_types += [
+0001aec0: 2241 4f53 5f43 5822 5d0a 0a20 2020 2020  "AOS_CX"]..     
+0001aed0: 2020 2023 2070 7269 6e74 2822 5b44 4542     # print("[DEB
+0001aee0: 5547 5d20 2d2d 2d2d 2043 7572 7265 6e74  UG] ---- Current
+0001aef0: 2050 726f 7065 7274 6965 7320 6f66 2067   Properties of g
+0001af00: 726f 7570 2229 0a20 2020 2020 2020 2023  roup").        #
+0001af10: 2075 7469 6c73 2e6a 736f 6e5f 7072 696e   utils.json_prin
+0001af20: 7428 6375 725f 6772 6f75 705f 7072 6f70  t(cur_group_prop
+0001af30: 7329 0a20 2020 2020 2020 2023 2070 7269  s).        # pri
+0001af40: 6e74 2822 5b44 4542 5547 5d20 2d2d 2d2d  nt("[DEBUG] ----
+0001af50: 2229 0a20 2020 2020 2020 2023 2054 4f44  ").        # TOD
+0001af60: 4f20 636f 7079 2070 6173 7465 2066 726f  O copy paste fro
+0001af70: 6d20 6372 6561 7465 2067 726f 7570 202e  m create group .
+0001af80: 2e2e 2063 6f6d 6d6f 6e20 6675 6e63 2074  .. common func t
+0001af90: 6f20 6275 696c 6420 7061 796c 6f61 640a  o build payload.
+0001afa0: 2020 2020 2020 2020 6777 5f72 6f6c 655f          gw_role_
+0001afb0: 6469 6374 203d 207b 0a20 2020 2020 2020  dict = {.       
+0001afc0: 2020 2020 2022 6272 616e 6368 223a 2022       "branch": "
+0001afd0: 4272 616e 6368 4761 7465 7761 7922 2c0a  BranchGateway",.
+0001afe0: 2020 2020 2020 2020 2020 2020 2276 706e              "vpn
+0001aff0: 6322 3a20 2256 504e 436f 6e63 656e 7472  c": "VPNConcentr
+0001b000: 6174 6f72 222c 0a20 2020 2020 2020 2020  ator",.         
+0001b010: 2020 2022 776c 616e 223a 2022 574c 414e     "wlan": "WLAN
+0001b020: 4761 7465 7761 7922 2c0a 2020 2020 2020  Gateway",.      
+0001b030: 2020 7d0a 2020 2020 2020 2020 6465 765f    }.        dev_
+0001b040: 7479 7065 5f64 6963 7420 3d20 7b0a 2020  type_dict = {.  
+0001b050: 2020 2020 2020 2020 2020 2261 7022 3a20            "ap": 
+0001b060: 2241 6363 6573 7350 6f69 6e74 7322 2c0a  "AccessPoints",.
+0001b070: 2020 2020 2020 2020 2020 2020 2267 7722              "gw"
+0001b080: 3a20 2247 6174 6577 6179 7322 2c0a 2020  : "Gateways",.  
+0001b090: 2020 2020 2020 2020 2020 2273 7769 7463            "switc
+0001b0a0: 6822 3a20 2253 7769 7463 6865 7322 2c0a  h": "Switches",.
+0001b0b0: 2020 2020 2020 2020 2020 2020 2263 7822              "cx"
+0001b0c0: 3a20 2253 7769 7463 6865 7322 2c0a 2020  : "Switches",.  
+0001b0d0: 2020 2020 2020 2020 2020 2273 7722 3a20            "sw": 
+0001b0e0: 2253 7769 7463 6865 7322 2c0a 2020 2020  "Switches",.    
+0001b0f0: 2020 2020 7d0a 2020 2020 2020 2020 6777      }.        gw
+0001b100: 5f72 6f6c 6520 3d20 6777 5f72 6f6c 655f  _role = gw_role_
+0001b110: 6469 6374 2e67 6574 2867 775f 726f 6c65  dict.get(gw_role
+0001b120: 290a 0a20 2020 2020 2020 206d 6f6e 5f6f  )..        mon_o
+0001b130: 6e6c 795f 7377 6974 6368 6573 203d 205b  nly_switches = [
+0001b140: 5d0a 2020 2020 2020 2020 6966 206d 6f6e  ].        if mon
+0001b150: 6974 6f72 5f6f 6e6c 795f 7377 3a0a 2020  itor_only_sw:.  
+0001b160: 2020 2020 2020 2020 2020 6d6f 6e5f 6f6e            mon_on
+0001b170: 6c79 5f73 7769 7463 6865 7320 2b3d 205b  ly_switches += [
+0001b180: 2241 4f53 5f53 225d 0a20 2020 2020 2020  "AOS_S"].       
+0001b190: 2069 6620 6d6f 6e69 746f 725f 6f6e 6c79   if monitor_only
+0001b1a0: 5f63 783a 0a20 2020 2020 2020 2020 2020  _cx:.           
+0001b1b0: 206d 6f6e 5f6f 6e6c 795f 7377 6974 6368   mon_only_switch
+0001b1c0: 6573 202b 3d20 5b22 414f 535f 4358 225d  es += ["AOS_CX"]
+0001b1d0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001b1e0: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
+0001b1f0: 6445 7272 6f72 2822 414f 535f 4358 204d  dError("AOS_CX M
+0001b200: 6f6e 6974 6f72 204f 6e6c 7920 6e6f 7420  onitor Only not 
+0001b210: 7375 7070 6f72 7465 6420 696e 2043 656e  supported in Cen
+0001b220: 7472 616c 2079 6574 2e22 290a 0a20 2020  tral yet.")..   
+0001b230: 2020 2020 2061 7263 6820 3d20 4e6f 6e65       arch = None
+0001b240: 0a20 2020 2020 2020 2069 6620 6d69 6372  .        if micr
+0001b250: 6f62 7261 6e63 6820 6973 206e 6f74 204e  obranch is not N
+0001b260: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0001b270: 2069 6620 616f 7331 3020 6973 206e 6f74   if aos10 is not
+0001b280: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0001b290: 2020 2020 2020 2061 7263 6820 3d20 2249         arch = "I
+0001b2a0: 6e73 7461 6e74 2220 6966 206e 6f74 2061  nstant" if not a
+0001b2b0: 6f73 3130 2065 6c73 6520 2241 4f53 3130  os10 else "AOS10
+0001b2c0: 220a 0a20 2020 2020 2020 2061 6c6c 6f77  "..        allow
+0001b2d0: 6564 5f74 7970 6573 203d 206c 6973 7428  ed_types = list(
+0001b2e0: 7365 7428 5b64 6576 5f74 7970 655f 6469  set([dev_type_di
+0001b2f0: 6374 2e67 6574 2874 2920 666f 7220 7420  ct.get(t) for t 
+0001b300: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+0001b310: 5d29 290a 2020 2020 2020 2020 636f 6d62  ])).        comb
+0001b320: 696e 6564 5f61 6c6c 6f77 6564 203d 205b  ined_allowed = [
+0001b330: 2a61 6c6c 6f77 6564 5f74 7970 6573 2c20  *allowed_types, 
+0001b340: 2a63 7572 5f67 726f 7570 5f70 726f 7073  *cur_group_props
+0001b350: 5b22 416c 6c6f 7765 6444 6576 5479 7065  ["AllowedDevType
+0001b360: 7322 5d5d 0a0a 2020 2020 2020 2020 6966  s"]]..        if
+0001b370: 204e 6f6e 6520 696e 2061 6c6c 6f77 6564   None in allowed
+0001b380: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
+0001b390: 2020 2020 7265 7475 726e 2052 6573 706f      return Respo
+0001b3a0: 6e73 6528 0a20 2020 2020 2020 2020 2020  nse(.           
+0001b3b0: 2020 2020 2065 7272 6f72 3d27 496e 7661       error='Inva
+0001b3c0: 6c69 6420 6465 7669 6365 2074 7970 6520  lid device type 
+0001b3d0: 666f 7220 616c 6c6f 7765 645f 7479 7065  for allowed_type
+0001b3e0: 7320 7661 6c69 6420 7661 6c75 6573 3a20  s valid values: 
+0001b3f0: 2261 7022 2c20 2267 7722 2c20 2273 7722  "ap", "gw", "sw"
+0001b400: 2c20 2263 7822 2c20 2273 7769 7463 6822  , "cx", "switch"
+0001b410: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+0001b420: 2020 2072 6c5f 7374 723d 7265 7370 2e72     rl_str=resp.r
+0001b430: 6c2c 0a20 2020 2020 2020 2020 2020 2029  l,.            )
+0001b440: 0a20 2020 2020 2020 2069 6620 6d69 6372  .        if micr
+0001b450: 6f62 7261 6e63 6820 616e 6420 6e6f 7420  obranch and not 
+0001b460: 616f 7331 303a 0a20 2020 2020 2020 2020  aos10:.         
+0001b470: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
+0001b480: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
+0001b490: 2020 2020 6572 726f 723d 2249 6e76 616c      error="Inval
+0001b4a0: 6964 2063 6f6d 6269 6e61 7469 6f6e 2c20  id combination, 
+0001b4b0: 4772 6f75 7020 6d75 7374 2062 6520 636f  Group must be co
+0001b4c0: 6e66 6967 7572 6564 2061 7320 414f 5331  nfigured as AOS1
+0001b4d0: 3020 6772 6f75 7020 746f 2073 7570 706f  0 group to suppo
+0001b4e0: 7274 204d 6963 726f 6272 616e 6368 222c  rt Microbranch",
+0001b4f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b500: 2072 6c5f 7374 723d 7265 7370 2e72 6c2c   rl_str=resp.rl,
+0001b510: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+0001b520: 2020 2020 2020 2069 6620 6d69 6372 6f62         if microb
+0001b530: 7261 6e63 6820 616e 6420 2241 6363 6573  ranch and "Acces
+0001b540: 7350 6f69 6e74 7322 206e 6f74 2069 6e20  sPoints" not in 
+0001b550: 636f 6d62 696e 6564 5f61 6c6c 6f77 6564  combined_allowed
+0001b560: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0001b570: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
+0001b580: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001b590: 7272 6f72 3d66 2249 6e76 616c 6964 2063  rror=f"Invalid c
+0001b5a0: 6f6d 6269 6e61 7469 6f6e 2c20 7b63 6f6c  ombination, {col
+0001b5b0: 6f72 2827 4d69 6372 6f62 7261 6e63 6827  or('Microbranch'
+0001b5c0: 297d 2022 0a20 2020 2020 2020 2020 2020  )} ".           
+0001b5d0: 2020 2020 2020 2020 2020 2066 2263 616e             f"can
+0001b5e0: 206e 6f74 2062 6520 656e 6162 6c65 6420   not be enabled 
+0001b5f0: 696e 2067 726f 7570 207b 636f 6c6f 7228  in group {color(
+0001b600: 6772 6f75 7029 7d2e 2020 220a 2020 2020  group)}.  ".    
+0001b610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b620: 2020 2241 5073 206d 7573 7420 6265 2061    "APs must be a
+0001b630: 6464 6564 2074 6f20 616c 6c6f 7765 6420  dded to allowed 
+0001b640: 6465 7669 6365 732e 5c6e 220a 2020 2020  devices.\n".    
+0001b650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b660: 2020 6622 5b72 6573 6574 5d43 7572 7265    f"[reset]Curre
+0001b670: 6e74 2041 6c6c 6f77 6564 2044 6576 6963  nt Allowed Devic
+0001b680: 6573 3a20 7b63 6f6c 6f72 2863 6f6d 6269  es: {color(combi
+0001b690: 6e65 645f 616c 6c6f 7765 6429 7d22 2c0a  ned_allowed)}",.
+0001b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b6b0: 726c 5f73 7472 3d72 6573 702e 726c 2c0a  rl_str=resp.rl,.
+0001b6c0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0001b6d0: 2020 2020 2020 2320 6966 2022 4761 7465        # if "Gate
+0001b6e0: 7761 7973 2220 696e 2063 6f6d 6269 6e65  ways" in combine
+0001b6f0: 645f 616c 6c6f 7765 6420 6f72 2022 4163  d_allowed or "Ac
+0001b700: 6365 7373 506f 696e 7473 2220 696e 2063  cessPoints" in c
+0001b710: 6f6d 6269 6e65 645f 616c 6c6f 7765 643a  ombined_allowed:
+0001b720: 0a20 2020 2020 2020 2023 2020 2020 2069  .        #     i
+0001b730: 6620 616f 7331 3020 6973 206e 6f74 204e  f aos10 is not N
+0001b740: 6f6e 653a 0a20 2020 2020 2020 2023 2020  one:.        #  
+0001b750: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
+0001b760: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
+0001b770: 2320 2020 2020 2020 2020 2020 2020 6572  #             er
+0001b780: 726f 723d 6622 7b63 6f6c 6f72 2827 414f  ror=f"{color('AO
+0001b790: 5331 3027 297d 2063 616e 206f 6e6c 7920  S10')} can only 
+0001b7a0: 6265 2073 6574 2077 6865 6e20 4150 7320  be set when APs 
+0001b7b0: 6f72 2047 5773 2061 7265 2069 6e69 7469  or GWs are initi
+0001b7c0: 616c 6c79 2061 6464 6564 2074 6f20 616c  ally added to al
+0001b7d0: 6c6f 7765 645f 7479 7065 7320 6f66 2067  lowed_types of g
+0001b7e0: 726f 7570 220a 2020 2020 2020 2020 2320  roup".        # 
+0001b7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b800: 2020 6622 5c6e 7b63 6f6c 6f72 2867 726f    f"\n{color(gro
+0001b810: 7570 297d 2063 616e 2062 6520 636c 6f6e  up)} can be clon
+0001b820: 6564 2077 6974 6820 6f70 7469 6f6e 2074  ed with option t
+0001b830: 6f20 7570 6772 6164 6520 6475 7269 6e67  o upgrade during
+0001b840: 2063 6c6f 6e65 2e22 2c0a 2020 2020 2020   clone.",.      
+0001b850: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0001b860: 726c 5f73 7472 3d72 6573 702e 726c 2c0a  rl_str=resp.rl,.
+0001b870: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0001b880: 2020 290a 2020 2020 2020 2020 2320 6966    ).        # if
+0001b890: 2077 6972 6564 5f74 6720 616e 6420 6d6f   wired_tg and mo
+0001b8a0: 6e69 746f 725f 6f6e 6c79 5f73 7720 6f72  nitor_only_sw or
+0001b8b0: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 6378   monitor_only_cx
+0001b8c0: 3a0a 2020 2020 2020 2020 6966 2077 6972  :.        if wir
+0001b8d0: 6564 5f74 6720 616e 6420 6d6f 6e69 746f  ed_tg and monito
+0001b8e0: 725f 6f6e 6c79 5f73 773a 0a20 2020 2020  r_only_sw:.     
+0001b8f0: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
+0001b900: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
+0001b910: 2020 2020 2020 2020 6572 726f 723d 2249          error="I
+0001b920: 6e76 616c 6964 2063 6f6d 6269 6e61 7469  nvalid combinati
+0001b930: 6f6e 2c20 4d6f 6e69 746f 7220 4f6e 6c79  on, Monitor Only
+0001b940: 2069 7320 6e6f 7420 7661 6c69 6420 666f   is not valid fo
+0001b950: 7220 5465 6d70 6c61 7465 2047 726f 7570  r Template Group
+0001b960: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0001b970: 2020 2072 6c5f 7374 723d 7265 7370 2e72     rl_str=resp.r
+0001b980: 6c2c 0a20 2020 2020 2020 2020 2020 2029  l,.            )
+0001b990: 0a0a 2020 2020 2020 2020 6772 705f 7072  ..        grp_pr
+0001b9a0: 6f70 7320 3d20 7b0a 2020 2020 2020 2020  ops = {.        
+0001b9b0: 2020 2020 2241 6c6c 6f77 6564 4465 7654      "AllowedDevT
+0001b9c0: 7970 6573 223a 2063 6f6d 6269 6e65 645f  ypes": combined_
+0001b9d0: 616c 6c6f 7765 642c 0a20 2020 2020 2020  allowed,.       
+0001b9e0: 2020 2020 2022 4172 6368 6974 6563 7475       "Architectu
+0001b9f0: 7265 223a 2061 7263 6820 6f72 2063 7572  re": arch or cur
+0001ba00: 5f67 726f 7570 5f70 726f 7073 2e67 6574  _group_props.get
+0001ba10: 2822 4172 6368 6974 6563 7475 7265 2229  ("Architecture")
+0001ba20: 2c0a 2020 2020 2020 2020 2020 2020 2241  ,.            "A
+0001ba30: 6c6c 6f77 6564 5377 6974 6368 5479 7065  llowedSwitchType
+0001ba40: 7322 3a20 616c 6c6f 7765 645f 7377 6974  s": allowed_swit
+0001ba50: 6368 5f74 7970 6573 206f 7220 6375 725f  ch_types or cur_
+0001ba60: 6772 6f75 705f 7072 6f70 732e 6765 7428  group_props.get(
+0001ba70: 2241 6c6c 6f77 6564 5377 6974 6368 5479  "AllowedSwitchTy
+0001ba80: 7065 7322 2c20 5b5d 292c 0a20 2020 2020  pes", []),.     
+0001ba90: 2020 2020 2020 2022 4d6f 6e69 746f 724f         "MonitorO
+0001baa0: 6e6c 7922 3a20 6d6f 6e5f 6f6e 6c79 5f73  nly": mon_only_s
+0001bab0: 7769 7463 6865 7320 6f72 2063 7572 5f67  witches or cur_g
+0001bac0: 726f 7570 5f70 726f 7073 2e67 6574 2822  roup_props.get("
+0001bad0: 4d6f 6e69 746f 724f 6e6c 7953 7769 7463  MonitorOnlySwitc
+0001bae0: 6822 290a 2020 2020 2020 2020 7d0a 2020  h").        }.  
+0001baf0: 2020 2020 2020 6772 705f 7072 6f70 7320        grp_props 
+0001bb00: 3d20 7b6b 3a20 7620 666f 7220 6b2c 2076  = {k: v for k, v
+0001bb10: 2069 6e20 6772 705f 7072 6f70 732e 6974   in grp_props.it
+0001bb20: 656d 7328 2920 6966 2076 7d0a 0a20 2020  ems() if v}..   
+0001bb30: 2020 2020 2069 6620 6777 5f72 6f6c 6520       if gw_role 
+0001bb40: 616e 6420 2247 6174 6577 6179 7322 2069  and "Gateways" i
+0001bb50: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
+0001bb60: 0a20 2020 2020 2020 2020 2020 2067 7270  .            grp
+0001bb70: 5f70 726f 7073 5b22 4777 4e65 7477 6f72  _props["GwNetwor
+0001bb80: 6b52 6f6c 6522 5d20 3d20 6777 5f72 6f6c  kRole"] = gw_rol
+0001bb90: 650a 2020 2020 2020 2020 6966 2022 4163  e.        if "Ac
+0001bba0: 6365 7373 506f 696e 7473 2220 696e 2061  cessPoints" in a
+0001bbb0: 6c6c 6f77 6564 5f74 7970 6573 206f 7220  llowed_types or 
+0001bbc0: 2241 6363 6573 7350 6f69 6e74 7322 2069  "AccessPoints" i
+0001bbd0: 6e20 6375 725f 6772 6f75 705f 7072 6f70  n cur_group_prop
+0001bbe0: 735b 2241 6c6c 6f77 6564 4465 7654 7970  s["AllowedDevTyp
+0001bbf0: 6573 225d 3a0a 2020 2020 2020 2020 2020  es"]:.          
+0001bc00: 2020 6966 206d 6963 726f 6272 616e 6368    if microbranch
+0001bc10: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0001bc20: 2020 2020 2020 2020 2020 2020 2020 6772                gr
+0001bc30: 705f 7072 6f70 735b 2241 704e 6574 776f  p_props["ApNetwo
+0001bc40: 726b 526f 6c65 225d 203d 205c 0a20 2020  rkRole"] = \.   
+0001bc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bc60: 2022 5374 616e 6461 7264 2220 6966 206e   "Standard" if n
+0001bc70: 6f74 206d 6963 726f 6272 616e 6368 2065  ot microbranch e
+0001bc80: 6c73 6520 224d 6963 726f 6272 616e 6368  lse "Microbranch
+0001bc90: 220a 0a20 2020 2020 2020 2074 6d70 6c74  "..        tmplt
+0001bca0: 5f69 6e66 6f20 3d20 7b0a 2020 2020 2020  _info = {.      
+0001bcb0: 2020 2020 2020 2257 6972 6564 223a 2077        "Wired": w
+0001bcc0: 6972 6564 5f74 672c 0a20 2020 2020 2020  ired_tg,.       
+0001bcd0: 2020 2020 2022 5769 7265 6c65 7373 223a       "Wireless":
+0001bce0: 2077 6c61 6e5f 7467 0a20 2020 2020 2020   wlan_tg.       
+0001bcf0: 207d 0a20 2020 2020 2020 2074 6d70 6c74   }.        tmplt
+0001bd00: 5f69 6e66 6f20 3d20 7574 696c 732e 7374  _info = utils.st
+0001bd10: 7269 705f 6e6f 6e65 2874 6d70 6c74 5f69  rip_none(tmplt_i
+0001bd20: 6e66 6f29 0a0a 2020 2020 2020 2020 6772  nfo)..        gr
+0001bd30: 705f 6174 7472 7320 3d20 7b7d 0a20 2020  p_attrs = {}.   
+0001bd40: 2020 2020 2069 6620 746d 706c 745f 696e       if tmplt_in
+0001bd50: 666f 3a0a 2020 2020 2020 2020 2020 2020  fo:.            
+0001bd60: 6772 705f 6174 7472 735b 2274 656d 706c  grp_attrs["templ
+0001bd70: 6174 655f 696e 666f 225d 203d 2074 6d70  ate_info"] = tmp
+0001bd80: 6c74 5f69 6e66 6f0a 2020 2020 2020 2020  lt_info.        
+0001bd90: 6966 2067 7270 5f70 726f 7073 3a0a 2020  if grp_props:.  
+0001bda0: 2020 2020 2020 2020 2020 6772 705f 6174            grp_at
+0001bdb0: 7472 735b 2267 726f 7570 5f70 726f 7065  trs["group_prope
+0001bdc0: 7274 6965 7322 5d20 3d20 7b0a 2020 2020  rties"] = {.    
+0001bdd0: 2020 2020 2020 2020 2020 2020 2a2a 7b6b              **{k
+0001bde0: 3a20 7620 666f 7220 6b2c 2076 2069 6e20  : v for k, v in 
+0001bdf0: 6375 725f 6772 6f75 705f 7072 6f70 732e  cur_group_props.
+0001be00: 6974 656d 7328 2920 6966 206b 206e 6f74  items() if k not
+0001be10: 2069 6e20 5b22 414f 5356 6572 7369 6f6e   in ["AOSVersion
+0001be20: 222c 2022 4d6f 6e69 746f 724f 6e6c 7922  ", "MonitorOnly"
+0001be30: 5d7d 2c0a 2020 2020 2020 2020 2020 2020  ]},.            
+0001be40: 2020 2020 2a2a 6772 705f 7072 6f70 730a      **grp_props.
+0001be50: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
+0001be60: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+0001be70: 3d20 6772 705f 6174 7472 730a 0a20 2020  = grp_attrs..   
+0001be80: 2020 2020 2023 206a 736f 6e5f 6461 7461       # json_data
+0001be90: 203d 207b 2267 726f 7570 223a 2067 726f   = {"group": gro
+0001bea0: 7570 7d0a 2020 2020 2020 2020 2320 6966  up}.        # if
+0001beb0: 2067 7270 5f61 7474 7273 3a0a 2020 2020   grp_attrs:.    
+0001bec0: 2020 2020 2320 2020 2020 6a73 6f6e 5f64      #     json_d
+0001bed0: 6174 615b 2267 726f 7570 5f61 7474 7269  ata["group_attri
+0001bee0: 6275 7465 7322 5d20 3d20 6772 705f 6174  butes"] = grp_at
+0001bef0: 7472 730a 0a0a 0a20 2020 2020 2020 2023  trs....        #
+0001bf00: 2069 6620 6c65 6e28 6a73 6f6e 5f64 6174   if len(json_dat
+0001bf10: 6129 203d 3d20 313a 0a20 2020 2020 2020  a) == 1:.       
+0001bf20: 2023 2020 2020 2072 6169 7365 2056 616c   #     raise Val
+0001bf30: 7565 4572 726f 7228 224e 6f20 4368 616e  ueError("No Chan
+0001bf40: 6765 7320 4465 7465 6374 6564 2229 0a20  ges Detected"). 
+0001bf50: 2020 2020 2020 2023 2065 6c73 653a 0a20         # else:. 
+0001bf60: 2020 2020 2020 2069 6620 636f 6e66 6967         if config
+0001bf70: 2e64 6562 7567 763a 0a20 2020 2020 2020  .debugv:.       
+0001bf80: 2020 2020 2070 7269 6e74 2866 225b 4445       print(f"[DE
+0001bf90: 4255 475d 202d 2d2d 2d20 5365 6e64 696e  BUG] ---- Sendin
+0001bfa0: 6720 7468 6520 666f 6c6c 6f77 696e 6720  g the following 
+0001bfb0: 746f 207b 7572 6c7d 2229 0a20 2020 2020  to {url}").     
+0001bfc0: 2020 2020 2020 2075 7469 6c73 2e6a 736f         utils.jso
+0001bfd0: 6e5f 7072 696e 7428 6a73 6f6e 5f64 6174  n_print(json_dat
+0001bfe0: 6129 0a20 2020 2020 2020 2020 2020 2070  a).            p
+0001bff0: 7269 6e74 2822 5b44 4542 5547 5d20 2d2d  rint("[DEBUG] --
+0001c000: 2d2d 2229 0a0a 2020 2020 2020 2020 7265  --")..        re
+0001c010: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001c020: 7061 7463 6828 7572 6c2c 206a 736f 6e5f  patch(url, json_
+0001c030: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0001c040: 2020 2020 2020 2020 2320 2320 4649 584d          # # FIXM
+0001c050: 4520 7265 6d6f 7665 2064 6562 7567 2070  E remove debug p
+0001c060: 7269 6e74 730a 2020 2020 2020 2020 2320  rints.        # 
+0001c070: 7072 696e 7428 7572 6c29 0a20 2020 2020  print(url).     
+0001c080: 2020 2023 2066 726f 6d20 7269 6368 2069     # from rich i
+0001c090: 6d70 6f72 7420 7072 696e 745f 6a73 6f6e  mport print_json
+0001c0a0: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
+0001c0b0: 5f6a 736f 6e28 6461 7461 3d6a 736f 6e5f  _json(data=json_
+0001c0c0: 6461 7461 290a 0a20 2020 2061 7379 6e63  data)..    async
+0001c0d0: 2064 6566 2075 7064 6174 655f 6772 6f75   def update_grou
+0001c0e0: 705f 6e61 6d65 2873 656c 662c 2067 726f  p_name(self, gro
+0001c0f0: 7570 3a20 7374 722c 206e 6577 5f67 726f  up: str, new_gro
+0001c100: 7570 3a20 7374 7229 202d 3e20 5265 7370  up: str) -> Resp
+0001c110: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001c120: 2255 7064 6174 6520 6772 6f75 7020 6e61  "Update group na
+0001c130: 6d65 2066 6f72 2074 6865 2067 6976 656e  me for the given
+0001c140: 2067 726f 7570 2e0a 0a20 2020 2020 2020   group...       
+0001c150: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0001c160: 2020 2067 726f 7570 2028 7374 7229 3a20     group (str): 
+0001c170: 4772 6f75 7020 666f 7220 7768 6963 6820  Group for which 
+0001c180: 6e61 6d65 206e 6565 6420 746f 2062 6520  name need to be 
+0001c190: 7570 6461 7465 642e 0a20 2020 2020 2020  updated..       
+0001c1a0: 2020 2020 206e 6577 5f67 726f 7570 2028       new_group (
+0001c1b0: 7374 7229 3a20 5468 6520 6e65 7720 6e61  str): The new na
+0001c1c0: 6d65 206f 6620 7468 6520 6772 6f75 702e  me of the group.
+0001c1d0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0001c1e0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0001c1f0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0001c200: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0001c210: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0001c220: 2020 2020 2020 2020 2320 544f 444f 2072          # TODO r
+0001c230: 6570 6f72 7420 666c 6177 6564 2041 5049  eport flawed API
+0001c240: 206d 6574 686f 640a 2020 2020 2020 2020   method.        
+0001c250: 2320 5468 6973 2077 6f72 6b73 2066 6f72  # This works for
+0001c260: 2072 656e 616d 696e 6720 3878 2067 726f   renaming 8x gro
+0001c270: 7570 730a 2020 2020 2020 2020 2320 6966  ups.        # if
+0001c280: 2079 6f75 2074 7279 2074 6f20 7265 6e61   you try to rena
+0001c290: 6d65 2061 2031 3078 2067 726f 7570 2069  me a 10x group i
+0001c2a0: 6e61 7070 726f 7072 6961 7465 2065 7272  nappropriate err
+0001c2b0: 6f72 3a0a 2020 2020 2020 2020 2320 5b0a  or:.        # [.
+0001c2c0: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+0001c2d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0001c2e0: 2020 2264 6573 6372 6970 7469 6f6e 223a    "description":
+0001c2f0: 2022 6772 6f75 7020 616c 7265 6164 7920   "group already 
+0001c300: 6861 7320 414f 535f 3130 5820 7665 7273  has AOS_10X vers
+0001c310: 696f 6e20 7365 7422 2c0a 2020 2020 2020  ion set",.      
+0001c320: 2020 2320 2020 2020 2020 2020 2265 7272    #         "err
+0001c330: 6f72 5f63 6f64 6522 3a20 2230 3030 3122  or_code": "0001"
+0001c340: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0001c350: 2020 2020 2273 6572 7669 6365 5f6e 616d      "service_nam
+0001c360: 6522 3a20 2243 6f6e 6669 6775 7261 7469  e": "Configurati
+0001c370: 6f6e 220a 2020 2020 2020 2020 2320 2020  on".        #   
+0001c380: 2020 7d0a 2020 2020 2020 2020 2320 5d0a    }.        # ].
+0001c390: 2020 2020 2020 2020 2320 4920 6469 6420          # I did 
+0001c3a0: 7472 7920 772f 2066 756c 6c20 7061 796c  try w/ full payl
+0001c3b0: 6f61 6420 7369 6d69 6c61 7220 746f 2067  oad similar to g
+0001c3c0: 6574 5f67 726f 7570 2070 726f 7073 2072  et_group props r
+0001c3d0: 6573 700a 2020 2020 2020 2020 2320 692e  esp.        # i.
+0001c3e0: 652e 0a20 2020 2020 2020 2023 207b 0a20  e..        # {. 
+0001c3f0: 2020 2020 2020 2023 2020 2020 2022 6772         #     "gr
+0001c400: 6f75 7022 3a20 226e 6577 5f6e 616d 6522  oup": "new_name"
+0001c410: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0001c420: 2270 726f 7065 7274 6965 7322 3a20 7b0a  "properties": {.
+0001c430: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0001c440: 2020 2241 4f53 5665 7273 696f 6e22 3a20    "AOSVersion": 
+0001c450: 2241 4f53 5f31 3058 222c 2020 3c2d 2074  "AOS_10X",  <- t
+0001c460: 7269 6564 2073 7065 6369 6679 696e 6720  ried specifying 
+0001c470: 6772 6f75 7020 6973 2061 6c72 6561 6479  group is already
+0001c480: 2031 3078 0a20 2020 2020 2020 2023 2020   10x.        #  
+0001c490: 2020 2020 2020 2022 4d6f 6e69 746f 724f         "MonitorO
+0001c4a0: 6e6c 7953 7769 7463 6822 3a20 4661 6c73  nlySwitch": Fals
+0001c4b0: 650a 2020 2020 2020 2020 2320 2020 2020  e.        #     
+0001c4c0: 7d0a 2020 2020 2020 2020 2320 7d0a 2020  }.        # }.  
+0001c4d0: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+0001c4e0: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+0001c4f0: 6772 6f75 7073 2f7b 6772 6f75 707d 2f6e  groups/{group}/n
+0001c500: 616d 6522 0a0a 2020 2020 2020 2020 6a73  ame"..        js
+0001c510: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
+0001c520: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
+0001c530: 206e 6577 5f67 726f 7570 0a20 2020 2020   new_group.     
+0001c540: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+0001c550: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001c560: 7061 7463 6828 7572 6c2c 206a 736f 6e5f  patch(url, json_
+0001c570: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0001c580: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0001c590: 6574 5f61 705f 7365 7474 696e 6773 2873  et_ap_settings(s
+0001c5a0: 656c 662c 2073 6572 6961 6c5f 6e75 6d62  elf, serial_numb
+0001c5b0: 6572 3a20 7374 7229 202d 3e20 5265 7370  er: str) -> Resp
+0001c5c0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001c5d0: 2247 6574 2061 6e20 6578 6973 7469 6e67  "Get an existing
+0001c5e0: 2061 7020 7365 7474 696e 6773 2e0a 0a20   ap settings... 
+0001c5f0: 2020 2020 2020 202f 2f20 5573 6564 2069         // Used i
+0001c600: 6e64 6972 6563 746c 7920 2875 7064 6174  ndirectly (updat
+0001c610: 655f 6170 5f73 6574 7469 6e67 7329 2062  e_ap_settings) b
+0001c620: 7920 6261 7463 6820 7265 6e61 6d65 2041  y batch rename A
+0001c630: 5020 2f2f 0a0a 2020 2020 2020 2020 4172  P //..        Ar
+0001c640: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0001c650: 7365 7269 616c 5f6e 756d 6265 7220 2873  serial_number (s
+0001c660: 7472 293a 2041 5020 7365 7269 616c 206e  tr): AP serial n
+0001c670: 756d 6265 722e 0a0a 2020 2020 2020 2020  umber...        
+0001c680: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0001c690: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0001c6a0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0001c6b0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0001c6c0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0001c6d0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0001c6e0: 7469 6f6e 2f76 322f 6170 5f73 6574 7469  tion/v2/ap_setti
+0001c6f0: 6e67 732f 7b73 6572 6961 6c5f 6e75 6d62  ngs/{serial_numb
+0001c700: 6572 7d22 0a0a 2020 2020 2020 2020 7265  er}"..        re
+0001c710: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001c720: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
+0001c730: 796e 6320 6465 6620 7570 6461 7465 5f61  ync def update_a
+0001c740: 705f 7365 7474 696e 6773 280a 2020 2020  p_settings(.    
+0001c750: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+0001c760: 2020 7365 7269 616c 5f6e 756d 6265 723a    serial_number:
+0001c770: 2073 7472 2c0a 2020 2020 2020 2020 686f   str,.        ho
+0001c780: 7374 6e61 6d65 3a20 7374 722c 0a20 2020  stname: str,.   
+0001c790: 2020 2020 2069 705f 6164 6472 6573 733a       ip_address:
+0001c7a0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0001c7b0: 2020 2020 207a 6f6e 656e 616d 653a 2073       zonename: s
+0001c7c0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0001c7d0: 2020 2061 6368 616e 6e65 6c3a 2073 7472     achannel: str
+0001c7e0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0001c7f0: 2061 7478 706f 7765 723a 2073 7472 203d   atxpower: str =
+0001c800: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
+0001c810: 6368 616e 6e65 6c3a 2073 7472 203d 204e  channel: str = N
+0001c820: 6f6e 652c 0a20 2020 2020 2020 2067 7478  one,.        gtx
+0001c830: 706f 7765 723a 2073 7472 203d 204e 6f6e  power: str = Non
+0001c840: 652c 0a20 2020 2020 2020 2064 6f74 3131  e,.        dot11
+0001c850: 615f 7261 6469 6f5f 6469 7361 626c 653a  a_radio_disable:
+0001c860: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
+0001c870: 2020 2020 2020 646f 7431 3167 5f72 6164        dot11g_rad
+0001c880: 696f 5f64 6973 6162 6c65 3a20 626f 6f6c  io_disable: bool
+0001c890: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0001c8a0: 2075 7362 5f70 6f72 745f 6469 7361 626c   usb_port_disabl
+0001c8b0: 653a 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a  e: bool = None,.
+0001c8c0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0001c8d0: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
+0001c8e0: 6461 7465 2061 6e20 6578 6973 7469 6e67  date an existing
+0001c8f0: 2061 7020 7365 7474 696e 6773 2e0a 0a20   ap settings... 
+0001c900: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
+0001c910: 7920 6261 7463 6820 7265 6e61 6d65 2061  y batch rename a
+0001c920: 7073 2061 6e64 2072 656e 616d 6520 6170  ps and rename ap
+0001c930: 202f 2f0a 0a20 2020 2020 2020 2041 7267   //..        Arg
+0001c940: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0001c950: 6572 6961 6c5f 6e75 6d62 6572 2028 7374  erial_number (st
+0001c960: 722c 206f 7074 696f 6e61 6c29 3a20 4150  r, optional): AP
+0001c970: 2053 6572 6961 6c20 4e75 6d62 6572 0a20   Serial Number. 
+0001c980: 2020 2020 2020 2020 2020 2068 6f73 746e             hostn
+0001c990: 616d 6520 2873 7472 293a 2068 6f73 746e  ame (str): hostn
+0001c9a0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+0001c9b0: 6970 5f61 6464 7265 7373 2028 7374 722c  ip_address (str,
+0001c9c0: 206f 7074 696f 6e61 6c29 3a20 6970 5f61   optional): ip_a
+0001c9d0: 6464 7265 7373 2044 6566 6175 6c74 2028  ddress Default (
+0001c9e0: 4448 4350 290a 2020 2020 2020 2020 2020  DHCP).          
+0001c9f0: 2020 7a6f 6e65 6e61 6d65 2028 7374 722c    zonename (str,
+0001ca00: 206f 7074 696f 6e61 6c29 3a20 7a6f 6e65   optional): zone
+0001ca10: 6e61 6d65 2e20 4465 6661 756c 7420 2222  name. Default ""
+0001ca20: 2028 4e6f 205a 6f6e 6529 0a20 2020 2020   (No Zone).     
+0001ca30: 2020 2020 2020 2061 6368 616e 6e65 6c20         achannel 
+0001ca40: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0001ca50: 2061 6368 616e 6e65 6c0a 2020 2020 2020   achannel.      
+0001ca60: 2020 2020 2020 6174 7870 6f77 6572 2028        atxpower (
+0001ca70: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0001ca80: 6174 7870 6f77 6572 0a20 2020 2020 2020  atxpower.       
+0001ca90: 2020 2020 2067 6368 616e 6e65 6c20 2873       gchannel (s
+0001caa0: 7472 2c20 6f70 7469 6f6e 616c 293a 2067  tr, optional): g
+0001cab0: 6368 616e 6e65 6c0a 2020 2020 2020 2020  channel.        
+0001cac0: 2020 2020 6774 7870 6f77 6572 2028 7374      gtxpower (st
+0001cad0: 722c 206f 7074 696f 6e61 6c29 3a20 6774  r, optional): gt
+0001cae0: 7870 6f77 6572 0a20 2020 2020 2020 2020  xpower.         
+0001caf0: 2020 2064 6f74 3131 615f 7261 6469 6f5f     dot11a_radio_
+0001cb00: 6469 7361 626c 6520 2862 6f6f 6c2c 206f  disable (bool, o
+0001cb10: 7074 696f 6e61 6c29 3a20 646f 7431 3161  ptional): dot11a
+0001cb20: 5f72 6164 696f 5f64 6973 6162 6c65 0a20  _radio_disable. 
+0001cb30: 2020 2020 2020 2020 2020 2064 6f74 3131             dot11
+0001cb40: 675f 7261 6469 6f5f 6469 7361 626c 6520  g_radio_disable 
+0001cb50: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+0001cb60: 3a20 646f 7431 3167 5f72 6164 696f 5f64  : dot11g_radio_d
+0001cb70: 6973 6162 6c65 0a20 2020 2020 2020 2020  isable.         
+0001cb80: 2020 2075 7362 5f70 6f72 745f 6469 7361     usb_port_disa
+0001cb90: 626c 6520 2862 6f6f 6c2c 206f 7074 696f  ble (bool, optio
+0001cba0: 6e61 6c29 3a20 7573 625f 706f 7274 5f64  nal): usb_port_d
+0001cbb0: 6973 6162 6c65 0a0a 2020 2020 2020 2020  isable..        
+0001cbc0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0001cbd0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0001cbe0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0001cbf0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0001cc00: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0001cc10: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0001cc20: 7469 6f6e 2f76 322f 6170 5f73 6574 7469  tion/v2/ap_setti
+0001cc30: 6e67 732f 7b73 6572 6961 6c5f 6e75 6d62  ngs/{serial_numb
+0001cc40: 6572 7d22 0a0a 2020 2020 2020 2020 5f6a  er}"..        _j
+0001cc50: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+0001cc60: 2020 2020 2020 2020 2027 686f 7374 6e61           'hostna
+0001cc70: 6d65 273a 2068 6f73 746e 616d 652c 0a20  me': hostname,. 
+0001cc80: 2020 2020 2020 2020 2020 2027 6970 5f61             'ip_a
+0001cc90: 6464 7265 7373 273a 2069 705f 6164 6472  ddress': ip_addr
+0001cca0: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
+0001ccb0: 2027 7a6f 6e65 6e61 6d65 273a 207a 6f6e   'zonename': zon
+0001ccc0: 656e 616d 652c 0a20 2020 2020 2020 2020  ename,.         
+0001ccd0: 2020 2027 6163 6861 6e6e 656c 273a 2061     'achannel': a
+0001cce0: 6368 616e 6e65 6c2c 0a20 2020 2020 2020  channel,.       
+0001ccf0: 2020 2020 2027 6174 7870 6f77 6572 273a       'atxpower':
+0001cd00: 2061 7478 706f 7765 722c 0a20 2020 2020   atxpower,.     
+0001cd10: 2020 2020 2020 2027 6763 6861 6e6e 656c         'gchannel
+0001cd20: 273a 2067 6368 616e 6e65 6c2c 0a20 2020  ': gchannel,.   
+0001cd30: 2020 2020 2020 2020 2027 6774 7870 6f77           'gtxpow
+0001cd40: 6572 273a 2067 7478 706f 7765 722c 0a20  er': gtxpower,. 
+0001cd50: 2020 2020 2020 2020 2020 2027 646f 7431             'dot1
+0001cd60: 3161 5f72 6164 696f 5f64 6973 6162 6c65  1a_radio_disable
+0001cd70: 273a 2064 6f74 3131 615f 7261 6469 6f5f  ': dot11a_radio_
+0001cd80: 6469 7361 626c 652c 0a20 2020 2020 2020  disable,.       
+0001cd90: 2020 2020 2027 646f 7431 3167 5f72 6164       'dot11g_rad
+0001cda0: 696f 5f64 6973 6162 6c65 273a 2064 6f74  io_disable': dot
+0001cdb0: 3131 675f 7261 6469 6f5f 6469 7361 626c  11g_radio_disabl
+0001cdc0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+0001cdd0: 7573 625f 706f 7274 5f64 6973 6162 6c65  usb_port_disable
+0001cde0: 273a 2075 7362 5f70 6f72 745f 6469 7361  ': usb_port_disa
+0001cdf0: 626c 650a 2020 2020 2020 2020 7d0a 2020  ble.        }.  
+0001ce00: 2020 2020 2020 6966 204e 6f6e 6520 696e        if None in
+0001ce10: 205f 6a73 6f6e 5f64 6174 612e 7661 6c75   _json_data.valu
+0001ce20: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
+0001ce30: 2020 7265 7370 203d 2061 7761 6974 2073    resp = await s
+0001ce40: 656c 662e 5f72 6571 7565 7374 2873 656c  elf._request(sel
+0001ce50: 662e 6765 745f 6170 5f73 6574 7469 6e67  f.get_ap_setting
+0001ce60: 732c 2073 6572 6961 6c5f 6e75 6d62 6572  s, serial_number
+0001ce70: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+0001ce80: 206e 6f74 2072 6573 703a 0a20 2020 2020   not resp:.     
+0001ce90: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001cea0: 6e20 7265 7370 0a0a 2020 2020 2020 2020  n resp..        
+0001ceb0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+0001cec0: 7365 6c66 2e73 7472 6970 5f6e 6f6e 6528  self.strip_none(
+0001ced0: 5f6a 736f 6e5f 6461 7461 290a 2020 2020  _json_data).    
+0001cee0: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+0001cef0: 6120 3d20 7b2a 2a72 6573 702e 6f75 7470  a = {**resp.outp
+0001cf00: 7574 2c20 2a2a 6a73 6f6e 5f64 6174 617d  ut, **json_data}
+0001cf10: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001cf20: 6e6f 7420 736f 7274 6564 285f 6a73 6f6e  not sorted(_json
+0001cf30: 5f64 6174 612e 6b65 7973 2829 2920 3d3d  _data.keys()) ==
+0001cf40: 2073 6f72 7465 6428 6a73 6f6e 5f64 6174   sorted(json_dat
+0001cf50: 612e 6b65 7973 2829 293a 0a20 2020 2020  a.keys()):.     
+0001cf60: 2020 2020 2020 2020 2020 206d 6973 7369             missi
+0001cf70: 6e67 203d 2022 2c20 222e 6a6f 696e 285b  ng = ", ".join([
+0001cf80: 6622 277b 6b7d 2722 2066 6f72 206b 2069  f"'{k}'" for k i
+0001cf90: 6e20 6a73 6f6e 5f64 6174 612e 6b65 7973  n json_data.keys
+0001cfa0: 2829 2069 6620 6b20 6e6f 7420 696e 205f  () if k not in _
+0001cfb0: 6a73 6f6e 5f64 6174 612e 6b65 7973 2829  json_data.keys()
+0001cfc0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+0001cfd0: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
+0001cfe0: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
+0001cff0: 2020 2020 2020 2020 6f6b 3d46 616c 7365          ok=False
+0001d000: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001d010: 2020 2020 2020 6572 726f 723d 6622 5570        error=f"Up
+0001d020: 6461 7465 2070 6179 6c6f 6164 2069 7320  date payload is 
+0001d030: 6d69 7373 696e 6720 7265 7175 6972 6564  missing required
+0001d040: 2061 7474 7269 6275 7465 733a 207b 6d69   attributes: {mi
+0001d050: 7373 696e 677d 222c 0a20 2020 2020 2020  ssing}",.       
+0001d060: 2020 2020 2020 2020 2020 2020 2072 6561               rea
+0001d070: 736f 6e3d 2249 4e56 414c 4944 220a 2020  son="INVALID".  
+0001d080: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0001d090: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001d0a0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+0001d0b0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+0001d0c0: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
+0001d0d0: 2054 4f44 4f20 4e6f 7455 7365 6420 5965   TODO NotUsed Ye
+0001d0e0: 742e 2020 5368 6f77 7320 616e 7920 7570  t.  Shows any up
+0001d0f0: 6461 7465 7320 6e6f 7420 7965 7420 7075  dates not yet pu
+0001d100: 7368 6564 2074 6f20 7468 6520 6465 7669  shed to the devi
+0001d110: 6365 2028 6465 7669 6365 206f 6666 6c69  ce (device offli
+0001d120: 6e65 2c20 6574 6329 0a20 2020 2023 204d  ne, etc).    # M
+0001d130: 6179 206f 6e6c 7920 6265 2076 616c 6964  ay only be valid
+0001d140: 2066 6f72 2041 5073 206e 6f74 2073 7572   for APs not sur
+0001d150: 652e 0a20 2020 2061 7379 6e63 2064 6566  e..    async def
+0001d160: 2067 6574 5f64 6972 7479 5f64 6966 6628   get_dirty_diff(
+0001d170: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0001d180: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
+0001d190: 722c 0a20 2020 2020 2020 206f 6666 7365  r,.        offse
+0001d1a0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
+0001d1b0: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
+0001d1c0: 2032 300a 2020 2020 2920 2d3e 2052 6573   20.    ) -> Res
+0001d1d0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0001d1e0: 2222 4765 7420 6469 7274 7920 6469 6666  ""Get dirty diff
+0001d1f0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0001d200: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+0001d210: 7570 2028 7374 7229 3a20 4772 6f75 7020  up (str): Group 
+0001d220: 6e61 6d65 206f 6620 7468 6520 6772 6f75  name of the grou
+0001d230: 7020 6f72 2067 7569 6420 6f66 2074 6865  p or guid of the
+0001d240: 2073 7761 726d 2e0a 2020 2020 2020 2020   swarm..        
+0001d250: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+0001d260: 4772 6f75 705f 3120 6f72 2036 6135 6431  Group_1 or 6a5d1
+0001d270: 3233 6230 3166 3934 3431 3830 3632 3434  23b01f9441806244
+0001d280: 6561 3665 3032 3366 6162 3538 3431 6237  ea6e023fab5841b7
+0001d290: 3763 3832 3861 3038 3566 3034 662e 0a20  7c828a085f04f.. 
+0001d2a0: 2020 2020 2020 2020 2020 206f 6666 7365             offse
+0001d2b0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+0001d2c0: 293a 204e 756d 6265 7220 6f66 2069 7465  ): Number of ite
+0001d2d0: 6d73 2074 6f20 6265 2073 6b69 7070 6564  ms to be skipped
+0001d2e0: 2062 6566 6f72 6520 7265 7475 726e 696e   before returnin
+0001d2f0: 6720 7468 6520 6461 7461 2c20 7573 6566  g the data, usef
+0001d300: 756c 0a20 2020 2020 2020 2020 2020 2020  ul.             
+0001d310: 2020 2066 6f72 2070 6167 696e 6174 696f     for paginatio
+0001d320: 6e2e 2044 6566 6175 6c74 7320 746f 2030  n. Defaults to 0
+0001d330: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
+0001d340: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
+0001d350: 616c 293a 204d 6178 696d 756d 206e 756d  al): Maximum num
+0001d360: 6265 7220 6f66 2067 726f 7570 2063 6f6e  ber of group con
+0001d370: 6669 675f 6d6f 6465 2072 6563 6f72 6473  fig_mode records
+0001d380: 2074 6f20 6265 2072 6574 7572 6e65 642e   to be returned.
+0001d390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d3a0: 204d 6178 3a20 3230 2c20 4465 6661 756c   Max: 20, Defaul
+0001d3b0: 7473 2074 6f20 3230 2e0a 0a20 2020 2020  ts to 20...     
+0001d3c0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0001d3d0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0001d3e0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0001d3f0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0001d400: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001d410: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
+0001d420: 7572 6174 696f 6e2f 7631 2f64 6972 7479  uration/v1/dirty
+0001d430: 5f64 6966 662f 7b67 726f 7570 7d22 0a0a  _diff/{group}"..
+0001d440: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+0001d450: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+0001d460: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
+0001d470: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+0001d480: 6d69 7427 3a20 6c69 6d69 7420 6966 206c  mit': limit if l
+0001d490: 696d 6974 203c 3d20 3230 2065 6c73 6520  imit <= 20 else 
+0001d4a0: 3230 0a20 2020 2020 2020 207d 0a0a 2020  20.        }..  
+0001d4b0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0001d4c0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0001d4d0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0001d4e0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0001d4f0: 6574 5f67 726f 7570 735f 7072 6f70 6572  et_groups_proper
+0001d500: 7469 6573 2873 656c 662c 2067 726f 7570  ties(self, group
+0001d510: 733a 2073 7472 207c 204c 6973 745b 7374  s: str | List[st
+0001d520: 725d 203d 204e 6f6e 6529 202d 3e20 5265  r] = None) -> Re
+0001d530: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0001d540: 2222 2247 6574 2070 726f 7065 7274 6965  """Get propertie
+0001d550: 7320 7365 7420 666f 7220 6772 6f75 7073  s set for groups
+0001d560: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+0001d570: 6564 2062 7920 7368 6f77 2067 726f 7570  ed by show group
+0001d580: 7320 7768 656e 202d 7620 666c 6167 2069  s when -v flag i
+0001d590: 7320 7072 6f76 6964 6564 202f 2f0a 0a20  s provided //.. 
+0001d5a0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001d5b0: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
+0001d5c0: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
+0001d5d0: 6f6e 616c 293a 2047 726f 7570 206c 6973  onal): Group lis
+0001d5e0: 7420 746f 2066 6574 6368 2070 726f 7065  t to fetch prope
+0001d5f0: 7274 6965 732e 0a20 2020 2020 2020 2020  rties..         
+0001d600: 2020 2020 2020 2057 696c 6c20 6665 7463         Will fetc
+0001d610: 6820 616c 6c20 6966 206e 6f20 6772 6f75  h all if no grou
+0001d620: 7073 2070 726f 7669 6465 642e 0a20 2020  ps provided..   
+0001d630: 2020 2020 2020 2020 2020 2020 204d 6178               Max
+0001d640: 696d 756d 2032 3020 636f 6d6d 6120 7365  imum 20 comma se
+0001d650: 7061 7261 7465 6420 6772 6f75 7020 6e61  parated group na
+0001d660: 6d65 7320 616c 6c6f 7765 642e 0a0a 2020  mes allowed...  
+0001d670: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001d680: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001d690: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001d6a0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001d6b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001d6c0: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
+0001d6d0: 6967 7572 6174 696f 6e2f 7631 2f67 726f  iguration/v1/gro
+0001d6e0: 7570 732f 7072 6f70 6572 7469 6573 220a  ups/properties".
+0001d6f0: 0a20 2020 2020 2020 2023 2043 656e 7472  .        # Centr
+0001d700: 616c 2041 5049 206d 6574 686f 6420 646f  al API method do
+0001d710: 6573 6e27 7420 6163 7475 616c 6c79 2074  esn't actually t
+0001d720: 616b 6520 6120 6c69 7374 2069 7420 7461  ake a list it ta
+0001d730: 6b65 7320 6120 7374 7269 6e67 2077 6974  kes a string wit
+0001d740: 680a 2020 2020 2020 2020 2320 6772 6f75  h.        # grou
+0001d750: 7020 6e61 6d65 7320 7365 7061 7261 7465  p names separate
+0001d760: 6420 6279 2063 6f6d 6d61 2028 4e4f 2053  d by comma (NO S
+0001d770: 5041 4345 5329 0a20 2020 2020 2020 2069  PACES).        i
+0001d780: 6620 6772 6f75 7073 2069 7320 4e6f 6e65  f groups is None
+0001d790: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0001d7a0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+0001d7b0: 6765 745f 6772 6f75 705f 6e61 6d65 7328  get_group_names(
+0001d7c0: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+0001d7d0: 206e 6f74 2072 6573 702e 6f6b 3a0a 2020   not resp.ok:.  
+0001d7e0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001d7f0: 7475 726e 2072 6573 700a 2020 2020 2020  turn resp.      
+0001d800: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001d810: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0001d820: 7073 203d 2072 6573 702e 6f75 7470 7574  ps = resp.output
+0001d830: 0a0a 2020 2020 2020 2020 6261 7463 685f  ..        batch_
+0001d840: 7265 7173 203d 205b 5d0a 2020 2020 2020  reqs = [].      
+0001d850: 2020 666f 7220 5f67 726f 7570 7320 696e    for _groups in
+0001d860: 2075 7469 6c73 2e63 6875 6e6b 6572 2875   utils.chunker(u
+0001d870: 7469 6c73 2e6c 6973 7469 6679 2867 726f  tils.listify(gro
+0001d880: 7570 7329 2c20 3230 293a 2020 2320 5468  ups), 20):  # Th
+0001d890: 6973 2063 616c 6c20 616c 6c6f 7773 2061  is call allows a
+0001d8a0: 206d 6178 206f 6620 3230 0a20 2020 2020   max of 20.     
+0001d8b0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0001d8c0: 7b22 6772 6f75 7073 223a 2022 2c22 2e6a  {"groups": ",".j
+0001d8d0: 6f69 6e28 5f67 726f 7570 7329 7d0a 2020  oin(_groups)}.  
+0001d8e0: 2020 2020 2020 2020 2020 6261 7463 685f            batch_
+0001d8f0: 7265 7173 202b 3d20 5b73 656c 662e 4261  reqs += [self.Ba
+0001d900: 7463 6852 6571 7565 7374 2873 656c 662e  tchRequest(self.
+0001d910: 6765 742c 2075 726c 2c20 7061 7261 6d73  get, url, params
+0001d920: 3d70 6172 616d 7329 5d0a 2020 2020 2020  =params)].      
+0001d930: 2020 6261 7463 685f 7265 7370 203d 2061    batch_resp = a
+0001d940: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
+0001d950: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
+0001d960: 6571 7329 0a20 2020 2020 2020 2023 2054  eqs).        # T
+0001d970: 4f44 4f20 6d65 7468 6f64 2074 6f20 636f  ODO method to co
+0001d980: 6d62 696e 6520 7261 7720 616e 6420 6f75  mbine raw and ou
+0001d990: 7470 7574 2061 7474 7273 206f 6620 616c  tput attrs of al
+0001d9a0: 6c20 7265 7370 6f6e 7365 7320 696e 746f  l responses into
+0001d9b0: 206c 6173 7420 7265 7370 0a20 2020 2020   last resp.     
+0001d9c0: 2020 206f 7574 7075 7420 3d20 5b72 2066     output = [r f
+0001d9d0: 6f72 2072 6573 2069 6e20 6261 7463 685f  or res in batch_
+0001d9e0: 7265 7370 2066 6f72 2072 2069 6e20 7265  resp for r in re
+0001d9f0: 732e 6f75 7470 7574 5d0a 2020 2020 2020  s.output].      
+0001da00: 2020 7265 7370 203d 2062 6174 6368 5f72    resp = batch_r
+0001da10: 6573 705b 2d31 5d0a 2020 2020 2020 2020  esp[-1].        
+0001da20: 7265 7370 2e6f 7574 7075 7420 3d20 6f75  resp.output = ou
+0001da30: 7470 7574 0a20 2020 2020 2020 2069 6620  tput.        if 
+0001da40: 2264 6174 6122 2069 6e20 7265 7370 2e72  "data" in resp.r
+0001da50: 6177 3a0a 2020 2020 2020 2020 2020 2020  aw:.            
+0001da60: 7265 7370 2e72 6177 5b22 6461 7461 225d  resp.raw["data"]
+0001da70: 203d 206f 7574 7075 740a 2020 2020 2020   = output.      
+0001da80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001da90: 2020 2020 6c6f 672e 7761 726e 696e 6728      log.warning(
+0001daa0: 2272 6177 2061 7474 7220 696e 2072 6573  "raw attr in res
+0001dab0: 7020 6672 6f6d 2067 6574 5f67 726f 7570  p from get_group
+0001dac0: 735f 7072 6f70 6572 7469 6573 206c 6163  s_properties lac
+0001dad0: 6b73 2065 7870 6563 7465 6420 6f75 7465  ks expected oute
+0001dae0: 7220 6b65 7920 2764 6174 6127 2229 0a0a  r key 'data'")..
+0001daf0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+0001db00: 6573 700a 0a20 2020 2061 7379 6e63 2064  esp..    async d
+0001db10: 6566 2067 6574 5f76 635f 6669 726d 7761  ef get_vc_firmwa
+0001db20: 7265 280a 2020 2020 2020 2020 7365 6c66  re(.        self
+0001db30: 2c0a 2020 2020 2020 2020 7377 6172 6d5f  ,.        swarm_
+0001db40: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+0001db50: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+0001db60: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0001db70: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
+0001db80: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
+0001db90: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
+0001dba0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0001dbb0: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
+0001dbc0: 2046 6972 6d77 6172 6520 4465 7461 696c   Firmware Detail
+0001dbd0: 7320 6f66 2053 7761 726d 732e 0a0a 2020  s of Swarms...  
+0001dbe0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0001dbf0: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
+0001dc00: 3a20 2873 7472 2c20 6f70 7469 6f6e 616c  : (str, optional
+0001dc10: 293a 2050 726f 7669 6469 6e67 2073 7761  ): Providing swa
+0001dc20: 726d 5f69 6420 7265 7375 6c74 7320 696e  rm_id results in
+0001dc30: 2064 6574 6169 6c73 2066 6f72 2074 6861   details for tha
+0001dc40: 7420 7377 6172 6d2e 0a20 2020 2020 2020  t swarm..       
+0001dc50: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+0001dc60: 206f 7074 696f 6e61 6c29 3a20 4772 6f75   optional): Grou
+0001dc70: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
+0001dc80: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0001dc90: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0001dca0: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
+0001dcb0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0001dcc0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0001dcd0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0001dce0: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
+0001dcf0: 204d 6178 2069 7320 3130 3030 2044 6566   Max is 1000 Def
+0001dd00: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
+0001dd10: 2020 2020 2020 2020 2020 2050 726f 7669             Provi
+0001dd20: 6469 6e67 2073 7761 726d 5f69 6420 6973  ding swarm_id is
+0001dd30: 2065 6666 6563 7469 7665 6c79 2061 2066   effectively a f
+0001dd40: 696c 7465 722c 2069 7420 7072 6f76 6964  ilter, it provid
+0001dd50: 6573 206e 6f20 6164 6469 7469 6f6e 616c  es no additional
+0001dd60: 2064 6574 6169 6c2e 0a0a 2020 2020 2020   detail...      
+0001dd70: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0001dd80: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0001dd90: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0001dda0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0001ddb0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001ddc0: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
+0001ddd0: 2f76 312f 7377 6172 6d73 220a 2020 2020  /v1/swarms".    
+0001dde0: 2020 2020 6966 2073 7761 726d 5f69 643a      if swarm_id:
+0001ddf0: 0a20 2020 2020 2020 2020 2020 2075 726c  .            url
+0001de00: 203d 2066 227b 7572 6c7d 2f7b 7377 6172   = f"{url}/{swar
+0001de10: 6d5f 6964 7d22 0a20 2020 2020 2020 2020  m_id}".         
+0001de20: 2020 2070 6172 616d 7320 3d20 7b7d 0a20     params = {}. 
+0001de30: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001de40: 2020 2020 2020 2020 2070 6172 616d 7320           params 
+0001de50: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001de60: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
+0001de70: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
+0001de80: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
+0001de90: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+0001dea0: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
+0001deb0: 696d 6974 0a20 2020 2020 2020 2020 2020  imit.           
+0001dec0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+0001ded0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0001dee0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+0001def0: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+0001df00: 2064 6566 2067 6574 5f66 775f 7665 7273   def get_fw_vers
+0001df10: 696f 6e5f 6c69 7374 280a 2020 2020 2020  ion_list(.      
+0001df20: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0001df30: 6465 7669 6365 5f74 7970 653a 2073 7472  device_type: str
+0001df40: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0001df50: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
+0001df60: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0001df70: 6572 6961 6c3a 2073 7472 203d 204e 6f6e  erial: str = Non
+0001df80: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+0001df90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001dfa0: 224c 6973 7420 4669 726d 7761 7265 2056  "List Firmware V
+0001dfb0: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
+0001dfc0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0001dfd0: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
+0001dfe0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0001dff0: 5370 6563 6966 7920 6f6e 6520 6f66 2022  Specify one of "
+0001e000: 4941 502f 4d41 532f 4850 2f43 4f4e 5452  IAP/MAS/HP/CONTR
+0001e010: 4f4c 4c45 522f 4358 220a 2020 2020 2020  OLLER/CX".      
+0001e020: 2020 2020 2020 7377 6172 6d5f 6964 2028        swarm_id (
+0001e030: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0001e040: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
+0001e050: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
+0001e060: 2c20 6f70 7469 6f6e 616c 293a 2053 6572  , optional): Ser
+0001e070: 6961 6c20 6f66 2064 6576 6963 650a 0a20  ial of device.. 
+0001e080: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0001e090: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0001e0a0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0001e0b0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0001e0c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001e0d0: 2020 2020 2075 726c 203d 2022 2f66 6972       url = "/fir
+0001e0e0: 6d77 6172 652f 7631 2f76 6572 7369 6f6e  mware/v1/version
+0001e0f0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+0001e100: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+0001e110: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
+0001e120: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
+0001e130: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
+0001e140: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
+0001e150: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
+0001e160: 7269 616c 273a 2073 6572 6961 6c0a 2020  rial': serial.  
+0001e170: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0001e180: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0001e190: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+0001e1a0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+0001e1b0: 2320 4e6f 7420 7573 6564 2069 6e20 6120  # Not used in a 
+0001e1c0: 636f 6d6d 616e 6420 7965 740a 2020 2020  command yet.    
+0001e1d0: 6173 796e 6320 6465 6620 6368 6563 6b5f  async def check_
+0001e1e0: 696d 6167 655f 6176 6169 6c61 626c 6528  image_available(
+0001e1f0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0001e200: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+0001e210: 7065 3a20 7374 722c 0a20 2020 2020 2020  pe: str,.       
+0001e220: 2066 6972 6d77 6172 655f 7665 7273 696f   firmware_versio
+0001e230: 6e3a 2073 7472 2c0a 2020 2020 2920 2d3e  n: str,.    ) ->
+0001e240: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0001e250: 2020 2022 2222 4669 726d 7761 7265 2056     """Firmware V
+0001e260: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
+0001e270: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0001e280: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
+0001e290: 7374 7229 3a20 5370 6563 6966 7920 6f6e  str): Specify on
+0001e2a0: 6520 6f66 2022 4941 502f 4d41 532f 4850  e of "IAP/MAS/HP
+0001e2b0: 2f43 4f4e 5452 4f4c 4c45 5222 0a20 2020  /CONTROLLER".   
+0001e2c0: 2020 2020 2020 2020 2066 6972 6d77 6172           firmwar
+0001e2d0: 655f 7665 7273 696f 6e20 2873 7472 293a  e_version (str):
+0001e2e0: 2066 6972 6d77 6172 6520 7665 7273 696f   firmware versio
+0001e2f0: 6e0a 0a20 2020 2020 2020 2052 6574 7572  n..        Retur
+0001e300: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0001e310: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0001e320: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0001e330: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0001e340: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0001e350: 222f 6669 726d 7761 7265 2f76 312f 7665  "/firmware/v1/ve
+0001e360: 7273 696f 6e73 2f7b 6669 726d 7761 7265  rsions/{firmware
+0001e370: 5f76 6572 7369 6f6e 7d22 0a0a 2020 2020  _version}"..    
+0001e380: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+0001e390: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+0001e3a0: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
+0001e3b0: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
+0001e3c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001e3d0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+0001e3e0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+0001e3f0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+0001e400: 6620 7365 6e64 5f63 6f6d 6d61 6e64 5f74  f send_command_t
+0001e410: 6f5f 7377 6172 6d28 0a20 2020 2020 2020  o_swarm(.       
+0001e420: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0001e430: 7761 726d 5f69 643a 2073 7472 2c0a 2020  warm_id: str,.  
+0001e440: 2020 2020 2020 636f 6d6d 616e 643a 204c        command: L
+0001e450: 6974 6572 616c 5b0a 2020 2020 2020 2020  iteral[.        
+0001e460: 2020 2020 2272 6562 6f6f 7422 2c0a 2020      "reboot",.  
+0001e470: 2020 2020 2020 2020 2020 2265 7261 7365            "erase
+0001e480: 5f63 6f6e 6669 6775 7261 7469 6f6e 222c  _configuration",
+0001e490: 0a20 2020 2020 2020 205d 0a20 2020 2029  .        ].    )
+0001e4a0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0001e4b0: 2020 2020 2020 2222 2247 656e 6572 6963        """Generic
+0001e4c0: 2063 6f6d 6d61 6e64 7320 666f 7220 7377   commands for sw
+0001e4d0: 6172 6d2e 0a0a 2020 2020 2020 2020 4172  arm...        Ar
+0001e4e0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0001e4f0: 7377 6172 6d5f 6964 2028 7374 7229 3a20  swarm_id (str): 
+0001e500: 5377 6172 6d20 4944 206f 6620 6465 7669  Swarm ID of devi
+0001e510: 6365 0a20 2020 2020 2020 2020 2020 2063  ce.            c
+0001e520: 6f6d 6d61 6e64 2028 7374 7229 3a20 436f  ommand (str): Co
+0001e530: 6d6d 616e 6420 6d65 6e74 696f 6e65 6420  mmand mentioned 
+0001e540: 696e 2074 6865 2064 6573 6372 6970 7469  in the descripti
+0001e550: 6f6e 2074 6861 7420 6973 2074 6f20 6265  on that is to be
+0001e560: 2065 7865 6375 7465 640a 2020 2020 2020   executed.      
+0001e570: 2020 2020 2020 2020 2020 7661 6c69 643a            valid:
+0001e580: 2027 7265 626f 6f74 272c 2027 6572 6173   'reboot', 'eras
+0001e590: 655f 636f 6e66 6967 7572 6174 696f 6e27  e_configuration'
+0001e5a0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0001e5b0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0001e5c0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0001e5d0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0001e5e0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0001e5f0: 2020 2020 2020 2020 6966 2063 6f6d 6d61          if comma
+0001e600: 6e64 203d 3d20 2272 6562 6f6f 7422 3a0a  nd == "reboot":.
+0001e610: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+0001e620: 616e 6420 3d20 2272 6562 6f6f 745f 7377  and = "reboot_sw
+0001e630: 6172 6d22 0a0a 2020 2020 2020 2020 7572  arm"..        ur
+0001e640: 6c20 3d20 6622 2f64 6576 6963 655f 6d61  l = f"/device_ma
+0001e650: 6e61 6765 6d65 6e74 2f76 312f 7377 6172  nagement/v1/swar
+0001e660: 6d2f 7b73 7761 726d 5f69 647d 2f61 6374  m/{swarm_id}/act
+0001e670: 696f 6e2f 7b63 6f6d 6d61 6e64 7d22 0a0a  ion/{command}"..
+0001e680: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001e690: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+0001e6a0: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+0001e6b0: 6566 2073 656e 645f 7370 6565 645f 7465  ef send_speed_te
+0001e6c0: 7374 280a 2020 2020 2020 2020 7365 6c66  st(.        self
+0001e6d0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+0001e6e0: 3a20 7374 722c 0a20 2020 2020 2020 2068  : str,.        h
+0001e6f0: 6f73 743a 2073 7472 203d 2022 6e64 742d  ost: str = "ndt-
+0001e700: 6975 7075 692d 6d6c 6162 312d 6465 6e30  iupui-mlab1-den0
+0001e710: 342e 6d6c 6162 2d6f 7469 2e6d 6561 7375  4.mlab-oti.measu
+0001e720: 7265 6d65 6e74 2d6c 6162 2e6f 7267 222c  rement-lab.org",
+0001e730: 0a20 2020 2020 2020 206f 7074 696f 6e73  .        options
+0001e740: 3a20 7374 7220 3d20 4e6f 6e65 0a20 2020  : str = None.   
+0001e750: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0001e760: 2020 2020 2020 2020 2222 2253 7065 6564          """Speed
+0001e770: 2054 6573 742e 0a0a 2020 2020 2020 2020   Test...        
+0001e780: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001e790: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
+0001e7a0: 5365 7269 616c 206f 6620 6465 7669 6365  Serial of device
+0001e7b0: 0a20 2020 2020 2020 2020 2020 2068 6f73  .            hos
+0001e7c0: 7420 2873 7472 2c20 4f70 7469 6f6e 616c  t (str, Optional
+0001e7d0: 293a 2053 7065 6564 2d54 6573 7420 7365  ): Speed-Test se
+0001e7e0: 7276 6572 2049 5020 6164 6472 6573 732c  rver IP address,
+0001e7f0: 2044 6566 6175 6c74 7320 746f 2073 6572   Defaults to ser
+0001e800: 7665 7220 696e 2043 656e 7472 616c 2049  ver in Central I
+0001e810: 6e64 6961 6e61 2e0a 2020 2020 2020 2020  ndiana..        
+0001e820: 2020 2020 6f70 7469 6f6e 7320 2873 7472      options (str
+0001e830: 293a 2046 6f72 6d61 7474 6564 2073 7472  ): Formatted str
+0001e840: 696e 6720 6f66 206f 7074 696f 6e61 6c20  ing of optional 
+0001e850: 6172 6775 6d65 6e74 730a 0a20 2020 2020  arguments..     
+0001e860: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0001e870: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0001e880: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0001e890: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0001e8a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001e8b0: 2075 726c 203d 2066 222f 6465 7669 6365   url = f"/device
+0001e8c0: 5f6d 616e 6167 656d 656e 742f 7631 2f64  _management/v1/d
+0001e8d0: 6576 6963 652f 7b73 6572 6961 6c7d 2f61  evice/{serial}/a
+0001e8e0: 6374 696f 6e2f 7370 6565 6474 6573 7422  ction/speedtest"
+0001e8f0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+0001e900: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+0001e910: 2020 2020 2768 6f73 7427 3a20 686f 7374      'host': host
+0001e920: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
+0001e930: 7074 696f 6e73 273a 206f 7074 696f 6e73  ptions': options
+0001e940: 206f 7220 2222 0a20 2020 2020 2020 207d   or "".        }
+0001e950: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0001e960: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+0001e970: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+0001e980: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+0001e990: 6173 796e 6320 6465 6620 6465 6c65 7465  async def delete
+0001e9a0: 5f63 6572 7469 6669 6361 7465 2873 656c  _certificate(sel
+0001e9b0: 662c 2063 6572 7469 6669 6361 7465 3a20  f, certificate: 
+0001e9c0: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
+0001e9d0: 3a0a 2020 2020 2020 2020 2222 2244 656c  :.        """Del
+0001e9e0: 6574 6520 6578 6973 7469 6e67 2063 6572  ete existing cer
+0001e9f0: 7469 6669 6361 7465 2e0a 0a20 2020 2020  tificate...     
+0001ea00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0001ea10: 2020 2020 2063 6572 7469 6669 6361 7465       certificate
+0001ea20: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
+0001ea30: 7468 6520 6365 7274 6966 6963 6174 6520  the certificate 
+0001ea40: 746f 2064 656c 6574 652e 0a0a 2020 2020  to delete...    
+0001ea50: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0001ea60: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0001ea70: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0001ea80: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0001ea90: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001eaa0: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+0001eab0: 6775 7261 7469 6f6e 2f76 312f 6365 7274  guration/v1/cert
+0001eac0: 6966 6963 6174 6573 2f7b 6365 7274 6966  ificates/{certif
+0001ead0: 6963 6174 657d 220a 0a20 2020 2020 2020  icate}"..       
+0001eae0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0001eaf0: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
+0001eb00: 2020 2020 2320 544f 444f 2061 6363 6570      # TODO accep
+0001eb10: 7420 4c69 7374 206f 6620 7374 7220 616e  t List of str an
+0001eb20: 6420 6261 7463 6820 6465 6c65 7465 0a20  d batch delete. 
+0001eb30: 2020 2061 7379 6e63 2064 6566 2064 656c     async def del
+0001eb40: 6574 655f 6772 6f75 7028 7365 6c66 2c20  ete_group(self, 
+0001eb50: 6772 6f75 703a 2073 7472 2920 2d3e 2052  group: str) -> R
+0001eb60: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0001eb70: 2022 2222 4465 6c65 7465 2065 7869 7374   """Delete exist
+0001eb80: 696e 6720 6772 6f75 702e 0a0a 2020 2020  ing group...    
+0001eb90: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0001eba0: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
+0001ebb0: 293a 204e 616d 6520 6f66 2074 6865 2067  ): Name of the g
+0001ebc0: 726f 7570 2074 6861 7420 6e65 6564 7320  roup that needs 
+0001ebd0: 746f 2062 6520 6465 6c65 7465 642e 0a0a  to be deleted...
+0001ebe0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0001ebf0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0001ec00: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0001ec10: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0001ec20: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0001ec30: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+0001ec40: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+0001ec50: 6772 6f75 7073 2f7b 6772 6f75 707d 220a  groups/{group}".
+0001ec60: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001ec70: 6177 6169 7420 7365 6c66 2e64 656c 6574  await self.delet
+0001ec80: 6528 7572 6c29 0a0a 2020 2020 6173 796e  e(url)..    asyn
+0001ec90: 6320 6465 6620 6465 6c65 7465 5f73 6974  c def delete_sit
+0001eca0: 6528 7365 6c66 2c20 7369 7465 5f69 643a  e(self, site_id:
+0001ecb0: 2055 6e69 6f6e 5b69 6e74 2c20 4c69 7374   Union[int, List
+0001ecc0: 5b69 6e74 5d5d 2920 2d3e 2052 6573 706f  [int]]) -> Respo
+0001ecd0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0001ece0: 4465 6c65 7465 2053 6974 652e 0a0a 2020  Delete Site...  
+0001ecf0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0001ed00: 2020 2020 2020 2020 7369 7465 5f69 6420          site_id 
+0001ed10: 2869 6e74 7c4c 6973 745b 696e 745d 293a  (int|List[int]):
+0001ed20: 2045 6974 6865 7220 7468 6520 7369 7465   Either the site
+0001ed30: 5f69 6420 6f72 2061 206c 6973 7420 6f66  _id or a list of
+0001ed40: 2073 6974 655f 6964 7320 746f 2062 6520   site_ids to be 
+0001ed50: 6465 6c65 7465 642e 0a0a 2020 2020 2020  deleted...      
+0001ed60: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0001ed70: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0001ed80: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0001ed90: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0001eda0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001edb0: 625f 7572 6c20 3d20 222f 6365 6e74 7261  b_url = "/centra
+0001edc0: 6c2f 7632 2f73 6974 6573 220a 2020 2020  l/v2/sites".    
+0001edd0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0001ede0: 6528 7369 7465 5f69 642c 206c 6973 7429  e(site_id, list)
+0001edf0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0001ee00: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001ee10: 5f62 6174 6368 5f72 6571 7565 7374 280a  _batch_request(.
+0001ee20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ee30: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0001ee40: 2020 2020 2020 7365 6c66 2e42 6174 6368        self.Batch
+0001ee50: 5265 7175 6573 7428 7365 6c66 2e64 656c  Request(self.del
+0001ee60: 6574 652c 2028 6622 7b62 5f75 726c 7d2f  ete, (f"{b_url}/
+0001ee70: 7b5f 6964 7d22 2c29 290a 2020 2020 2020  {_id}",)).      
+0001ee80: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0001ee90: 7220 5f69 6420 696e 2073 6974 655f 6964  r _id in site_id
+0001eea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001eeb0: 205d 0a20 2020 2020 2020 2020 2020 2029   ].            )
+0001eec0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0001eed0: 2020 2020 2020 2020 2020 2075 726c 203d             url =
+0001eee0: 2066 227b 625f 7572 6c7d 2f7b 7369 7465   f"{b_url}/{site
+0001eef0: 5f69 647d 220a 2020 2020 2020 2020 2020  _id}".          
+0001ef00: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0001ef10: 656c 662e 6465 6c65 7465 2875 726c 290a  elf.delete(url).
+0001ef20: 0a20 2020 2061 7379 6e63 2064 6566 2064  .    async def d
+0001ef30: 656c 6574 655f 776c 616e 2873 656c 662c  elete_wlan(self,
+0001ef40: 2067 726f 7570 3a20 7374 722c 2077 6c61   group: str, wla
+0001ef50: 6e5f 6e61 6d65 3a20 7374 7229 202d 3e20  n_name: str) -> 
+0001ef60: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0001ef70: 2020 2222 2244 656c 6574 6520 616e 2065    """Delete an e
+0001ef80: 7869 7374 696e 6720 574c 414e 2e0a 0a20  xisting WLAN... 
+0001ef90: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001efa0: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+0001efb0: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
+0001efc0: 206f 6620 7468 6520 6772 6f75 7020 6f72   of the group or
+0001efd0: 2067 7569 6420 6f66 2074 6865 2073 7761   guid of the swa
+0001efe0: 726d 2e0a 2020 2020 2020 2020 2020 2020  rm..            
+0001eff0: 2020 2020 4578 616d 706c 653a 4772 6f75      Example:Grou
+0001f000: 705f 3120 6f72 2036 6135 6431 3233 6230  p_1 or 6a5d123b0
+0001f010: 3166 3934 3431 3830 3632 3434 6561 3665  1f9441806244ea6e
+0001f020: 3032 3366 6162 3538 3431 6237 3763 3832  023fab5841b77c82
+0001f030: 3861 3038 3566 3034 662e 0a20 2020 2020  8a085f04f..     
+0001f040: 2020 2020 2020 2077 6c61 6e5f 6e61 6d65         wlan_name
+0001f050: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
+0001f060: 574c 414e 2074 6f20 6265 2064 656c 6574  WLAN to be delet
+0001f070: 6564 2e0a 2020 2020 2020 2020 2020 2020  ed..            
+0001f080: 2020 2020 4578 616d 706c 653a 776c 616e      Example:wlan
+0001f090: 5f31 2e0a 0a20 2020 2020 2020 2052 6574  _1...        Ret
+0001f0a0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001f0b0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001f0c0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001f0d0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001f0e0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0001f0f0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+0001f100: 6e2f 7631 2f77 6c61 6e2f 7b67 726f 7570  n/v1/wlan/{group
+0001f110: 7d2f 7b77 6c61 6e5f 6e61 6d65 7d22 0a0a  }/{wlan_name}"..
+0001f120: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001f130: 7761 6974 2073 656c 662e 6465 6c65 7465  wait self.delete
+0001f140: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+0001f150: 2064 6566 2067 6574 5f77 6c61 6e28 7365   def get_wlan(se
+0001f160: 6c66 2c20 6772 6f75 703a 2073 7472 2c20  lf, group: str, 
+0001f170: 776c 616e 5f6e 616d 653a 2073 7472 2920  wlan_name: str) 
+0001f180: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0001f190: 2020 2020 2022 2222 4765 7420 7468 6520       """Get the 
+0001f1a0: 696e 666f 726d 6174 696f 6e20 6f66 2061  information of a
+0001f1b0: 6e20 6578 6973 7469 6e67 2057 4c41 4e2e  n existing WLAN.
+0001f1c0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0001f1d0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0001f1e0: 7020 2873 7472 293a 2047 726f 7570 206e  p (str): Group n
+0001f1f0: 616d 6520 6f66 2074 6865 2067 726f 7570  ame of the group
+0001f200: 206f 7220 6775 6964 206f 6620 7468 6520   or guid of the 
+0001f210: 7377 6172 6d2e 0a20 2020 2020 2020 2020  swarm..         
+0001f220: 2020 2020 2020 2045 7861 6d70 6c65 3a47         Example:G
+0001f230: 726f 7570 5f31 206f 7220 3661 3564 3132  roup_1 or 6a5d12
+0001f240: 3362 3031 6639 3434 3138 3036 3234 3465  3b01f9441806244e
+0001f250: 6136 6530 3233 6661 6235 3834 3162 3737  a6e023fab5841b77
+0001f260: 6338 3238 6130 3835 6630 3466 2e0a 2020  c828a085f04f..  
+0001f270: 2020 2020 2020 2020 2020 776c 616e 5f6e            wlan_n
+0001f280: 616d 6520 2873 7472 293a 204e 616d 6520  ame (str): Name 
+0001f290: 6f66 2057 4c41 4e20 7365 6c65 6374 6564  of WLAN selected
+0001f2a0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001f2b0: 2020 4578 616d 706c 653a 776c 616e 5f31    Example:wlan_1
+0001f2c0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0001f2d0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0001f2e0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0001f2f0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0001f300: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0001f310: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0001f320: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0001f330: 7632 2f77 6c61 6e2f 7b67 726f 7570 7d2f  v2/wlan/{group}/
+0001f340: 7b77 6c61 6e5f 6e61 6d65 7d22 0a0a 2020  {wlan_name}"..  
+0001f350: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0001f360: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+0001f370: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0001f380: 6372 6561 7465 5f77 6c61 6e28 0a20 2020  create_wlan(.   
+0001f390: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0001f3a0: 2020 2067 726f 7570 3a20 7374 722c 0a20     group: str,. 
+0001f3b0: 2020 2020 2020 2077 6c61 6e5f 6e61 6d65         wlan_name
+0001f3c0: 3a20 7374 722c 0a20 2020 2020 2020 2077  : str,.        w
+0001f3d0: 7061 5f70 6173 7370 6872 6173 653a 2073  pa_passphrase: s
+0001f3e0: 7472 2c0a 2020 2020 2020 2020 2320 7770  tr,.        # wp
+0001f3f0: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+0001f400: 6e67 6564 3a20 626f 6f6c 203d 2054 7275  nged: bool = Tru
+0001f410: 652c 0a20 2020 2020 2020 2076 6c61 6e3a  e,.        vlan:
+0001f420: 2073 7472 203d 2022 222c 0a20 2020 2020   str = "",.     
+0001f430: 2020 2074 7970 653a 2057 6c61 6e54 7970     type: WlanTyp
+0001f440: 6520 3d20 2265 6d70 6c6f 7965 6522 2c0a  e = "employee",.
+0001f450: 2020 2020 2020 2020 6573 7369 643a 2073          essid: s
+0001f460: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0001f470: 2020 207a 6f6e 653a 2073 7472 203d 2022     zone: str = "
+0001f480: 222c 0a20 2020 2020 2020 2063 6170 7469  ",.        capti
+0001f490: 7665 5f70 726f 6669 6c65 5f6e 616d 653a  ve_profile_name:
+0001f4a0: 2073 7472 203d 2022 222c 0a20 2020 2020   str = "",.     
+0001f4b0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001f4c0: 6974 5f75 703a 2073 7472 203d 2022 222c  it_up: str = "",
+0001f4d0: 0a20 2020 2020 2020 2062 616e 6477 6964  .        bandwid
+0001f4e0: 7468 5f6c 696d 6974 5f64 6f77 6e3a 2073  th_limit_down: s
+0001f4f0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
+0001f500: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+0001f510: 5f70 6572 7573 6572 5f75 703a 2073 7472  _peruser_up: str
+0001f520: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
+0001f530: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
+0001f540: 6572 7573 6572 5f64 6f77 6e3a 2073 7472  eruser_down: str
+0001f550: 203d 2022 222c 0a20 2020 2020 2020 2061   = "",.        a
+0001f560: 6363 6573 735f 7275 6c65 733a 206c 6973  ccess_rules: lis
+0001f570: 7420 3d20 4445 4641 554c 545f 4143 4345  t = DEFAULT_ACCE
+0001f580: 5353 5f52 554c 4553 5b22 414c 4c4f 575f  SS_RULES["ALLOW_
+0001f590: 414c 4c22 5d2c 0a20 2020 2020 2020 2069  ALL"],.        i
+0001f5a0: 735f 6c6f 636b 6564 3a20 626f 6f6c 203d  s_locked: bool =
+0001f5b0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+0001f5c0: 6869 6465 5f73 7369 643a 2062 6f6f 6c20  hide_ssid: bool 
+0001f5d0: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
+0001f5e0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0001f5f0: 2020 2020 2222 2243 7265 6174 6520 6120      """Create a 
+0001f600: 6e65 7720 574c 414e 2028 5353 4944 292e  new WLAN (SSID).
+0001f610: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0001f620: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0001f630: 7020 2873 7472 293a 2041 7275 6261 2043  p (str): Aruba C
+0001f640: 656e 7472 616c 2047 726f 7570 206e 616d  entral Group nam
+0001f650: 6520 6f72 2073 7761 726d 2067 7569 640a  e or swarm guid.
+0001f660: 2020 2020 2020 2020 2020 2020 776c 616e              wlan
+0001f670: 5f6e 616d 6520 2873 7472 293a 204e 616d  _name (str): Nam
+0001f680: 6520 6f66 2074 6865 2057 4c41 4e2f 4e65  e of the WLAN/Ne
+0001f690: 7477 6f72 6b0a 2020 2020 2020 2020 2020  twork.          
+0001f6a0: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
+0001f6b0: 2028 7374 7229 3a20 5750 4120 7061 7373   (str): WPA pass
+0001f6c0: 7068 7261 7365 0a20 2020 2020 2020 2020  phrase.         
+0001f6d0: 2020 2076 6c61 6e20 2873 7472 293a 2043     vlan (str): C
+0001f6e0: 6c69 656e 7420 564c 414e 206e 616d 6520  lient VLAN name 
+0001f6f0: 6f72 2069 642e 2044 6566 6175 6c74 7320  or id. Defaults 
+0001f700: 746f 2022 2220 284e 6174 6976 6520 4150  to "" (Native AP
+0001f710: 2056 4c41 4e29 2e0a 2020 2020 2020 2020   VLAN)..        
+0001f720: 2020 2020 7479 7065 2028 576c 616e 5479      type (WlanTy
+0001f730: 7065 2c20 6f70 7469 6f6e 616c 293a 2056  pe, optional): V
+0001f740: 616c 6964 3a20 5b27 656d 706c 6f79 6565  alid: ['employee
+0001f750: 272c 2027 6775 6573 7427 5d2e 2044 6566  ', 'guest']. Def
+0001f760: 6175 6c74 7320 746f 2022 656d 706c 6f79  aults to "employ
+0001f770: 6565 222e 0a20 2020 2020 2020 2020 2020  ee"..           
+0001f780: 2065 7373 6964 2028 7374 722c 206f 7074   essid (str, opt
+0001f790: 696f 6e61 6c29 3a20 5353 4944 2e20 4465  ional): SSID. De
+0001f7a0: 6661 756c 7473 2074 6f20 4e6f 6e65 2028  faults to None (
+0001f7b0: 6573 7369 6420 3d20 776c 616e 5f6e 616d  essid = wlan_nam
+0001f7c0: 6529 2e0a 2020 2020 2020 2020 2020 2020  e)..            
+0001f7d0: 7a6f 6e65 2028 7374 722c 206f 7074 696f  zone (str, optio
+0001f7e0: 6e61 6c29 3a20 4150 205a 6f6e 6520 5353  nal): AP Zone SS
+0001f7f0: 4944 2077 696c 6c20 6272 6f61 6463 6173  ID will broadcas
+0001f800: 7420 6f6e 2e20 4465 6661 756c 7473 2074  t on. Defaults t
+0001f810: 6f20 2222 2028 4272 6f61 6463 6173 7420  o "" (Broadcast 
+0001f820: 6f6e 2061 6c6c 2041 5073 292e 0a20 2020  on all APs)..   
+0001f830: 2020 2020 2020 2020 2063 6170 7469 7665           captive
+0001f840: 5f70 726f 6669 6c65 5f6e 616d 6520 2873  _profile_name (s
+0001f850: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
+0001f860: 6170 7469 7665 2050 6f72 7461 6c20 5072  aptive Portal Pr
+0001f870: 6f66 696c 652e 2044 6566 6175 6c74 7320  ofile. Defaults 
+0001f880: 746f 2022 2220 284e 6f20 4350 2050 726f  to "" (No CP Pro
+0001f890: 6669 6c65 292e 0a20 2020 2020 2020 2020  file)..         
+0001f8a0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001f8b0: 6974 5f75 7020 2873 7472 2c20 6f70 7469  it_up (str, opti
+0001f8c0: 6f6e 616c 293a 205b 6465 7363 7269 7074  onal): [descript
+0001f8d0: 696f 6e5d 2e20 4465 6661 756c 7473 2074  ion]. Defaults t
+0001f8e0: 6f20 2222 2028 4e6f 2042 5720 4c69 6d69  o "" (No BW Limi
+0001f8f0: 7420 5570 292e 0a20 2020 2020 2020 2020  t Up)..         
+0001f900: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001f910: 6974 5f64 6f77 6e20 2873 7472 2c20 6f70  it_down (str, op
+0001f920: 7469 6f6e 616c 293a 205b 6465 7363 7269  tional): [descri
+0001f930: 7074 696f 6e5d 2e20 4465 6661 756c 7473  ption]. Defaults
+0001f940: 2074 6f20 2222 2028 4e6f 2042 5720 4c69   to "" (No BW Li
+0001f950: 6d69 7420 446f 776e 292e 0a20 2020 2020  mit Down)..     
+0001f960: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
+0001f970: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
+0001f980: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0001f990: 293a 205b 6465 7363 7269 7074 696f 6e5d  ): [description]
+0001f9a0: 2e20 4465 6661 756c 7473 2074 6f20 2222  . Defaults to ""
+0001f9b0: 2028 4e6f 2070 6572 2075 7365 7220 4257   (No per user BW
+0001f9c0: 204c 696d 6974 2055 7029 2e0a 2020 2020   Limit Up)..    
+0001f9d0: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+0001f9e0: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
+0001f9f0: 646f 776e 2028 7374 722c 206f 7074 696f  down (str, optio
+0001fa00: 6e61 6c29 3a20 5b64 6573 6372 6970 7469  nal): [descripti
+0001fa10: 6f6e 5d2e 2044 6566 6175 6c74 7320 746f  on]. Defaults to
+0001fa20: 2022 2220 284e 6f20 7065 7220 7573 6572   "" (No per user
+0001fa30: 2042 5720 4c69 6d69 7420 446f 776e 292e   BW Limit Down).
+0001fa40: 0a20 2020 2020 2020 2020 2020 2061 6363  .            acc
+0001fa50: 6573 735f 7275 6c65 7320 286c 6973 742c  ess_rules (list,
+0001fa60: 206f 7074 696f 6e61 6c29 3a20 5b64 6573   optional): [des
+0001fa70: 6372 6970 7469 6f6e 5d2e 2044 6566 6175  cription]. Defau
+0001fa80: 6c74 3a20 756e 7265 7374 7269 6374 6564  lt: unrestricted
+0001fa90: 2e0a 2020 2020 2020 2020 2020 2020 6973  ..            is
+0001faa0: 5f6c 6f63 6b65 6420 2862 6f6f 6c2c 206f  _locked (bool, o
+0001fab0: 7074 696f 6e61 6c29 3a20 5b64 6573 6372  ptional): [descr
+0001fac0: 6970 7469 6f6e 5d2e 2044 6566 6175 6c74  iption]. Default
+0001fad0: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
+0001fae0: 2020 2020 2020 2020 6869 6465 5f73 7369          hide_ssi
+0001faf0: 6420 2862 6f6f 6c2c 206f 7074 696f 6e61  d (bool, optiona
+0001fb00: 6c29 3a20 5b64 6573 6372 6970 7469 6f6e  l): [description
+0001fb10: 5d2e 2044 6566 6175 6c74 7320 746f 2046  ]. Defaults to F
+0001fb20: 616c 7365 2e0a 2020 2020 2020 2020 2020  alse..          
+0001fb30: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
+0001fb40: 5f63 6861 6e67 6564 2028 626f 6f6c 2c20  _changed (bool, 
+0001fb50: 6f70 7469 6f6e 616c 293a 2069 6e64 6963  optional): indic
+0001fb60: 6174 6573 2070 6173 7370 6872 6173 6520  ates passphrase 
+0001fb70: 6861 7320 6368 616e 6765 642e 2044 6566  has changed. Def
+0001fb80: 6175 6c74 7320 746f 2054 7275 652e 0a0a  aults to True...
+0001fb90: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0001fba0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0001fbb0: 706f 6e73 653a 205b 6465 7363 7269 7074  ponse: [descript
+0001fbc0: 696f 6e5d 0a20 2020 2020 2020 2022 2222  ion].        """
+0001fbd0: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0001fbe0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0001fbf0: 7632 2f77 6c61 6e2f 7b67 726f 7570 7d2f  v2/wlan/{group}/
+0001fc00: 7b77 6c61 6e5f 6e61 6d65 7d22 0a0a 2020  {wlan_name}"..  
+0001fc10: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+0001fc20: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001fc30: 2277 6c61 6e22 3a20 7b0a 2020 2020 2020  "wlan": {.      
+0001fc40: 2020 2020 2020 2020 2020 2765 7373 6964            'essid
+0001fc50: 273a 2065 7373 6964 206f 7220 776c 616e  ': essid or wlan
+0001fc60: 5f6e 616d 652c 0a20 2020 2020 2020 2020  _name,.         
+0001fc70: 2020 2020 2020 2027 7479 7065 273a 2074         'type': t
+0001fc80: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+0001fc90: 2020 2020 2027 6869 6465 5f73 7369 6427       'hide_ssid'
+0001fca0: 3a20 6869 6465 5f73 7369 642c 0a20 2020  : hide_ssid,.   
+0001fcb0: 2020 2020 2020 2020 2020 2020 2027 766c               'vl
+0001fcc0: 616e 273a 2076 6c61 6e2c 0a20 2020 2020  an': vlan,.     
+0001fcd0: 2020 2020 2020 2020 2020 2027 7a6f 6e65             'zone
+0001fce0: 273a 207a 6f6e 652c 0a20 2020 2020 2020  ': zone,.       
+0001fcf0: 2020 2020 2020 2020 2027 7770 615f 7061           'wpa_pa
+0001fd00: 7373 7068 7261 7365 273a 2077 7061 5f70  ssphrase': wpa_p
+0001fd10: 6173 7370 6872 6173 652c 0a20 2020 2020  assphrase,.     
+0001fd20: 2020 2020 2020 2020 2020 2023 2027 7770             # 'wp
+0001fd30: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+0001fd40: 6e67 6564 273a 2077 7061 5f70 6173 7370  nged': wpa_passp
+0001fd50: 6872 6173 655f 6368 616e 6765 642c 0a20  hrase_changed,. 
+0001fd60: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0001fd70: 6973 5f6c 6f63 6b65 6427 3a20 6973 5f6c  is_locked': is_l
+0001fd80: 6f63 6b65 642c 0a20 2020 2020 2020 2020  ocked,.         
+0001fd90: 2020 2020 2020 2027 6361 7074 6976 655f         'captive_
+0001fda0: 7072 6f66 696c 655f 6e61 6d65 273a 2063  profile_name': c
+0001fdb0: 6170 7469 7665 5f70 726f 6669 6c65 5f6e  aptive_profile_n
+0001fdc0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+0001fdd0: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
+0001fde0: 6c69 6d69 745f 7570 273a 2062 616e 6477  limit_up': bandw
+0001fdf0: 6964 7468 5f6c 696d 6974 5f75 702c 0a20  idth_limit_up,. 
+0001fe00: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0001fe10: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+0001fe20: 646f 776e 273a 2062 616e 6477 6964 7468  down': bandwidth
+0001fe30: 5f6c 696d 6974 5f64 6f77 6e2c 0a20 2020  _limit_down,.   
+0001fe40: 2020 2020 2020 2020 2020 2020 2027 6261               'ba
+0001fe50: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+0001fe60: 7275 7365 725f 7570 273a 2062 616e 6477  ruser_up': bandw
+0001fe70: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
+0001fe80: 6572 5f75 702c 0a20 2020 2020 2020 2020  er_up,.         
+0001fe90: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
+0001fea0: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
+0001feb0: 646f 776e 273a 2062 616e 6477 6964 7468  down': bandwidth
+0001fec0: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
+0001fed0: 6f77 6e2c 0a20 2020 2020 2020 2020 2020  own,.           
+0001fee0: 2020 2020 2027 6163 6365 7373 5f72 756c       'access_rul
+0001fef0: 6573 273a 2061 6363 6573 735f 7275 6c65  es': access_rule
+0001ff00: 730a 2020 2020 2020 2020 2020 2020 7d0a  s.            }.
+0001ff10: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+0001ff20: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0001ff30: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+0001ff40: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+0001ff50: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
+0001ff60: 6566 2063 6f6e 6669 6775 7261 7469 6f6e  ef configuration
+0001ff70: 5f63 6c65 616e 5f75 705f 616e 645f 7570  _clean_up_and_up
+0001ff80: 6461 7465 5f77 6c61 6e5f 7632 2873 656c  date_wlan_v2(sel
+0001ff90: 662c 2067 726f 7570 5f6e 616d 655f 6f72  f, group_name_or
+0001ffa0: 5f67 7569 643a 2073 7472 2c0a 2020 2020  _guid: str,.    
+0001ffb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ffc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ffd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ffe0: 2020 2020 776c 616e 5f6e 616d 653a 2073      wlan_name: s
+0001fff0: 7472 2c20 6573 7369 643a 2073 7472 2c20  tr, essid: str, 
+00020000: 7479 7065 3a20 7374 722c 0a20 2020 2020  type: str,.     
+00020010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020040: 2020 2068 6964 655f 7373 6964 3a20 626f     hide_ssid: bo
+00020050: 6f6c 2c20 766c 616e 3a20 7374 722c 207a  ol, vlan: str, z
+00020060: 6f6e 653a 2073 7472 2c0a 2020 2020 2020  one: str,.      
+00020070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000200a0: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
+000200b0: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
+000200c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000200d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000200e0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+000200f0: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
+00020100: 616e 6765 643a 2062 6f6f 6c2c 0a20 2020  anged: bool,.   
+00020110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020140: 2020 2020 2069 735f 6c6f 636b 6564 3a20       is_locked: 
+00020150: 626f 6f6c 2c0a 2020 2020 2020 2020 2020  bool,.          
+00020160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020180: 2020 2020 2020 2020 2020 2020 2020 6361                ca
+00020190: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
+000201a0: 6d65 3a20 7374 722c 0a20 2020 2020 2020  me: str,.       
+000201b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000201c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000201d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000201e0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+000201f0: 5f75 703a 2073 7472 2c0a 2020 2020 2020  _up: str,.      
+00020200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020230: 2020 6261 6e64 7769 6474 685f 6c69 6d69    bandwidth_limi
+00020240: 745f 646f 776e 3a20 7374 722c 0a20 2020  t_down: str,.   
+00020250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020280: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
+00020290: 696d 6974 5f70 6572 7573 6572 5f75 703a  imit_peruser_up:
+000202a0: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
+000202b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000202c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000202d0: 2020 2020 2020 2020 2020 2020 2020 6261                ba
+000202e0: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+000202f0: 7275 7365 725f 646f 776e 3a20 7374 722c  ruser_down: str,
+00020300: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020330: 2020 2020 2020 2020 2061 6363 6573 735f           access_
+00020340: 7275 6c65 733a 206c 6973 7429 202d 3e20  rules: list) -> 
+00020350: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00020360: 2020 2222 2255 7064 6174 6520 616e 2065    """Update an e
+00020370: 7869 7374 696e 6720 574c 414e 2061 6e64  xisting WLAN and
+00020380: 2063 6c65 616e 2075 7020 756e 7375 7070   clean up unsupp
+00020390: 6f72 7465 6420 6669 656c 6473 2e0a 0a20  orted fields... 
+000203a0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000203b0: 2020 2020 2020 2020 2067 726f 7570 5f6e           group_n
+000203c0: 616d 655f 6f72 5f67 7569 6420 2873 7472  ame_or_guid (str
+000203d0: 293a 2047 726f 7570 206e 616d 6520 6f66  ): Group name of
+000203e0: 2074 6865 2067 726f 7570 206f 7220 6775   the group or gu
+000203f0: 6964 206f 6620 7468 6520 7377 6172 6d2e  id of the swarm.
+00020400: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020410: 2045 7861 6d70 6c65 3a47 726f 7570 5f31   Example:Group_1
+00020420: 206f 7220 3661 3564 3132 3362 3031 6639   or 6a5d123b01f9
+00020430: 3434 3138 3036 3234 3465 6136 6530 3233  441806244ea6e023
+00020440: 6661 6235 3834 3162 3737 6338 3238 6130  fab5841b77c828a0
+00020450: 3835 6630 3466 2e0a 2020 2020 2020 2020  85f04f..        
+00020460: 2020 2020 776c 616e 5f6e 616d 6520 2873      wlan_name (s
+00020470: 7472 293a 204e 616d 6520 6f66 2057 4c41  tr): Name of WLA
+00020480: 4e20 7365 6c65 6374 6564 2e20 2020 2020  N selected.     
+00020490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000204a0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
+000204b0: 3a77 6c61 6e5f 312e 0a20 2020 2020 2020  :wlan_1..       
+000204c0: 2020 2020 2065 7373 6964 2028 7374 7229       essid (str)
+000204d0: 3a20 6573 7369 640a 2020 2020 2020 2020  : essid.        
+000204e0: 2020 2020 7479 7065 2028 7374 7229 3a20      type (str): 
+000204f0: 7479 7065 2020 5661 6c69 6420 5661 6c75  type  Valid Valu
+00020500: 6573 3a20 656d 706c 6f79 6565 2c20 6775  es: employee, gu
+00020510: 6573 740a 2020 2020 2020 2020 2020 2020  est.            
+00020520: 6869 6465 5f73 7369 6420 2862 6f6f 6c29  hide_ssid (bool)
+00020530: 3a20 6869 6465 5f73 7369 640a 2020 2020  : hide_ssid.    
+00020540: 2020 2020 2020 2020 766c 616e 2028 7374          vlan (st
+00020550: 7229 3a20 766c 616e 0a20 2020 2020 2020  r): vlan.       
+00020560: 2020 2020 207a 6f6e 6520 2873 7472 293a       zone (str):
+00020570: 207a 6f6e 650a 2020 2020 2020 2020 2020   zone.          
+00020580: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
+00020590: 2028 7374 7229 3a20 7770 615f 7061 7373   (str): wpa_pass
+000205a0: 7068 7261 7365 0a20 2020 2020 2020 2020  phrase.         
+000205b0: 2020 2077 7061 5f70 6173 7370 6872 6173     wpa_passphras
+000205c0: 655f 6368 616e 6765 6420 2862 6f6f 6c29  e_changed (bool)
+000205d0: 3a20 7770 615f 7061 7373 7068 7261 7365  : wpa_passphrase
+000205e0: 5f63 6861 6e67 6564 0a20 2020 2020 2020  _changed.       
+000205f0: 2020 2020 2069 735f 6c6f 636b 6564 2028       is_locked (
+00020600: 626f 6f6c 293a 2069 735f 6c6f 636b 6564  bool): is_locked
+00020610: 0a20 2020 2020 2020 2020 2020 2063 6170  .            cap
+00020620: 7469 7665 5f70 726f 6669 6c65 5f6e 616d  tive_profile_nam
+00020630: 6520 2873 7472 293a 2063 6170 7469 7665  e (str): captive
+00020640: 5f70 726f 6669 6c65 5f6e 616d 650a 2020  _profile_name.  
+00020650: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
+00020660: 6474 685f 6c69 6d69 745f 7570 2028 7374  dth_limit_up (st
+00020670: 7229 3a20 6261 6e64 7769 6474 685f 6c69  r): bandwidth_li
+00020680: 6d69 745f 7570 0a20 2020 2020 2020 2020  mit_up.         
+00020690: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+000206a0: 6974 5f64 6f77 6e20 2873 7472 293a 2062  it_down (str): b
+000206b0: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
+000206c0: 6f77 6e0a 2020 2020 2020 2020 2020 2020  own.            
+000206d0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+000206e0: 7065 7275 7365 725f 7570 2028 7374 7229  peruser_up (str)
+000206f0: 3a20 6261 6e64 7769 6474 685f 6c69 6d69  : bandwidth_limi
+00020700: 745f 7065 7275 7365 725f 7570 0a20 2020  t_peruser_up.   
+00020710: 2020 2020 2020 2020 2062 616e 6477 6964           bandwid
+00020720: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
+00020730: 5f64 6f77 6e20 2873 7472 293a 2062 616e  _down (str): ban
+00020740: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
+00020750: 7573 6572 5f64 6f77 6e0a 2020 2020 2020  user_down.      
+00020760: 2020 2020 2020 6163 6365 7373 5f72 756c        access_rul
+00020770: 6573 2028 6c69 7374 293a 2061 6363 6573  es (list): acces
+00020780: 735f 7275 6c65 730a 0a20 2020 2020 2020  s_rules..       
+00020790: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+000207a0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+000207b0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+000207c0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000207d0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+000207e0: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
+000207f0: 6174 696f 6e2f 7632 2f77 6c61 6e2f 7b67  ation/v2/wlan/{g
+00020800: 726f 7570 5f6e 616d 655f 6f72 5f67 7569  roup_name_or_gui
+00020810: 647d 2f7b 776c 616e 5f6e 616d 657d 220a  d}/{wlan_name}".
+00020820: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00020830: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00020840: 2020 2027 6573 7369 6427 3a20 6573 7369     'essid': essi
+00020850: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+00020860: 7479 7065 273a 2074 7970 652c 0a20 2020  type': type,.   
+00020870: 2020 2020 2020 2020 2027 6869 6465 5f73           'hide_s
+00020880: 7369 6427 3a20 6869 6465 5f73 7369 642c  sid': hide_ssid,
+00020890: 0a20 2020 2020 2020 2020 2020 2027 766c  .            'vl
+000208a0: 616e 273a 2076 6c61 6e2c 0a20 2020 2020  an': vlan,.     
+000208b0: 2020 2020 2020 2027 7a6f 6e65 273a 207a         'zone': z
+000208c0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+000208d0: 2027 7770 615f 7061 7373 7068 7261 7365   'wpa_passphrase
+000208e0: 273a 2077 7061 5f70 6173 7370 6872 6173  ': wpa_passphras
+000208f0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00020900: 7770 615f 7061 7373 7068 7261 7365 5f63  wpa_passphrase_c
+00020910: 6861 6e67 6564 273a 2077 7061 5f70 6173  hanged': wpa_pas
+00020920: 7370 6872 6173 655f 6368 616e 6765 642c  sphrase_changed,
+00020930: 0a20 2020 2020 2020 2020 2020 2027 6973  .            'is
+00020940: 5f6c 6f63 6b65 6427 3a20 6973 5f6c 6f63  _locked': is_loc
+00020950: 6b65 642c 0a20 2020 2020 2020 2020 2020  ked,.           
+00020960: 2027 6361 7074 6976 655f 7072 6f66 696c   'captive_profil
+00020970: 655f 6e61 6d65 273a 2063 6170 7469 7665  e_name': captive
+00020980: 5f70 726f 6669 6c65 5f6e 616d 652c 0a20  _profile_name,. 
+00020990: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
+000209a0: 7769 6474 685f 6c69 6d69 745f 7570 273a  width_limit_up':
+000209b0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+000209c0: 5f75 702c 0a20 2020 2020 2020 2020 2020  _up,.           
+000209d0: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
+000209e0: 745f 646f 776e 273a 2062 616e 6477 6964  t_down': bandwid
+000209f0: 7468 5f6c 696d 6974 5f64 6f77 6e2c 0a20  th_limit_down,. 
+00020a00: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
+00020a10: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+00020a20: 7365 725f 7570 273a 2062 616e 6477 6964  ser_up': bandwid
+00020a30: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
+00020a40: 5f75 702c 0a20 2020 2020 2020 2020 2020  _up,.           
+00020a50: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
+00020a60: 745f 7065 7275 7365 725f 646f 776e 273a  t_peruser_down':
+00020a70: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+00020a80: 5f70 6572 7573 6572 5f64 6f77 6e2c 0a20  _peruser_down,. 
+00020a90: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+00020aa0: 7373 5f72 756c 6573 273a 2061 6363 6573  ss_rules': acces
+00020ab0: 735f 7275 6c65 730a 2020 2020 2020 2020  s_rules.        
+00020ac0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00020ad0: 6e20 6177 6169 7420 7365 6c66 2e70 6174  n await self.pat
+00020ae0: 6368 2875 726c 2c20 6a73 6f6e 5f64 6174  ch(url, json_dat
+00020af0: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+00020b00: 2020 6173 796e 6320 6465 6620 636f 6e66    async def conf
+00020b10: 6967 7572 6174 696f 6e5f 7570 6461 7465  iguration_update
+00020b20: 5f77 6c61 6e5f 7632 280a 2020 2020 2020  _wlan_v2(.      
+00020b30: 2020 2020 2020 7365 6c66 2c20 6772 6f75        self, grou
+00020b40: 705f 6e61 6d65 5f6f 725f 6775 6964 3a20  p_name_or_guid: 
+00020b50: 7374 722c 2077 6c61 6e5f 6e61 6d65 3a20  str, wlan_name: 
+00020b60: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+00020b70: 2065 7373 6964 3a20 7374 722c 2074 7970   essid: str, typ
+00020b80: 653a 2073 7472 2c20 6869 6465 5f73 7369  e: str, hide_ssi
+00020b90: 643a 2062 6f6f 6c2c 2076 6c61 6e3a 2073  d: bool, vlan: s
+00020ba0: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+00020bb0: 7a6f 6e65 3a20 7374 722c 2077 7061 5f70  zone: str, wpa_p
+00020bc0: 6173 7370 6872 6173 653a 2073 7472 2c0a  assphrase: str,.
+00020bd0: 2020 2020 2020 2020 2020 2020 7770 615f              wpa_
+00020be0: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
+00020bf0: 6564 3a20 626f 6f6c 2c20 6973 5f6c 6f63  ed: bool, is_loc
+00020c00: 6b65 643a 2062 6f6f 6c2c 0a20 2020 2020  ked: bool,.     
+00020c10: 2020 2020 2020 2063 6170 7469 7665 5f70         captive_p
+00020c20: 726f 6669 6c65 5f6e 616d 653a 2073 7472  rofile_name: str
+00020c30: 2c20 6261 6e64 7769 6474 685f 6c69 6d69  , bandwidth_limi
+00020c40: 745f 7570 3a20 7374 722c 0a20 2020 2020  t_up: str,.     
+00020c50: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
+00020c60: 5f6c 696d 6974 5f64 6f77 6e3a 2073 7472  _limit_down: str
+00020c70: 2c0a 2020 2020 2020 2020 2020 2020 6261  ,.            ba
+00020c80: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+00020c90: 7275 7365 725f 7570 3a20 7374 722c 0a20  ruser_up: str,. 
+00020ca0: 2020 2020 2020 2020 2020 2062 616e 6477             bandw
+00020cb0: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
+00020cc0: 6572 5f64 6f77 6e3a 2073 7472 2c20 6163  er_down: str, ac
+00020cd0: 6365 7373 5f72 756c 6573 3a20 6c69 7374  cess_rules: list
+00020ce0: 0a20 2020 2020 2020 2029 202d 3e20 5265  .        ) -> Re
+00020cf0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00020d00: 2222 2255 7064 6174 6520 616e 2065 7869  """Update an exi
+00020d10: 7374 696e 6720 574c 414e 2e0a 0a20 2020  sting WLAN...   
+00020d20: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00020d30: 2020 2020 2020 2067 726f 7570 5f6e 616d         group_nam
+00020d40: 655f 6f72 5f67 7569 6420 2873 7472 293a  e_or_guid (str):
+00020d50: 2047 726f 7570 206e 616d 6520 6f66 2074   Group name of t
+00020d60: 6865 2067 726f 7570 206f 7220 6775 6964  he group or guid
+00020d70: 206f 6620 7468 6520 7377 6172 6d2e 0a20   of the swarm.. 
+00020d80: 2020 2020 2020 2020 2020 2020 2020 2045                 E
+00020d90: 7861 6d70 6c65 3a47 726f 7570 5f31 206f  xample:Group_1 o
+00020da0: 7220 3661 3564 3132 3362 3031 6639 3434  r 6a5d123b01f944
+00020db0: 3138 3036 3234 3465 6136 6530 3233 6661  1806244ea6e023fa
+00020dc0: 6235 3834 3162 3737 6338 3238 6130 3835  b5841b77c828a085
+00020dd0: 6630 3466 2e0a 2020 2020 2020 2020 2020  f04f..          
+00020de0: 2020 776c 616e 5f6e 616d 6520 2873 7472    wlan_name (str
+00020df0: 293a 204e 616d 6520 6f66 2057 4c41 4e20  ): Name of WLAN 
+00020e00: 7365 6c65 6374 6564 2e20 2020 2020 2020  selected.       
+00020e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020e20: 2020 2020 2020 2045 7861 6d70 6c65 3a77         Example:w
+00020e30: 6c61 6e5f 312e 0a20 2020 2020 2020 2020  lan_1..         
+00020e40: 2020 2065 7373 6964 2028 7374 7229 3a20     essid (str): 
+00020e50: 6573 7369 640a 2020 2020 2020 2020 2020  essid.          
+00020e60: 2020 7479 7065 2028 7374 7229 3a20 7479    type (str): ty
+00020e70: 7065 2020 5661 6c69 6420 5661 6c75 6573  pe  Valid Values
+00020e80: 3a20 656d 706c 6f79 6565 2c20 6775 6573  : employee, gues
+00020e90: 740a 2020 2020 2020 2020 2020 2020 6869  t.            hi
+00020ea0: 6465 5f73 7369 6420 2862 6f6f 6c29 3a20  de_ssid (bool): 
+00020eb0: 6869 6465 5f73 7369 640a 2020 2020 2020  hide_ssid.      
+00020ec0: 2020 2020 2020 766c 616e 2028 7374 7229        vlan (str)
+00020ed0: 3a20 766c 616e 0a20 2020 2020 2020 2020  : vlan.         
+00020ee0: 2020 207a 6f6e 6520 2873 7472 293a 207a     zone (str): z
+00020ef0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00020f00: 7770 615f 7061 7373 7068 7261 7365 2028  wpa_passphrase (
+00020f10: 7374 7229 3a20 7770 615f 7061 7373 7068  str): wpa_passph
+00020f20: 7261 7365 0a20 2020 2020 2020 2020 2020  rase.           
+00020f30: 2077 7061 5f70 6173 7370 6872 6173 655f   wpa_passphrase_
+00020f40: 6368 616e 6765 6420 2862 6f6f 6c29 3a20  changed (bool): 
+00020f50: 7770 615f 7061 7373 7068 7261 7365 5f63  wpa_passphrase_c
+00020f60: 6861 6e67 6564 0a20 2020 2020 2020 2020  hanged.         
+00020f70: 2020 2069 735f 6c6f 636b 6564 2028 626f     is_locked (bo
+00020f80: 6f6c 293a 2069 735f 6c6f 636b 6564 0a20  ol): is_locked. 
+00020f90: 2020 2020 2020 2020 2020 2063 6170 7469             capti
+00020fa0: 7665 5f70 726f 6669 6c65 5f6e 616d 6520  ve_profile_name 
+00020fb0: 2873 7472 293a 2063 6170 7469 7665 5f70  (str): captive_p
+00020fc0: 726f 6669 6c65 5f6e 616d 650a 2020 2020  rofile_name.    
+00020fd0: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+00020fe0: 685f 6c69 6d69 745f 7570 2028 7374 7229  h_limit_up (str)
+00020ff0: 3a20 6261 6e64 7769 6474 685f 6c69 6d69  : bandwidth_limi
+00021000: 745f 7570 0a20 2020 2020 2020 2020 2020  t_up.           
+00021010: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+00021020: 5f64 6f77 6e20 2873 7472 293a 2062 616e  _down (str): ban
+00021030: 6477 6964 7468 5f6c 696d 6974 5f64 6f77  dwidth_limit_dow
+00021040: 6e0a 2020 2020 2020 2020 2020 2020 6261  n.            ba
+00021050: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+00021060: 7275 7365 725f 7570 2028 7374 7229 3a20  ruser_up (str): 
+00021070: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+00021080: 7065 7275 7365 725f 7570 0a20 2020 2020  peruser_up.     
+00021090: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
+000210a0: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
+000210b0: 6f77 6e20 2873 7472 293a 2062 616e 6477  own (str): bandw
+000210c0: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
+000210d0: 6572 5f64 6f77 6e0a 2020 2020 2020 2020  er_down.        
+000210e0: 2020 2020 6163 6365 7373 5f72 756c 6573      access_rules
+000210f0: 2028 6c69 7374 293a 2061 6363 6573 735f   (list): access_
+00021100: 7275 6c65 730a 0a20 2020 2020 2020 2052  rules..        R
+00021110: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00021120: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00021130: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00021140: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00021150: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00021160: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+00021170: 696f 6e2f 7632 2f77 6c61 6e2f 7b67 726f  ion/v2/wlan/{gro
+00021180: 7570 5f6e 616d 655f 6f72 5f67 7569 647d  up_name_or_guid}
+00021190: 2f7b 776c 616e 5f6e 616d 657d 220a 0a20  /{wlan_name}".. 
+000211a0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+000211b0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+000211c0: 2027 6573 7369 6427 3a20 6573 7369 642c   'essid': essid,
+000211d0: 0a20 2020 2020 2020 2020 2020 2027 7479  .            'ty
+000211e0: 7065 273a 2074 7970 652c 0a20 2020 2020  pe': type,.     
+000211f0: 2020 2020 2020 2027 6869 6465 5f73 7369         'hide_ssi
+00021200: 6427 3a20 6869 6465 5f73 7369 642c 0a20  d': hide_ssid,. 
+00021210: 2020 2020 2020 2020 2020 2027 766c 616e             'vlan
+00021220: 273a 2076 6c61 6e2c 0a20 2020 2020 2020  ': vlan,.       
+00021230: 2020 2020 2027 7a6f 6e65 273a 207a 6f6e       'zone': zon
+00021240: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00021250: 7770 615f 7061 7373 7068 7261 7365 273a  wpa_passphrase':
+00021260: 2077 7061 5f70 6173 7370 6872 6173 652c   wpa_passphrase,
+00021270: 0a20 2020 2020 2020 2020 2020 2027 7770  .            'wp
+00021280: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+00021290: 6e67 6564 273a 2077 7061 5f70 6173 7370  nged': wpa_passp
+000212a0: 6872 6173 655f 6368 616e 6765 642c 0a20  hrase_changed,. 
+000212b0: 2020 2020 2020 2020 2020 2027 6973 5f6c             'is_l
+000212c0: 6f63 6b65 6427 3a20 6973 5f6c 6f63 6b65  ocked': is_locke
+000212d0: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+000212e0: 6361 7074 6976 655f 7072 6f66 696c 655f  captive_profile_
+000212f0: 6e61 6d65 273a 2063 6170 7469 7665 5f70  name': captive_p
+00021300: 726f 6669 6c65 5f6e 616d 652c 0a20 2020  rofile_name,.   
+00021310: 2020 2020 2020 2020 2027 6261 6e64 7769           'bandwi
+00021320: 6474 685f 6c69 6d69 745f 7570 273a 2062  dth_limit_up': b
+00021330: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
+00021340: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+00021350: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+00021360: 646f 776e 273a 2062 616e 6477 6964 7468  down': bandwidth
+00021370: 5f6c 696d 6974 5f64 6f77 6e2c 0a20 2020  _limit_down,.   
+00021380: 2020 2020 2020 2020 2027 6261 6e64 7769           'bandwi
+00021390: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+000213a0: 725f 7570 273a 2062 616e 6477 6964 7468  r_up': bandwidth
+000213b0: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
+000213c0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+000213d0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+000213e0: 7065 7275 7365 725f 646f 776e 273a 2062  peruser_down': b
+000213f0: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
+00021400: 6572 7573 6572 5f64 6f77 6e2c 0a20 2020  eruser_down,.   
+00021410: 2020 2020 2020 2020 2027 6163 6365 7373           'access
+00021420: 5f72 756c 6573 273a 2061 6363 6573 735f  _rules': access_
+00021430: 7275 6c65 730a 2020 2020 2020 2020 7d0a  rules.        }.
+00021440: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00021450: 6177 6169 7420 7365 6c66 2e70 7574 2875  await self.put(u
+00021460: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+00021470: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
+00021480: 544f 444f 2063 6861 6e67 7465 2074 6f20  TODO changte to 
+00021490: 7573 6520 636f 6e73 6973 7465 6e74 2064  use consistent d
+000214a0: 6576 2074 7065 2061 7020 6777 2063 7820  ev tpe ap gw cx 
+000214b0: 7377 0a20 2020 2023 2063 6f6e 7665 7274  sw.    # convert
+000214c0: 2074 6f20 7468 6520 7374 7566 6620 6170   to the stuff ap
+000214d0: 6967 7720 7761 6e74 7320 696e 7369 6465  igw wants inside
+000214e0: 206d 6574 686f 640a 2020 2020 2320 4150   method.    # AP
+000214f0: 492d 464c 4157 206e 6f20 4150 4920 746f  I-FLAW no API to
+00021500: 2075 7067 7261 6465 2063 6c75 7374 6572   upgrade cluster
+00021510: 0a20 2020 2023 2068 7474 7073 3a2f 2f69  .    # https://i
+00021520: 6e74 6572 6e61 6c2d 7569 2e63 656e 7472  nternal-ui.centr
+00021530: 616c 2e61 7275 6261 6e65 7477 6f72 6b73  al.arubanetworks
+00021540: 2e63 6f6d 2f66 6972 6d77 6172 652f 636f  .com/firmware/co
+00021550: 6e74 726f 6c6c 6572 2f63 6c75 7374 6572  ntroller/cluster
+00021560: 732f 7570 6772 6164 6520 6973 2077 6861  s/upgrade is wha
+00021570: 7420 7468 6520 5549 2063 616c 6c73 2077  t the UI calls w
+00021580: 6865 6e20 796f 7520 7570 6772 6164 6520  hen you upgrade 
+00021590: 7669 6120 5549 0a20 2020 2023 2070 6179  via UI.    # pay
+000215a0: 6c6f 6164 3a20 7b22 7265 626f 6f74 223a  load: {"reboot":
+000215b0: 7472 7565 2c22 6669 726d 7761 7265 5f76  true,"firmware_v
+000215c0: 6572 7369 6f6e 223a 2231 302e 352e 302e  ersion":"10.5.0.
+000215d0: 302d 6265 7461 5f38 3730 3436 222c 2264  0-beta_87046","d
+000215e0: 6576 6963 6573 223a 5b5d 2c22 636c 7573  evices":[],"clus
+000215f0: 7465 7273 223a 5b37 325d 2c22 7768 656e  ters":[72],"when
+00021600: 223a 302c 2274 696d 657a 6f6e 6522 3a22  ":0,"timezone":"
+00021610: 2b30 303a 3030 222c 2270 6172 7469 7469  +00:00","partiti
+00021620: 6f6e 223a 2270 7269 6d61 7279 227d 0a20  on":"primary"}. 
+00021630: 2020 2023 2064 6576 6963 655f 7479 7065     # device_type
+00021640: 2043 5820 6973 206e 6f74 2076 616c 6964   CX is not valid
+00021650: 0a20 2020 2061 7379 6e63 2064 6566 2075  .    async def u
+00021660: 7067 7261 6465 5f66 6972 6d77 6172 6528  pgrade_firmware(
+00021670: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+00021680: 2020 2020 2020 2073 6368 6564 756c 6564         scheduled
+00021690: 5f61 743a 2069 6e74 203d 204e 6f6e 652c  _at: int = None,
+000216a0: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+000216b0: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+000216c0: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
+000216d0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+000216e0: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
+000216f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
+00021700: 7669 6365 5f74 7970 653a 204c 6974 6572  vice_type: Liter
+00021710: 616c 5b22 4941 5022 2c20 224d 4153 222c  al["IAP", "MAS",
+00021720: 2022 4850 222c 2022 434f 4e54 524f 4c4c   "HP", "CONTROLL
+00021730: 4552 225d 203d 204e 6f6e 652c 0a20 2020  ER"] = None,.   
+00021740: 2020 2020 2066 6972 6d77 6172 655f 7665       firmware_ve
+00021750: 7273 696f 6e3a 2073 7472 203d 204e 6f6e  rsion: str = Non
+00021760: 652c 0a20 2020 2020 2020 206d 6f64 656c  e,.        model
+00021770: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00021780: 2020 2020 2020 7265 626f 6f74 3a20 626f        reboot: bo
+00021790: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+000217a0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+000217b0: 2020 2020 2020 2022 2222 496e 6974 6961         """Initia
+000217c0: 7465 2066 6972 6d77 6172 6520 7570 6772  te firmware upgr
+000217d0: 6164 6520 6f6e 2064 6576 6963 6528 7329  ade on device(s)
+000217e0: 2e0a 0a20 2020 2020 2020 2059 6f75 2063  ...        You c
+000217f0: 616e 206f 6e6c 7920 7370 6563 6966 7920  an only specify 
+00021800: 6f6e 6520 6f66 2064 6576 6963 655f 7479  one of device_ty
+00021810: 7065 2c20 7377 6172 6d5f 6964 206f 7220  pe, swarm_id or 
+00021820: 7365 7269 616c 2070 6172 616d 6574 6572  serial parameter
+00021830: 730a 0a20 2020 2020 2020 202f 2f20 5573  s..        // Us
+00021840: 6564 2062 7920 7570 6772 6164 6520 5b64  ed by upgrade [d
+00021850: 6576 6963 657c 6772 6f75 707c 7377 6172  evice|group|swar
+00021860: 6d5d 202f 2f0a 0a20 2020 2020 2020 2041  m] //..        A
+00021870: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00021880: 2073 6368 6564 756c 6564 5f61 7420 2869   scheduled_at (i
+00021890: 6e74 2c20 6f70 7469 6f6e 616c 293a 2057  nt, optional): W
+000218a0: 6865 6e20 746f 2073 6368 6564 756c 6520  hen to schedule 
+000218b0: 7570 6772 6164 6520 2865 706f 6368 2073  upgrade (epoch s
+000218c0: 6563 6f6e 6473 292e 2044 6566 6175 6c74  econds). Default
+000218d0: 7320 746f 204e 6f6e 6520 284e 6f77 292e  s to None (Now).
+000218e0: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
+000218f0: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
+00021900: 6f6e 616c 293a 2055 7067 7261 6465 2061  onal): Upgrade a
+00021910: 2073 7065 6369 6669 6320 7377 6172 6d20   specific swarm 
+00021920: 6279 2069 642e 2044 6566 6175 6c74 7320  by id. Defaults 
+00021930: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00021940: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
+00021950: 2c20 6f70 7469 6f6e 616c 293a 2055 7067  , optional): Upg
+00021960: 7261 6465 2061 2073 7065 6369 6669 6320  rade a specific 
+00021970: 6465 7669 6365 2062 7920 7365 7269 616c  device by serial
+00021980: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00021990: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+000219a0: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
+000219b0: 6f6e 616c 293a 2055 7067 7261 6465 2064  onal): Upgrade d
+000219c0: 6576 6963 6573 2062 656c 6f6e 6769 6e67  evices belonging
+000219d0: 2074 6f20 6772 6f75 702e 2044 6566 6175   to group. Defau
+000219e0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+000219f0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+00021a00: 7479 7065 2028 7374 725b 2249 4150 227c  type (str["IAP"|
+00021a10: 224d 4153 227c 2248 5022 7c22 434f 4e54  "MAS"|"HP"|"CONT
+00021a20: 524f 4c4c 4552 225d 293a 2054 7970 6520  ROLLER"]): Type 
+00021a30: 6f66 2064 6576 6963 6520 746f 2075 7067  of device to upg
+00021a40: 7261 6465 2e20 4465 6661 756c 7473 2074  rade. Defaults t
+00021a50: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00021a60: 2020 2020 6669 726d 7761 7265 5f76 6572      firmware_ver
+00021a70: 7369 6f6e 2028 7374 722c 206f 7074 696f  sion (str, optio
+00021a80: 6e61 6c29 3a20 5665 7273 696f 6e20 746f  nal): Version to
+00021a90: 2075 7067 7261 6465 2074 6f2e 2044 6566   upgrade to. Def
+00021aa0: 6175 6c74 7320 746f 204e 6f6e 6528 7265  aults to None(re
+00021ab0: 636f 6d6d 656e 6465 6420 7665 7273 696f  commended versio
+00021ac0: 6e29 2e0a 2020 2020 2020 2020 2020 2020  n)..            
+00021ad0: 6d6f 6465 6c20 2873 7472 2c20 6f70 7469  model (str, opti
+00021ae0: 6f6e 616c 293a 2054 6f20 696e 6974 6961  onal): To initia
+00021af0: 7465 2075 7067 7261 6465 2061 7420 6772  te upgrade at gr
+00021b00: 6f75 7020 6c65 7665 6c20 666f 7220 7370  oup level for sp
+00021b10: 6563 6966 6963 206d 6f64 656c 2066 616d  ecific model fam
+00021b20: 696c 792e 2041 7070 6c69 6361 626c 650a  ily. Applicable.
+00021b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b40: 6f6e 6c79 2066 6f72 2041 7275 6261 2073  only for Aruba s
+00021b50: 7769 7463 6865 732e 2044 6566 6175 6c74  witches. Default
+00021b60: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+00021b70: 2020 2020 2020 2072 6562 6f6f 7420 2862         reboot (b
+00021b80: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+00021b90: 4175 746f 6d61 7469 6361 6c6c 7920 7265  Automatically re
+00021ba0: 626f 6f74 2064 6576 6963 6520 6166 7465  boot device afte
+00021bb0: 7220 6669 726d 7761 7265 2064 6f77 6e6c  r firmware downl
+00021bc0: 6f61 642e 2044 6566 6175 6c74 7320 746f  oad. Defaults to
+00021bd0: 2046 616c 7365 2e0a 0a20 2020 2020 2020   False...       
+00021be0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00021bf0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00021c00: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00021c10: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00021c20: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00021c30: 726c 203d 2022 2f66 6972 6d77 6172 652f  rl = "/firmware/
+00021c40: 7631 2f75 7067 7261 6465 220a 0a20 2020  v1/upgrade"..   
+00021c50: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
+00021c60: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00021c70: 6669 726d 7761 7265 5f73 6368 6564 756c  firmware_schedul
+00021c80: 6564 5f61 7427 3a20 7363 6865 6475 6c65  ed_at': schedule
+00021c90: 645f 6174 2c0a 2020 2020 2020 2020 2020  d_at,.          
+00021ca0: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
+00021cb0: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
+00021cc0: 2020 2020 2773 6572 6961 6c27 3a20 7365      'serial': se
+00021cd0: 7269 616c 2c0a 2020 2020 2020 2020 2020  rial,.          
+00021ce0: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
+00021cf0: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+00021d00: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
+00021d10: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
+00021d20: 2020 2020 2020 2766 6972 6d77 6172 655f        'firmware_
+00021d30: 7665 7273 696f 6e27 3a20 6669 726d 7761  version': firmwa
+00021d40: 7265 5f76 6572 7369 6f6e 2c0a 2020 2020  re_version,.    
+00021d50: 2020 2020 2020 2020 2772 6562 6f6f 7427          'reboot'
+00021d60: 3a20 7265 626f 6f74 2c0a 2020 2020 2020  : reboot,.      
+00021d70: 2020 2020 2020 276d 6f64 656c 273a 206d        'model': m
+00021d80: 6f64 656c 0a20 2020 2020 2020 207d 0a0a  odel.        }..
+00021d90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00021da0: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+00021db0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+00021dc0: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+00021dd0: 796e 6320 6465 6620 6361 6e63 656c 5f75  ync def cancel_u
+00021de0: 7067 7261 6465 280a 2020 2020 2020 2020  pgrade(.        
+00021df0: 7365 6c66 2c0a 2020 2020 2020 2020 6465  self,.        de
+00021e00: 7669 6365 5f74 7970 653a 2073 7472 2c0a  vice_type: str,.
+00021e10: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+00021e20: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00021e30: 2020 2020 7377 6172 6d5f 6964 3a20 7374      swarm_id: st
+00021e40: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00021e50: 2020 6772 6f75 703a 2073 7472 203d 204e    group: str = N
+00021e60: 6f6e 652c 0a20 2020 2029 202d 3e20 5265  one,.    ) -> Re
+00021e70: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00021e80: 2222 2243 616e 6365 6c20 7363 6865 6475  """Cancel schedu
+00021e90: 6c65 6420 6669 726d 7761 7265 2075 7067  led firmware upg
+00021ea0: 7261 6465 2e0a 0a20 2020 2020 2020 2041  rade...        A
+00021eb0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00021ec0: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
+00021ed0: 7229 3a20 5370 6563 6966 7920 6f6e 6520  r): Specify one 
+00021ee0: 6f66 2022 6378 7c73 777c 6170 7c67 7720  of "cx|sw|ap|gw 
+00021ef0: 2028 7377 203d 2061 6f73 2d73 7729 220a   (sw = aos-sw)".
+00021f00: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+00021f10: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
+00021f20: 206f 6620 6465 7669 6365 0a20 2020 2020   of device.     
+00021f30: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+00021f40: 2873 7472 293a 2053 7761 726d 2049 440a  (str): Swarm ID.
+00021f50: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+00021f60: 7020 2873 7472 293a 2053 7065 6369 6679  p (str): Specify
+00021f70: 2047 726f 7570 204e 616d 6520 746f 2063   Group Name to c
+00021f80: 616e 6365 6c20 7570 6772 6164 6520 666f  ancel upgrade fo
+00021f90: 7220 6465 7669 6365 7320 696e 2074 6861  r devices in tha
+00021fa0: 7420 6772 6f75 700a 0a20 2020 2020 2020  t group..       
+00021fb0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00021fc0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00021fd0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00021fe0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00021ff0: 2020 2022 2222 0a20 2020 2020 2020 2064     """.        d
+00022000: 6576 6963 655f 7479 7065 203d 2063 6f6e  evice_type = con
+00022010: 7374 616e 7473 2e6c 6962 5f74 6f5f 6170  stants.lib_to_ap
+00022020: 6928 2766 6972 6d77 6172 6527 2c20 6465  i('firmware', de
+00022030: 7669 6365 5f74 7970 6529 0a20 2020 2020  vice_type).     
+00022040: 2020 2075 726c 203d 2022 2f66 6972 6d77     url = "/firmw
+00022050: 6172 652f 7631 2f75 7067 7261 6465 2f63  are/v1/upgrade/c
+00022060: 616e 6365 6c22 0a0a 2020 2020 2020 2020  ancel"..        
+00022070: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+00022080: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
+00022090: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
+000220a0: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+000220b0: 6961 6c27 3a20 7365 7269 616c 2c0a 2020  ial': serial,.  
+000220c0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+000220d0: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
+000220e0: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
+000220f0: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
+00022100: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00022110: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00022120: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+00022130: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+00022140: 6174 6129 0a0a 2020 2020 2320 4150 492d  ata)..    # API-
+00022150: 464c 4157 206f 6e6c 7920 6163 6365 7074  FLAW only accept
+00022160: 7320 7377 6172 6d20 6964 2066 6f72 2049  s swarm id for I
+00022170: 4150 2c20 414f 5331 3020 7368 6f77 2061  AP, AOS10 show a
+00022180: 7320 4941 5020 6275 7420 6e6f 2073 7761  s IAP but no swa
+00022190: 726d 2069 642e 2020 7365 7269 616c 2069  rm id.  serial i
+000221a0: 7320 7265 6a65 6374 6564 2e0a 2020 2020  s rejected..    
+000221b0: 2320 4358 2077 696c 6c20 7265 7475 726e  # CX will return
+000221c0: 2072 6573 7020 6c69 6b65 2069 7420 776f   resp like it wo
+000221d0: 726b 732c 2062 7574 206e 6f74 6869 6e67  rks, but nothing
+000221e0: 2065 7665 7220 6861 7070 656e 730a 2020   ever happens.  
+000221f0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00022200: 7570 6772 6164 655f 7374 6174 7573 2873  upgrade_status(s
+00022210: 656c 662c 2073 7761 726d 5f69 643a 2073  elf, swarm_id: s
+00022220: 7472 203d 204e 6f6e 652c 2073 6572 6961  tr = None, seria
+00022230: 6c3a 2073 7472 203d 204e 6f6e 6529 202d  l: str = None) -
+00022240: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00022250: 2020 2020 2222 2247 6574 2066 6972 6d77      """Get firmw
+00022260: 6172 6520 7570 6772 6164 6520 7374 6174  are upgrade stat
+00022270: 7573 2e0a 0a20 2020 2020 2020 202f 2f20  us...        // 
+00022280: 5573 6564 2062 7920 7368 6f77 2075 7067  Used by show upg
+00022290: 7261 6465 205b 6465 7669 6365 2d69 6465  rade [device-ide
+000222a0: 6e5d 202f 2f0a 0a20 2020 2020 2020 2041  n] //..        A
+000222b0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+000222c0: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
+000222d0: 6f70 7469 6f6e 616c 293a 2053 7761 726d  optional): Swarm
+000222e0: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+000222f0: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
+00022300: 696f 6e61 6c29 3a20 5365 7269 616c 206f  ional): Serial o
+00022310: 6620 6465 7669 6365 0a0a 2020 2020 2020  f device..      
+00022320: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00022330: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00022340: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00022350: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00022360: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00022370: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
+00022380: 2f76 312f 7374 6174 7573 220a 0a20 2020  /v1/status"..   
+00022390: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+000223a0: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
+000223b0: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
+000223c0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+000223d0: 6572 6961 6c22 3a20 7365 7269 616c 0a20  erial": serial. 
+000223e0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+000223f0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00022400: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00022410: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+00022420: 2044 6576 5479 7065 203d 204c 6974 6572   DevType = Liter
+00022430: 616c 5b22 4941 5022 2c20 2248 5022 2c20  al["IAP", "HP", 
+00022440: 2243 4f4e 5452 4f4c 4c45 5222 5d0a 0a20  "CONTROLLER"].. 
+00022450: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00022460: 5f66 6972 6d77 6172 655f 636f 6d70 6c69  _firmware_compli
+00022470: 616e 6365 2873 656c 662c 2064 6576 6963  ance(self, devic
+00022480: 655f 7479 7065 3a20 636f 6e73 7461 6e74  e_type: constant
+00022490: 732e 4465 7654 7970 6573 2c20 6772 6f75  s.DevTypes, grou
+000224a0: 703a 2073 7472 203d 204e 6f6e 6529 202d  p: str = None) -
+000224b0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+000224c0: 2020 2020 2222 2247 6574 2046 6972 6d77      """Get Firmw
+000224d0: 6172 6520 436f 6d70 6c69 616e 6365 2056  are Compliance V
+000224e0: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
+000224f0: 202f 2f20 5573 6564 2062 7920 7368 6f77   // Used by show
+00022500: 2066 6972 6d77 6172 6520 636f 6d70 6c69   firmware compli
+00022510: 616e 6365 205b 6170 7c67 777c 7377 7c63  ance [ap|gw|sw|c
+00022520: 785d 205b 6772 6f75 702d 6e61 6d65 5d20  x] [group-name] 
+00022530: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
+00022540: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+00022550: 7669 6365 5f74 7970 6520 2873 7472 293a  vice_type (str):
+00022560: 2053 7065 6369 6679 206f 6e65 206f 6620   Specify one of 
+00022570: 2261 707c 6777 7c73 777c 7378 220a 2020  "ap|gw|sw|sx".  
+00022580: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
+00022590: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+000225a0: 2047 726f 7570 206e 616d 650a 0a20 2020   Group name..   
+000225b0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000225c0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+000225d0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+000225e0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+000225f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00022600: 2020 2023 2041 5049 206d 6574 686f 6420     # API method 
+00022610: 7265 7475 726e 7320 3430 3420 6966 2063  returns 404 if c
+00022620: 6f6d 706c 6961 6e63 6520 6973 206e 6f74  ompliance is not
+00022630: 2073 6574 210a 2020 2020 2020 2020 7572   set!.        ur
+00022640: 6c20 3d20 222f 6669 726d 7761 7265 2f76  l = "/firmware/v
+00022650: 312f 7570 6772 6164 652f 636f 6d70 6c69  1/upgrade/compli
+00022660: 616e 6365 5f76 6572 7369 6f6e 220a 2020  ance_version".  
+00022670: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+00022680: 6520 3d20 636f 6e73 7461 6e74 732e 6c69  e = constants.li
+00022690: 625f 746f 5f61 7069 2827 6669 726d 7761  b_to_api('firmwa
+000226a0: 7265 272c 2064 6576 6963 655f 7479 7065  re', device_type
+000226b0: 290a 0a20 2020 2020 2020 2070 6172 616d  )..        param
+000226c0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+000226d0: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
+000226e0: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
+000226f0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+00022700: 273a 2067 726f 7570 0a20 2020 2020 2020  ': group.       
+00022710: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+00022720: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+00022730: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+00022740: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+00022750: 2064 6566 2064 656c 6574 655f 6669 726d   def delete_firm
+00022760: 7761 7265 5f63 6f6d 706c 6961 6e63 6528  ware_compliance(
+00022770: 7365 6c66 2c20 6465 7669 6365 5f74 7970  self, device_typ
+00022780: 653a 2063 6f6e 7374 616e 7473 2e44 6576  e: constants.Dev
+00022790: 5479 7065 732c 2067 726f 7570 3a20 7374  Types, group: st
+000227a0: 7220 3d20 4e6f 6e65 2920 2d3e 2052 6573  r = None) -> Res
+000227b0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000227c0: 2222 436c 6561 7220 4669 726d 7761 7265  ""Clear Firmware
+000227d0: 2043 6f6d 706c 6961 6e63 6520 5665 7273   Compliance Vers
+000227e0: 696f 6e2e 0a0a 2020 2020 2020 2020 2f2f  ion...        //
+000227f0: 2055 7365 6420 6279 2064 656c 6574 6520   Used by delete 
+00022800: 6669 726d 7761 7265 2063 6f6d 706c 6961  firmware complia
+00022810: 6e63 6520 5b61 707c 6777 7c73 777c 6378  nce [ap|gw|sw|cx
+00022820: 5d20 5b67 726f 7570 5d20 2f2f 0a0a 2020  ] [group] //..  
+00022830: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00022840: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
+00022850: 7970 6520 2873 7472 293a 2053 7065 6369  ype (str): Speci
+00022860: 6679 206f 6e65 206f 6620 2261 707c 6777  fy one of "ap|gw
+00022870: 7c73 777c 6378 220a 2020 2020 2020 2020  |sw|cx".        
+00022880: 2020 2020 6772 6f75 7020 2873 7472 2c20      group (str, 
+00022890: 6f70 7469 6f6e 616c 293a 2047 726f 7570  optional): Group
+000228a0: 206e 616d 652e 2044 6566 6175 6c74 7320   name. Defaults 
+000228b0: 746f 204e 6f6e 6520 2847 6c6f 6261 6c20  to None (Global 
+000228c0: 436f 6d70 6c69 616e 6365 290a 0a20 2020  Compliance)..   
+000228d0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000228e0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+000228f0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00022900: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00022910: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00022920: 2020 2075 726c 203d 2022 2f66 6972 6d77     url = "/firmw
+00022930: 6172 652f 7631 2f75 7067 7261 6465 2f63  are/v1/upgrade/c
+00022940: 6f6d 706c 6961 6e63 655f 7665 7273 696f  ompliance_versio
+00022950: 6e22 0a20 2020 2020 2020 2064 6576 6963  n".        devic
+00022960: 655f 7479 7065 203d 2063 6f6e 7374 616e  e_type = constan
+00022970: 7473 2e6c 6962 5f74 6f5f 6170 6928 2766  ts.lib_to_api('f
+00022980: 6972 6d77 6172 6527 2c20 6465 7669 6365  irmware', device
+00022990: 5f74 7970 6529 0a0a 2020 2020 2020 2020  _type)..        
+000229a0: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+000229b0: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
+000229c0: 7970 6527 3a20 6465 7669 6365 5f74 7970  ype': device_typ
+000229d0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000229e0: 6772 6f75 7027 3a20 6772 6f75 700a 2020  group': group.  
+000229f0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00022a00: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00022a10: 6c66 2e64 656c 6574 6528 7572 6c2c 2070  lf.delete(url, p
+00022a20: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00022a30: 2020 2061 7379 6e63 2064 6566 2073 6574     async def set
+00022a40: 5f66 6972 6d77 6172 655f 636f 6d70 6c69  _firmware_compli
+00022a50: 616e 6365 280a 2020 2020 2020 2020 7365  ance(.        se
+00022a60: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
+00022a70: 6365 5f74 7970 653a 2063 6f6e 7374 616e  ce_type: constan
+00022a80: 7473 2e44 6576 5479 7065 732c 0a20 2020  ts.DevTypes,.   
+00022a90: 2020 2020 2067 726f 7570 3a20 7374 722c       group: str,
+00022aa0: 0a20 2020 2020 2020 2076 6572 7369 6f6e  .        version
+00022ab0: 3a20 7374 722c 0a20 2020 2020 2020 2063  : str,.        c
+00022ac0: 6f6d 706c 6961 6e63 655f 7363 6865 6475  ompliance_schedu
+00022ad0: 6c65 645f 6174 3a20 696e 742c 0a20 2020  led_at: int,.   
+00022ae0: 2020 2020 2072 6562 6f6f 743a 2062 6f6f       reboot: boo
+00022af0: 6c20 3d20 5472 7565 2c20 2023 204f 6e6c  l = True,  # Onl
+00022b00: 7920 6170 706c 6965 7320 746f 204d 4153  y applies to MAS
+00022b10: 2061 6c6c 206f 7468 6572 7320 7265 626f   all others rebo
+00022b20: 6f74 2072 6567 6172 646c 6573 732e 2020  ot regardless.  
+00022b30: 6365 6e63 6c69 2064 6f65 736e 2774 2073  cencli doesn't s
+00022b40: 7570 706f 7274 204d 4153 0a20 2020 2020  upport MAS.     
+00022b50: 2020 2061 6c6c 6f77 5f75 6e73 7570 706f     allow_unsuppo
+00022b60: 7274 6564 5f76 6572 7369 6f6e 3a20 626f  rted_version: bo
+00022b70: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00022b80: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00022b90: 2020 2020 2020 2022 2222 5365 7420 4669         """Set Fi
+00022ba0: 726d 7761 7265 2043 6f6d 706c 6961 6e63  rmware Complianc
+00022bb0: 6520 7665 7273 696f 6e20 2866 6f72 2067  e version (for g
+00022bc0: 726f 7570 2f64 6576 6963 652d 7479 7065  roup/device-type
+00022bd0: 292e 0a0a 2020 2020 2020 2020 4172 6773  )...        Args
+00022be0: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+00022bf0: 7669 6365 5f74 7970 6520 2873 7472 293a  vice_type (str):
+00022c00: 2053 7065 6369 6679 206f 6e65 206f 6620   Specify one of 
+00022c10: 2261 707c 7377 7c63 787c 6777 220a 2020  "ap|sw|cx|gw".  
+00022c20: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
+00022c30: 2873 7472 293a 2047 726f 7570 206e 616d  (str): Group nam
+00022c40: 650a 2020 2020 2020 2020 2020 2020 6669  e.            fi
+00022c50: 726d 7761 7265 5f63 6f6d 706c 6961 6e63  rmware_complianc
+00022c60: 655f 7665 7273 696f 6e20 2873 7472 293a  e_version (str):
+00022c70: 2046 6972 6d77 6172 6520 636f 6d70 6c69   Firmware compli
+00022c80: 616e 6365 2076 6572 7369 6f6e 2066 6f72  ance version for
+00022c90: 2073 7065 6369 6669 6320 6465 7669 6365   specific device
+00022ca0: 5f74 7970 652e 0a20 2020 2020 2020 2020  _type..         
+00022cb0: 2020 2063 6f6d 706c 6961 6e63 655f 7363     compliance_sc
+00022cc0: 6865 6475 6c65 645f 6174 2028 696e 7429  heduled_at (int)
+00022cd0: 3a20 4669 726d 7761 7265 2063 6f6d 706c  : Firmware compl
+00022ce0: 6961 6e63 6520 7769 6c6c 2062 6520 7363  iance will be sc
+00022cf0: 6865 6475 6c65 2061 742c 0a20 2020 2020  hedule at,.     
+00022d00: 2020 2020 2020 2020 2020 2063 6f6d 706c             compl
+00022d10: 6961 6e63 655f 7363 6865 6475 6c65 645f  iance_scheduled_
+00022d20: 6174 202d 2063 7572 7265 6e74 2074 696d  at - current tim
+00022d30: 652e 2063 6f6d 706c 6961 6e63 655f 7363  e. compliance_sc
+00022d40: 6865 6475 6c65 645f 6174 2069 7320 6570  heduled_at is ep
+00022d50: 6f63 6820 696e 2073 6563 6f6e 6473 0a20  och in seconds. 
+00022d60: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00022d70: 6e64 2064 6566 6175 6c74 2076 616c 7565  nd default value
+00022d80: 2069 7320 6375 7272 656e 7420 7469 6d65   is current time
+00022d90: 2e0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00022da0: 626f 6f74 2028 626f 6f6c 293a 2055 7365  boot (bool): Use
+00022db0: 2054 7275 6520 666f 7220 6175 746f 2072   True for auto r
+00022dc0: 6562 6f6f 7420 6166 7465 7220 7375 6363  eboot after succ
+00022dd0: 6573 7366 756c 2066 6972 6d77 6172 6520  essful firmware 
+00022de0: 646f 776e 6c6f 6164 2e20 4465 6661 756c  download. Defaul
+00022df0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+00022e00: 2020 7661 6c75 6520 6973 2046 616c 7365    value is False
+00022e10: 2e20 4170 706c 6963 6162 6c65 206f 6e6c  . Applicable onl
+00022e20: 7920 6f6e 204d 4153 2c20 6172 7562 6120  y on MAS, aruba 
+00022e30: 7377 6974 6368 6573 2c20 4358 2073 7769  switches, CX swi
+00022e40: 7463 6865 732c 2061 6e64 2063 6f6e 7472  tches, and contr
+00022e50: 6f6c 6c65 720a 2020 2020 2020 2020 2020  oller.          
+00022e60: 2020 2020 2020 7369 6e63 6520 4941 5020        since IAP 
+00022e70: 7265 626f 6f74 7320 6175 746f 6d61 7469  reboots automati
+00022e80: 6361 6c6c 7920 6166 7465 7220 6669 726d  cally after firm
+00022e90: 7761 7265 2064 6f77 6e6c 6f61 642e 0a20  ware download.. 
+00022ea0: 2020 2020 2020 2020 2020 2061 6c6c 6f77             allow
+00022eb0: 5f75 6e73 7570 706f 7274 6564 5f76 6572  _unsupported_ver
+00022ec0: 7369 6f6e 2028 626f 6f6c 293a 2055 7365  sion (bool): Use
+00022ed0: 2054 7275 6520 746f 2073 6574 2075 6e73   True to set uns
+00022ee0: 7570 706f 7274 6564 2076 6572 7369 6f6e  upported version
+00022ef0: 2061 7320 6669 726d 7761 7265 0a20 2020   as firmware.   
+00022f00: 2020 2020 2020 2020 2020 2020 2063 6f6d               com
+00022f10: 706c 6961 6e63 6520 7665 7273 696f 6e20  pliance version 
+00022f20: 666f 7220 7370 6563 6966 6963 2064 6576  for specific dev
+00022f30: 6963 655f 7479 7065 2e20 4465 6661 756c  ice_type. Defaul
+00022f40: 7420 6973 2046 616c 7365 2e0a 0a20 2020  t is False...   
+00022f50: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00022f60: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00022f70: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00022f80: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00022f90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00022fa0: 2020 2075 726c 203d 2022 2f66 6972 6d77     url = "/firmw
+00022fb0: 6172 652f 7632 2f75 7067 7261 6465 2f63  are/v2/upgrade/c
+00022fc0: 6f6d 706c 6961 6e63 655f 7665 7273 696f  ompliance_versio
+00022fd0: 6e22 0a20 2020 2020 2020 2064 6576 6963  n".        devic
+00022fe0: 655f 7479 7065 203d 2063 6f6e 7374 616e  e_type = constan
+00022ff0: 7473 2e6c 6962 5f74 6f5f 6170 6928 2766  ts.lib_to_api('f
+00023000: 6972 6d77 6172 6527 2c20 6465 7669 6365  irmware', device
+00023010: 5f74 7970 6529 0a0a 0a20 2020 2020 2020  _type)...       
+00023020: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+00023030: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00023040: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
+00023050: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
+00023060: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
+00023070: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+00023080: 6669 726d 7761 7265 5f63 6f6d 706c 6961  firmware_complia
+00023090: 6e63 655f 7665 7273 696f 6e27 3a20 7665  nce_version': ve
+000230a0: 7273 696f 6e2c 0a20 2020 2020 2020 2020  rsion,.         
+000230b0: 2020 2027 7265 626f 6f74 273a 2072 6562     'reboot': reb
+000230c0: 6f6f 742c 0a20 2020 2020 2020 2020 2020  oot,.           
+000230d0: 2027 616c 6c6f 775f 756e 7375 7070 6f72   'allow_unsuppor
+000230e0: 7465 645f 7665 7273 696f 6e27 3a20 616c  ted_version': al
+000230f0: 6c6f 775f 756e 7375 7070 6f72 7465 645f  low_unsupported_
+00023100: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+00023110: 2020 2020 2027 636f 6d70 6c69 616e 6365       'compliance
+00023120: 5f73 6368 6564 756c 6564 5f61 7427 3a20  _scheduled_at': 
+00023130: 636f 6d70 6c69 616e 6365 5f73 6368 6564  compliance_sched
+00023140: 756c 6564 5f61 740a 2020 2020 2020 2020  uled_at.        
+00023150: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00023160: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+00023170: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+00023180: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+00023190: 2061 7379 6e63 2064 6566 206d 6f76 655f   async def move_
+000231a0: 6465 7669 6365 735f 746f 5f67 726f 7570  devices_to_group
+000231b0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000231c0: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+000231d0: 7472 2c0a 2020 2020 2020 2020 7365 7269  tr,.        seri
+000231e0: 616c 5f6e 756d 733a 2055 6e69 6f6e 5b73  al_nums: Union[s
+000231f0: 7472 2c20 4c69 7374 5b73 7472 5d5d 2c0a  tr, List[str]],.
+00023200: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+00023210: 2020 2063 785f 7265 7461 696e 5f63 6f6e     cx_retain_con
+00023220: 6669 673a 2062 6f6f 6c20 3d20 5472 7565  fig: bool = True
+00023230: 2c20 2023 2054 4f44 4f20 6361 6e20 7765  ,  # TODO can we
+00023240: 2073 656e 6420 7468 6973 2061 7474 7269   send this attri
+00023250: 6275 7465 2065 7665 6e20 6966 2069 7427  bute even if it'
+00023260: 7320 6e6f 7420 4358 2c20 7769 6c6c 2069  s not CX, will i
+00023270: 7420 6967 6e6f 7265 206f 7220 6572 726f  t ignore or erro
+00023280: 720a 2020 2020 2920 2d3e 2052 6573 706f  r.    ) -> Respo
+00023290: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000232a0: 4d6f 7665 2064 6576 6963 6573 2074 6f20  Move devices to 
+000232b0: 6120 6772 6f75 702e 0a0a 2020 2020 2020  a group...      
+000232c0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+000232d0: 2020 2020 6772 6f75 7020 2873 7472 293a      group (str):
+000232e0: 2047 726f 7570 204e 616d 6520 746f 206d   Group Name to m
+000232f0: 6f76 6520 6465 7669 6365 2074 6f2e 0a20  ove device to.. 
+00023300: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+00023310: 6c73 2028 4c69 7374 5b73 7472 5d29 3a20  ls (List[str]): 
+00023320: 5365 7269 616c 206e 756d 6265 7273 206f  Serial numbers o
+00023330: 6620 6465 7669 6365 7320 746f 2062 6520  f devices to be 
+00023340: 6164 6465 6420 746f 2067 726f 7570 2e0a  added to group..
+00023350: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00023360: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00023370: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00023380: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00023390: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+000233a0: 2020 2020 2020 2023 2041 5049 2d46 4c41         # API-FLA
+000233b0: 5720 7265 706f 7274 2066 6c61 7765 6420  W report flawed 
+000233c0: 4150 4920 6d65 7468 6f64 0a20 2020 2020  API method.     
+000233d0: 2020 2023 2052 6574 7572 6e73 2035 3030     # Returns 500
+000233e0: 2073 7461 7475 7320 636f 6465 2077 6865   status code whe
+000233f0: 6e20 7265 7375 6c74 2069 7320 6573 7365  n result is esse
+00023400: 6e74 6961 6c6c 7920 7375 6363 6573 730a  ntially success.
+00023410: 2020 2020 2020 2020 2320 506c 6561 7365          # Please
+00023420: 2043 6f6e 6669 726d 3a20 6d6f 7665 2041   Confirm: move A
+00023430: 7275 6261 3930 3034 5f38 315f 4538 5f46  ruba9004_81_E8_F
+00023440: 4120 2620 506f 6d6d 6f72 6547 5731 2074  A & PommoreGW1 t
+00023450: 6f20 6772 6f75 7020 574c 4e45 543f 205b  o group WLNET? [
+00023460: 792f 4e5d 3a20 790a 2020 2020 2020 2020  y/N]: y.        
+00023470: 2320 e29c 9620 5365 6e64 696e 6720 4461  # ... Sending Da
+00023480: 7461 205b 636f 6e66 6967 7572 6174 696f  ta [configuratio
+00023490: 6e2f 7631 2f64 6576 6963 6573 2f6d 6f76  n/v1/devices/mov
+000234a0: 655d 0a20 2020 2020 2020 2023 2073 7461  e].        # sta
+000234b0: 7475 7320 636f 6465 3a20 3530 3020 3c2d  tus code: 500 <-
+000234c0: 2d20 3530 3020 6f6e 2073 7563 6365 7373  - 500 on success
+000234d0: 2e20 2041 7420 6c65 6173 7420 666f 7220  .  At least for 
+000234e0: 6777 2077 6f75 6c64 206e 6565 6420 746f  gw would need to
+000234f0: 2064 6f75 626c 6520 6368 6563 6b20 6f74   double check ot
+00023500: 6865 7273 2e0a 2020 2020 2020 2020 2320  hers..        # 
+00023510: 6465 7363 7269 7074 696f 6e3a 0a20 2020  description:.   
+00023520: 2020 2020 2023 2043 6f6e 7472 6f6c 6c65       # Controlle
+00023530: 722f 4761 7465 7761 7920 6772 6f75 7020  r/Gateway group 
+00023540: 6d6f 7665 2068 6173 2062 6565 6e20 696e  move has been in
+00023550: 6974 6961 7465 642c 2070 6c65 6173 6520  itiated, please 
+00023560: 6368 6563 6b20 6175 6469 7420 7472 6169  check audit trai
+00023570: 6c20 666f 7220 6465 7461 696c 730a 2020  l for details.  
+00023580: 2020 2020 2020 2320 6572 726f 725f 636f        # error_co
+00023590: 6465 3a20 3030 3031 0a20 2020 2020 2020  de: 0001.       
+000235a0: 2023 2073 6572 7669 6365 5f6e 616d 653a   # service_name:
+000235b0: 2043 6f6e 6669 6775 7261 7469 6f6e 0a20   Configuration. 
+000235c0: 2020 2020 2020 2075 726c 203d 2022 2f63         url = "/c
+000235d0: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+000235e0: 6465 7669 6365 732f 6d6f 7665 220a 2020  devices/move".  
+000235f0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00023600: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
+00023610: 7928 7365 7269 616c 5f6e 756d 7329 0a0a  y(serial_nums)..
+00023620: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+00023630: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
+00023640: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
+00023650: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+00023660: 6572 6961 6c73 273a 2073 6572 6961 6c5f  erials': serial_
+00023670: 6e75 6d73 0a20 2020 2020 2020 207d 0a0a  nums.        }..
+00023680: 2020 2020 2020 2020 6966 2063 785f 7265          if cx_re
+00023690: 7461 696e 5f63 6f6e 6669 673a 0a20 2020  tain_config:.   
+000236a0: 2020 2020 2020 2020 206a 736f 6e5f 6461           json_da
+000236b0: 7461 5b22 7072 6573 6572 7665 5f63 6f6e  ta["preserve_con
+000236c0: 6669 675f 6f76 6572 7269 6465 7322 5d20  fig_overrides"] 
+000236d0: 3d20 5b22 414f 535f 4358 225d 0a0a 2020  = ["AOS_CX"]..  
+000236e0: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
+000236f0: 6974 2073 656c 662e 706f 7374 2875 726c  it self.post(url
+00023700: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
+00023710: 5f64 6174 6129 0a0a 2020 2020 2020 2020  _data)..        
+00023720: 2320 5468 6973 206d 6574 686f 6420 7265  # This method re
+00023730: 7475 726e 7320 7374 6174 7573 2035 3030  turns status 500
+00023740: 2077 6974 6820 6d73 6720 7468 6174 206d   with msg that m
+00023750: 6f76 6520 6973 2069 6e69 7469 6174 6564  ove is initiated
+00023760: 206f 6e20 7375 6363 6573 732e 0a20 2020   on success..   
+00023770: 2020 2020 2069 6620 6e6f 7420 7265 7370       if not resp
+00023780: 2061 6e64 2072 6573 702e 7374 6174 7573   and resp.status
+00023790: 203d 3d20 3530 303a 0a20 2020 2020 2020   == 500:.       
+000237a0: 2020 2020 206d 6174 6368 5f73 7472 203d       match_str =
+000237b0: 2022 6772 6f75 7020 6d6f 7665 2068 6173   "group move has
+000237c0: 2062 6565 6e20 696e 6974 6961 7465 642c   been initiated,
+000237d0: 2070 6c65 6173 6520 6368 6563 6b20 6175   please check au
+000237e0: 6469 7420 7472 6169 6c20 666f 7220 6465  dit trail for de
+000237f0: 7461 696c 7322 0a20 2020 2020 2020 2020  tails".         
+00023800: 2020 2069 6620 6d61 7463 685f 7374 7220     if match_str 
+00023810: 696e 2072 6573 702e 6f75 7470 7574 2e67  in resp.output.g
+00023820: 6574 2822 6465 7363 7269 7074 696f 6e22  et("description"
+00023830: 2c20 2222 293a 0a20 2020 2020 2020 2020  , ""):.         
+00023840: 2020 2020 2020 2072 6573 702e 6f6b 203d         resp.ok =
+00023850: 2054 7275 650a 0a20 2020 2020 2020 2072   True..        r
+00023860: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
+00023870: 6173 796e 6320 6465 6620 6765 745f 6465  async def get_de
+00023880: 6661 756c 745f 6772 6f75 7028 7365 6c66  fault_group(self
+00023890: 2c29 202d 3e20 5265 7370 6f6e 7365 3a0a  ,) -> Response:.
+000238a0: 2020 2020 2020 2020 2222 2247 6574 2064          """Get d
+000238b0: 6566 6175 6c74 2067 726f 7570 2e0a 0a20  efault group... 
+000238c0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+000238d0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+000238e0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+000238f0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00023900: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00023910: 2020 2020 2075 726c 203d 2022 2f63 6f6e       url = "/con
+00023920: 6669 6775 7261 7469 6f6e 2f76 312f 6772  figuration/v1/gr
+00023930: 6f75 7073 2f64 6566 6175 6c74 5f67 726f  oups/default_gro
+00023940: 7570 220a 0a20 2020 2020 2020 2072 6574  up"..        ret
+00023950: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00023960: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+00023970: 6e63 2064 6566 206d 6f76 655f 6465 7669  nc def move_devi
+00023980: 6365 735f 746f 5f73 6974 6528 0a20 2020  ces_to_site(.   
+00023990: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000239a0: 2020 2073 6974 655f 6964 3a20 696e 742c     site_id: int,
+000239b0: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
+000239c0: 6e75 6d73 3a20 556e 696f 6e5b 7374 722c  nums: Union[str,
+000239d0: 204c 6973 745b 7374 725d 5d2c 0a20 2020   List[str]],.   
+000239e0: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+000239f0: 3a20 4c69 7465 7261 6c5b 2261 7022 2c20  : Literal["ap", 
+00023a00: 2263 7822 2c20 2273 7722 2c20 2273 7769  "cx", "sw", "swi
+00023a10: 7463 6822 2c20 2267 7722 5d2c 0a20 2020  tch", "gw"],.   
+00023a20: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00023a30: 2020 2020 2020 2020 2222 2241 7373 6f63          """Assoc
+00023a40: 6961 7465 206c 6973 7420 6f66 2064 6576  iate list of dev
+00023a50: 6963 6573 2074 6f20 6120 7369 7465 2e0a  ices to a site..
+00023a60: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00023a70: 2020 2020 2020 2020 2020 2073 6974 655f             site_
+00023a80: 6964 2028 696e 7429 3a20 5369 7465 2049  id (int): Site I
+00023a90: 440a 2020 2020 2020 2020 2020 2020 6465  D.            de
+00023aa0: 7669 6365 5f74 7970 6520 2873 7472 293a  vice_type (str):
+00023ab0: 2044 6576 6963 6520 7479 7065 2e20 5661   Device type. Va
+00023ac0: 6c69 6420 5661 6c75 6573 3a20 6170 2c20  lid Values: ap, 
+00023ad0: 6378 2c20 7377 2c20 7377 6974 6368 2c20  cx, sw, switch, 
+00023ae0: 6777 0a20 2020 2020 2020 2020 2020 2020  gw.             
+00023af0: 2020 2063 7820 616e 6420 7377 2061 7265     cx and sw are
+00023b00: 2074 6865 2073 616d 6520 6173 2074 6865   the same as the
+00023b10: 206d 6f72 6520 6765 6e65 7269 6320 7377   more generic sw
+00023b20: 6974 6368 2e0a 2020 2020 2020 2020 2020  itch..          
+00023b30: 2020 7365 7269 616c 5f6e 756d 7320 284c    serial_nums (L
+00023b40: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
+00023b50: 6f66 2064 6576 6963 6520 7365 7269 616c  of device serial
+00023b60: 206e 756d 6265 7273 206f 6620 7468 6520   numbers of the 
+00023b70: 6465 7669 6365 7320 746f 2077 6869 6368  devices to which
+00023b80: 2074 6865 2073 6974 650a 2020 2020 2020   the site.      
+00023b90: 2020 2020 2020 2020 2020 6861 7320 746f            has to
+00023ba0: 2062 6520 756e 2f61 7373 6f63 6961 7465   be un/associate
+00023bb0: 6420 7769 7468 2e20 4120 6d61 7869 6d75  d with. A maximu
+00023bc0: 6d20 6f66 2035 3030 3020 6465 7669 6365  m of 5000 device
+00023bd0: 2073 6572 6961 6c73 2061 7265 2061 6c6c   serials are all
+00023be0: 6f77 6564 2061 7420 6f6e 6365 2e0a 0a20  owed at once... 
+00023bf0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00023c00: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00023c10: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00023c20: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00023c30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00023c40: 2020 2020 2023 2054 4f44 4f20 6d61 6b65       # TODO make
+00023c50: 2064 6576 6963 655f 7479 7065 7320 636f   device_types co
+00023c60: 6e73 6973 7465 6e74 2074 6872 6f75 6768  nsistent through
+00023c70: 6f75 740a 2020 2020 2020 2020 6465 7669  out.        devi
+00023c80: 6365 5f74 7970 6520 3d20 636f 6e73 7461  ce_type = consta
+00023c90: 6e74 732e 6c69 625f 746f 5f61 7069 2822  nts.lib_to_api("
+00023ca0: 7369 7465 222c 2064 6576 6963 655f 7479  site", device_ty
+00023cb0: 7065 290a 2020 2020 2020 2020 6966 206e  pe).        if n
+00023cc0: 6f74 2064 6576 6963 655f 7479 7065 3a0a  ot device_type:.
+00023cd0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00023ce0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
+00023cf0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+00023d00: 496e 7661 6c69 6420 5661 6c75 6520 666f  Invalid Value fo
+00023d10: 7220 6465 7669 6365 5f74 7970 652e 2020  r device_type.  
+00023d20: 5375 7070 6f72 7465 6420 5661 6c75 6573  Supported Values
+00023d30: 3a20 7b63 6f6e 7374 616e 7473 2e6c 6962  : {constants.lib
+00023d40: 5f74 6f5f 6170 692e 7661 6c69 645f 7374  _to_api.valid_st
+00023d50: 727d 220a 2020 2020 2020 2020 2020 2020  r}".            
+00023d60: 290a 0a20 2020 2020 2020 2075 726c 203d  )..        url =
+00023d70: 2022 2f63 656e 7472 616c 2f76 322f 7369   "/central/v2/si
+00023d80: 7465 732f 6173 736f 6369 6174 696f 6e73  tes/associations
+00023d90: 220a 2020 2020 2020 2020 7365 7269 616c  ".        serial
+00023da0: 5f6e 756d 7320 3d20 7574 696c 732e 6c69  _nums = utils.li
+00023db0: 7374 6966 7928 7365 7269 616c 5f6e 756d  stify(serial_num
+00023dc0: 7329 0a0a 2020 2020 2020 2020 6a73 6f6e  s)..        json
+00023dd0: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+00023de0: 2020 2020 2020 2773 6974 655f 6964 273a        'site_id':
+00023df0: 2073 6974 655f 6964 2c0a 2020 2020 2020   site_id,.      
+00023e00: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
+00023e10: 7327 3a20 7365 7269 616c 5f6e 756d 732c  s': serial_nums,
+00023e20: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+00023e30: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
+00023e40: 6365 5f74 7970 650a 2020 2020 2020 2020  ce_type.        
+00023e50: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00023e60: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+00023e70: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+00023e80: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+00023e90: 2061 7379 6e63 2064 6566 2072 656d 6f76   async def remov
+00023ea0: 655f 6465 7669 6365 735f 6672 6f6d 5f73  e_devices_from_s
+00023eb0: 6974 6528 0a20 2020 2020 2020 2073 656c  ite(.        sel
+00023ec0: 662c 0a20 2020 2020 2020 2073 6974 655f  f,.        site_
+00023ed0: 6964 3a20 696e 742c 0a20 2020 2020 2020  id: int,.       
+00023ee0: 2073 6572 6961 6c5f 6e75 6d73 3a20 4c69   serial_nums: Li
+00023ef0: 7374 5b73 7472 5d2c 0a20 2020 2020 2020  st[str],.       
+00023f00: 2064 6576 6963 655f 7479 7065 3a20 4c69   device_type: Li
+00023f10: 7465 7261 6c5b 2261 7022 2c20 2263 7822  teral["ap", "cx"
+00023f20: 2c20 2273 7722 2c20 2273 7769 7463 6822  , "sw", "switch"
+00023f30: 2c20 2267 7722 5d2c 0a20 2020 2029 202d  , "gw"],.    ) -
+00023f40: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00023f50: 2020 2020 2222 2252 656d 6f76 6520 6120      """Remove a 
+00023f60: 6c69 7374 206f 6620 6465 7669 6365 7320  list of devices 
+00023f70: 6672 6f6d 2061 2073 6974 652e 0a0a 2020  from a site...  
+00023f80: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00023f90: 2020 2020 2020 2020 7369 7465 5f69 6420          site_id 
+00023fa0: 2869 6e74 293a 2053 6974 6520 4944 0a20  (int): Site ID. 
+00023fb0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
+00023fc0: 655f 7479 7065 2028 7374 7229 3a20 4465  e_type (str): De
+00023fd0: 7669 6365 2074 7970 652e 2056 616c 6964  vice type. Valid
+00023fe0: 2056 616c 7565 733a 2061 702c 2063 782c   Values: ap, cx,
+00023ff0: 2073 772c 2073 7769 7463 682c 2067 770a   sw, switch, gw.
+00024000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024010: 6378 2061 6e64 2073 7720 6172 6520 7468  cx and sw are th
+00024020: 6520 7361 6d65 2061 7320 7468 6520 6d6f  e same as the mo
+00024030: 7265 2067 656e 6572 6963 2073 7769 7463  re generic switc
+00024040: 682e 0a20 2020 2020 2020 2020 2020 2073  h..            s
+00024050: 6572 6961 6c5f 6e75 6d73 2028 4c69 7374  erial_nums (List
+00024060: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
+00024070: 6465 7669 6365 2073 6572 6961 6c20 6e75  device serial nu
+00024080: 6d62 6572 7320 6f66 2074 6865 2064 6576  mbers of the dev
+00024090: 6963 6573 2074 6f20 7768 6963 6820 7468  ices to which th
+000240a0: 6520 7369 7465 0a20 2020 2020 2020 2020  e site.         
+000240b0: 2020 2020 2020 2068 6173 2074 6f20 6265         has to be
+000240c0: 2075 6e2f 6173 736f 6369 6174 6564 2077   un/associated w
+000240d0: 6974 682e 2041 206d 6178 696d 756d 206f  ith. A maximum o
+000240e0: 6620 3530 3030 2064 6576 6963 6520 7365  f 5000 device se
+000240f0: 7269 616c 7320 6172 6520 616c 6c6f 7765  rials are allowe
+00024100: 6420 6174 206f 6e63 652e 0a0a 2020 2020  d at once...    
+00024110: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00024120: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00024130: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00024140: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00024150: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00024160: 2020 6465 7669 6365 5f74 7970 6520 3d20    device_type = 
+00024170: 636f 6e73 7461 6e74 732e 6c69 625f 746f  constants.lib_to
+00024180: 5f61 7069 2822 7369 7465 222c 2064 6576  _api("site", dev
+00024190: 6963 655f 7479 7065 290a 2020 2020 2020  ice_type).      
+000241a0: 2020 6966 206e 6f74 2064 6576 6963 655f    if not device_
+000241b0: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
+000241c0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+000241d0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+000241e0: 2020 2020 6622 496e 7661 6c69 6420 5661      f"Invalid Va
+000241f0: 6c75 6520 666f 7220 6465 7669 6365 5f74  lue for device_t
+00024200: 7970 652e 2020 5375 7070 6f72 7465 6420  ype.  Supported 
+00024210: 5661 6c75 6573 3a20 7b63 6f6e 7374 616e  Values: {constan
+00024220: 7473 2e6c 6962 5f74 6f5f 6170 692e 7661  ts.lib_to_api.va
+00024230: 6c69 645f 7374 727d 220a 2020 2020 2020  lid_str}".      
+00024240: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+00024250: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
+00024260: 2f76 322f 7369 7465 732f 6173 736f 6369  /v2/sites/associ
+00024270: 6174 696f 6e73 220a 2020 2020 2020 2020  ations".        
+00024280: 7365 7269 616c 5f6e 756d 7320 3d20 7574  serial_nums = ut
+00024290: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
+000242a0: 616c 5f6e 756d 7329 0a0a 2020 2020 2020  al_nums)..      
+000242b0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+000242c0: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
+000242d0: 655f 6964 273a 2073 6974 655f 6964 2c0a  e_id': site_id,.
+000242e0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+000242f0: 6963 655f 6964 7327 3a20 7365 7269 616c  ice_ids': serial
+00024300: 5f6e 756d 732c 0a20 2020 2020 2020 2020  _nums,.         
+00024310: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
+00024320: 3a20 6465 7669 6365 5f74 7970 650a 2020  : device_type.  
+00024330: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00024340: 2023 2041 5049 2d46 4c41 573a 2054 6869   # API-FLAW: Thi
+00024350: 7320 6d65 7468 6f64 2072 6574 7572 6e73  s method returns
+00024360: 2032 3030 2077 6865 6e20 6661 696c 7572   200 when failur
+00024370: 6573 206f 6363 7572 2e0a 2020 2020 2020  es occur..      
+00024380: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00024390: 656c 662e 6465 6c65 7465 2875 726c 2c20  elf.delete(url, 
+000243a0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+000243b0: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
+000243c0: 6465 6620 6372 6561 7465 5f6c 6162 656c  def create_label
+000243d0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000243e0: 2020 2020 2020 2020 6c61 6265 6c5f 6e61          label_na
+000243f0: 6d65 3a20 7374 722c 0a20 2020 2020 2020  me: str,.       
+00024400: 2063 6174 6567 6f72 795f 6964 3a20 696e   category_id: in
+00024410: 7420 3d20 312c 0a20 2020 2029 202d 3e20  t = 1,.    ) -> 
+00024420: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00024430: 2020 2222 2243 7265 6174 6520 4c61 6265    """Create Labe
+00024440: 6c2e 0a0a 2020 2020 2020 2020 4172 6773  l...        Args
+00024450: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
+00024460: 6265 6c5f 6e61 6d65 2028 7374 7229 3a20  bel_name (str): 
+00024470: 4c61 6265 6c20 6e61 6d65 0a20 2020 2020  Label name.     
+00024480: 2020 2020 2020 2063 6174 6567 6f72 795f         category_
+00024490: 6964 2028 696e 742c 206f 7074 696f 6e61  id (int, optiona
+000244a0: 6c29 3a20 4c61 6265 6c20 6361 7465 676f  l): Label catego
+000244b0: 7279 2049 4420 6465 6661 756c 7473 2074  ry ID defaults t
+000244c0: 6f20 310a 2020 2020 2020 2020 2020 2020  o 1.            
+000244d0: 2020 2020 3120 3d20 6465 6661 756c 7420      1 = default 
+000244e0: 6c61 6265 6c20 6361 7465 676f 7279 2c20  label category, 
+000244f0: 3220 3d20 7369 7465 0a0a 2020 2020 2020  2 = site..      
+00024500: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00024510: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00024520: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00024530: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00024540: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00024550: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00024560: 7631 2f6c 6162 656c 7322 0a0a 2020 2020  v1/labels"..    
+00024570: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+00024580: 7b0a 2020 2020 2020 2020 2020 2020 2763  {.            'c
+00024590: 6174 6567 6f72 795f 6964 273a 2063 6174  ategory_id': cat
+000245a0: 6567 6f72 795f 6964 2c0a 2020 2020 2020  egory_id,.      
+000245b0: 2020 2020 2020 276c 6162 656c 5f6e 616d        'label_nam
+000245c0: 6527 3a20 6c61 6265 6c5f 6e61 6d65 0a20  e': label_name. 
+000245d0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+000245e0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+000245f0: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
+00024600: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+00024610: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
+00024620: 6620 6765 745f 6c61 6265 6c73 280a 2020  f get_labels(.  
+00024630: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00024640: 2020 2020 6361 6c63 756c 6174 655f 746f      calculate_to
+00024650: 7461 6c3a 2062 6f6f 6c20 3d20 4e6f 6e65  tal: bool = None
+00024660: 2c0a 2020 2020 2020 2020 7265 7665 7273  ,.        revers
+00024670: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
+00024680: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+00024690: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+000246a0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+000246b0: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
+000246c0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000246d0: 2222 4c69 7374 204c 6162 656c 732e 0a0a  ""List Labels...
+000246e0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+000246f0: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
+00024700: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
+00024710: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
+00024720: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
+00024730: 2074 6f74 616c 204c 6162 656c 730a 2020   total Labels.  
+00024740: 2020 2020 2020 2020 2020 7265 7665 7273            revers
+00024750: 6520 2862 6f6f 6c2c 206f 7074 696f 6e61  e (bool, optiona
+00024760: 6c29 3a20 4c69 7374 206c 6162 656c 7320  l): List labels 
+00024770: 696e 2072 6576 6572 7365 2061 6c70 6861  in reverse alpha
+00024780: 6265 7469 6361 6c20 6f72 6465 722e 2044  betical order. D
+00024790: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+000247a0: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+000247b0: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+000247c0: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+000247d0: 6f66 6673 6574 2044 6566 6175 6c74 7320  offset Defaults 
+000247e0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+000247f0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+00024800: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+00024810: 696f 6e20 6c69 6d69 742e 2044 6566 6175  ion limit. Defau
+00024820: 6c74 2069 7320 3130 3020 616e 6420 6d61  lt is 100 and ma
+00024830: 7820 6973 2031 3030 3020 4465 6661 756c  x is 1000 Defaul
+00024840: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
+00024850: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00024860: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00024870: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00024880: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00024890: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000248a0: 2020 7572 6c20 3d20 222f 6365 6e74 7261    url = "/centra
+000248b0: 6c2f 7632 2f6c 6162 656c 7322 0a0a 2020  l/v2/labels"..  
+000248c0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+000248d0: 0a20 2020 2020 2020 2020 2020 2022 6361  .            "ca
+000248e0: 6c63 756c 6174 655f 746f 7461 6c22 3a20  lculate_total": 
+000248f0: 6361 6c63 756c 6174 655f 746f 7461 6c2c  calculate_total,
+00024900: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
+00024910: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
+00024920: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
+00024930: 7422 3a20 6c69 6d69 740a 2020 2020 2020  t": limit.      
+00024940: 2020 7d0a 2020 2020 2020 2020 6966 2072    }.        if r
+00024950: 6576 6572 7365 3a0a 2020 2020 2020 2020  everse:.        
+00024960: 2020 2020 7061 7261 6d73 5b22 736f 7274      params["sort
+00024970: 225d 203d 2022 2d6c 6162 656c 5f6e 616d  "] = "-label_nam
+00024980: 6522 0a0a 2020 2020 2020 2020 7265 7475  e"..        retu
+00024990: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+000249a0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+000249b0: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+000249c0: 2064 6566 2061 7373 6967 6e5f 6c61 6265   def assign_labe
+000249d0: 6c5f 746f 5f64 6576 6963 6573 280a 2020  l_to_devices(.  
+000249e0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000249f0: 2020 2020 6c61 6265 6c5f 6964 3a20 696e      label_id: in
+00024a00: 742c 0a20 2020 2020 2020 2064 6576 6963  t,.        devic
+00024a10: 655f 7479 7065 3a20 636f 6e73 7461 6e74  e_type: constant
+00024a20: 732e 4765 6e65 7269 6344 6576 5479 7065  s.GenericDevType
+00024a30: 732c 0a20 2020 2020 2020 2073 6572 6961  s,.        seria
+00024a40: 6c5f 6e75 6d73 3a20 556e 696f 6e5b 7374  l_nums: Union[st
+00024a50: 722c 204c 6973 745b 7374 725d 5d2c 0a20  r, List[str]],. 
+00024a60: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00024a70: 3a0a 2020 2020 2020 2020 2222 2241 7373  :.        """Ass
+00024a80: 6f63 6961 7465 204c 6162 656c 2074 6f20  ociate Label to 
+00024a90: 6120 6c69 7374 206f 6620 6465 7669 6365  a list of device
+00024aa0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+00024ab0: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
+00024ac0: 6265 6c5f 6964 2028 696e 7429 3a20 4c61  bel_id (int): La
+00024ad0: 6265 6c20 4944 0a20 2020 2020 2020 2020  bel ID.         
+00024ae0: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
+00024af0: 7374 7229 3a20 4465 7669 6365 2074 7970  str): Device typ
+00024b00: 652e 2056 616c 6964 2056 616c 7565 733a  e. Valid Values:
+00024b10: 2061 702c 2067 772c 2073 7769 7463 680a   ap, gw, switch.
+00024b20: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+00024b30: 616c 5f6e 756d 7320 2873 7472 207c 204c  al_nums (str | L
+00024b40: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
+00024b50: 6f66 2064 6576 6963 6520 7365 7269 616c  of device serial
+00024b60: 206e 756d 6265 7273 206f 6620 7468 6520   numbers of the 
+00024b70: 6465 7669 6365 7320 746f 2077 6869 6368  devices to which
+00024b80: 2074 6865 206c 6162 656c 0a20 2020 2020   the label.     
+00024b90: 2020 2020 2020 2020 2020 2068 6173 2074             has t
+00024ba0: 6f20 6265 2075 6e2f 6173 736f 6369 6174  o be un/associat
+00024bb0: 6564 2077 6974 682e 2041 206d 6178 696d  ed with. A maxim
+00024bc0: 756d 206f 6620 3530 3030 2064 6576 6963  um of 5000 devic
+00024bd0: 6520 7365 7269 616c 7320 6172 6520 616c  e serials are al
+00024be0: 6c6f 7765 6420 6174 206f 6e63 652e 0a0a  lowed at once...
+00024bf0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00024c00: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00024c10: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00024c20: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00024c30: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00024c40: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
+00024c50: 6e74 7261 6c2f 7632 2f6c 6162 656c 732f  ntral/v2/labels/
+00024c60: 6173 736f 6369 6174 696f 6e73 220a 2020  associations".  
+00024c70: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00024c80: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
+00024c90: 7928 7365 7269 616c 5f6e 756d 7329 0a20  y(serial_nums). 
+00024ca0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+00024cb0: 7065 203d 2063 6f6e 7374 616e 7473 2e6c  pe = constants.l
+00024cc0: 6962 5f74 6f5f 6170 6928 2273 6974 6522  ib_to_api("site"
+00024cd0: 2c20 6465 7669 6365 5f74 7970 6529 0a0a  , device_type)..
+00024ce0: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+00024cf0: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
+00024d00: 2020 276c 6162 656c 5f69 6427 3a20 6c61    'label_id': la
+00024d10: 6265 6c5f 6964 2c0a 2020 2020 2020 2020  bel_id,.        
+00024d20: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
+00024d30: 273a 2064 6576 6963 655f 7479 7065 2c0a  ': device_type,.
+00024d40: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+00024d50: 6963 655f 6964 7327 3a20 7365 7269 616c  ice_ids': serial
+00024d60: 5f6e 756d 730a 2020 2020 2020 2020 7d0a  _nums.        }.
+00024d70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00024d80: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00024d90: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00024da0: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
+00024db0: 2054 4f44 4f20 6d61 6b65 2066 6f72 6d61   TODO make forma
+00024dc0: 7420 6f66 2074 6869 7320 616e 6420 6f74  t of this and ot
+00024dd0: 6865 7220 6c61 6265 6c20 6d65 7468 6f64  her label method
+00024de0: 7320 6d61 7463 6820 7369 7465 206d 6574  s match site met
+00024df0: 686f 6473 0a20 2020 2061 7379 6e63 2064  hods.    async d
+00024e00: 6566 2072 656d 6f76 655f 6c61 6265 6c5f  ef remove_label_
+00024e10: 6672 6f6d 5f64 6576 6963 6573 280a 2020  from_devices(.  
+00024e20: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00024e30: 2020 2020 6c61 6265 6c5f 6964 3a20 696e      label_id: in
+00024e40: 742c 0a20 2020 2020 2020 2064 6576 6963  t,.        devic
+00024e50: 655f 7479 7065 3a20 7374 722c 0a20 2020  e_type: str,.   
+00024e60: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
+00024e70: 3a20 4c69 7374 5b73 7472 5d2c 0a20 2020  : List[str],.   
+00024e80: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00024e90: 2020 2020 2020 2020 2222 2275 6e61 7373          """unass
+00024ea0: 6967 6e20 6120 6c61 6265 6c20 6672 6f6d  ign a label from
+00024eb0: 2061 206c 6973 7420 6f66 2064 6576 6963   a list of devic
+00024ec0: 6573 2e0a 0a20 2020 2020 2020 2041 7267  es...        Arg
+00024ed0: 733a 0a20 2020 2020 2020 2020 2020 206c  s:.            l
+00024ee0: 6162 656c 5f69 6420 2869 6e74 293a 204c  abel_id (int): L
+00024ef0: 6162 656c 2049 440a 2020 2020 2020 2020  abel ID.        
+00024f00: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
+00024f10: 2873 7472 293a 2044 6576 6963 6520 7479  (str): Device ty
+00024f20: 7065 2e20 4f6e 6520 6f66 2061 702c 2067  pe. One of ap, g
+00024f30: 772c 2073 7769 7463 680a 2020 2020 2020  w, switch.      
+00024f40: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00024f50: 7320 2873 7472 207c 204c 6973 745b 7374  s (str | List[st
+00024f60: 725d 293a 204c 6973 7420 6f66 2064 6576  r]): List of dev
+00024f70: 6963 6520 7365 7269 616c 206e 756d 6265  ice serial numbe
+00024f80: 7273 206f 6620 7468 6520 6465 7669 6365  rs of the device
+00024f90: 7320 746f 2077 6869 6368 2074 6865 206c  s to which the l
+00024fa0: 6162 656c 0a20 2020 2020 2020 2020 2020  abel.           
+00024fb0: 2020 2020 2068 6173 2074 6f20 6265 2075       has to be u
+00024fc0: 6e2f 6173 736f 6369 6174 6564 2077 6974  n/associated wit
+00024fd0: 682e 2041 206d 6178 696d 756d 206f 6620  h. A maximum of 
+00024fe0: 3530 3030 2064 6576 6963 6520 7365 7269  5000 device seri
+00024ff0: 616c 7320 6172 6520 616c 6c6f 7765 6420  als are allowed 
+00025000: 6174 206f 6e63 652e 0a0a 2020 2020 2020  at once...      
+00025010: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00025020: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00025030: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00025040: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00025050: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00025060: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00025070: 7632 2f6c 6162 656c 732f 6173 736f 6369  v2/labels/associ
+00025080: 6174 696f 6e73 220a 2020 2020 2020 2020  ations".        
+00025090: 7365 7269 616c 5f6e 756d 7320 3d20 7574  serial_nums = ut
+000250a0: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
+000250b0: 616c 5f6e 756d 7329 0a20 2020 2020 2020  al_nums).       
+000250c0: 2064 6576 6963 655f 7479 7065 203d 2063   device_type = c
+000250d0: 6f6e 7374 616e 7473 2e6c 6962 5f74 6f5f  onstants.lib_to_
+000250e0: 6170 6928 2273 6974 6522 2c20 6465 7669  api("site", devi
+000250f0: 6365 5f74 7970 6529 0a0a 2020 2020 2020  ce_type)..      
+00025100: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+00025110: 2020 2020 2020 2020 2020 2020 276c 6162              'lab
+00025120: 656c 5f69 6427 3a20 6c61 6265 6c5f 6964  el_id': label_id
+00025130: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+00025140: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
+00025150: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
+00025160: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
+00025170: 7327 3a20 7365 7269 616c 5f6e 756d 730a  s': serial_nums.
+00025180: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00025190: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000251a0: 7365 6c66 2e64 656c 6574 6528 7572 6c2c  self.delete(url,
+000251b0: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+000251c0: 6461 7461 290a 0a20 2020 2023 2041 5049  data)..    # API
+000251d0: 2d46 4c41 5720 7265 7475 726e 7320 656d  -FLAW returns em
+000251e0: 7074 7920 7061 796c 6f61 6420 2f20 7265  pty payload / re
+000251f0: 7370 6f6e 7365 206f 6e20 7375 6363 6573  sponse on succes
+00025200: 7320 3230 300a 2020 2020 6173 796e 6320  s 200.    async 
+00025210: 6465 6620 6465 6c65 7465 5f6c 6162 656c  def delete_label
+00025220: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00025230: 2020 2020 2020 2020 6c61 6265 6c5f 6964          label_id
+00025240: 3a20 696e 742c 0a20 2020 2029 202d 3e20  : int,.    ) -> 
+00025250: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00025260: 2020 2222 2244 656c 6574 6520 4c61 6265    """Delete Labe
+00025270: 6c2e 0a0a 2020 2020 2020 2020 4172 6773  l...        Args
+00025280: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
+00025290: 6265 6c5f 6964 2028 696e 7429 3a20 4c61  bel_id (int): La
+000252a0: 6265 6c20 4944 0a0a 2020 2020 2020 2020  bel ID..        
+000252b0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+000252c0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+000252d0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+000252e0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+000252f0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00025300: 6c20 3d20 6622 2f63 656e 7472 616c 2f76  l = f"/central/v
+00025310: 312f 6c61 6265 6c73 2f7b 6c61 6265 6c5f  1/labels/{label_
+00025320: 6964 7d22 0a0a 2020 2020 2020 2020 7265  id}"..        re
+00025330: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00025340: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
+00025350: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
+00025360: 6576 6963 655f 6970 5f72 6f75 7465 7328  evice_ip_routes(
+00025370: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+00025380: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+00025390: 6d3a 2073 7472 2c0a 2020 2020 2020 2020  m: str,.        
+000253a0: 6170 693a 2073 7472 203d 2022 5631 222c  api: str = "V1",
+000253b0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+000253c0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+000253d0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+000253e0: 3030 0a20 2020 2029 202d 3e20 5265 7370  00.    ) -> Resp
+000253f0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00025400: 2247 6574 2072 6f75 7465 7320 666f 7220  "Get routes for 
+00025410: 6120 6465 7669 6365 2e0a 0a20 2020 2020  a device...     
+00025420: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00025430: 2020 2020 2073 6572 6961 6c5f 6e75 6d20       serial_num 
+00025440: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
+00025450: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
+00025460: 2020 2020 2020 2020 6170 6920 2873 7472          api (str
+00025470: 2c20 6f70 7469 6f6e 616c 293a 2041 5049  , optional): API
+00025480: 2076 6572 7369 6f6e 2028 5630 7c56 3129   version (V0|V1)
+00025490: 2c20 4465 6661 756c 7473 2074 6f20 5631  , Defaults to V1
+000254a0: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
+000254b0: 6673 6574 2028 7374 722c 206f 7074 696f  fset (str, optio
+000254c0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+000254d0: 206f 6666 7365 742e 0a20 2020 2020 2020   offset..       
+000254e0: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
+000254f0: 206f 7074 696f 6e61 6c29 3a20 7061 6765   optional): page
+00025500: 2073 697a 6520 4465 6661 756c 7473 2074   size Defaults t
+00025510: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
+00025520: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00025530: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00025540: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00025550: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00025560: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00025570: 6c20 3d20 222f 6170 692f 726f 7574 696e  l = "/api/routin
+00025580: 672f 7631 2f72 6f75 7465 220a 0a20 2020  g/v1/route"..   
+00025590: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+000255a0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+000255b0: 6963 6527 3a20 7365 7269 616c 5f6e 756d  ice': serial_num
+000255c0: 2c0a 2020 2020 2020 2020 2020 2020 2761  ,.            'a
+000255d0: 7069 273a 2061 7069 2c0a 2020 2020 2020  pi': api,.      
+000255e0: 2020 2020 2020 276d 6172 6b65 7227 3a20        'marker': 
+000255f0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
+00025600: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
+00025610: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
+00025620: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00025630: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+00025640: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+00025650: 0a20 2020 2023 2054 4f44 4f20 6d61 6b65  .    # TODO make
+00025660: 2061 6464 5f64 6576 6963 6520 6163 7475   add_device actu
+00025670: 616c 2066 756e 6320 7365 7020 616e 6420  al func sep and 
+00025680: 6d61 6b65 2074 6869 7320 616e 2061 6767  make this an agg
+00025690: 7265 6761 746f 7220 7468 6174 2063 616c  regator that cal
+000256a0: 6c73 2069 7420 616e 6420 616e 7974 6869  ls it and anythi
+000256b0: 6e67 2065 6c73 6520 6261 7365 6420 6f6e  ng else based on
+000256c0: 2070 6172 616d 730a 2020 2020 6173 796e   params.    asyn
+000256d0: 6320 6465 6620 6164 645f 6465 7669 6365  c def add_device
+000256e0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+000256f0: 0a20 2020 2020 2020 206d 6163 5f61 6464  .        mac_add
+00025700: 7265 7373 3a20 7374 7220 3d20 4e6f 6e65  ress: str = None
+00025710: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+00025720: 5f6e 756d 3a20 7374 7220 3d20 4e6f 6e65  _num: str = None
+00025730: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+00025740: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00025750: 2020 2020 2023 2073 6974 653a 2069 6e74       # site: int
+00025760: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00025770: 2070 6172 745f 6e75 6d3a 2073 7472 203d   part_num: str =
+00025780: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
+00025790: 6963 656e 7365 3a20 556e 696f 6e5b 7374  icense: Union[st
+000257a0: 722c 204c 6973 745b 7374 725d 5d20 3d20  r, List[str]] = 
+000257b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
+000257c0: 7669 6365 5f6c 6973 743a 204c 6973 745b  vice_list: List[
+000257d0: 4469 6374 5b73 7472 2c20 7374 725d 5d20  Dict[str, str]] 
+000257e0: 3d20 4e6f 6e65 0a20 2020 2029 202d 3e20  = None.    ) -> 
+000257f0: 556e 696f 6e5b 5265 7370 6f6e 7365 2c20  Union[Response, 
+00025800: 4c69 7374 5b52 6573 706f 6e73 655d 5d3a  List[Response]]:
+00025810: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
+00025820: 6465 7669 6365 2873 2920 7573 696e 6720  device(s) using 
+00025830: 4d61 6320 616e 6420 5365 7269 616c 206e  Mac and Serial n
+00025840: 756d 6265 7220 2870 6172 745f 6e75 6d20  umber (part_num 
+00025850: 616c 736f 2072 6571 7569 7265 6420 666f  also required fo
+00025860: 7220 436f 5029 0a20 2020 2020 2020 2057  r CoP).        W
+00025870: 696c 6c20 616c 736f 2070 7265 2d61 7373  ill also pre-ass
+00025880: 6967 6e20 6465 7669 6365 2074 6f20 6772  ign device to gr
+00025890: 6f75 7020 6966 2070 726f 7669 6465 640a  oup if provided.
+000258a0: 0a20 2020 2020 2020 2045 6974 6865 7220  .        Either 
+000258b0: 6d61 635f 6164 6472 6573 7320 616e 6420  mac_address and 
+000258c0: 7365 7269 616c 5f6e 756d 206f 7220 6465  serial_num or de
+000258d0: 7669 6365 5f6c 6973 7420 2877 6869 6368  vice_list (which
+000258e0: 2073 686f 756c 6420 636f 6e74 6169 6e20   should contain 
+000258f0: 6120 6469 6374 2077 6974 6820 6d61 6320  a dict with mac 
+00025900: 7365 7269 616c 2920 6172 6520 7265 7175  serial) are requ
+00025910: 6972 6564 2e0a 2020 2020 2020 2020 2f2f  ired..        //
+00025920: 2055 7365 6420 6279 2061 6464 2064 6576   Used by add dev
+00025930: 6963 6520 616e 6420 6261 7463 6820 6164  ice and batch ad
+00025940: 6420 6465 7669 6365 7320 2f2f 0a0a 2020  d devices //..  
+00025950: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00025960: 2020 2020 2020 2020 6d61 635f 6164 6472          mac_addr
+00025970: 6573 7320 2873 7472 2c20 6f70 7469 6f6e  ess (str, option
+00025980: 616c 293a 204d 4143 2061 6464 7265 7373  al): MAC address
+00025990: 206f 6620 6465 7669 6365 2074 6f20 6265   of device to be
+000259a0: 2061 6464 6564 0a20 2020 2020 2020 2020   added.         
+000259b0: 2020 2073 6572 6961 6c5f 6e75 6d20 2873     serial_num (s
+000259c0: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+000259d0: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
+000259e0: 6465 7669 6365 2074 6f20 6265 2061 6464  device to be add
+000259f0: 6564 0a20 2020 2020 2020 2020 2020 2067  ed.            g
+00025a00: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00025a10: 6e61 6c29 3a20 4164 6420 6465 7669 6365  nal): Add device
+00025a20: 2074 6f20 7072 652d 7072 6f76 6973 696f   to pre-provisio
+00025a30: 6e65 6420 6772 6f75 7020 2861 6464 6974  ned group (addit
+00025a40: 696f 6e61 6c20 4150 4920 6361 6c6c 2069  ional API call i
+00025a50: 7320 6d61 6465 290a 2020 2020 2020 2020  s made).        
+00025a60: 2020 2020 7369 7465 2028 696e 742c 206f      site (int, o
+00025a70: 7074 696f 6e61 6c29 3a20 2d2d 204e 6f74  ptional): -- Not
+00025a80: 2069 6d70 6c65 6d65 6e74 6564 202d 2d20   implemented -- 
+00025a90: 5369 7465 2049 440a 2020 2020 2020 2020  Site ID.        
+00025aa0: 2020 2020 7061 7274 5f6e 756d 2028 7374      part_num (st
+00025ab0: 722c 206f 7074 696f 6e61 6c29 3a20 5061  r, optional): Pa
+00025ac0: 7274 204e 756d 6265 7220 6973 2072 6571  rt Number is req
+00025ad0: 7569 7265 6420 666f 7220 4365 6e74 7261  uired for Centra
+00025ae0: 6c20 4f6e 2050 7265 6d2e 0a20 2020 2020  l On Prem..     
+00025af0: 2020 2020 2020 206c 6963 656e 7365 2028         license (
+00025b00: 7374 727c 4c69 7374 2873 7472 292c 206f  str|List(str), o
+00025b10: 7074 696f 6e61 6c29 3a20 5468 6520 7375  ptional): The su
+00025b20: 6273 6372 6970 7469 6f6e 206c 6963 656e  bscription licen
+00025b30: 7365 2873 2920 746f 2061 7373 6967 6e2e  se(s) to assign.
+00025b40: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00025b50: 6963 655f 6c69 7374 2028 4c69 7374 5b44  ice_list (List[D
+00025b60: 6963 745b 7374 722c 2073 7472 5d5d 2c20  ict[str, str]], 
+00025b70: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
+00025b80: 6f66 2064 6963 7473 2077 6974 6820 6d61  of dicts with ma
+00025b90: 632c 2073 6572 6961 6c20 666f 7220 6561  c, serial for ea
+00025ba0: 6368 2064 6576 6963 650a 2020 2020 2020  ch device.      
+00025bb0: 2020 2020 2020 2020 2020 616e 6420 6f70            and op
+00025bc0: 7469 6f6e 616c 6c79 2067 726f 7570 2c20  tionally group, 
+00025bd0: 7061 7274 5f6e 756d 2c20 6c69 6365 6e73  part_num, licens
+00025be0: 652c 0a0a 2020 2020 2020 2020 5265 7475  e,..        Retu
+00025bf0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00025c00: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00025c10: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00025c20: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00025c30: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00025c40: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
+00025c50: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
+00025c60: 6576 6963 6573 220a 2020 2020 2020 2020  evices".        
+00025c70: 6c69 6365 6e73 655f 6b77 6172 6773 203d  license_kwargs =
+00025c80: 205b 5d0a 0a20 2020 2020 2020 2069 6620   []..        if 
+00025c90: 6c69 6365 6e73 653a 0a20 2020 2020 2020  license:.       
+00025ca0: 2020 2020 206c 6963 656e 7365 5f6b 7761       license_kwa
+00025cb0: 7267 7320 3d20 5b7b 2273 6572 6961 6c73  rgs = [{"serials
+00025cc0: 223a 205b 7365 7269 616c 5f6e 756d 5d2c  ": [serial_num],
+00025cd0: 2022 7365 7276 6963 6573 223a 2075 7469   "services": uti
+00025ce0: 6c73 2e6c 6973 7469 6679 286c 6963 656e  ls.listify(licen
+00025cf0: 7365 297d 5d0a 2020 2020 2020 2020 6966  se)}].        if
+00025d00: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
+00025d10: 6d61 635f 6164 6472 6573 733a 0a20 2020  mac_address:.   
+00025d20: 2020 2020 2020 2020 2069 6620 6465 7669           if devi
+00025d30: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
+00025d40: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+00025d50: 616c 7565 4572 726f 7228 2273 6572 6961  alueError("seria
+00025d60: 6c5f 6e75 6d20 616e 6420 6d61 635f 6164  l_num and mac_ad
+00025d70: 6472 6573 7320 6172 6520 6e6f 7420 6578  dress are not ex
+00025d80: 7065 6374 6564 2077 6865 6e20 6465 7669  pected when devi
+00025d90: 6365 5f6c 6973 7420 6973 2062 6569 6e67  ce_list is being
+00025da0: 2070 726f 7669 6465 642e 2229 0a0a 2020   provided.")..  
+00025db0: 2020 2020 2020 2020 2020 746f 5f67 726f            to_gro
+00025dc0: 7570 203d 204e 6f6e 6520 6966 206e 6f74  up = None if not
+00025dd0: 2067 726f 7570 2065 6c73 6520 7b67 726f   group else {gro
+00025de0: 7570 3a20 5b73 6572 6961 6c5f 6e75 6d5d  up: [serial_num]
+00025df0: 7d0a 2020 2020 2020 2020 2020 2020 2320  }.            # 
+00025e00: 746f 5f73 6974 6520 3d20 4e6f 6e65 2069  to_site = None i
+00025e10: 6620 6e6f 7420 7369 7465 2065 6c73 6520  f not site else 
+00025e20: 7b73 6974 653a 205b 7365 7269 616c 5f6e  {site: [serial_n
+00025e30: 756d 5d7d 0a0a 2020 2020 2020 2020 2020  um]}..          
+00025e40: 2020 6d61 6320 3d20 7574 696c 732e 4d61    mac = utils.Ma
+00025e50: 6328 6d61 635f 6164 6472 6573 7329 0a20  c(mac_address). 
+00025e60: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00025e70: 7420 6d61 633a 0a20 2020 2020 2020 2020  t mac:.         
+00025e80: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+00025e90: 7565 4572 726f 7228 6622 6d61 635f 6164  ueError(f"mac_ad
+00025ea0: 6472 6573 7320 7b6d 6163 5f61 6464 7265  dress {mac_addre
+00025eb0: 7373 7d20 6170 7065 6172 7320 746f 2062  ss} appears to b
+00025ec0: 6520 696e 7661 6c69 642e 2229 0a0a 2020  e invalid.")..  
+00025ed0: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+00025ee0: 6174 6120 3d20 5b0a 2020 2020 2020 2020  ata = [.        
+00025ef0: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00025f00: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00025f10: 6163 223a 206d 6163 2e63 6f6c 732c 0a20  ac": mac.cols,. 
+00025f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f30: 2020 2022 7365 7269 616c 223a 2073 6572     "serial": ser
+00025f40: 6961 6c5f 6e75 6d0a 2020 2020 2020 2020  ial_num.        
+00025f50: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00025f60: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+00025f70: 2020 2020 6966 2070 6172 745f 6e75 6d3a      if part_num:
+00025f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025f90: 206a 736f 6e5f 6461 7461 5b30 5d5b 2270   json_data[0]["p
+00025fa0: 6172 744e 756d 6265 7222 5d20 3d20 7061  artNumber"] = pa
+00025fb0: 7274 5f6e 756d 0a0a 2020 2020 2020 2020  rt_num..        
+00025fc0: 656c 6966 2064 6576 6963 655f 6c69 7374  elif device_list
+00025fd0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00025fe0: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+00025ff0: 6465 7669 6365 5f6c 6973 742c 206c 6973  device_list, lis
+00026000: 7429 2061 6e64 206e 6f74 2061 6c6c 2869  t) and not all(i
+00026010: 7369 6e73 7461 6e63 6528 642c 2064 6963  sinstance(d, dic
+00026020: 7429 2066 6f72 2064 2069 6e20 6465 7669  t) for d in devi
+00026030: 6365 5f6c 6973 7429 3a0a 2020 2020 2020  ce_list):.      
+00026040: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00026050: 5661 6c75 6545 7272 6f72 2822 5768 656e  ValueError("When
+00026060: 2075 7369 6e67 2064 6576 6963 655f 6c69   using device_li
+00026070: 7374 2074 6f20 6261 7463 6820 6164 6420  st to batch add 
+00026080: 6465 7669 6365 732c 2074 6865 7920 7368  devices, they sh
+00026090: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
+000260a0: 2061 7320 6120 6c69 7374 206f 6620 6469   as a list of di
+000260b0: 6374 7322 290a 0a20 2020 2020 2020 2020  cts")..         
+000260c0: 2020 205f 6b65 7973 203d 207b 0a20 2020     _keys = {.   
+000260d0: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
+000260e0: 635f 6164 6472 6573 7322 3a20 226d 6163  c_address": "mac
+000260f0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00026100: 2020 2022 7365 7269 616c 5f6e 756d 223a     "serial_num":
+00026110: 2022 7365 7269 616c 222c 0a20 2020 2020   "serial",.     
+00026120: 2020 2020 2020 2020 2020 2022 7061 7274             "part
+00026130: 5f6e 756d 223a 2022 7061 7274 4e75 6d62  _num": "partNumb
+00026140: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
+00026150: 7d0a 0a20 2020 2020 2020 2020 2020 206a  }..            j
+00026160: 736f 6e5f 6461 7461 203d 205b 5d0a 2020  son_data = [].  
+00026170: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
+00026180: 696e 2064 6576 6963 655f 6c69 7374 3a0a  in device_list:.
+00026190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000261a0: 6d61 6320 3d20 642e 6765 7428 226d 6163  mac = d.get("mac
+000261b0: 222c 2064 2e67 6574 2822 6d61 635f 6164  ", d.get("mac_ad
+000261c0: 6472 6573 7322 2929 0a20 2020 2020 2020  dress")).       
+000261d0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+000261e0: 6d61 633a 0a20 2020 2020 2020 2020 2020  mac:.           
+000261f0: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+00026200: 616c 7565 4572 726f 7228 6622 4e6f 204d  alueError(f"No M
+00026210: 6163 2041 6464 7265 7373 2066 6f75 6e64  ac Address found
+00026220: 2066 6f72 2065 6e74 7279 207b 647d 2229   for entry {d}")
+00026230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00026240: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00026250: 2020 2020 2020 2020 2020 206d 6163 203d             mac =
+00026260: 2075 7469 6c73 2e4d 6163 286d 6163 290a   utils.Mac(mac).
+00026270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026280: 2020 2020 6966 206e 6f74 206d 6163 3a0a      if not mac:.
+00026290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000262a0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
+000262b0: 6c75 6545 7272 6f72 2866 224d 6163 2041  lueError(f"Mac A
+000262c0: 6464 7265 7373 207b 6d61 637d 2061 7070  ddress {mac} app
+000262d0: 6561 7273 2074 6f20 6265 2069 6e76 616c  ears to be inval
+000262e0: 6964 2e22 290a 2020 2020 2020 2020 2020  id.").          
+000262f0: 2020 2020 2020 7365 7269 616c 203d 2064        serial = d
+00026300: 2e67 6574 2822 7365 7269 616c 222c 2064  .get("serial", d
+00026310: 2e67 6574 2822 7365 7269 616c 5f6e 756d  .get("serial_num
+00026320: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
+00026330: 2020 2020 5f74 6869 735f 6469 6374 203d      _this_dict =
+00026340: 207b 226d 6163 223a 206d 6163 2e63 6f6c   {"mac": mac.col
+00026350: 732c 2022 7365 7269 616c 223a 2073 6572  s, "serial": ser
+00026360: 6961 6c7d 0a20 2020 2020 2020 2020 2020  ial}.           
+00026370: 2020 2020 2070 6172 745f 6e75 6d20 3d20       part_num = 
+00026380: 642e 6765 7428 2270 6172 745f 6e75 6d22  d.get("part_num"
+00026390: 2c20 642e 6765 7428 2270 6172 744e 756d  , d.get("partNum
+000263a0: 6265 7222 2929 0a20 2020 2020 2020 2020  ber")).         
+000263b0: 2020 2020 2020 2069 6620 7061 7274 5f6e         if part_n
+000263c0: 756d 3a0a 2020 2020 2020 2020 2020 2020  um:.            
+000263d0: 2020 2020 2020 2020 5f74 6869 735f 6469          _this_di
+000263e0: 6374 5b22 7061 7274 4e75 6d62 6572 225d  ct["partNumber"]
+000263f0: 203d 2070 6172 745f 6e75 6d0a 0a20 2020   = part_num..   
+00026400: 2020 2020 2020 2020 2020 2020 206a 736f               jso
+00026410: 6e5f 6461 7461 202b 3d20 5b5f 7468 6973  n_data += [_this
+00026420: 5f64 6963 745d 0a0a 2020 2020 2020 2020  _dict]..        
+00026430: 2020 2020 746f 5f67 726f 7570 203d 207b      to_group = {
+00026440: 642e 6765 7428 2267 726f 7570 2229 3a20  d.get("group"): 
+00026450: 5b5d 2066 6f72 2064 2069 6e20 6465 7669  [] for d in devi
+00026460: 6365 5f6c 6973 7420 6966 2022 6772 6f75  ce_list if "grou
+00026470: 7022 2069 6e20 647d 0a20 2020 2020 2020  p" in d}.       
+00026480: 2020 2020 2066 6f72 2064 2069 6e20 6465       for d in de
+00026490: 7669 6365 5f6c 6973 743a 0a20 2020 2020  vice_list:.     
+000264a0: 2020 2020 2020 2020 2020 2069 6620 2267             if "g
+000264b0: 726f 7570 2220 696e 2064 3a0a 2020 2020  roup" in d:.    
+000264c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000264d0: 746f 5f67 726f 7570 5b64 5b22 6772 6f75  to_group[d["grou
+000264e0: 7022 5d5d 2e61 7070 656e 6428 642e 6765  p"]].append(d.ge
+000264f0: 7428 2273 6572 6961 6c5f 6e75 6d22 2c20  t("serial_num", 
+00026500: 642e 6765 7428 2273 6572 6961 6c22 2929  d.get("serial"))
+00026510: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+00026520: 2074 6f5f 7369 7465 203d 207b 642e 6765   to_site = {d.ge
+00026530: 7428 2273 6974 6522 293a 205b 5d20 666f  t("site"): [] fo
+00026540: 7220 6420 696e 2064 6576 6963 655f 6c69  r d in device_li
+00026550: 7374 2069 6620 2273 6974 6522 2069 6e20  st if "site" in 
+00026560: 647d 0a20 2020 2020 2020 2020 2020 2023  d}.            #
+00026570: 2066 6f72 2064 2069 6e20 6465 7669 6365   for d in device
+00026580: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
+00026590: 2020 2023 2020 2020 2069 6620 2273 6974     #     if "sit
+000265a0: 6522 2069 6e20 643a 0a20 2020 2020 2020  e" in d:.       
+000265b0: 2020 2020 2023 2020 2020 2020 2020 2074       #         t
+000265c0: 6f5f 7369 7465 5b64 5b22 7369 7465 225d  o_site[d["site"]
+000265d0: 5d2e 6170 7065 6e64 2864 2e67 6574 2822  ].append(d.get("
+000265e0: 7365 7269 616c 5f6e 756d 222c 2064 2e67  serial_num", d.g
+000265f0: 6574 2822 7365 7269 616c 2229 2929 0a0a  et("serial")))..
+00026600: 2020 2020 2020 2020 2020 2020 2320 4761              # Ga
+00026610: 7468 6572 2061 6c6c 2073 6572 6961 6c73  ther all serials
+00026620: 2066 6f72 2065 6163 6820 6c69 6365 6e73   for each licens
+00026630: 6520 636f 6d62 696e 6174 696f 6e20 6672  e combination fr
+00026640: 6f6d 2064 6576 6963 655f 6c69 7374 0a20  om device_list. 
+00026650: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+00026660: 4f20 7468 6973 206e 6565 6473 2074 6f20  O this needs to 
+00026670: 6265 2074 6573 7465 640a 2020 2020 2020  be tested.      
+00026680: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
+00026690: 7320 3d20 7b7d 0a20 2020 2020 2020 2020  s = {}.         
+000266a0: 2020 2066 6f72 2064 2069 6e20 6465 7669     for d in devi
+000266b0: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
+000266c0: 2020 2020 2020 2020 2069 6620 226c 6963           if "lic
+000266d0: 656e 7365 2220 6e6f 7420 696e 2064 3a0a  ense" not in d:.
+000266e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000266f0: 2020 2020 636f 6e74 696e 7565 0a0a 2020      continue..  
+00026700: 2020 2020 2020 2020 2020 2020 2020 645b                d[
+00026710: 226c 6963 656e 7365 225d 203d 2075 7469  "license"] = uti
+00026720: 6c73 2e6c 6973 7469 6679 2864 5b22 6c69  ls.listify(d["li
+00026730: 6365 6e73 6522 5d29 0a20 2020 2020 2020  cense"]).       
+00026740: 2020 2020 2020 2020 205f 6b65 7920 3d20           _key = 
+00026750: 6622 7b64 5b27 6c69 6365 6e73 6527 5d20  f"{d['license'] 
+00026760: 6966 206c 656e 2864 5b27 6c69 6365 6e73  if len(d['licens
+00026770: 6527 5d29 203d 3d20 3120 656c 7365 2027  e']) == 1 else '
+00026780: 7c27 2e6a 6f69 6e28 736f 7274 6564 2864  |'.join(sorted(d
+00026790: 5b27 6c69 6365 6e73 6527 5d29 297d 220a  ['license']))}".
+000267a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267b0: 5f73 6572 6961 6c20 3d20 642e 6765 7428  _serial = d.get(
+000267c0: 2273 6572 6961 6c5f 6e75 6d22 2c20 642e  "serial_num", d.
+000267d0: 6765 7428 2273 6572 6961 6c22 2929 0a20  get("serial")). 
+000267e0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000267f0: 6620 6e6f 7420 5f73 6572 6961 6c3a 0a20  f not _serial:. 
+00026800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026810: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+00026820: 726f 7228 6622 4e6f 2073 6572 6961 6c20  ror(f"No serial 
+00026830: 666f 756e 6420 666f 7220 6465 7669 6365  found for device
+00026840: 3a20 7b64 7d22 290a 0a20 2020 2020 2020  : {d}")..       
+00026850: 2020 2020 2020 2020 2069 6620 5f6b 6579           if _key
+00026860: 2069 6e20 5f6c 6963 5f6b 7761 7267 733a   in _lic_kwargs:
+00026870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00026880: 2020 2020 205f 6c69 635f 6b77 6172 6773       _lic_kwargs
+00026890: 5b5f 6b65 795d 5b22 7365 7269 616c 7322  [_key]["serials"
+000268a0: 5d20 2b3d 2075 7469 6c73 2e6c 6973 7469  ] += utils.listi
+000268b0: 6679 285f 7365 7269 616c 290a 2020 2020  fy(_serial).    
+000268c0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000268d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000268e0: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
+000268f0: 735b 5f6b 6579 5d20 3d20 7b0a 2020 2020  s[_key] = {.    
+00026900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026910: 2020 2020 2273 6572 7669 6365 7322 3a20      "services": 
+00026920: 7574 696c 732e 6c69 7374 6966 7928 645b  utils.listify(d[
+00026930: 226c 6963 656e 7365 225d 292c 0a20 2020  "license"]),.   
+00026940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026950: 2020 2020 2022 7365 7269 616c 7322 3a20       "serials": 
+00026960: 7574 696c 732e 6c69 7374 6966 7928 5f73  utils.listify(_s
+00026970: 6572 6961 6c29 0a20 2020 2020 2020 2020  erial).         
+00026980: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+00026990: 2020 2020 2020 2020 206c 6963 656e 7365           license
+000269a0: 5f6b 7761 7267 7320 3d20 6c69 7374 285f  _kwargs = list(_
+000269b0: 6c69 635f 6b77 6172 6773 2e76 616c 7565  lic_kwargs.value
+000269c0: 7328 2929 0a0a 2020 2020 2020 2020 2020  s())..          
+000269d0: 2020 2320 6c69 6365 6e73 655f 6172 6773    # license_args
+000269e0: 203d 205b 5b5d 2c20 5b5d 5d0a 2020 2020   = [[], []].    
+000269f0: 2020 2020 2020 2020 2320 6279 5f73 6572          # by_ser
+00026a00: 203d 207b 645b 2273 6572 6961 6c5f 6e75   = {d["serial_nu
+00026a10: 6d22 5d3a 2075 7469 6c73 2e6c 6973 7469  m"]: utils.listi
+00026a20: 6679 2864 2e67 6574 2822 6c69 6365 6e73  fy(d.get("licens
+00026a30: 6522 2929 2066 6f72 2064 2069 6e20 6465  e")) for d in de
+00026a40: 7669 6365 5f6c 6973 7420 6966 2064 2e67  vice_list if d.g
+00026a50: 6574 2822 6c69 6365 6e73 6522 297d 0a20  et("license")}. 
+00026a60: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+00026a70: 4f20 6d6f 7374 2065 6666 6963 6965 6e74  O most efficient
+00026a80: 2070 6169 7269 6e67 206f 6620 706f 7373   pairing of poss
+00026a90: 6962 6c65 206c 6963 2f64 6576 2066 6f72  ible lic/dev for
+00026aa0: 2066 6577 6573 7420 6361 6c6c 0a20 2020   fewest call.   
+00026ab0: 2020 2020 2020 2020 2023 2054 4f44 4f20           # TODO 
+00026ac0: 6c69 6365 6e73 6520 7669 6120 6c69 7374  license via list
+00026ad0: 206e 6f74 2069 6d70 6c65 6d65 6e74 6564   not implemented
+00026ae0: 2079 6574 2e0a 0a20 2020 2020 2020 2065   yet...        e
+00026af0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00026b00: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+00026b10: 7228 226d 6163 5f61 6464 7265 7373 2061  r("mac_address a
+00026b20: 6e64 2073 6572 6961 6c5f 6e75 6d20 6f72  nd serial_num or
+00026b30: 2064 6576 6963 655f 6c69 7374 2069 7320   device_list is 
+00026b40: 7265 7175 6972 6564 2229 0a0a 2020 2020  required")..    
+00026b50: 2020 2020 2320 5065 7266 6f72 6d20 4150      # Perform AP
+00026b60: 4920 6361 6c6c 2873 2920 746f 2043 656e  I call(s) to Cen
+00026b70: 7472 616c 2041 5049 2047 570a 2020 2020  tral API GW.    
+00026b80: 2020 2020 2320 544f 444f 2062 7265 616b      # TODO break
+00026b90: 206f 7574 2074 6865 2061 6464 2064 6576   out the add dev
+00026ba0: 6963 6520 6361 6c6c 2069 6e74 6f20 6974  ice call into it
+00026bb0: 2773 206f 776e 206d 6574 686f 642e 0a20  's own method.. 
+00026bc0: 2020 2020 2020 2069 6620 746f 5f67 726f         if to_gro
+00026bd0: 7570 206f 7220 6c69 6365 6e73 655f 6b77  up or license_kw
+00026be0: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
+00026bf0: 2020 2320 4164 6420 6465 7669 6365 7320    # Add devices 
+00026c00: 746f 2063 656e 7472 616c 2e20 2031 2041  to central.  1 A
+00026c10: 5049 2063 616c 6c20 666f 7220 3120 6f72  PI call for 1 or
+00026c20: 206d 616e 7920 6465 7669 6365 732e 0a20   many devices.. 
+00026c30: 2020 2020 2020 2020 2020 2062 7220 3d20             br = 
+00026c40: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
+00026c50: 740a 2020 2020 2020 2020 2020 2020 7265  t.            re
+00026c60: 7173 203d 205b 0a20 2020 2020 2020 2020  qs = [.         
+00026c70: 2020 2020 2020 2062 7228 7365 6c66 2e70         br(self.p
+00026c80: 6f73 742c 2075 726c 2c20 6a73 6f6e 5f64  ost, url, json_d
+00026c90: 6174 613d 6a73 6f6e 5f64 6174 6129 2c0a  ata=json_data),.
+00026ca0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
+00026cb0: 2020 2020 2020 2020 2020 2320 4173 7369            # Assi
+00026cc0: 676e 2064 6576 6963 6573 2074 6f20 7072  gn devices to pr
+00026cd0: 652d 7072 6f76 6973 696f 6e65 6420 6772  e-provisioned gr
+00026ce0: 6f75 702e 2020 3120 4150 4920 6361 6c6c  oup.  1 API call
+00026cf0: 2070 6572 2067 726f 7570 0a20 2020 2020   per group.     
+00026d00: 2020 2020 2020 2023 2054 4f44 4f20 7465         # TODO te
+00026d10: 7374 2074 6861 7420 7468 6973 2069 7320  st that this is 
+00026d20: 3120 4150 4920 6361 6c6c 2070 6572 2067  1 API call per g
+00026d30: 726f 7570 2e0a 2020 2020 2020 2020 2020  roup..          
+00026d40: 2020 6966 2074 6f5f 6772 6f75 703a 0a20    if to_group:. 
+00026d50: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00026d60: 726f 7570 5f72 6571 7320 3d20 5b62 7228  roup_reqs = [br(
+00026d70: 7365 6c66 2e70 7265 7072 6f76 6973 696f  self.preprovisio
+00026d80: 6e5f 6465 7669 6365 5f74 6f5f 6772 6f75  n_device_to_grou
+00026d90: 702c 2028 672c 2064 6576 7329 2920 666f  p, (g, devs)) fo
+00026da0: 7220 672c 2064 6576 7320 696e 2074 6f5f  r g, devs in to_
+00026db0: 6772 6f75 702e 6974 656d 7328 295d 0a20  group.items()]. 
+00026dc0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00026dd0: 6571 7320 3d20 5b2a 7265 7173 2c20 2a67  eqs = [*reqs, *g
+00026de0: 726f 7570 5f72 6571 735d 0a0a 2020 2020  roup_reqs]..    
+00026df0: 2020 2020 2020 2020 2320 544f 444f 2059          # TODO Y
+00026e00: 6f75 2063 616e 2061 6464 2074 6865 2064  ou can add the d
+00026e10: 6576 6963 6520 746f 2061 2073 6974 6520  evice to a site 
+00026e20: 6166 7465 7220 6974 2773 2062 6565 6e20  after it's been 
+00026e30: 7072 652d 6173 7369 676e 6564 0a20 2020  pre-assigned.   
+00026e40: 2020 2020 2020 2020 2023 2069 6620 746f           # if to
+00026e50: 5f73 6974 653a 0a20 2020 2020 2020 2020  _site:.         
+00026e60: 2020 2023 2020 2020 2073 6974 655f 7265     #     site_re
+00026e70: 7173 203d 205b 6272 2873 656c 662e 6d6f  qs = [br(self.mo
+00026e80: 7665 5f64 6576 6963 6573 5f74 6f5f 7369  ve_devices_to_si
+00026e90: 7465 2c20 2873 2c20 6465 7673 2c20 2267  te, (s, devs, "g
+00026ea0: 7722 2929 2066 6f72 2073 2c20 6465 7673  w")) for s, devs
+00026eb0: 2069 6e20 746f 5f73 6974 652e 6974 656d   in to_site.item
+00026ec0: 7328 295d 0a20 2020 2020 2020 2020 2020  s()].           
+00026ed0: 2023 2020 2020 2072 6571 7320 3d20 5b2a   #     reqs = [*
+00026ee0: 7265 7173 2c20 2a73 6974 655f 7265 7173  reqs, *site_reqs
+00026ef0: 5d0a 0a20 2020 2020 2020 2020 2020 2023  ]..            #
+00026f00: 2041 7373 6967 6e20 6c69 6365 6e73 6520   Assign license 
+00026f10: 746f 2064 6576 6963 6573 2e20 2031 2041  to devices.  1 A
+00026f20: 5049 2063 616c 6c20 666f 7220 616c 6c20  PI call for all 
+00026f30: 6465 7669 6365 7320 7769 7468 2073 616d  devices with sam
+00026f40: 6520 636f 6d62 696e 6174 696f 6e20 6f66  e combination of
+00026f50: 206c 6963 656e 7365 730a 2020 2020 2020   licenses.      
+00026f60: 2020 2020 2020 6966 206c 6963 656e 7365        if license
+00026f70: 5f6b 7761 7267 733a 0a20 2020 2020 2020  _kwargs:.       
+00026f80: 2020 2020 2020 2020 206c 6963 5f72 6571           lic_req
+00026f90: 7320 3d20 5b62 7228 7365 6c66 2e61 7373  s = [br(self.ass
+00026fa0: 6967 6e5f 6c69 6365 6e73 6573 2c20 2a2a  ign_licenses, **
+00026fb0: 6b77 6172 6773 2920 666f 7220 6b77 6172  kwargs) for kwar
+00026fc0: 6773 2069 6e20 6c69 6365 6e73 655f 6b77  gs in license_kw
+00026fd0: 6172 6773 5d0a 2020 2020 2020 2020 2020  args].          
+00026fe0: 2020 2020 2020 7265 7173 203d 205b 2a72        reqs = [*r
+00026ff0: 6571 732c 202a 6c69 635f 7265 7173 5d0a  eqs, *lic_reqs].
+00027000: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00027010: 7572 6e20 6177 6169 7420 7365 6c66 2e5f  urn await self._
+00027020: 6261 7463 685f 7265 7175 6573 7428 7265  batch_request(re
+00027030: 7173 2c20 636f 6e74 696e 7565 5f6f 6e5f  qs, continue_on_
+00027040: 6661 696c 3d54 7275 6529 0a20 2020 2020  fail=True).     
+00027050: 2020 2023 2065 6c69 6620 746f 5f73 6974     # elif to_sit
+00027060: 653a 0a20 2020 2020 2020 2023 2020 2020  e:.        #    
+00027070: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+00027080: 7228 2253 6974 6520 6361 6e20 6f6e 6c79  r("Site can only
+00027090: 2062 6520 7072 652d 6173 7369 676e 6564   be pre-assigned
+000270a0: 2069 6620 6465 7669 6365 2069 7320 7072   if device is pr
+000270b0: 652d 7072 6f76 6973 696f 6e65 6420 746f  e-provisioned to
+000270c0: 2061 2067 726f 7570 2229 0a20 2020 2020   a group").     
+000270d0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000270e0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+000270f0: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
+00027100: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+00027110: 6461 7461 290a 0a20 2020 2061 7379 6e63  data)..    async
+00027120: 2064 6566 2063 6f70 5f64 656c 6574 655f   def cop_delete_
+00027130: 6465 7669 6365 5f66 726f 6d5f 696e 7665  device_from_inve
+00027140: 6e74 6f72 7928 0a20 2020 2020 2020 2073  ntory(.        s
+00027150: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
+00027160: 6963 6573 3a20 4c69 7374 5b73 7472 5d20  ices: List[str] 
+00027170: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
+00027180: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00027190: 2020 2022 2222 4465 6c65 7465 2064 6576     """Delete dev
+000271a0: 6963 6573 2075 7369 6e67 2053 6572 6961  ices using Seria
+000271b0: 6c20 6e75 6d62 6572 2e20 204f 6e6c 7920  l number.  Only 
+000271c0: 6170 706c 6965 7320 746f 2043 6f50 2064  applies to CoP d
+000271d0: 6570 6c6f 796d 656e 7473 2e0a 0a20 2020  eployments...   
+000271e0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+000271f0: 2020 2020 2020 2064 6576 6963 6573 2028         devices (
+00027200: 6c69 7374 2c20 6f70 7469 6f6e 616c 293a  list, optional):
+00027210: 204c 6973 7420 6f66 2064 6576 6963 6573   List of devices
+00027220: 2074 6f20 6265 2064 656c 6574 6564 2066   to be deleted f
+00027230: 726f 6d0a 2020 2020 2020 2020 2020 2020  rom.            
+00027240: 2020 2020 4772 6565 6e4c 616b 6520 696e      GreenLake in
+00027250: 7665 6e74 6f72 792e 2020 4f6e 6c79 2061  ventory.  Only a
+00027260: 7070 6c69 6573 2074 6f20 436f 500a 0a20  pplies to CoP.. 
+00027270: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00027280: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00027290: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+000272a0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+000272b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000272c0: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+000272d0: 7466 6f72 6d2f 6465 7669 6365 5f69 6e76  tform/device_inv
+000272e0: 656e 746f 7279 2f76 312f 6465 7669 6365  entory/v1/device
+000272f0: 7322 0a0a 2020 2020 2020 2020 6465 7669  s"..        devi
+00027300: 6365 7320 3d20 5b7b 2273 6572 6961 6c22  ces = [{"serial"
+00027310: 3a20 7365 7269 616c 7d20 666f 7220 7365  : serial} for se
+00027320: 7269 616c 2069 6e20 6465 7669 6365 735d  rial in devices]
+00027330: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00027340: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+00027350: 7465 2875 726c 2c20 6a73 6f6e 5f64 6174  te(url, json_dat
+00027360: 613d 6465 7669 6365 7329 0a0a 2020 2020  a=devices)..    
+00027370: 2320 544f 444f 206d 6179 6265 2068 656c  # TODO maybe hel
+00027380: 7065 7220 6d65 7468 6f64 2074 6f20 6465  per method to de
+00027390: 6c65 7465 5f64 6576 6963 6520 7468 6174  lete_device that
+000273a0: 2063 616c 6c73 2074 6865 7365 0a20 2020   calls these.   
+000273b0: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
+000273c0: 655f 6761 7465 7761 7928 0a20 2020 2020  e_gateway(.     
+000273d0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+000273e0: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+000273f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00027400: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
+00027410: 7465 2047 6174 6577 6179 2e0a 0a20 2020  te Gateway...   
+00027420: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00027430: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+00027440: 7472 293a 2053 6572 6961 6c20 4e75 6d62  tr): Serial Numb
+00027450: 6572 206f 6620 4761 7465 7761 7920 746f  er of Gateway to
+00027460: 2062 6520 6465 6c65 7465 640a 0a20 2020   be deleted..   
+00027470: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00027480: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00027490: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+000274a0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+000274b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000274c0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
+000274d0: 746f 7269 6e67 2f76 322f 6d6f 6269 6c69  toring/v2/mobili
+000274e0: 7479 5f63 6f6e 7472 6f6c 6c65 7273 2f7b  ty_controllers/{
+000274f0: 7365 7269 616c 7d22 2069 6620 636f 6e66  serial}" if conf
+00027500: 6967 2e69 735f 636f 7020 656c 7365 2066  ig.is_cop else f
+00027510: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
+00027520: 6761 7465 7761 7973 2f7b 7365 7269 616c  gateways/{serial
+00027530: 7d22 0a0a 2020 2020 2020 2020 7265 7475  }"..        retu
+00027540: 726e 2061 7761 6974 2073 656c 662e 6465  rn await self.de
+00027550: 6c65 7465 2875 726c 290a 0a20 2020 2061  lete(url)..    a
+00027560: 7379 6e63 2064 6566 2064 656c 6574 655f  sync def delete_
+00027570: 7377 6974 6368 280a 2020 2020 2020 2020  switch(.        
+00027580: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
+00027590: 7269 616c 3a20 7374 722c 0a20 2020 2029  rial: str,.    )
+000275a0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000275b0: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
+000275c0: 5377 6974 6368 2e0a 0a20 2020 2020 2020  Switch...       
+000275d0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+000275e0: 2020 2073 6572 6961 6c20 2873 7472 293a     serial (str):
+000275f0: 2053 6572 6961 6c20 6e75 6d62 6572 206f   Serial number o
+00027600: 6620 7377 6974 6368 2074 6f20 6265 2064  f switch to be d
+00027610: 656c 6574 6564 0a0a 2020 2020 2020 2020  eleted..        
+00027620: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00027630: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00027640: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00027650: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00027660: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00027670: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
+00027680: 672f 7631 2f73 7769 7463 6865 732f 7b73  g/v1/switches/{s
+00027690: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
+000276a0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000276b0: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
+000276c0: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
+000276d0: 6c65 7465 5f73 7461 636b 280a 2020 2020  lete_stack(.    
+000276e0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+000276f0: 2020 7374 6163 6b5f 6964 3a20 7374 722c    stack_id: str,
+00027700: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00027710: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
+00027720: 656c 6574 6520 5377 6974 6368 2053 7461  elete Switch Sta
+00027730: 636b 2e0a 0a20 2020 2020 2020 2041 7267  ck...        Arg
+00027740: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00027750: 7461 636b 5f69 6420 2873 7472 293a 2046  tack_id (str): F
+00027760: 696c 7465 7220 6279 2053 7769 7463 6820  ilter by Switch 
+00027770: 7374 6163 6b5f 6964 0a0a 2020 2020 2020  stack_id..      
+00027780: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00027790: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+000277a0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+000277b0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+000277c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000277d0: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
+000277e0: 696e 672f 7631 2f73 7769 7463 685f 7374  ing/v1/switch_st
+000277f0: 6163 6b73 2f7b 7374 6163 6b5f 6964 7d22  acks/{stack_id}"
+00027800: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00027810: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+00027820: 7465 2875 726c 290a 0a20 2020 2061 7379  te(url)..    asy
+00027830: 6e63 2064 6566 2064 656c 6574 655f 6170  nc def delete_ap
+00027840: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00027850: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+00027860: 7374 722c 0a20 2020 2029 202d 3e20 5265  str,.    ) -> Re
+00027870: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00027880: 2222 2244 656c 6574 6520 4150 2e0a 0a20  """Delete AP... 
+00027890: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000278a0: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+000278b0: 2873 7472 293a 2053 6572 6961 6c20 4e75  (str): Serial Nu
+000278c0: 6d62 6572 206f 6620 4150 2074 6f20 6265  mber of AP to be
+000278d0: 2064 656c 6574 6564 0a0a 2020 2020 2020   deleted..      
+000278e0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000278f0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00027900: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00027910: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00027920: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00027930: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
+00027940: 696e 672f 7631 2f61 7073 2f7b 7365 7269  ing/v1/aps/{seri
+00027950: 616c 7d22 0a0a 2020 2020 2020 2020 7265  al}"..        re
+00027960: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00027970: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
+00027980: 2061 7379 6e63 2064 6566 2070 7265 7072   async def prepr
+00027990: 6f76 6973 696f 6e5f 6465 7669 6365 5f74  ovision_device_t
+000279a0: 6f5f 6772 6f75 7028 0a20 2020 2020 2020  o_group(.       
+000279b0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+000279c0: 726f 7570 5f6e 616d 653a 2073 7472 2c0a  roup_name: str,.
+000279d0: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
+000279e0: 756d 733a 204c 6973 745b 7374 725d 207c  ums: List[str] |
+000279f0: 2073 7472 2c0a 2020 2020 2020 2020 7465   str,.        te
+00027a00: 6e61 6e74 5f69 643a 2073 7472 203d 204e  nant_id: str = N
+00027a10: 6f6e 652c 0a20 2020 2029 202d 3e20 5265  one,.    ) -> Re
+00027a20: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00027a30: 2222 2250 7265 2050 726f 7669 7369 6f6e  """Pre Provision
+00027a40: 2061 2067 726f 7570 2074 6f20 7468 6520   a group to the 
+00027a50: 6465 7669 6365 2e0a 0a20 2020 2020 2020  device...       
+00027a60: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00027a70: 2020 2064 6576 6963 655f 6964 2028 4c69     device_id (Li
+00027a80: 7374 5b73 7472 5d29 3a20 6465 7669 6365  st[str]): device
+00027a90: 5f69 640a 2020 2020 2020 2020 2020 2020  _id.            
+00027aa0: 6772 6f75 705f 6e61 6d65 2028 7374 7229  group_name (str)
+00027ab0: 3a20 4772 6f75 7020 6e61 6d65 0a20 2020  : Group name.   
+00027ac0: 2020 2020 2020 2020 2074 656e 616e 745f           tenant_
+00027ad0: 6964 2028 7374 7229 3a20 5465 6e61 6e74  id (str): Tenant
+00027ae0: 2069 642c 2028 6f6e 6c79 2061 7070 6c69   id, (only appli
+00027af0: 6361 626c 6520 7769 7468 204d 5350 206d  cable with MSP m
+00027b00: 6f64 6529 0a0a 2020 2020 2020 2020 5265  ode)..        Re
+00027b10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00027b20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00027b30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00027b40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00027b50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00027b60: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+00027b70: 6e2f 7631 2f70 7265 6173 7369 676e 220a  n/v1/preassign".
+00027b80: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00027b90: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00027ba0: 2020 2027 6465 7669 6365 5f69 6427 3a20     'device_id': 
+00027bb0: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
+00027bc0: 7269 616c 5f6e 756d 7329 2c0a 2020 2020  rial_nums),.    
+00027bd0: 2020 2020 2020 2020 2767 726f 7570 5f6e          'group_n
+00027be0: 616d 6527 3a20 6772 6f75 705f 6e61 6d65  ame': group_name
+00027bf0: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
+00027c00: 2020 2020 2069 6620 7465 6e61 6e74 5f69       if tenant_i
+00027c10: 6420 6973 206e 6f74 204e 6f6e 653a 0a20  d is not None:. 
+00027c20: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
+00027c30: 6461 7461 5b22 7465 6e61 6e74 5f69 6422  data["tenant_id"
+00027c40: 5d20 3d20 7374 7228 7465 6e61 6e74 5f69  ] = str(tenant_i
+00027c50: 6429 0a0a 2020 2020 2020 2020 7265 7475  d)..        retu
+00027c60: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
+00027c70: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
+00027c80: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+00027c90: 2020 2320 544f 444f 2076 6572 6966 7920    # TODO verify 
+00027ca0: 7479 7065 2d68 696e 7420 666f 7220 6465  type-hint for de
+00027cb0: 7669 6365 5f6c 6973 7420 6973 2074 6865  vice_list is the
+00027cc0: 2072 6967 6874 2077 6179 2074 6f20 646f   right way to do
+00027cd0: 2074 6861 742e 0a20 2020 2061 7379 6e63   that..    async
+00027ce0: 2064 6566 2076 6572 6966 795f 6465 7669   def verify_devi
+00027cf0: 6365 5f61 6464 6974 696f 6e28 0a20 2020  ce_addition(.   
+00027d00: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00027d10: 2020 2073 6572 6961 6c5f 6e75 6d3a 2073     serial_num: s
+00027d20: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00027d30: 2020 206d 6163 5f61 6464 7265 7373 3a20     mac_address: 
+00027d40: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00027d50: 2020 2020 6465 7669 6365 5f6c 6973 743a      device_list:
+00027d60: 204c 6973 745b 4469 6374 5b4c 6974 6572   List[Dict[Liter
+00027d70: 616c 5b22 6d61 635f 6164 6472 6573 7322  al["mac_address"
+00027d80: 2c20 2273 6572 6961 6c5f 6e75 6d22 5d2c  , "serial_num"],
+00027d90: 2073 7472 5d5d 203d 205b 5d0a 2020 2020   str]] = [].    
+00027da0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00027db0: 2020 2020 2020 2022 2222 5665 7269 6679         """Verify
+00027dc0: 2044 6576 6963 6520 4164 6469 7469 6f6e   Device Addition
+00027dd0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00027de0: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+00027df0: 616c 5f6e 756d 2028 7374 722c 206f 7074  al_num (str, opt
+00027e00: 696f 6e61 6c29 3a20 5365 7269 616c 204e  ional): Serial N
+00027e10: 756d 6265 7220 6f66 2064 6576 6963 6520  umber of device 
+00027e20: 746f 2076 6572 6966 792e 2044 6566 6175  to verify. Defau
+00027e30: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00027e40: 2020 2020 2020 2020 206d 6163 5f61 6464           mac_add
+00027e50: 7265 7373 2028 7374 722c 206f 7074 696f  ress (str, optio
+00027e60: 6e61 6c29 3a20 4d61 6320 4164 6472 6573  nal): Mac Addres
+00027e70: 7320 6f66 2064 6576 6963 6520 746f 2076  s of device to v
+00027e80: 6572 6966 792e 2044 6566 6175 6c74 7320  erify. Defaults 
+00027e90: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00027ea0: 2020 2020 2064 6576 6963 655f 6c69 7374       device_list
+00027eb0: 2028 4c69 7374 5b44 6963 745b 4c69 7465   (List[Dict[Lite
+00027ec0: 7261 6c5b 2c20 6f70 7469 6f6e 616c 293a  ral[, optional):
+00027ed0: 2064 6576 6963 655f 6c69 7374 206c 6973   device_list lis
+00027ee0: 7420 6f66 2064 6963 7473 2077 6974 680a  t of dicts with.
+00027ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027f00: 2273 6572 6961 6c5f 6e75 6d22 2061 6e64  "serial_num" and
+00027f10: 2022 6d61 635f 6164 6472 6573 7322 2066   "mac_address" f
+00027f20: 6f72 2065 6163 6820 6465 7669 6365 2074  or each device t
+00027f30: 6f20 7665 7269 6679 2e20 4465 6661 756c  o verify. Defaul
+00027f40: 7473 2074 6f20 4e6f 6e65 2e0a 0a20 2020  ts to None...   
+00027f50: 2020 2020 204d 7573 7420 7072 6f76 6964       Must provid
+00027f60: 6520 7365 7269 616c 5f6e 756d 2061 6e64  e serial_num and
+00027f70: 206d 6163 5f61 6464 7265 7373 2066 6f72   mac_address for
+00027f80: 2065 6163 6820 6465 7669 6365 2065 6974   each device eit
+00027f90: 6865 7220 7669 6120 6b65 7977 6f72 6420  her via keyword 
+00027fa0: 6172 6775 6d65 6e74 206f 7220 6c69 7374  argument or list
+00027fb0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00027fc0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00027fd0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00027fe0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00027ff0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00028000: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00028010: 2f70 6c61 7466 6f72 6d2f 6465 7669 6365  /platform/device
+00028020: 5f69 6e76 656e 746f 7279 2f76 312f 6465  _inventory/v1/de
+00028030: 7669 6365 732f 7665 7269 6679 220a 2020  vices/verify".  
+00028040: 2020 2020 2020 6966 2073 6572 6961 6c5f        if serial_
+00028050: 6e75 6d20 616e 6420 6d61 635f 6164 6472  num and mac_addr
+00028060: 6573 733a 0a20 2020 2020 2020 2020 2020  ess:.           
+00028070: 2064 6576 6963 655f 6c69 7374 202b 3d20   device_list += 
+00028080: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00028090: 2020 2273 6572 6961 6c5f 6e75 6d22 3a20    "serial_num": 
+000280a0: 7365 7269 616c 5f6e 756d 2c0a 2020 2020  serial_num,.    
+000280b0: 2020 2020 2020 2020 2020 2020 226d 6163              "mac
+000280c0: 5f61 6464 7265 7373 223a 206d 6163 5f61  _address": mac_a
+000280d0: 6464 7265 7373 2c0a 2020 2020 2020 2020  ddress,.        
+000280e0: 2020 2020 7d0a 0a20 2020 2020 2020 2069      }..        i
+000280f0: 6620 6e6f 7420 6465 7669 6365 5f6c 6973  f not device_lis
+00028100: 743a 0a20 2020 2020 2020 2020 2020 2072  t:.            r
+00028110: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
+00028120: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028130: 2022 496e 7661 6c69 6420 7061 7261 6d65   "Invalid parame
+00028140: 7465 7273 2065 7870 6563 7469 6e67 2073  ters expecting s
+00028150: 6572 6961 6c5f 6e75 6d20 616e 6420 6d61  erial_num and ma
+00028160: 635f 6164 6472 6573 7320 666f 7220 6561  c_address for ea
+00028170: 6368 2064 6576 6963 6520 220a 2020 2020  ch device ".    
+00028180: 2020 2020 2020 2020 2020 2020 2265 6974              "eit
+00028190: 6865 7220 7669 6120 6b65 7977 6f72 6420  her via keyword 
+000281a0: 6172 6775 6d65 6e74 206f 7220 4c69 7374  argument or List
+000281b0: 5b64 6963 745d 2e22 0a20 2020 2020 2020  [dict].".       
+000281c0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+000281d0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+000281e0: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+000281f0: 5f64 6174 613d 6465 7669 6365 5f6c 6973  _data=device_lis
+00028200: 7429 0a0a 2020 2020 6173 796e 6320 6465  t)..    async de
+00028210: 6620 7570 6c6f 6164 5f63 6572 7469 6669  f upload_certifi
+00028220: 6361 7465 280a 2020 2020 2020 2020 7365  cate(.        se
+00028230: 6c66 2c0a 2020 2020 2020 2020 7061 7373  lf,.        pass
+00028240: 7068 7261 7365 3a20 7374 7220 3d20 2222  phrase: str = ""
+00028250: 2c0a 2020 2020 2020 2020 6365 7274 5f66  ,.        cert_f
+00028260: 696c 653a 2055 6e69 6f6e 5b73 7472 2c20  ile: Union[str, 
+00028270: 5061 7468 5d20 3d20 4e6f 6e65 2c0a 2020  Path] = None,.  
+00028280: 2020 2020 2020 6365 7274 5f6e 616d 653a        cert_name:
+00028290: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000282a0: 2020 2020 2063 6572 745f 666f 726d 6174       cert_format
+000282b0: 3a20 4c69 7465 7261 6c5b 2250 454d 222c  : Literal["PEM",
+000282c0: 2022 4445 5222 2c20 2250 4b43 5331 3222   "DER", "PKCS12"
+000282d0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+000282e0: 2020 6365 7274 5f64 6174 613a 2073 7472    cert_data: str
+000282f0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00028300: 2073 6572 7665 725f 6365 7274 3a20 626f   server_cert: bo
+00028310: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00028320: 2020 2020 6361 5f63 6572 743a 2062 6f6f      ca_cert: boo
+00028330: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+00028340: 2020 2063 726c 3a20 626f 6f6c 203d 2046     crl: bool = F
+00028350: 616c 7365 2c0a 2020 2020 2020 2020 696e  alse,.        in
+00028360: 745f 6361 5f63 6572 743a 2062 6f6f 6c20  t_ca_cert: bool 
+00028370: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00028380: 206f 6373 705f 7265 7370 5f63 6572 743a   ocsp_resp_cert:
+00028390: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+000283a0: 2020 2020 2020 206f 6373 705f 7369 676e         ocsp_sign
+000283b0: 6572 5f63 6572 743a 2062 6f6f 6c20 3d20  er_cert: bool = 
+000283c0: 4661 6c73 652c 0a20 2020 2020 2020 2073  False,.        s
+000283d0: 7368 5f70 7562 5f6b 6579 3a20 626f 6f6c  sh_pub_key: bool
+000283e0: 203d 2046 616c 7365 2c0a 2020 2020 2920   = False,.    ) 
+000283f0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00028400: 2020 2020 2022 2222 5570 6c6f 6164 2061       """Upload a
+00028410: 2063 6572 7469 6669 6361 7465 2e0a 0a20   certificate... 
+00028420: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00028430: 2020 2020 2020 2020 2070 6173 7370 6872           passphr
+00028440: 6173 6520 2873 7472 293a 2070 6173 7370  ase (str): passp
+00028450: 6872 6173 650a 2020 2020 2020 2020 2020  hrase.          
+00028460: 2020 6365 7274 5f66 696c 6520 2850 6174    cert_file (Pat
+00028470: 687c 7374 722c 206f 7074 696f 6e61 6c29  h|str, optional)
+00028480: 3a20 4365 7274 2066 696c 6520 746f 2075  : Cert file to u
+00028490: 706c 6f61 642c 2069 6620 6669 6c65 2069  pload, if file i
+000284a0: 7320 7072 6f76 6964 6564 2063 6572 745f  s provided cert_
+000284b0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+000284c0: 2020 2020 2061 6e64 2063 6572 745f 666f       and cert_fo
+000284d0: 726d 6174 2077 696c 6c20 6265 2064 6572  rmat will be der
+000284e0: 6976 6564 2066 726f 6d20 6669 6c65 206e  ived from file n
+000284f0: 616d 6520 2f20 6578 7465 6e73 696f 6e2c  ame / extension,
+00028500: 2075 6e6c 6573 7320 7468 6f73 6520 7061   unless those pa
+00028510: 7261 6d73 0a20 2020 2020 2020 2020 2020  rams.           
+00028520: 2020 2020 2061 7265 2061 6c73 6f20 7072       are also pr
+00028530: 6f76 6964 6564 2e0a 2020 2020 2020 2020  ovided..        
+00028540: 2020 2020 6365 7274 5f6e 616d 6520 2873      cert_name (s
+00028550: 7472 2c20 6f70 7469 6f6e 616c 293a 2054  tr, optional): T
+00028560: 6865 206e 616d 6520 6f66 2074 6865 2063  he name of the c
+00028570: 6572 7469 6669 6361 7465 2e0a 2020 2020  ertificate..    
+00028580: 2020 2020 2020 2020 6365 7274 5f66 6f72          cert_for
+00028590: 6d61 7420 284c 6974 6572 616c 5b22 5045  mat (Literal["PE
+000285a0: 4d22 2c20 2244 4552 222c 2022 504b 4353  M", "DER", "PKCS
+000285b0: 3132 225d 2c20 6f70 7469 6f6e 616c 293a  12"], optional):
+000285c0: 2063 6572 745f 666f 726d 6174 2020 5661   cert_format  Va
+000285d0: 6c69 6420 5661 6c75 6573 3a20 5045 4d2c  lid Values: PEM,
+000285e0: 2044 4552 2c20 504b 4353 3132 0a20 2020   DER, PKCS12.   
+000285f0: 2020 2020 2020 2020 2063 6572 745f 6461           cert_da
+00028600: 7461 2028 7374 722c 206f 7074 696f 6e61  ta (str, optiona
+00028610: 6c29 3a20 4365 7274 6966 6963 6174 6520  l): Certificate 
+00028620: 636f 6e74 656e 7420 656e 636f 6465 6420  content encoded 
+00028630: 696e 2062 6173 6536 3420 666f 7220 616c  in base64 for al
+00028640: 6c20 666f 726d 6174 2063 6572 7469 6669  l format certifi
+00028650: 6361 7465 732e 0a20 2020 2020 2020 2020  cates..         
+00028660: 2020 2073 6572 7665 725f 6365 7274 2028     server_cert (
+00028670: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+00028680: 2053 6574 2074 6f20 5472 7565 2069 6620   Set to True if 
+00028690: 6365 7274 2069 7320 6120 7365 7276 6572  cert is a server
+000286a0: 2063 6572 7469 6669 6361 7465 2e20 4465   certificate. De
+000286b0: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
+000286c0: 0a20 2020 2020 2020 2020 2020 2063 615f  .            ca_
+000286d0: 6365 7274 2028 626f 6f6c 2c20 6f70 7469  cert (bool, opti
+000286e0: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
+000286f0: 7565 2069 6620 6365 7274 2069 7320 6120  ue if cert is a 
+00028700: 4341 2043 6572 7469 6669 6361 7465 2e20  CA Certificate. 
+00028710: 4465 6661 756c 7473 2074 6f20 4661 6c73  Defaults to Fals
+00028720: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
+00028730: 726c 2028 626f 6f6c 2c20 6f70 7469 6f6e  rl (bool, option
+00028740: 616c 293a 2053 6574 2074 6f20 5472 7565  al): Set to True
+00028750: 2069 6620 6461 7461 2069 7320 6120 6365   if data is a ce
+00028760: 7274 6966 6963 6174 6520 7265 766f 6361  rtificate revoca
+00028770: 7469 6f6e 206c 6973 742e 2044 6566 6175  tion list. Defau
+00028780: 6c74 7320 746f 2046 616c 7365 2e0a 2020  lts to False..  
+00028790: 2020 2020 2020 2020 2020 696e 745f 6361            int_ca
+000287a0: 5f63 6572 7420 2862 6f6f 6c2c 206f 7074  _cert (bool, opt
+000287b0: 696f 6e61 6c29 3a20 5365 7420 746f 2054  ional): Set to T
+000287c0: 7275 6520 6966 2063 6572 7469 6669 6361  rue if certifica
+000287d0: 7465 2069 7320 616e 2069 6e74 6572 6d65  te is an interme
+000287e0: 6469 6174 6520 4341 2063 6572 742e 2044  diate CA cert. D
+000287f0: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+00028800: 2e0a 2020 2020 2020 2020 2020 2020 6f63  ..            oc
+00028810: 7370 5f72 6573 705f 6365 7274 2028 626f  sp_resp_cert (bo
+00028820: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2053  ol, optional): S
+00028830: 6574 2074 6f20 5472 7565 2069 6620 6365  et to True if ce
+00028840: 7274 6966 6963 6174 6520 6973 2061 6e20  rtificate is an 
+00028850: 4f43 5350 2072 6573 706f 6e64 6572 2063  OCSP responder c
+00028860: 6572 742e 2044 6566 6175 6c74 7320 746f  ert. Defaults to
+00028870: 2046 616c 7365 2e0a 2020 2020 2020 2020   False..        
+00028880: 2020 2020 6f63 7370 5f73 6967 6e65 725f      ocsp_signer_
+00028890: 6365 7274 2028 626f 6f6c 2c20 6f70 7469  cert (bool, opti
+000288a0: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
+000288b0: 7565 2069 6620 6365 7274 6966 6963 6174  ue if certificat
+000288c0: 6520 6973 2061 6e20 4f43 5350 2073 6967  e is an OCSP sig
+000288d0: 6e65 7220 6365 7274 2e20 4465 6661 756c  ner cert. Defaul
+000288e0: 7473 2074 6f20 4661 6c73 652e 0a20 2020  ts to False..   
+000288f0: 2020 2020 2020 2020 2073 7368 5f70 7562           ssh_pub
+00028900: 5f6b 6579 2028 626f 6f6c 2c20 6f70 7469  _key (bool, opti
+00028910: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
+00028920: 7565 2069 6620 6365 7274 6966 6963 6174  ue if certificat
+00028930: 6520 6973 2061 6e20 5353 4820 5075 6220  e is an SSH Pub 
+00028940: 6b65 792e 2044 6566 6175 6c74 7320 746f  key. Defaults to
+00028950: 2046 616c 7365 2e0a 2020 2020 2020 2020   False..        
+00028960: 2020 2020 2020 2020 7373 685f 7075 625f          ssh_pub_
+00028970: 6b65 7920 6e65 6564 7320 746f 2062 6520  key needs to be 
+00028980: 696e 2050 454d 2066 6f72 6d61 742c 2073  in PEM format, s
+00028990: 7368 2d72 7361 2069 7320 6e6f 7420 7375  sh-rsa is not su
+000289a0: 7070 6f72 7465 642e 0a0a 2020 2020 2020  pported...      
+000289b0: 2020 5261 6973 6573 3a0a 2020 2020 2020    Raises:.      
+000289c0: 2020 2020 2020 5661 6c75 6545 7272 6f72        ValueError
+000289d0: 3a20 5261 6973 6564 2069 6620 696e 7661  : Raised if inva
+000289e0: 6c69 6420 636f 6d62 696e 6174 696f 6e20  lid combination 
+000289f0: 6f66 2061 7267 756d 656e 7473 2069 7320  of arguments is 
+00028a00: 7072 6f76 6964 6564 2e0a 0a20 2020 2020  provided...     
+00028a10: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00028a20: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00028a30: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00028a40: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00028a50: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00028a60: 2023 2041 5049 2d46 4c41 5720 4150 4920   # API-FLAW API 
+00028a70: 6d65 7468 6f64 2c20 5055 424c 4943 5f43  method, PUBLIC_C
+00028a80: 4552 5420 6973 206e 6f74 2061 6363 6570  ERT is not accep
+00028a90: 7465 640a 2020 2020 2020 2020 7572 6c20  ted.        url 
+00028aa0: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+00028ab0: 6e2f 7631 2f63 6572 7469 6669 6361 7465  n/v1/certificate
+00028ac0: 7322 0a20 2020 2020 2020 2076 616c 6964  s".        valid
+00028ad0: 5f74 7970 6573 203d 205b 0a20 2020 2020  _types = [.     
+00028ae0: 2020 2020 2020 2022 5345 5256 4552 5f43         "SERVER_C
+00028af0: 4552 5422 2c0a 2020 2020 2020 2020 2020  ERT",.          
+00028b00: 2020 2243 415f 4345 5254 222c 0a20 2020    "CA_CERT",.   
+00028b10: 2020 2020 2020 2020 2022 4352 4c22 2c0a           "CRL",.
+00028b20: 2020 2020 2020 2020 2020 2020 2249 4e54              "INT
+00028b30: 4552 4d45 4449 4154 455f 4341 222c 0a20  ERMEDIATE_CA",. 
+00028b40: 2020 2020 2020 2020 2020 2022 4f43 5350             "OCSP
+00028b50: 5f52 4553 504f 4e44 4552 5f43 4552 5422  _RESPONDER_CERT"
+00028b60: 2c0a 2020 2020 2020 2020 2020 2020 224f  ,.            "O
+00028b70: 4353 505f 5349 474e 4552 5f43 4552 5422  CSP_SIGNER_CERT"
+00028b80: 2c0a 2020 2020 2020 2020 2020 2020 2250  ,.            "P
+00028b90: 5542 4c49 435f 4345 5254 220a 2020 2020  UBLIC_CERT".    
+00028ba0: 2020 2020 5d0a 2020 2020 2020 2020 7479      ].        ty
+00028bb0: 7065 5f76 6172 7320 3d20 5b73 6572 7665  pe_vars = [serve
+00028bc0: 725f 6365 7274 2c20 6361 5f63 6572 742c  r_cert, ca_cert,
+00028bd0: 2063 726c 2c20 696e 745f 6361 5f63 6572   crl, int_ca_cer
+00028be0: 742c 206f 6373 705f 7265 7370 5f63 6572  t, ocsp_resp_cer
+00028bf0: 742c 206f 6373 705f 7369 676e 6572 5f63  t, ocsp_signer_c
+00028c00: 6572 742c 2073 7368 5f70 7562 5f6b 6579  ert, ssh_pub_key
+00028c10: 5d0a 2020 2020 2020 2020 6966 2074 7970  ].        if typ
+00028c20: 655f 7661 7273 2e63 6f75 6e74 2854 7275  e_vars.count(Tru
+00028c30: 6529 203e 2031 3a0a 2020 2020 2020 2020  e) > 1:.        
+00028c40: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+00028c50: 7272 6f72 2822 5072 6f76 6964 6564 2063  rror("Provided c
+00028c60: 6f6e 666c 6963 7469 6e67 2063 6572 7469  onflicting certi
+00028c70: 6669 6361 7465 2074 7970 6573 2c20 6f6e  ficate types, on
+00028c80: 6c79 2031 2073 686f 756c 6420 6265 2073  ly 1 should be s
+00028c90: 6574 2074 6f20 5472 7565 2e22 290a 2020  et to True.").  
+00028ca0: 2020 2020 2020 656c 6966 2061 6c6c 285b        elif all([
+00028cb0: 6e6f 7420 626f 6f6c 2876 6172 2920 666f  not bool(var) fo
+00028cc0: 7220 7661 7220 696e 2074 7970 655f 7661  r var in type_va
+00028cd0: 7273 5d29 3a0a 2020 2020 2020 2020 2020  rs]):.          
+00028ce0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+00028cf0: 6f72 2822 4e6f 2063 6572 745f 7479 7065  or("No cert_type
+00028d00: 2070 726f 7669 6465 642c 206f 6e65 206f   provided, one o
+00028d10: 6620 7468 6520 6365 7274 5f74 7970 6573  f the cert_types
+00028d20: 2073 686f 756c 6420 6265 2073 6574 2074   should be set t
+00028d30: 6f20 5472 7565 2229 0a0a 2020 2020 2020  o True")..      
+00028d40: 2020 6966 2063 6572 745f 666f 726d 6174    if cert_format
+00028d50: 2061 6e64 2063 6572 745f 666f 726d 6174   and cert_format
+00028d60: 2e75 7070 6572 2829 206e 6f74 2069 6e20  .upper() not in 
+00028d70: 5b22 5045 4d22 2c20 2244 4552 222c 2022  ["PEM", "DER", "
+00028d80: 504b 4353 3132 225d 3a0a 2020 2020 2020  PKCS12"]:.      
+00028d90: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
+00028da0: 6545 7272 6f72 2866 2249 6e76 616c 6964  eError(f"Invalid
+00028db0: 2063 6572 745f 666f 726d 6174 207b 6365   cert_format {ce
+00028dc0: 7274 5f66 6f72 6d61 747d 2c20 7661 6c69  rt_format}, vali
+00028dd0: 6420 7661 6c75 6573 2061 7265 2027 5045  d values are 'PE
+00028de0: 4d27 2c20 2744 4552 272c 2027 504b 4353  M', 'DER', 'PKCS
+00028df0: 3132 2722 290a 2020 2020 2020 2020 656c  12'").        el
+00028e00: 6966 206e 6f74 2063 6572 745f 666f 726d  if not cert_form
+00028e10: 6174 2061 6e64 206e 6f74 2063 6572 745f  at and not cert_
+00028e20: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
+00028e30: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+00028e40: 6f72 2822 6365 7274 5f66 6f72 6d61 7420  or("cert_format 
+00028e50: 6973 2072 6571 7569 7265 6420 7768 656e  is required when
+00028e60: 206e 6f74 2070 726f 7669 6469 6e67 2063   not providing c
+00028e70: 6572 7469 6669 6361 7465 2076 6961 2066  ertificate via f
+00028e80: 696c 652e 2229 0a0a 2020 2020 2020 2020  ile.")..        
+00028e90: 6966 206e 6f74 2063 6572 745f 6461 7461  if not cert_data
+00028ea0: 2061 6e64 206e 6f74 2063 6572 745f 6669   and not cert_fi
+00028eb0: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
+00028ec0: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00028ed0: 2822 4f6e 6520 6f66 2063 6572 745f 6669  ("One of cert_fi
+00028ee0: 6c65 206f 7220 6365 7274 5f64 6174 6120  le or cert_data 
+00028ef0: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
+00028f00: 6564 2229 0a20 2020 2020 2020 2065 6c69  ed").        eli
+00028f10: 6620 6365 7274 5f64 6174 6120 616e 6420  f cert_data and 
+00028f20: 6365 7274 5f66 696c 653a 0a20 2020 2020  cert_file:.     
+00028f30: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+00028f40: 7565 4572 726f 7228 224f 6e6c 7920 6f6e  ueError("Only on
+00028f50: 6520 6f66 2063 6572 745f 6669 6c65 2061  e of cert_file a
+00028f60: 6e64 2063 6572 745f 6461 7461 2073 686f  nd cert_data sho
+00028f70: 756c 6420 6265 2070 726f 7669 6465 6422  uld be provided"
+00028f80: 290a 0a20 2020 2020 2020 2066 6f72 2063  )..        for c
+00028f90: 6572 745f 7479 7065 2c20 7661 7220 696e  ert_type, var in
+00028fa0: 207a 6970 2876 616c 6964 5f74 7970 6573   zip(valid_types
+00028fb0: 2c20 7479 7065 5f76 6172 7329 3a0a 2020  , type_vars):.  
+00028fc0: 2020 2020 2020 2020 2020 6966 2076 6172            if var
+00028fd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00028fe0: 2020 6272 6561 6b0a 0a20 2020 2020 2020    break..       
+00028ff0: 2069 6620 6365 7274 5f66 696c 653a 0a20   if cert_file:. 
+00029000: 2020 2020 2020 2020 2020 2063 6572 745f             cert_
+00029010: 6669 6c65 203d 2050 6174 6828 6365 7274  file = Path(cert
+00029020: 5f66 696c 6529 2069 6620 6e6f 7420 6973  _file) if not is
+00029030: 696e 7374 616e 6365 2863 6572 745f 6669  instance(cert_fi
+00029040: 6c65 2c20 5061 7468 2920 656c 7365 2063  le, Path) else c
+00029050: 6572 745f 6669 6c65 0a20 2020 2020 2020  ert_file.       
+00029060: 2020 2020 2063 6572 745f 6e61 6d65 203d       cert_name =
+00029070: 2063 6572 745f 6e61 6d65 206f 7220 6365   cert_name or ce
+00029080: 7274 5f66 696c 652e 7374 656d 0a20 2020  rt_file.stem.   
+00029090: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+000290a0: 6365 7274 5f66 6f72 6d61 743a 0a20 2020  cert_format:.   
+000290b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000290c0: 6365 7274 5f66 696c 652e 7375 6666 6978  cert_file.suffix
+000290d0: 2e6c 6f77 6572 2829 2069 6e20 5b22 2e70  .lower() in [".p
+000290e0: 6678 222c 2022 2e70 3132 225d 3a0a 2020  fx", ".p12"]:.  
+000290f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029100: 2020 6365 7274 5f66 6f72 6d61 7420 3d20    cert_format = 
+00029110: 2250 4b43 5331 3222 0a20 2020 2020 2020  "PKCS12".       
+00029120: 2020 2020 2020 2020 2065 6c69 6620 6365           elif ce
+00029130: 7274 5f66 696c 652e 7375 6666 6978 2e6c  rt_file.suffix.l
+00029140: 6f77 6572 2829 2069 6e20 5b22 2e70 656d  ower() in [".pem
+00029150: 222c 2022 2e63 6572 225d 3a0a 2020 2020  ", ".cer"]:.    
+00029160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029170: 6365 7274 5f66 6f72 6d61 7420 3d20 2250  cert_format = "P
+00029180: 454d 220a 2020 2020 2020 2020 2020 2020  EM".            
+00029190: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000291a0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+000291b0: 544f 444f 2064 6574 6572 6d69 6e65 2066  TODO determine f
+000291c0: 6f72 6d61 7420 7573 696e 6720 6372 7970  ormat using cryp
+000291d0: 746f 6772 6170 6879 206c 6962 0a20 2020  tography lib.   
+000291e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000291f0: 2063 6572 745f 666f 726d 6174 203d 2022   cert_format = "
+00029200: 4445 5222 0a20 2020 2020 2020 2020 2020  DER".           
+00029210: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00029220: 2020 2020 2020 2063 6572 745f 666f 726d         cert_form
+00029230: 6174 203d 2063 6572 745f 666f 726d 6174  at = cert_format
+00029240: 2e75 7070 6572 2829 0a0a 2020 2020 2020  .upper()..      
+00029250: 2020 2020 2020 6365 7274 5f64 6174 6120        cert_data 
+00029260: 3d20 6365 7274 5f66 696c 652e 7265 6164  = cert_file.read
+00029270: 5f74 6578 7428 290a 0a20 2020 2020 2020  _text()..       
+00029280: 2063 6572 745f 6279 7465 7320 3d20 6365   cert_bytes = ce
+00029290: 7274 5f64 6174 612e 656e 636f 6465 2822  rt_data.encode("
+000292a0: 7574 662d 3822 290a 2020 2020 2020 2020  utf-8").        
+000292b0: 6365 7274 5f62 3634 203d 2062 6173 6536  cert_b64 = base6
+000292c0: 342e 6236 3465 6e63 6f64 6528 6365 7274  4.b64encode(cert
+000292d0: 5f62 7974 6573 292e 6465 636f 6465 2822  _bytes).decode("
+000292e0: 7574 662d 3822 290a 0a20 2020 2020 2020  utf-8")..       
+000292f0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+00029300: 2020 2020 2020 2020 2020 2027 6365 7274             'cert
+00029310: 5f6e 616d 6527 3a20 6365 7274 5f6e 616d  _name': cert_nam
+00029320: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00029330: 6365 7274 5f74 7970 6527 3a20 6365 7274  cert_type': cert
+00029340: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
+00029350: 2020 2027 6365 7274 5f66 6f72 6d61 7427     'cert_format'
+00029360: 3a20 6365 7274 5f66 6f72 6d61 742c 0a20  : cert_format,. 
+00029370: 2020 2020 2020 2020 2020 2027 7061 7373             'pass
+00029380: 7068 7261 7365 273a 2070 6173 7370 6872  phrase': passphr
+00029390: 6173 652c 0a20 2020 2020 2020 2020 2020  ase,.           
+000293a0: 2027 6365 7274 5f64 6174 6127 3a20 6365   'cert_data': ce
+000293b0: 7274 5f62 3634 0a20 2020 2020 2020 207d  rt_b64.        }
+000293c0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000293d0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+000293e0: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+000293f0: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+00029400: 6173 796e 6320 6465 6620 6765 745f 7375  async def get_su
+00029410: 6273 6372 6970 7469 6f6e 7328 0a20 2020  bscriptions(.   
+00029420: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00029430: 2020 206c 6963 656e 7365 5f74 7970 653a     license_type:
+00029440: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00029450: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+00029460: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+00029470: 6d69 743a 2069 6e74 203d 2031 3030 302c  mit: int = 1000,
+00029480: 2020 2320 446f 6573 6e27 7420 6170 7065    # Doesn't appe
+00029490: 6172 2074 6f20 6861 7665 206d 6178 2c20  ar to have max, 
+000294a0: 616c 6c6f 7765 6420 3130 6b20 6c69 6d69  allowed 10k limi
+000294b0: 7420 696e 2073 7761 6767 6572 0a20 2020  t in swagger.   
+000294c0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+000294d0: 2020 2020 2020 2020 2222 2247 6574 2075          """Get u
+000294e0: 7365 7220 7375 6273 6372 6970 7469 6f6e  ser subscription
+000294f0: 206b 6579 732e 0a0a 2020 2020 2020 2020   keys...        
+00029500: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00029510: 2020 6c69 6365 6e73 655f 7479 7065 2028    license_type (
+00029520: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00029530: 5375 7070 6f72 7473 2042 6173 6963 2c20  Supports Basic, 
+00029540: 5365 7276 6963 6520 546f 6b65 6e20 616e  Service Token an
+00029550: 6420 4d75 6c74 6920 5469 6572 206c 6963  d Multi Tier lic
+00029560: 656e 7369 6e67 2074 7970 6573 2061 7320  ensing types as 
+00029570: 7765 6c6c 0a20 2020 2020 2020 2020 2020  well.           
+00029580: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+00029590: 7469 6f6e 616c 293a 206f 6666 7365 7420  tional): offset 
+000295a0: 6f72 2070 6167 6520 6e75 6d62 6572 2044  or page number D
+000295b0: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+000295c0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+000295d0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+000295e0: 204e 756d 6265 7220 6f66 2073 7562 7363   Number of subsc
+000295f0: 7269 7074 696f 6e73 2074 6f20 6765 7420  riptions to get 
+00029600: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
+00029610: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00029620: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00029630: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00029640: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00029650: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00029660: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00029670: 706c 6174 666f 726d 2f6c 6963 656e 7369  platform/licensi
+00029680: 6e67 2f76 312f 7375 6273 6372 6970 7469  ng/v1/subscripti
+00029690: 6f6e 7322 0a0a 2020 2020 2020 2020 7061  ons"..        pa
+000296a0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+000296b0: 2020 2020 2027 6c69 6365 6e73 655f 7479       'license_ty
+000296c0: 7065 273a 206c 6963 656e 7365 5f74 7970  pe': license_typ
+000296d0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000296e0: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
+000296f0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00029700: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
+00029710: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00029720: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00029730: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00029740: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+00029750: 796e 6320 6465 6620 6765 745f 7375 6273  ync def get_subs
+00029760: 6372 6970 7469 6f6e 5f73 7461 7473 280a  cription_stats(.
+00029770: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00029780: 2020 2020 2020 6c69 6365 6e73 655f 7479        license_ty
+00029790: 7065 3a20 7374 7220 3d20 2761 6c6c 272c  pe: str = 'all',
+000297a0: 0a20 2020 2020 2020 2073 6572 7669 6365  .        service
+000297b0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+000297c0: 2020 2020 2020 6170 705f 6f6e 6c79 5f73        app_only_s
+000297d0: 7461 7473 3a20 626f 6f6c 203d 204e 6f6e  tats: bool = Non
+000297e0: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+000297f0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00029800: 2247 6574 2073 7562 7363 7269 7074 696f  "Get subscriptio
+00029810: 6e20 7374 6174 732e 0a0a 2020 2020 2020  n stats...      
+00029820: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00029830: 2020 2020 6c69 6365 6e73 655f 7479 7065      license_type
+00029840: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00029850: 3a20 5375 7070 6f72 7473 2062 6173 6963  : Supports basic
+00029860: 2f73 7065 6369 616c 2f61 6c6c 2e0a 2020  /special/all..  
+00029870: 2020 2020 2020 2020 2020 2020 2020 7370                sp
+00029880: 6563 6961 6c20 2d20 7769 6c6c 2066 6574  ecial - will fet
+00029890: 6368 2074 6865 2073 7461 7469 7374 6963  ch the statistic
+000298a0: 7320 6f66 2073 7065 6369 616c 2063 656e  s of special cen
+000298b0: 7472 616c 2073 6572 7669 6365 7320 6c69  tral services li
+000298c0: 6b65 2070 612c 2075 6363 2c20 636c 6172  ke pa, ucc, clar
+000298d0: 6974 7920 6574 632e 0a20 2020 2020 2020  ity etc..       
+000298e0: 2020 2020 2020 2020 2062 6173 6963 202d           basic -
+000298f0: 2077 696c 6c20 6665 7463 6820 7468 6520   will fetch the 
+00029900: 7374 6174 6973 7469 6373 206f 6620 6465  statistics of de
+00029910: 7669 6365 206d 616e 6167 656d 656e 7420  vice management 
+00029920: 7365 7276 6963 6520 6c69 6365 6e73 6573  service licenses
+00029930: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00029940: 2020 616c 6c20 2d20 7769 6c6c 2066 6574    all - will fet
+00029950: 6368 2062 6f74 6820 6f66 2074 6865 7365  ch both of these
+00029960: 206c 6963 656e 7365 2074 7970 6573 2e0a   license types..
+00029970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029980: 2041 6c73 6f20 7375 7070 6f72 7473 206d   Also supports m
+00029990: 756c 7469 2074 6965 7220 6c69 6365 6e73  ulti tier licens
+000299a0: 6520 7479 7065 7320 7375 6368 2066 6f75  e types such fou
+000299b0: 6e64 6174 696f 6e5f 6170 2c20 6164 7661  ndation_ap, adva
+000299c0: 6e63 6564 5f73 7769 7463 685f 3633 3030  nced_switch_6300
+000299d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000299e0: 2020 666f 756e 6461 7469 6f6e 5f37 3058    foundation_70X
+000299f0: 5820 6574 632e 0a0a 2020 2020 2020 2020  X etc...        
+00029a00: 2020 2020 7365 7276 6963 6520 2873 7472      service (str
+00029a10: 2c20 6f70 7469 6f6e 616c 293a 2053 6572  , optional): Ser
+00029a20: 7669 6365 2074 7970 653a 2070 612f 7061  vice type: pa/pa
+00029a30: 2c63 6c61 7269 7479 2c66 6f75 6e64 6174  ,clarity,foundat
+00029a40: 696f 6e5f 6170 2c0a 2020 2020 2020 2020  ion_ap,.        
+00029a50: 2020 2020 2020 2020 6164 7661 6e63 6564          advanced
+00029a60: 5f73 7769 7463 685f 3633 3030 2c20 666f  _switch_6300, fo
+00029a70: 756e 6461 7469 6f6e 5f37 3058 5820 2065  undation_70XX  e
+00029a80: 7463 2e0a 2020 2020 2020 2020 2020 2020  tc..            
+00029a90: 6170 705f 6f6e 6c79 5f73 7461 7473 2028  app_only_stats (
+00029aa0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+00029ab0: 2049 6620 7661 6c75 6520 6973 2054 7275   If value is Tru
+00029ac0: 652c 2073 7461 7473 206f 6e6c 7920 666f  e, stats only fo
+00029ad0: 7220 7468 6520 6375 7272 656e 740a 2020  r the current.  
+00029ae0: 2020 2020 2020 2020 2020 2020 2020 6170                ap
+00029af0: 706c 6963 6174 696f 6e20 7265 7475 726e  plication return
+00029b00: 6564 2072 6174 6865 7220 7468 616e 2067  ed rather than g
+00029b10: 6c6f 6261 6c20 7374 6174 730a 0a20 2020  lobal stats..   
+00029b20: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00029b30: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00029b40: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00029b50: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00029b60: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00029b70: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
+00029b80: 6f72 6d2f 6c69 6365 6e73 696e 672f 7631  orm/licensing/v1
+00029b90: 2f73 7562 7363 7269 7074 696f 6e73 2f73  /subscriptions/s
+00029ba0: 7461 7473 220a 0a20 2020 2020 2020 2070  tats"..        p
+00029bb0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+00029bc0: 2020 2020 2020 276c 6963 656e 7365 5f74        'license_t
+00029bd0: 7970 6527 3a20 6c69 6365 6e73 655f 7479  ype': license_ty
+00029be0: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+00029bf0: 2773 6572 7669 6365 273a 2073 6572 7669  'service': servi
+00029c00: 6365 2c0a 2020 2020 2020 2020 2020 2020  ce,.            
+00029c10: 2761 7070 5f6f 6e6c 795f 7374 6174 7327  'app_only_stats'
+00029c20: 3a20 6170 705f 6f6e 6c79 5f73 7461 7473  : app_only_stats
+00029c30: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00029c40: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00029c50: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00029c60: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00029c70: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00029c80: 5f76 616c 6964 5f73 7562 7363 7269 7074  _valid_subscript
+00029c90: 696f 6e5f 6e61 6d65 7328 0a20 2020 2020  ion_names(.     
+00029ca0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00029cb0: 2073 6572 7669 6365 5f63 6174 6567 6f72   service_categor
+00029cc0: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
+00029cd0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+00029ce0: 7065 3a20 7374 7220 3d20 4e6f 6e65 2c0a  pe: str = None,.
+00029cf0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00029d00: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+00029d10: 7420 5661 6c69 6420 7375 6273 6372 6970  t Valid subscrip
+00029d20: 7469 6f6e 206e 616d 6573 2066 726f 6d20  tion names from 
+00029d30: 4365 6e74 7261 6c2e 0a0a 2020 2020 2020  Central...      
+00029d40: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00029d50: 2020 2020 7365 7276 6963 655f 6361 7465      service_cate
+00029d60: 676f 7279 2028 7374 722c 206f 7074 696f  gory (str, optio
+00029d70: 6e61 6c29 3a20 5365 7276 6963 6520 6361  nal): Service ca
+00029d80: 7465 676f 7279 202d 2064 6d2f 6e65 7477  tegory - dm/netw
+00029d90: 6f72 6b0a 2020 2020 2020 2020 2020 2020  ork.            
+00029da0: 6465 7669 6365 5f74 7970 6520 2873 7472  device_type (str
+00029db0: 2c20 6f70 7469 6f6e 616c 293a 2044 6576  , optional): Dev
+00029dc0: 6963 6520 5479 7065 202d 2069 6170 2f63  ice Type - iap/c
+00029dd0: 6170 2f73 7769 7463 682f 626f 632f 636f  ap/switch/boc/co
+00029de0: 6e74 726f 6c6c 6572 0a0a 2020 2020 2020  ntroller..      
+00029df0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00029e00: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00029e10: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00029e20: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00029e30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00029e40: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
+00029e50: 2f6c 6963 656e 7369 6e67 2f76 312f 7365  /licensing/v1/se
+00029e60: 7276 6963 6573 2f63 6f6e 6669 6722 0a0a  rvices/config"..
+00029e70: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00029e80: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00029e90: 7365 7276 6963 655f 6361 7465 676f 7279  service_category
+00029ea0: 273a 2073 6572 7669 6365 5f63 6174 6567  ': service_categ
+00029eb0: 6f72 792c 0a20 2020 2020 2020 2020 2020  ory,.           
+00029ec0: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
+00029ed0: 6465 7669 6365 5f74 7970 650a 2020 2020  device_type.    
+00029ee0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00029ef0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00029f00: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00029f10: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+00029f20: 796e 6320 6465 6620 6173 7369 676e 5f6c  ync def assign_l
+00029f30: 6963 656e 7365 7328 7365 6c66 2c20 7365  icenses(self, se
+00029f40: 7269 616c 733a 2055 6e69 6f6e 5b73 7472  rials: Union[str
+00029f50: 2c20 4c69 7374 5b73 7472 5d5d 2c20 7365  , List[str]], se
+00029f60: 7276 6963 6573 3a20 556e 696f 6e5b 7374  rvices: Union[st
+00029f70: 722c 204c 6973 745b 7374 725d 5d29 202d  r, List[str]]) -
+00029f80: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00029f90: 2020 2020 2222 2241 7373 6967 6e20 7375      """Assign su
+00029fa0: 6273 6372 6970 7469 6f6e 2074 6f20 6120  bscription to a 
+00029fb0: 6465 7669 6365 2e0a 0a20 2020 2020 2020  device...       
+00029fc0: 202f 2f20 5573 6564 2069 6e64 6972 6563   // Used indirec
+00029fd0: 746c 7920 6279 2061 6464 2064 6576 6963  tly by add devic
+00029fe0: 6520 7768 656e 202d 2d6c 6963 656e 7365  e when --license
+00029ff0: 203c 6c69 6365 6e73 653e 2069 7320 7072   <license> is pr
+0002a000: 6f76 6964 6564 2061 6e64 2062 6174 6368  ovided and batch
+0002a010: 2061 6464 2064 6576 6963 6573 2077 6974   add devices wit
+0002a020: 6820 6c69 6365 6e73 6520 2f2f 0a0a 2020  h license //..  
+0002a030: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0002a040: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
+0002a050: 2873 7472 207c 204c 6973 745b 7374 725d  (str | List[str]
+0002a060: 293a 204c 6973 7420 6f66 2073 6572 6961  ): List of seria
+0002a070: 6c20 6e75 6d62 6572 206f 6620 6465 7669  l number of devi
+0002a080: 6365 2e0a 2020 2020 2020 2020 2020 2020  ce..            
+0002a090: 7365 7276 6963 6573 2028 7374 7220 7c20  services (str | 
+0002a0a0: 4c69 7374 5b73 7472 5d29 3a20 4c69 7374  List[str]): List
+0002a0b0: 206f 6620 7365 7276 6963 6520 6e61 6d65   of service name
+0002a0c0: 732e 2043 616c 6c20 7365 7276 6963 6573  s. Call services
+0002a0d0: 2f63 6f6e 6669 6720 4150 4920 746f 2067  /config API to g
+0002a0e0: 6574 2074 6865 206c 6973 7420 6f66 0a20  et the list of. 
+0002a0f0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0002a100: 616c 6964 2073 6572 7669 6365 206e 616d  alid service nam
+0002a110: 6573 2e0a 0a20 2020 2020 2020 2052 6574  es...        Ret
+0002a120: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0002a130: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0002a140: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0002a150: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0002a160: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0002a170: 2022 2f70 6c61 7466 6f72 6d2f 6c69 6365   "/platform/lice
+0002a180: 6e73 696e 672f 7631 2f73 7562 7363 7269  nsing/v1/subscri
+0002a190: 7074 696f 6e73 2f61 7373 6967 6e22 0a20  ptions/assign". 
+0002a1a0: 2020 2020 2020 2073 6572 6961 6c73 203d         serials =
+0002a1b0: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
+0002a1c0: 6572 6961 6c73 290a 2020 2020 2020 2020  erials).        
+0002a1d0: 7365 7276 6963 6573 203d 2075 7469 6c73  services = utils
+0002a1e0: 2e6c 6973 7469 6679 2873 6572 7669 6365  .listify(service
+0002a1f0: 7329 0a0a 2020 2020 2020 2020 6a73 6f6e  s)..        json
+0002a200: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+0002a210: 2020 2020 2020 2773 6572 6961 6c73 273a        'serials':
+0002a220: 2073 6572 6961 6c73 2c0a 2020 2020 2020   serials,.      
+0002a230: 2020 2020 2020 2773 6572 7669 6365 7327        'services'
+0002a240: 3a20 7365 7276 6963 6573 0a20 2020 2020  : services.     
+0002a250: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+0002a260: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0002a270: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
+0002a280: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+0002a290: 2020 2020 6173 796e 6320 6465 6620 756e      async def un
+0002a2a0: 6173 7369 676e 5f6c 6963 656e 7365 7328  assign_licenses(
+0002a2b0: 7365 6c66 2c20 7365 7269 616c 733a 2055  self, serials: U
+0002a2c0: 6e69 6f6e 5b73 7472 2c20 4c69 7374 5b73  nion[str, List[s
+0002a2d0: 7472 5d5d 2c20 7365 7276 6963 6573 3a20  tr]], services: 
+0002a2e0: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
+0002a2f0: 7374 725d 5d29 202d 3e20 5265 7370 6f6e  str]]) -> Respon
+0002a300: 7365 3a0a 2020 2020 2020 2020 2222 2255  se:.        """U
+0002a310: 6e61 7373 6967 6e20 7375 6273 6372 6970  nassign subscrip
+0002a320: 7469 6f6e 2873 2920 6672 6f6d 2064 6576  tion(s) from dev
+0002a330: 6963 6528 7329 2e0a 0a20 2020 2020 2020  ice(s)...       
+0002a340: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0002a350: 2020 2073 6572 6961 6c73 2028 7374 7220     serials (str 
+0002a360: 7c20 4c69 7374 5b73 7472 5d29 3a20 4c69  | List[str]): Li
+0002a370: 7374 206f 6620 7365 7269 616c 206e 756d  st of serial num
+0002a380: 6265 7220 6f66 2064 6576 6963 652e 0a20  ber of device.. 
+0002a390: 2020 2020 2020 2020 2020 2073 6572 7669             servi
+0002a3a0: 6365 7320 2873 7472 207c 204c 6973 745b  ces (str | List[
+0002a3b0: 7374 725d 293a 204c 6973 7420 6f66 2073  str]): List of s
+0002a3c0: 6572 7669 6365 206e 616d 6573 2e20 4361  ervice names. Ca
+0002a3d0: 6c6c 2073 6572 7669 6365 732f 636f 6e66  ll services/conf
+0002a3e0: 6967 2041 5049 2074 6f20 6765 7420 7468  ig API to get th
+0002a3f0: 6520 6c69 7374 206f 660a 2020 2020 2020  e list of.      
+0002a400: 2020 2020 2020 2020 2020 7661 6c69 6420            valid 
+0002a410: 7365 7276 6963 6520 6e61 6d65 732e 0a0a  service names...
+0002a420: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0002a430: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0002a440: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0002a450: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0002a460: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0002a470: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
+0002a480: 6174 666f 726d 2f6c 6963 656e 7369 6e67  atform/licensing
+0002a490: 2f76 312f 7375 6273 6372 6970 7469 6f6e  /v1/subscription
+0002a4a0: 732f 756e 6173 7369 676e 220a 2020 2020  s/unassign".    
+0002a4b0: 2020 2020 7365 7269 616c 7320 3d20 7574      serials = ut
+0002a4c0: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
+0002a4d0: 616c 7329 0a20 2020 2020 2020 2073 6572  als).        ser
+0002a4e0: 7669 6365 7320 3d20 7574 696c 732e 6c69  vices = utils.li
+0002a4f0: 7374 6966 7928 7365 7276 6963 6573 290a  stify(services).
+0002a500: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+0002a510: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+0002a520: 2020 2027 7365 7269 616c 7327 3a20 7365     'serials': se
+0002a530: 7269 616c 732c 0a20 2020 2020 2020 2020  rials,.         
+0002a540: 2020 2027 7365 7276 6963 6573 273a 2073     'services': s
+0002a550: 6572 7669 6365 730a 2020 2020 2020 2020  ervices.        
+0002a560: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+0002a570: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+0002a580: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+0002a590: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+0002a5a0: 2023 2054 4f44 4f20 6275 696c 6420 6167   # TODO build ag
+0002a5b0: 6772 6567 6174 6f72 2074 6f20 7275 6e20  gregator to run 
+0002a5c0: 7265 706f 7274 2073 686f 7769 6e67 2072  report showing r
+0002a5d0: 6f67 7565 732f 696e 7465 7266 6572 696e  ogues/interferin
+0002a5e0: 672f 6e65 6967 6862 6f72 730a 2020 2020  g/neighbors.    
+0002a5f0: 2320 6173 796e 6320 6465 6620 7769 6473  # async def wids
+0002a600: 5f67 6574 5f61 6c6c 2873 656c 6629 3a0a  _get_all(self):.
+0002a610: 0a20 2020 2061 7379 6e63 2064 6566 2077  .    async def w
+0002a620: 6964 735f 6765 745f 726f 6775 655f 6170  ids_get_rogue_ap
+0002a630: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+0002a640: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+0002a650: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+0002a660: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
+0002a670: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0002a680: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
+0002a690: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0002a6a0: 652c 0a20 2020 2020 2020 2073 7461 7274  e,.        start
+0002a6b0: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+0002a6c0: 2020 2020 2020 656e 643a 2069 6e74 203d        end: int =
+0002a6d0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0002a6e0: 7761 726d 5f69 643a 2073 7472 203d 204e  warm_id: str = N
+0002a6f0: 6f6e 652c 0a20 2020 2020 2020 2066 726f  one,.        fro
+0002a700: 6d5f 7469 6d65 7374 616d 703a 2069 6e74  m_timestamp: int
+0002a710: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002a720: 2074 6f5f 7469 6d65 7374 616d 703a 2069   to_timestamp: i
+0002a730: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0002a740: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
+0002a750: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
+0002a760: 743a 2069 6e74 203d 2031 3030 0a20 2020  t: int = 100.   
+0002a770: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0002a780: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
+0002a790: 526f 6775 6520 4150 732e 0a0a 2020 2020  Rogue APs...    
+0002a7a0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0002a7b0: 2020 2020 2020 6772 6f75 7020 284c 6973        group (Lis
+0002a7c0: 745b 7374 725d 2c20 6f70 7469 6f6e 616c  t[str], optional
+0002a7d0: 293a 204c 6973 7420 6f66 2067 726f 7570  ): List of group
+0002a7e0: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
+0002a7f0: 2020 206c 6162 656c 2028 4c69 7374 5b73     label (List[s
+0002a800: 7472 5d2c 206f 7074 696f 6e61 6c29 3a20  tr], optional): 
+0002a810: 4c69 7374 206f 6620 6c61 6265 6c20 6e61  List of label na
+0002a820: 6d65 730a 2020 2020 2020 2020 2020 2020  mes.            
+0002a830: 7369 7465 2028 4c69 7374 5b73 7472 5d2c  site (List[str],
+0002a840: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+0002a850: 206f 6620 7369 7465 206e 616d 6573 0a20   of site names. 
+0002a860: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0002a870: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002a880: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+0002a890: 6f6e 2066 726f 6d20 7468 6973 2074 696d  on from this tim
+0002a8a0: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0002a8b0: 7020 6973 2065 706f 6368 2069 6e0a 2020  p is epoch in.  
+0002a8c0: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
+0002a8d0: 6c6c 6973 6563 6f6e 6473 2e20 4465 6661  lliseconds. Defa
+0002a8e0: 756c 7420 6973 2063 7572 7265 6e74 2074  ult is current t
+0002a8f0: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
+0002a900: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
+0002a910: 2020 2065 6e64 2028 696e 742c 206f 7074     end (int, opt
+0002a920: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
+0002a930: 6f72 6d61 7469 6f6e 2074 6f20 7468 6973  ormation to this
+0002a940: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
+0002a950: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
+0002a960: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+0002a970: 2020 6d69 6c6c 6973 6563 6f6e 6473 2e20    milliseconds. 
+0002a980: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+0002a990: 6e74 2074 696d 6573 7461 6d70 0a20 2020  nt timestamp.   
+0002a9a0: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
+0002a9b0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+0002a9c0: 293a 2046 696c 7465 7220 6279 2053 7761  ): Filter by Swa
+0002a9d0: 726d 2049 440a 2020 2020 2020 2020 2020  rm ID.          
+0002a9e0: 2020 6672 6f6d 5f74 696d 6573 7461 6d70    from_timestamp
+0002a9f0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002aa00: 3a20 5468 6973 2070 6172 616d 6574 6572  : This parameter
+0002aa10: 2073 7570 6572 6365 6465 7320 7374 6172   supercedes star
+0002aa20: 7420 7061 7261 6d65 7465 722e 204e 6565  t parameter. Nee
+0002aa30: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0002aa40: 2020 696e 666f 726d 6174 696f 6e20 6672    information fr
+0002aa50: 6f6d 2074 6869 7320 7469 6d65 7374 616d  om this timestam
+0002aa60: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
+0002aa70: 6570 6f63 6820 696e 2073 6563 6f6e 6473  epoch in seconds
+0002aa80: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
+0002aa90: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
+0002aaa0: 2020 2020 2055 5443 2074 696d 6573 7461       UTC timesta
+0002aab0: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+0002aac0: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
+0002aad0: 7469 6d65 7374 616d 7020 2869 6e74 2c20  timestamp (int, 
+0002aae0: 6f70 7469 6f6e 616c 293a 2054 6869 7320  optional): This 
+0002aaf0: 7061 7261 6d65 7465 7220 7375 7065 7263  parameter superc
+0002ab00: 6564 6573 2065 6e64 2070 6172 616d 6574  edes end paramet
+0002ab10: 6572 2e20 4e65 6564 2069 6e66 6f72 6d61  er. Need informa
+0002ab20: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+0002ab30: 2020 2020 2074 6f20 7468 6973 2074 696d       to this tim
+0002ab40: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0002ab50: 7020 6973 2065 706f 6368 2069 6e20 7365  p is epoch in se
+0002ab60: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
+0002ab70: 7320 6375 7272 656e 7420 5554 4320 7469  s current UTC ti
+0002ab80: 6d65 7374 616d 700a 2020 2020 2020 2020  mestamp.        
+0002ab90: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
+0002aba0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
+0002abb0: 6e61 7469 6f6e 206f 6666 7365 7420 2864  nation offset (d
+0002abc0: 6566 6175 6c74 203d 2030 2920 4465 6661  efault = 0) Defa
+0002abd0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0002abe0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0002abf0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
+0002ac00: 6769 6e61 7469 6f6e 2073 697a 6520 2864  gination size (d
+0002ac10: 6566 6175 6c74 203d 2031 3030 2920 4465  efault = 100) De
+0002ac20: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+0002ac30: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0002ac40: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0002ac50: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0002ac60: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0002ac70: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0002ac80: 2020 2020 2020 7572 6c20 3d20 222f 7261        url = "/ra
+0002ac90: 7069 6473 2f76 312f 726f 6775 655f 6170  pids/v1/rogue_ap
+0002aca0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+0002acb0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+0002acc0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
+0002acd0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+0002ace0: 6c61 6265 6c27 3a20 6c61 6265 6c2c 0a20  label': label,. 
+0002acf0: 2020 2020 2020 2020 2020 2027 7369 7465             'site
+0002ad00: 273a 2073 6974 652c 0a20 2020 2020 2020  ': site,.       
+0002ad10: 2020 2020 2027 7374 6172 7427 3a20 7374       'start': st
+0002ad20: 6172 742c 0a20 2020 2020 2020 2020 2020  art,.           
+0002ad30: 2027 656e 6427 3a20 656e 642c 0a20 2020   'end': end,.   
+0002ad40: 2020 2020 2020 2020 2027 7377 6172 6d5f           'swarm_
+0002ad50: 6964 273a 2073 7761 726d 5f69 642c 0a20  id': swarm_id,. 
+0002ad60: 2020 2020 2020 2020 2020 2027 6672 6f6d             'from
+0002ad70: 5f74 696d 6573 7461 6d70 273a 2066 726f  _timestamp': fro
+0002ad80: 6d5f 7469 6d65 7374 616d 702c 0a20 2020  m_timestamp,.   
+0002ad90: 2020 2020 2020 2020 2027 746f 5f74 696d           'to_tim
+0002ada0: 6573 7461 6d70 273a 2074 6f5f 7469 6d65  estamp': to_time
+0002adb0: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
+0002adc0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
+0002add0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+0002ade0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
+0002adf0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+0002ae00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0002ae10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0002ae20: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0002ae30: 2020 6173 796e 6320 6465 6620 7769 6473    async def wids
+0002ae40: 5f67 6574 5f69 6e74 6572 6665 7269 6e67  _get_interfering
+0002ae50: 5f61 7073 280a 2020 2020 2020 2020 7365  _aps(.        se
+0002ae60: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
+0002ae70: 703a 204c 6973 745b 7374 725d 203d 204e  p: List[str] = N
+0002ae80: 6f6e 652c 0a20 2020 2020 2020 206c 6162  one,.        lab
+0002ae90: 656c 3a20 4c69 7374 5b73 7472 5d20 3d20  el: List[str] = 
+0002aea0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
+0002aeb0: 7465 3a20 4c69 7374 5b73 7472 5d20 3d20  te: List[str] = 
+0002aec0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
+0002aed0: 6172 743a 2069 6e74 203d 204e 6f6e 652c  art: int = None,
+0002aee0: 0a20 2020 2020 2020 2065 6e64 3a20 696e  .        end: in
+0002aef0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+0002af00: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
+0002af10: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002af20: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
+0002af30: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+0002af40: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
+0002af50: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+0002af60: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+0002af70: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+0002af80: 696d 6974 3a20 696e 7420 3d20 3130 300a  imit: int = 100.
+0002af90: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0002afa0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+0002afb0: 7374 2049 6e74 6572 6665 7269 6e67 2041  st Interfering A
+0002afc0: 5073 2e0a 0a20 2020 2020 2020 2041 7267  Ps...        Arg
+0002afd0: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+0002afe0: 726f 7570 2028 4c69 7374 5b73 7472 5d2c  roup (List[str],
+0002aff0: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+0002b000: 206f 6620 6772 6f75 7020 6e61 6d65 730a   of group names.
+0002b010: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+0002b020: 6c20 284c 6973 745b 7374 725d 2c20 6f70  l (List[str], op
+0002b030: 7469 6f6e 616c 293a 204c 6973 7420 6f66  tional): List of
+0002b040: 206c 6162 656c 206e 616d 6573 0a20 2020   label names.   
+0002b050: 2020 2020 2020 2020 2073 6974 6520 284c           site (L
+0002b060: 6973 745b 7374 725d 2c20 6f70 7469 6f6e  ist[str], option
+0002b070: 616c 293a 204c 6973 7420 6f66 2073 6974  al): List of sit
+0002b080: 6520 6e61 6d65 730a 2020 2020 2020 2020  e names.        
+0002b090: 2020 2020 7374 6172 7420 2869 6e74 2c20      start (int, 
+0002b0a0: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
+0002b0b0: 696e 666f 726d 6174 696f 6e20 6672 6f6d  information from
+0002b0c0: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+0002b0d0: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+0002b0e0: 6f63 6820 696e 0a20 2020 2020 2020 2020  och in.         
+0002b0f0: 2020 2020 2020 206d 696c 6c69 7365 636f         milliseco
+0002b100: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
+0002b110: 6375 7272 656e 7420 7469 6d65 7374 616d  current timestam
+0002b120: 7020 6d69 6e75 7320 3320 686f 7572 730a  p minus 3 hours.
+0002b130: 2020 2020 2020 2020 2020 2020 656e 6420              end 
+0002b140: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002b150: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
+0002b160: 6e20 746f 2074 6869 7320 7469 6d65 7374  n to this timest
+0002b170: 616d 702e 2054 696d 6573 7461 6d70 2069  amp. Timestamp i
+0002b180: 7320 6570 6f63 6820 696e 0a20 2020 2020  s epoch in.     
+0002b190: 2020 2020 2020 2020 2020 206d 696c 6c69             milli
+0002b1a0: 7365 636f 6e64 732e 2044 6566 6175 6c74  seconds. Default
+0002b1b0: 2069 7320 6375 7272 656e 7420 7469 6d65   is current time
+0002b1c0: 7374 616d 700a 2020 2020 2020 2020 2020  stamp.          
+0002b1d0: 2020 7377 6172 6d5f 6964 2028 7374 722c    swarm_id (str,
+0002b1e0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+0002b1f0: 6572 2062 7920 5377 6172 6d20 4944 0a20  er by Swarm ID. 
+0002b200: 2020 2020 2020 2020 2020 2066 726f 6d5f             from_
+0002b210: 7469 6d65 7374 616d 7020 2869 6e74 2c20  timestamp (int, 
+0002b220: 6f70 7469 6f6e 616c 293a 2054 6869 7320  optional): This 
+0002b230: 7061 7261 6d65 7465 7220 7375 7065 7263  parameter superc
+0002b240: 6564 6573 2073 7461 7274 2070 6172 616d  edes start param
+0002b250: 6574 6572 2e20 4e65 6564 0a20 2020 2020  eter. Need.     
+0002b260: 2020 2020 2020 2020 2020 2069 6e66 6f72             infor
+0002b270: 6d61 7469 6f6e 2066 726f 6d20 7468 6973  mation from this
+0002b280: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
+0002b290: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
+0002b2a0: 6e20 7365 636f 6e64 732e 2044 6566 6175  n seconds. Defau
+0002b2b0: 6c74 2069 7320 6375 7272 656e 740a 2020  lt is current.  
+0002b2c0: 2020 2020 2020 2020 2020 2020 2020 5554                UT
+0002b2d0: 4320 7469 6d65 7374 616d 7020 6d69 6e75  C timestamp minu
+0002b2e0: 7320 3320 686f 7572 730a 2020 2020 2020  s 3 hours.      
+0002b2f0: 2020 2020 2020 746f 5f74 696d 6573 7461        to_timesta
+0002b300: 6d70 2028 696e 742c 206f 7074 696f 6e61  mp (int, optiona
+0002b310: 6c29 3a20 5468 6973 2070 6172 616d 6574  l): This paramet
+0002b320: 6572 2073 7570 6572 6365 6465 7320 656e  er supercedes en
+0002b330: 6420 7061 7261 6d65 7465 722e 204e 6565  d parameter. Nee
+0002b340: 6420 696e 666f 726d 6174 696f 6e0a 2020  d information.  
+0002b350: 2020 2020 2020 2020 2020 2020 2020 746f                to
+0002b360: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+0002b370: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+0002b380: 6f63 6820 696e 2073 6563 6f6e 6473 2e20  och in seconds. 
+0002b390: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+0002b3a0: 6e74 2055 5443 2074 696d 6573 7461 6d70  nt UTC timestamp
+0002b3b0: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+0002b3c0: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+0002b3d0: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+0002b3e0: 6f66 6673 6574 2028 6465 6661 756c 7420  offset (default 
+0002b3f0: 3d20 3029 2044 6566 6175 6c74 7320 746f  = 0) Defaults to
+0002b400: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+0002b410: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+0002b420: 6f6e 616c 293a 2070 6167 696e 6174 696f  onal): paginatio
+0002b430: 6e20 7369 7a65 2028 6465 6661 756c 7420  n size (default 
+0002b440: 3d20 3130 3029 2044 6566 6175 6c74 7320  = 100) Defaults 
+0002b450: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
+0002b460: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0002b470: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0002b480: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0002b490: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0002b4a0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0002b4b0: 726c 203d 2022 2f72 6170 6964 732f 7631  rl = "/rapids/v1
+0002b4c0: 2f69 6e74 6572 6665 7269 6e67 5f61 7073  /interfering_aps
+0002b4d0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0002b4e0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0002b4f0: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
+0002b500: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+0002b510: 6162 656c 273a 206c 6162 656c 2c0a 2020  abel': label,.  
+0002b520: 2020 2020 2020 2020 2020 2773 6974 6527            'site'
+0002b530: 3a20 7369 7465 2c0a 2020 2020 2020 2020  : site,.        
+0002b540: 2020 2020 2773 7461 7274 273a 2073 7461      'start': sta
+0002b550: 7274 2c0a 2020 2020 2020 2020 2020 2020  rt,.            
+0002b560: 2765 6e64 273a 2065 6e64 2c0a 2020 2020  'end': end,.    
+0002b570: 2020 2020 2020 2020 2773 7761 726d 5f69          'swarm_i
+0002b580: 6427 3a20 7377 6172 6d5f 6964 2c0a 2020  d': swarm_id,.  
+0002b590: 2020 2020 2020 2020 2020 2766 726f 6d5f            'from_
+0002b5a0: 7469 6d65 7374 616d 7027 3a20 6672 6f6d  timestamp': from
+0002b5b0: 5f74 696d 6573 7461 6d70 2c0a 2020 2020  _timestamp,.    
+0002b5c0: 2020 2020 2020 2020 2774 6f5f 7469 6d65          'to_time
+0002b5d0: 7374 616d 7027 3a20 746f 5f74 696d 6573  stamp': to_times
+0002b5e0: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
+0002b5f0: 2020 276f 6666 7365 7427 3a20 6f66 6673    'offset': offs
+0002b600: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+0002b610: 276c 696d 6974 273a 206c 696d 6974 0a20  'limit': limit. 
+0002b620: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+0002b630: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0002b640: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0002b650: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0002b660: 2061 7379 6e63 2064 6566 2077 6964 735f   async def wids_
+0002b670: 6765 745f 7375 7370 6563 745f 6170 7328  get_suspect_aps(
+0002b680: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0002b690: 2020 2020 2020 2067 726f 7570 3a20 4c69         group: Li
+0002b6a0: 7374 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  st[str] = None,.
+0002b6b0: 2020 2020 2020 2020 6c61 6265 6c3a 204c          label: L
+0002b6c0: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
+0002b6d0: 0a20 2020 2020 2020 2073 6974 653a 204c  .        site: L
+0002b6e0: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
+0002b6f0: 0a20 2020 2020 2020 2073 7461 7274 3a20  .        start: 
+0002b700: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+0002b710: 2020 2020 656e 643a 2069 6e74 203d 204e      end: int = N
+0002b720: 6f6e 652c 0a20 2020 2020 2020 2073 7761  one,.        swa
+0002b730: 726d 5f69 643a 2073 7472 203d 204e 6f6e  rm_id: str = Non
+0002b740: 652c 0a20 2020 2020 2020 2066 726f 6d5f  e,.        from_
+0002b750: 7469 6d65 7374 616d 703a 2069 6e74 203d  timestamp: int =
+0002b760: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
+0002b770: 6f5f 7469 6d65 7374 616d 703a 2069 6e74  o_timestamp: int
+0002b780: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002b790: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+0002b7a0: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+0002b7b0: 2069 6e74 203d 2031 3030 0a20 2020 2029   int = 100.    )
+0002b7c0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0002b7d0: 2020 2020 2020 2222 224c 6973 7420 7375        """List su
+0002b7e0: 7370 6563 7420 4150 732e 0a0a 2020 2020  spect APs...    
+0002b7f0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0002b800: 2020 2020 2020 6772 6f75 7020 284c 6973        group (Lis
+0002b810: 745b 7374 725d 2c20 6f70 7469 6f6e 616c  t[str], optional
+0002b820: 293a 204c 6973 7420 6f66 2067 726f 7570  ): List of group
+0002b830: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
+0002b840: 2020 206c 6162 656c 2028 4c69 7374 5b73     label (List[s
+0002b850: 7472 5d2c 206f 7074 696f 6e61 6c29 3a20  tr], optional): 
+0002b860: 4c69 7374 206f 6620 6c61 6265 6c20 6e61  List of label na
+0002b870: 6d65 730a 2020 2020 2020 2020 2020 2020  mes.            
+0002b880: 7369 7465 2028 4c69 7374 5b73 7472 5d2c  site (List[str],
+0002b890: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+0002b8a0: 206f 6620 7369 7465 206e 616d 6573 0a20   of site names. 
+0002b8b0: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0002b8c0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002b8d0: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+0002b8e0: 6f6e 2066 726f 6d20 7468 6973 2074 696d  on from this tim
+0002b8f0: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0002b900: 7020 6973 2065 706f 6368 2069 6e0a 2020  p is epoch in.  
+0002b910: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
+0002b920: 6c6c 6973 6563 6f6e 6473 2e20 4465 6661  lliseconds. Defa
+0002b930: 756c 7420 6973 2063 7572 7265 6e74 2074  ult is current t
+0002b940: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
+0002b950: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
+0002b960: 2020 2065 6e64 2028 696e 742c 206f 7074     end (int, opt
+0002b970: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
+0002b980: 6f72 6d61 7469 6f6e 2074 6f20 7468 6973  ormation to this
+0002b990: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
+0002b9a0: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
+0002b9b0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+0002b9c0: 2020 6d69 6c6c 6973 6563 6f6e 6473 2e20    milliseconds. 
+0002b9d0: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+0002b9e0: 6e74 2074 696d 6573 7461 6d70 0a20 2020  nt timestamp.   
+0002b9f0: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
+0002ba00: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+0002ba10: 293a 2046 696c 7465 7220 6279 2053 7761  ): Filter by Swa
+0002ba20: 726d 2049 440a 2020 2020 2020 2020 2020  rm ID.          
+0002ba30: 2020 6672 6f6d 5f74 696d 6573 7461 6d70    from_timestamp
+0002ba40: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002ba50: 3a20 5468 6973 2070 6172 616d 6574 6572  : This parameter
+0002ba60: 2073 7570 6572 6365 6465 7320 7374 6172   supercedes star
+0002ba70: 7420 7061 7261 6d65 7465 722e 204e 6565  t parameter. Nee
+0002ba80: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0002ba90: 2020 696e 666f 726d 6174 696f 6e20 6672    information fr
+0002baa0: 6f6d 2074 6869 7320 7469 6d65 7374 616d  om this timestam
+0002bab0: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
+0002bac0: 6570 6f63 6820 696e 2073 6563 6f6e 6473  epoch in seconds
+0002bad0: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
+0002bae0: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
+0002baf0: 2020 2020 2055 5443 2074 696d 6573 7461       UTC timesta
+0002bb00: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+0002bb10: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
+0002bb20: 7469 6d65 7374 616d 7020 2869 6e74 2c20  timestamp (int, 
+0002bb30: 6f70 7469 6f6e 616c 293a 2054 6869 7320  optional): This 
+0002bb40: 7061 7261 6d65 7465 7220 7375 7065 7263  parameter superc
+0002bb50: 6564 6573 2065 6e64 2070 6172 616d 6574  edes end paramet
+0002bb60: 6572 2e20 4e65 6564 2069 6e66 6f72 6d61  er. Need informa
+0002bb70: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+0002bb80: 2020 2020 2074 6f20 7468 6973 2074 696d       to this tim
+0002bb90: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0002bba0: 7020 6973 2065 706f 6368 2069 6e20 7365  p is epoch in se
+0002bbb0: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
+0002bbc0: 7320 6375 7272 656e 7420 5554 4320 7469  s current UTC ti
+0002bbd0: 6d65 7374 616d 700a 2020 2020 2020 2020  mestamp.        
+0002bbe0: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
+0002bbf0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
+0002bc00: 6e61 7469 6f6e 206f 6666 7365 7420 2864  nation offset (d
+0002bc10: 6566 6175 6c74 203d 2030 2920 4465 6661  efault = 0) Defa
+0002bc20: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0002bc30: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0002bc40: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
+0002bc50: 6769 6e61 7469 6f6e 2073 697a 6520 2864  gination size (d
+0002bc60: 6566 6175 6c74 203d 2031 3030 2920 4465  efault = 100) De
+0002bc70: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+0002bc80: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0002bc90: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0002bca0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0002bcb0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0002bcc0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0002bcd0: 2020 2020 2020 7572 6c20 3d20 222f 7261        url = "/ra
+0002bce0: 7069 6473 2f76 312f 7375 7370 6563 745f  pids/v1/suspect_
+0002bcf0: 6170 7322 0a0a 2020 2020 2020 2020 7061  aps"..        pa
+0002bd00: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+0002bd10: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
+0002bd20: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
+0002bd30: 2027 6c61 6265 6c27 3a20 6c61 6265 6c2c   'label': label,
+0002bd40: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+0002bd50: 7465 273a 2073 6974 652c 0a20 2020 2020  te': site,.     
+0002bd60: 2020 2020 2020 2027 7374 6172 7427 3a20         'start': 
+0002bd70: 7374 6172 742c 0a20 2020 2020 2020 2020  start,.         
+0002bd80: 2020 2027 656e 6427 3a20 656e 642c 0a20     'end': end,. 
+0002bd90: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
+0002bda0: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
+0002bdb0: 0a20 2020 2020 2020 2020 2020 2027 6672  .            'fr
+0002bdc0: 6f6d 5f74 696d 6573 7461 6d70 273a 2066  om_timestamp': f
+0002bdd0: 726f 6d5f 7469 6d65 7374 616d 702c 0a20  rom_timestamp,. 
+0002bde0: 2020 2020 2020 2020 2020 2027 746f 5f74             'to_t
+0002bdf0: 696d 6573 7461 6d70 273a 2074 6f5f 7469  imestamp': to_ti
+0002be00: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002be10: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
+0002be20: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+0002be30: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
+0002be40: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
+0002be50: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0002be60: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0002be70: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+0002be80: 2020 2020 6173 796e 6320 6465 6620 7769      async def wi
+0002be90: 6473 5f67 6574 5f6e 6569 6768 626f 725f  ds_get_neighbor_
+0002bea0: 6170 7328 0a20 2020 2020 2020 2073 656c  aps(.        sel
+0002beb0: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
+0002bec0: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
+0002bed0: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
+0002bee0: 6c3a 204c 6973 745b 7374 725d 203d 204e  l: List[str] = N
+0002bef0: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
+0002bf00: 653a 204c 6973 745b 7374 725d 203d 204e  e: List[str] = N
+0002bf10: 6f6e 652c 0a20 2020 2020 2020 2073 7461  one,.        sta
+0002bf20: 7274 3a20 696e 7420 3d20 4e6f 6e65 2c0a  rt: int = None,.
+0002bf30: 2020 2020 2020 2020 656e 643a 2069 6e74          end: int
+0002bf40: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002bf50: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
+0002bf60: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
+0002bf70: 726f 6d5f 7469 6d65 7374 616d 703a 2069  rom_timestamp: i
+0002bf80: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0002bf90: 2020 2074 6f5f 7469 6d65 7374 616d 703a     to_timestamp:
+0002bfa0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
+0002bfb0: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+0002bfc0: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+0002bfd0: 6d69 743a 2069 6e74 203d 2031 3030 0a20  mit: int = 100. 
+0002bfe0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0002bff0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
+0002c000: 7420 6e65 6967 6862 6f72 2041 5073 2e0a  t neighbor APs..
+0002c010: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002c020: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0002c030: 2028 4c69 7374 5b73 7472 5d2c 206f 7074   (List[str], opt
+0002c040: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
+0002c050: 6772 6f75 7020 6e61 6d65 730a 2020 2020  group names.    
+0002c060: 2020 2020 2020 2020 6c61 6265 6c20 284c          label (L
+0002c070: 6973 745b 7374 725d 2c20 6f70 7469 6f6e  ist[str], option
+0002c080: 616c 293a 204c 6973 7420 6f66 206c 6162  al): List of lab
+0002c090: 656c 206e 616d 6573 0a20 2020 2020 2020  el names.       
+0002c0a0: 2020 2020 2073 6974 6520 284c 6973 745b       site (List[
+0002c0b0: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
+0002c0c0: 204c 6973 7420 6f66 2073 6974 6520 6e61   List of site na
+0002c0d0: 6d65 730a 2020 2020 2020 2020 2020 2020  mes.            
+0002c0e0: 7374 6172 7420 2869 6e74 2c20 6f70 7469  start (int, opti
+0002c0f0: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
+0002c100: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
+0002c110: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+0002c120: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+0002c130: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
+0002c140: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
+0002c150: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+0002c160: 656e 7420 7469 6d65 7374 616d 7020 6d69  ent timestamp mi
+0002c170: 6e75 7320 3320 686f 7572 730a 2020 2020  nus 3 hours.    
+0002c180: 2020 2020 2020 2020 656e 6420 2869 6e74          end (int
+0002c190: 2c20 6f70 7469 6f6e 616c 293a 204e 6565  , optional): Nee
+0002c1a0: 6420 696e 666f 726d 6174 696f 6e20 746f  d information to
+0002c1b0: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+0002c1c0: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+0002c1d0: 6f63 6820 696e 0a20 2020 2020 2020 2020  och in.         
+0002c1e0: 2020 2020 2020 206d 696c 6c69 7365 636f         milliseco
+0002c1f0: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
+0002c200: 6375 7272 656e 7420 7469 6d65 7374 616d  current timestam
+0002c210: 700a 2020 2020 2020 2020 2020 2020 7377  p.            sw
+0002c220: 6172 6d5f 6964 2028 7374 722c 206f 7074  arm_id (str, opt
+0002c230: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+0002c240: 7920 5377 6172 6d20 4944 0a20 2020 2020  y Swarm ID.     
+0002c250: 2020 2020 2020 2066 726f 6d5f 7469 6d65         from_time
+0002c260: 7374 616d 7020 2869 6e74 2c20 6f70 7469  stamp (int, opti
+0002c270: 6f6e 616c 293a 2054 6869 7320 7061 7261  onal): This para
+0002c280: 6d65 7465 7220 7375 7065 7263 6564 6573  meter supercedes
+0002c290: 2073 7461 7274 2070 6172 616d 6574 6572   start parameter
+0002c2a0: 2e20 4e65 6564 0a20 2020 2020 2020 2020  . Need.         
+0002c2b0: 2020 2020 2020 2069 6e66 6f72 6d61 7469         informati
+0002c2c0: 6f6e 2066 726f 6d20 7468 6973 2074 696d  on from this tim
+0002c2d0: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0002c2e0: 7020 6973 2065 706f 6368 2069 6e20 7365  p is epoch in se
+0002c2f0: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
+0002c300: 7320 6375 7272 656e 740a 2020 2020 2020  s current.      
+0002c310: 2020 2020 2020 2020 2020 5554 4320 7469            UTC ti
+0002c320: 6d65 7374 616d 7020 6d69 6e75 7320 3320  mestamp minus 3 
+0002c330: 686f 7572 730a 2020 2020 2020 2020 2020  hours.          
+0002c340: 2020 746f 5f74 696d 6573 7461 6d70 2028    to_timestamp (
+0002c350: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002c360: 5468 6973 2070 6172 616d 6574 6572 2073  This parameter s
+0002c370: 7570 6572 6365 6465 7320 656e 6420 7061  upercedes end pa
+0002c380: 7261 6d65 7465 722e 204e 6565 6420 696e  rameter. Need in
+0002c390: 666f 726d 6174 696f 6e0a 2020 2020 2020  formation.      
+0002c3a0: 2020 2020 2020 2020 2020 746f 2074 6869            to thi
+0002c3b0: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+0002c3c0: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+0002c3d0: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
+0002c3e0: 756c 7420 6973 2063 7572 7265 6e74 2055  ult is current U
+0002c3f0: 5443 2074 696d 6573 7461 6d70 0a20 2020  TC timestamp.   
+0002c400: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+0002c410: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002c420: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
+0002c430: 6574 2028 6465 6661 756c 7420 3d20 3029  et (default = 0)
+0002c440: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+0002c450: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+0002c460: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+0002c470: 293a 2070 6167 696e 6174 696f 6e20 7369  ): pagination si
+0002c480: 7a65 2028 6465 6661 756c 7420 3d20 3130  ze (default = 10
+0002c490: 3029 2044 6566 6175 6c74 7320 746f 2031  0) Defaults to 1
+0002c4a0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
+0002c4b0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0002c4c0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0002c4d0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0002c4e0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0002c4f0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0002c500: 2022 2f72 6170 6964 732f 7631 2f6e 6569   "/rapids/v1/nei
+0002c510: 6768 626f 725f 6170 7322 0a0a 2020 2020  ghbor_aps"..    
+0002c520: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+0002c530: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
+0002c540: 7027 3a20 6772 6f75 702c 0a20 2020 2020  p': group,.     
+0002c550: 2020 2020 2020 2027 6c61 6265 6c27 3a20         'label': 
+0002c560: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
+0002c570: 2020 2027 7369 7465 273a 2073 6974 652c     'site': site,
+0002c580: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
+0002c590: 6172 7427 3a20 7374 6172 742c 0a20 2020  art': start,.   
+0002c5a0: 2020 2020 2020 2020 2027 656e 6427 3a20           'end': 
+0002c5b0: 656e 642c 0a20 2020 2020 2020 2020 2020  end,.           
+0002c5c0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
+0002c5d0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
+0002c5e0: 2020 2027 6672 6f6d 5f74 696d 6573 7461     'from_timesta
+0002c5f0: 6d70 273a 2066 726f 6d5f 7469 6d65 7374  mp': from_timest
+0002c600: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
+0002c610: 2027 746f 5f74 696d 6573 7461 6d70 273a   'to_timestamp':
+0002c620: 2074 6f5f 7469 6d65 7374 616d 702c 0a20   to_timestamp,. 
+0002c630: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
+0002c640: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
+0002c650: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
+0002c660: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
+0002c670: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+0002c680: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0002c690: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+0002c6a0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+0002c6b0: 6465 6620 7769 6473 5f67 6574 5f61 6c6c  def wids_get_all
+0002c6c0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+0002c6d0: 2020 2020 2020 2020 6772 6f75 703a 204c          group: L
+0002c6e0: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
+0002c6f0: 0a20 2020 2020 2020 206c 6162 656c 3a20  .        label: 
+0002c700: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+0002c710: 2c0a 2020 2020 2020 2020 7369 7465 3a20  ,.        site: 
+0002c720: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+0002c730: 2c0a 2020 2020 2020 2020 7374 6172 743a  ,.        start:
+0002c740: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
+0002c750: 2020 2020 2065 6e64 3a20 696e 7420 3d20       end: int = 
+0002c760: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
+0002c770: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
+0002c780: 6e65 2c0a 2020 2020 2020 2020 6672 6f6d  ne,.        from
+0002c790: 5f74 696d 6573 7461 6d70 3a20 696e 7420  _timestamp: int 
+0002c7a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002c7b0: 746f 5f74 696d 6573 7461 6d70 3a20 696e  to_timestamp: in
+0002c7c0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+0002c7d0: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+0002c7e0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+0002c7f0: 3a20 696e 7420 3d20 3130 300a 2020 2020  : int = 100.    
+0002c800: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0002c810: 2020 2020 2020 2022 2222 4c69 7374 2061         """List a
+0002c820: 6c6c 2077 6964 7320 636c 6173 7369 6669  ll wids classifi
+0002c830: 6361 7469 6f6e 732e 0a0a 2020 2020 2020  cations...      
+0002c840: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0002c850: 2020 2020 6772 6f75 7020 284c 6973 745b      group (List[
+0002c860: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
+0002c870: 204c 6973 7420 6f66 2067 726f 7570 206e   List of group n
+0002c880: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
+0002c890: 206c 6162 656c 2028 4c69 7374 5b73 7472   label (List[str
+0002c8a0: 5d2c 206f 7074 696f 6e61 6c29 3a20 4c69  ], optional): Li
+0002c8b0: 7374 206f 6620 6c61 6265 6c20 6e61 6d65  st of label name
+0002c8c0: 730a 2020 2020 2020 2020 2020 2020 7369  s.            si
+0002c8d0: 7465 2028 4c69 7374 5b73 7472 5d2c 206f  te (List[str], o
+0002c8e0: 7074 696f 6e61 6c29 3a20 4c69 7374 206f  ptional): List o
+0002c8f0: 6620 7369 7465 206e 616d 6573 0a20 2020  f site names.   
+0002c900: 2020 2020 2020 2020 2073 7461 7274 2028           start (
+0002c910: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002c920: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
+0002c930: 2066 726f 6d20 7468 6973 2074 696d 6573   from this times
+0002c940: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+0002c950: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
+0002c960: 2020 2020 2020 2020 2020 2020 6d69 6c6c              mill
+0002c970: 6973 6563 6f6e 6473 2e20 4465 6661 756c  iseconds. Defaul
+0002c980: 7420 6973 2063 7572 7265 6e74 2074 696d  t is current tim
+0002c990: 6573 7461 6d70 206d 696e 7573 2033 2068  estamp minus 3 h
+0002c9a0: 6f75 7273 0a20 2020 2020 2020 2020 2020  ours.           
+0002c9b0: 2065 6e64 2028 696e 742c 206f 7074 696f   end (int, optio
+0002c9c0: 6e61 6c29 3a20 4e65 6564 2069 6e66 6f72  nal): Need infor
+0002c9d0: 6d61 7469 6f6e 2074 6f20 7468 6973 2074  mation to this t
+0002c9e0: 696d 6573 7461 6d70 2e20 5469 6d65 7374  imestamp. Timest
+0002c9f0: 616d 7020 6973 2065 706f 6368 2069 6e0a  amp is epoch in.
+0002ca00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ca10: 6d69 6c6c 6973 6563 6f6e 6473 2e20 4465  milliseconds. De
+0002ca20: 6661 756c 7420 6973 2063 7572 7265 6e74  fault is current
+0002ca30: 2074 696d 6573 7461 6d70 0a20 2020 2020   timestamp.     
+0002ca40: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+0002ca50: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0002ca60: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
+0002ca70: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+0002ca80: 6672 6f6d 5f74 696d 6573 7461 6d70 2028  from_timestamp (
+0002ca90: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002caa0: 5468 6973 2070 6172 616d 6574 6572 2073  This parameter s
+0002cab0: 7570 6572 6365 6465 7320 7374 6172 7420  upercedes start 
+0002cac0: 7061 7261 6d65 7465 722e 204e 6565 640a  parameter. Need.
+0002cad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cae0: 696e 666f 726d 6174 696f 6e20 6672 6f6d  information from
+0002caf0: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+0002cb00: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+0002cb10: 6f63 6820 696e 2073 6563 6f6e 6473 2e20  och in seconds. 
+0002cb20: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+0002cb30: 6e74 0a20 2020 2020 2020 2020 2020 2020  nt.             
+0002cb40: 2020 2055 5443 2074 696d 6573 7461 6d70     UTC timestamp
+0002cb50: 206d 696e 7573 2033 2068 6f75 7273 0a20   minus 3 hours. 
+0002cb60: 2020 2020 2020 2020 2020 2074 6f5f 7469             to_ti
+0002cb70: 6d65 7374 616d 7020 2869 6e74 2c20 6f70  mestamp (int, op
+0002cb80: 7469 6f6e 616c 293a 2054 6869 7320 7061  tional): This pa
+0002cb90: 7261 6d65 7465 7220 7375 7065 7263 6564  rameter superced
+0002cba0: 6573 2065 6e64 2070 6172 616d 6574 6572  es end parameter
+0002cbb0: 2e20 4e65 6564 2069 6e66 6f72 6d61 7469  . Need informati
+0002cbc0: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
+0002cbd0: 2020 2074 6f20 7468 6973 2074 696d 6573     to this times
+0002cbe0: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+0002cbf0: 6973 2065 706f 6368 2069 6e20 7365 636f  is epoch in seco
+0002cc00: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
+0002cc10: 6375 7272 656e 7420 5554 4320 7469 6d65  current UTC time
+0002cc20: 7374 616d 700a 2020 2020 2020 2020 2020  stamp.          
+0002cc30: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0002cc40: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0002cc50: 7469 6f6e 206f 6666 7365 7420 2864 6566  tion offset (def
+0002cc60: 6175 6c74 203d 2030 2920 4465 6661 756c  ault = 0) Defaul
+0002cc70: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
+0002cc80: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
+0002cc90: 206f 7074 696f 6e61 6c29 3a20 7061 6769   optional): pagi
+0002cca0: 6e61 7469 6f6e 2073 697a 6520 2864 6566  nation size (def
+0002ccb0: 6175 6c74 203d 2031 3030 2920 4465 6661  ault = 100) Defa
+0002ccc0: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+0002ccd0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0002cce0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0002ccf0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0002cd00: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0002cd10: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002cd20: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+0002cd30: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
+0002cd40: 7027 3a20 6772 6f75 702c 0a20 2020 2020  p': group,.     
+0002cd50: 2020 2020 2020 2027 6c61 6265 6c27 3a20         'label': 
+0002cd60: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
+0002cd70: 2020 2027 7369 7465 273a 2073 6974 652c     'site': site,
+0002cd80: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
+0002cd90: 6172 7427 3a20 7374 6172 742c 0a20 2020  art': start,.   
+0002cda0: 2020 2020 2020 2020 2027 656e 6427 3a20           'end': 
+0002cdb0: 656e 642c 0a20 2020 2020 2020 2020 2020  end,.           
+0002cdc0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
+0002cdd0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
+0002cde0: 2020 2027 6672 6f6d 5f74 696d 6573 7461     'from_timesta
+0002cdf0: 6d70 273a 2066 726f 6d5f 7469 6d65 7374  mp': from_timest
+0002ce00: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
+0002ce10: 2027 746f 5f74 696d 6573 7461 6d70 273a   'to_timestamp':
+0002ce20: 2074 6f5f 7469 6d65 7374 616d 702c 0a20   to_timestamp,. 
+0002ce30: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
+0002ce40: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
+0002ce50: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
+0002ce60: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
+0002ce70: 7d0a 0a20 2020 2020 2020 2062 7220 3d20  }..        br = 
+0002ce80: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
+0002ce90: 740a 2020 2020 2020 2020 6675 6e63 7320  t.        funcs 
+0002cea0: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
+0002ceb0: 7365 6c66 2e77 6964 735f 6765 745f 696e  self.wids_get_in
+0002cec0: 7465 7266 6572 696e 675f 6170 732c 0a20  terfering_aps,. 
+0002ced0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002cee0: 7769 6473 5f67 6574 5f6e 6569 6768 626f  wids_get_neighbo
+0002cef0: 725f 6170 732c 0a20 2020 2020 2020 2020  r_aps,.         
+0002cf00: 2020 2073 656c 662e 7769 6473 5f67 6574     self.wids_get
+0002cf10: 5f73 7573 7065 6374 5f61 7073 2c0a 2020  _suspect_aps,.  
+0002cf20: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
+0002cf30: 6964 735f 6765 745f 726f 6775 655f 6170  ids_get_rogue_ap
+0002cf40: 732c 0a20 2020 2020 2020 205d 0a0a 2020  s,.        ]..  
+0002cf50: 2020 2020 2020 6261 7463 685f 7265 7120        batch_req 
+0002cf60: 3d20 5b0a 2020 2020 2020 2020 2020 2020  = [.            
+0002cf70: 6272 2866 2c20 2a2a 7061 7261 6d73 2920  br(f, **params) 
+0002cf80: 666f 7220 6620 696e 2066 756e 6373 0a20  for f in funcs. 
+0002cf90: 2020 2020 2020 205d 0a0a 2020 2020 2020         ]..      
+0002cfa0: 2020 6261 7463 685f 7265 7320 3d20 6177    batch_res = aw
+0002cfb0: 6169 7420 7365 6c66 2e5f 6261 7463 685f  ait self._batch_
+0002cfc0: 7265 7175 6573 7428 6261 7463 685f 7265  request(batch_re
+0002cfd0: 7129 0a20 2020 2020 2020 2072 6573 7020  q).        resp 
+0002cfe0: 3d20 6261 7463 685f 7265 735b 2d31 5d0a  = batch_res[-1].
+0002cff0: 2020 2020 2020 2020 6f6b 5f72 6573 203d          ok_res =
+0002d000: 205b 6964 7820 666f 7220 6964 782c 2072   [idx for idx, r
+0002d010: 6573 2069 6e20 656e 756d 6572 6174 6528  es in enumerate(
+0002d020: 6261 7463 685f 7265 7329 2069 6620 7265  batch_res) if re
+0002d030: 732e 6f6b 5d0a 2020 2020 2020 2020 6966  s.ok].        if
+0002d040: 206e 6f74 206c 656e 286f 6b5f 7265 7329   not len(ok_res)
+0002d050: 203d 3d20 6c65 6e28 6675 6e63 7329 3a0a   == len(funcs):.
+0002d060: 2020 2020 2020 2020 2020 2020 6661 696c              fail
+0002d070: 6564 203d 205b 7820 666f 7220 7820 696e  ed = [x for x in
+0002d080: 2072 616e 6765 2830 2c20 6c65 6e28 6675   range(0, len(fu
+0002d090: 6e63 7329 2920 6966 2078 206e 6f74 2069  ncs)) if x not i
+0002d0a0: 6e20 6f6b 5f72 6573 5d0a 2020 2020 2020  n ok_res].      
+0002d0b0: 2020 2020 2020 666f 7220 6620 696e 2066        for f in f
+0002d0c0: 6169 6c65 643a 0a20 2020 2020 2020 2020  ailed:.         
+0002d0d0: 2020 2020 2020 2069 6620 6620 696e 2072         if f in r
+0002d0e0: 616e 6765 2830 2c20 6c65 6e28 6261 7463  ange(0, len(batc
+0002d0f0: 685f 7265 7329 293a 0a20 2020 2020 2020  h_res)):.       
+0002d100: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+0002d110: 2e65 7272 6f72 2866 227b 6261 7463 685f  .error(f"{batch_
+0002d120: 7265 735b 665d 2e6d 6574 686f 647d 207b  res[f].method} {
+0002d130: 6261 7463 685f 7265 735b 665d 2e75 726c  batch_res[f].url
+0002d140: 2e70 6174 687d 2052 6574 7572 6e65 6420  .path} Returned 
+0002d150: 4572 726f 7220 5374 6174 7573 207b 6261  Error Status {ba
+0002d160: 7463 685f 7265 735b 665d 2e73 7461 7475  tch_res[f].statu
+0002d170: 737d 2e20 7b62 6174 6368 5f72 6573 5b66  s}. {batch_res[f
+0002d180: 5d2e 6f75 7470 7574 206f 7220 6261 7463  ].output or batc
+0002d190: 685f 7265 735b 665d 2e65 7272 6f72 7d22  h_res[f].error}"
+0002d1a0: 2c20 7368 6f77 3d54 7275 6529 0a20 2020  , show=True).   
+0002d1b0: 2020 2020 2072 6177 5f6b 6579 7320 3d20       raw_keys = 
+0002d1c0: 5b22 696e 7465 7266 6572 696e 675f 6170  ["interfering_ap
+0002d1d0: 7322 2c20 226e 6569 6768 626f 725f 6170  s", "neighbor_ap
+0002d1e0: 7322 2c20 2273 7573 7065 6374 5f61 7073  s", "suspect_aps
+0002d1f0: 225d 0a20 2020 2020 2020 2072 6573 702e  "].        resp.
+0002d200: 7261 7720 3d20 7b22 726f 6775 655f 6170  raw = {"rogue_ap
+0002d210: 7322 3a20 7265 7370 2e72 6177 2e67 6574  s": resp.raw.get
+0002d220: 2822 726f 6775 655f 6170 7322 2c20 5b5d  ("rogue_aps", []
+0002d230: 292c 2022 5f63 6f75 6e74 7322 3a20 7b22  ), "_counts": {"
+0002d240: 726f 6775 6573 223a 2072 6573 702e 7261  rogues": resp.ra
+0002d250: 772e 6765 7428 2274 6f74 616c 2229 7d7d  w.get("total")}}
+0002d260: 0a20 2020 2020 2020 2066 6f72 2069 6478  .        for idx
+0002d270: 2c20 6b65 7920 696e 2065 6e75 6d65 7261  , key in enumera
+0002d280: 7465 2872 6177 5f6b 6579 7329 3a0a 2020  te(raw_keys):.  
+0002d290: 2020 2020 2020 2020 2020 6966 2069 6478            if idx
+0002d2a0: 2069 6e20 6f6b 5f72 6573 3a0a 2020 2020   in ok_res:.    
+0002d2b0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0002d2c0: 2e72 6177 203d 207b 2a2a 7265 7370 2e72  .raw = {**resp.r
+0002d2d0: 6177 2c20 2a2a 7b6b 6579 3a20 6261 7463  aw, **{key: batc
+0002d2e0: 685f 7265 735b 6964 785d 2e72 6177 2e67  h_res[idx].raw.g
+0002d2f0: 6574 286b 6579 2c20 5b5d 297d 7d0a 2020  et(key, [])}}.  
+0002d300: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0002d310: 7370 2e72 6177 5b22 5f63 6f75 6e74 7322  sp.raw["_counts"
+0002d320: 5d5b 6b65 792e 7273 7472 6970 2822 5f61  ][key.rstrip("_a
+0002d330: 7073 2229 5d20 3d20 6261 7463 685f 7265  ps")] = batch_re
+0002d340: 735b 6964 785d 2e72 6177 2e67 6574 2822  s[idx].raw.get("
+0002d350: 746f 7461 6c22 290a 2020 2020 2020 2020  total").        
+0002d360: 2020 2020 2020 2020 7265 7370 2e6f 7574          resp.out
+0002d370: 7075 7420 3d20 5b2a 7265 7370 2e6f 7574  put = [*resp.out
+0002d380: 7075 742c 202a 6261 7463 685f 7265 735b  put, *batch_res[
+0002d390: 6964 785d 2e6f 7574 7075 745d 0a20 2020  idx].output].   
+0002d3a0: 2020 2020 2023 2072 6573 702e 6f75 7470       # resp.outp
+0002d3b0: 7574 203d 205b 2a72 6573 702e 6f75 7470  ut = [*resp.outp
+0002d3c0: 7574 2c20 2a62 6174 6368 5f72 6573 5b30  ut, *batch_res[0
+0002d3d0: 5d2e 6f75 7470 7574 2c20 2a62 6174 6368  ].output, *batch
+0002d3e0: 5f72 6573 5b31 5d2e 6f75 7470 7574 2c20  _res[1].output, 
+0002d3f0: 2a62 6174 6368 5f72 6573 5b32 5d2e 6f75  *batch_res[2].ou
+0002d400: 7470 7574 5d0a 2020 2020 2020 2020 7472  tput].        tr
+0002d410: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
+0002d420: 6573 702e 6f75 7470 7574 203d 205b 6d6f  esp.output = [mo
+0002d430: 6465 6c73 2e57 4944 5328 2a2a 6429 2e64  dels.WIDS(**d).d
+0002d440: 6963 7428 2920 666f 7220 6420 696e 2072  ict() for d in r
+0002d450: 6573 702e 6f75 7470 7574 5d0a 2020 2020  esp.output].    
+0002d460: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+0002d470: 7469 6f6e 2061 7320 653a 0a20 2020 2020  tion as e:.     
+0002d480: 2020 2020 2020 206c 6f67 2e77 6172 6e69         log.warni
+0002d490: 6e67 2866 2264 6576 206e 6f74 652e 2070  ng(f"dev note. p
+0002d4a0: 7964 616e 7469 6320 636f 6e76 6572 7369  ydantic conversi
+0002d4b0: 6f6e 2064 6964 206e 6f74 2077 6f72 6b5c  on did not work\
+0002d4c0: 6e7b 657d 222c 2073 686f 773d 5472 7565  n{e}", show=True
+0002d4d0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+0002d4e0: 6e20 7265 7370 0a0a 0a20 2020 2061 7379  n resp...    asy
+0002d4f0: 6e63 2064 6566 2067 6574 5f61 6c65 7274  nc def get_alert
+0002d500: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+0002d510: 0a20 2020 2020 2020 2063 7573 746f 6d65  .        custome
+0002d520: 725f 6964 3a20 7374 7220 3d20 4e6f 6e65  r_id: str = None
+0002d530: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+0002d540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0002d550: 2020 2020 206c 6162 656c 3a20 7374 7220       label: str 
+0002d560: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002d570: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
+0002d580: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
+0002d590: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0002d5a0: 2020 2020 2020 6672 6f6d 5f74 733a 2069        from_ts: i
+0002d5b0: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0002d5c0: 2020 2074 6f5f 7473 3a20 696e 7420 3d20     to_ts: int = 
+0002d5d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7365  None,.        se
+0002d5e0: 7665 7269 7479 3a20 7374 7220 3d20 4e6f  verity: str = No
+0002d5f0: 6e65 2c0a 2020 2020 2020 2020 7479 7065  ne,.        type
+0002d600: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0002d610: 2020 2020 2020 7365 6172 6368 3a20 7374        search: st
+0002d620: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0002d630: 2020 2320 6361 6c63 756c 6174 655f 746f    # calculate_to
+0002d640: 7461 6c3a 2062 6f6f 6c20 3d20 4661 6c73  tal: bool = Fals
+0002d650: 652c 2020 2320 446f 6573 6e27 7420 6170  e,  # Doesn't ap
+0002d660: 7065 6172 2074 6f20 696d 7061 6374 2061  pear to impact a
+0002d670: 6c77 6179 7320 7265 7475 726e 7320 746f  lways returns to
+0002d680: 7461 6c0a 2020 2020 2020 2020 6163 6b3a  tal.        ack:
+0002d690: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
+0002d6a0: 2020 2020 2020 6669 656c 6473 3a20 7374        fields: st
+0002d6b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0002d6c0: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+0002d6d0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+0002d6e0: 3a20 696e 7420 3d20 3130 3030 2c0a 2020  : int = 1000,.  
+0002d6f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0002d700: 0a20 2020 2020 2020 2022 2222 5b63 656e  .        """[cen
+0002d710: 7472 616c 5d20 4c69 7374 204e 6f74 6966  tral] List Notif
+0002d720: 6963 6174 696f 6e73 2f41 6c65 7274 732e  ications/Alerts.
+0002d730: 2020 5265 7475 726e 7320 3120 6461 7920    Returns 1 day 
+0002d740: 6279 2064 6566 6175 6c74 2e0a 0a20 2020  by default...   
+0002d750: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0002d760: 2020 2020 2020 2063 7573 746f 6d65 725f         customer_
+0002d770: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+0002d780: 6c29 3a20 4d53 5020 7573 6572 2063 616e  l): MSP user can
+0002d790: 2066 696c 7465 7220 6e6f 7469 6669 6361   filter notifica
+0002d7a0: 7469 6f6e 7320 6261 7365 6420 6f6e 2063  tions based on c
+0002d7b0: 7573 746f 6d65 7220 6964 0a20 2020 2020  ustomer id.     
+0002d7c0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+0002d7d0: 722c 206f 7074 696f 6e61 6c29 3a20 5573  r, optional): Us
+0002d7e0: 6564 2074 6f20 6669 6c74 6572 2074 6865  ed to filter the
+0002d7f0: 206e 6f74 6966 6963 6174 696f 6e20 7479   notification ty
+0002d800: 7065 7320 6261 7365 6420 6f6e 2067 726f  pes based on gro
+0002d810: 7570 206e 616d 650a 2020 2020 2020 2020  up name.        
+0002d820: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+0002d830: 6f70 7469 6f6e 616c 293a 2055 7365 6420  optional): Used 
+0002d840: 746f 2066 696c 7465 7220 7468 6520 6e6f  to filter the no
+0002d850: 7469 6669 6361 7469 6f6e 2074 7970 6573  tification types
+0002d860: 2062 6173 6564 206f 6e20 4c61 6265 6c20   based on Label 
+0002d870: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+0002d880: 2073 6572 6961 6c20 2873 7472 2c20 6f70   serial (str, op
+0002d890: 7469 6f6e 616c 293a 2055 7365 6420 746f  tional): Used to
+0002d8a0: 2066 696c 7465 7220 7468 6520 7265 7375   filter the resu
+0002d8b0: 6c74 2062 6173 6564 206f 6e20 7365 7269  lt based on seri
+0002d8c0: 616c 206e 756d 6265 7220 6f66 2074 6865  al number of the
+0002d8d0: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
+0002d8e0: 2020 2020 7369 7465 2028 7374 722c 206f      site (str, o
+0002d8f0: 7074 696f 6e61 6c29 3a20 5573 6564 2074  ptional): Used t
+0002d900: 6f20 6669 6c74 6572 2074 6865 206e 6f74  o filter the not
+0002d910: 6966 6963 6174 696f 6e20 7479 7065 7320  ification types 
+0002d920: 6261 7365 6420 6f6e 2053 6974 6520 6e61  based on Site na
+0002d930: 6d65 0a20 2020 2020 2020 2020 2020 2066  me.            f
+0002d940: 726f 6d5f 7473 2028 696e 742c 206f 7074  rom_ts (int, opt
+0002d950: 696f 6e61 6c29 3a20 3129 7374 6172 7420  ional): 1)start 
+0002d960: 6f66 2064 7572 6174 696f 6e20 7769 7468  of duration with
+0002d970: 696e 2077 6869 6368 2061 6c65 7274 7320  in which alerts 
+0002d980: 6172 6520 7261 6973 6564 0a20 2020 2020  are raised.     
+0002d990: 2020 2020 2020 2020 2020 2032 2964 6573             2)des
+0002d9a0: 6372 6962 6564 2075 7369 6e67 2055 6e69  cribed using Uni
+0002d9b0: 7820 4570 6f63 6820 7469 6d65 2069 6e20  x Epoch time in 
+0002d9c0: 7365 636f 6e64 7320 2044 6566 6175 6c74  seconds  Default
+0002d9d0: 2033 3020 6461 7973 2028 6d61 7820 3930   30 days (max 90
+0002d9e0: 290a 2020 2020 2020 2020 2020 2020 746f  ).            to
+0002d9f0: 5f74 7320 2869 6e74 2c20 6f70 7469 6f6e  _ts (int, option
+0002da00: 616c 293a 2031 2965 6e64 206f 6620 6475  al): 1)end of du
+0002da10: 7261 7469 6f6e 2077 6974 6869 6e20 7768  ration within wh
+0002da20: 6963 6820 616c 6572 7473 2061 7265 2072  ich alerts are r
+0002da30: 6169 7365 640a 2020 2020 2020 2020 2020  aised.          
+0002da40: 2020 2020 2020 3229 6465 7363 7269 6265        2)describe
+0002da50: 6420 7573 696e 6720 556e 6978 2045 706f  d using Unix Epo
+0002da60: 6368 2074 696d 6520 696e 2073 6563 6f6e  ch time in secon
+0002da70: 6473 0a20 2020 2020 2020 2020 2020 2073  ds.            s
+0002da80: 6576 6572 6974 7920 2873 7472 2c20 6f70  everity (str, op
+0002da90: 7469 6f6e 616c 293a 2055 7365 6420 746f  tional): Used to
+0002daa0: 2066 696c 7465 7220 7468 6520 6e6f 7469   filter the noti
+0002dab0: 6669 6361 7469 6f6e 2074 7970 6573 2062  fication types b
+0002dac0: 6173 6564 206f 6e20 7365 7665 7269 7479  ased on severity
+0002dad0: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+0002dae0: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
+0002daf0: 293a 2055 7365 6420 746f 2066 696c 7465  ): Used to filte
+0002db00: 7220 7468 6520 6e6f 7469 6669 6361 7469  r the notificati
+0002db10: 6f6e 2074 7970 6573 2062 6173 6564 206f  on types based o
+0002db20: 6e20 6e6f 7469 6669 6361 7469 6f6e 2074  n notification t
+0002db30: 7970 650a 2020 2020 2020 2020 2020 2020  ype.            
+0002db40: 2020 2020 6e61 6d65 0a20 2020 2020 2020      name.       
+0002db50: 2020 2020 2073 6561 7263 6820 2873 7472       search (str
+0002db60: 2c20 6f70 7469 6f6e 616c 293a 2074 6572  , optional): ter
+0002db70: 6d20 7573 6564 2074 6f20 7365 6172 6368  m used to search
+0002db80: 2069 6e20 6e61 6d65 2c20 6361 7465 676f   in name, catego
+0002db90: 7279 206f 6620 7468 6520 616c 6572 740a  ry of the alert.
+0002dba0: 2020 2020 2020 2020 2020 2020 6361 6c63              calc
+0002dbb0: 756c 6174 655f 746f 7461 6c20 2862 6f6f  ulate_total (boo
+0002dbc0: 6c2c 206f 7074 696f 6e61 6c29 3a20 5768  l, optional): Wh
+0002dbd0: 6574 6865 7220 746f 2063 6f75 6e74 2074  ether to count t
+0002dbe0: 6f74 616c 2069 7465 6d73 2069 6e20 7468  otal items in th
+0002dbf0: 6520 7265 7370 6f6e 7365 0a20 2020 2020  e response.     
+0002dc00: 2020 2020 2020 2061 636b 2028 626f 6f6c         ack (bool
+0002dc10: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0002dc20: 7465 7220 6163 6b6e 6f77 6c65 6467 6564  ter acknowledged
+0002dc30: 206f 7220 756e 6163 6b6e 6f77 6c65 6467   or unacknowledg
+0002dc40: 6564 206e 6f74 6966 6963 6174 696f 6e73  ed notifications
+0002dc50: 2e20 5768 656e 2071 7565 7279 0a20 2020  . When query.   
+0002dc60: 2020 2020 2020 2020 2020 2020 2070 6172               par
+0002dc70: 616d 6574 6572 2069 7320 6e6f 7420 7370  ameter is not sp
+0002dc80: 6563 6966 6965 642c 2062 6f74 6820 6163  ecified, both ac
+0002dc90: 6b6e 6f77 6c65 6467 6564 2061 6e64 2075  knowledged and u
+0002dca0: 6e61 636b 6e6f 776c 6564 6765 6420 6e6f  nacknowledged no
+0002dcb0: 7469 6669 6361 7469 6f6e 7320 6172 650a  tifications are.
+0002dcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002dcd0: 696e 636c 7564 6564 0a20 2020 2020 2020  included.       
+0002dce0: 2020 2020 2066 6965 6c64 7320 2873 7472       fields (str
+0002dcf0: 2c20 6f70 7469 6f6e 616c 293a 2043 6f6d  , optional): Com
+0002dd00: 6d61 2073 6570 6172 6174 6564 206c 6973  ma separated lis
+0002dd10: 7420 6f66 2066 6965 6c64 7320 746f 2062  t of fields to b
+0002dd20: 6520 7265 7475 726e 6564 0a20 2020 2020  e returned.     
+0002dd30: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
+0002dd40: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0002dd50: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
+0002dd60: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+0002dd70: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+0002dd80: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+0002dd90: 293a 2050 6167 696e 6174 696f 6e20 6c69  ): Pagination li
+0002dda0: 6d69 742e 2044 6566 6175 6c74 2069 7320  mit. Default is 
+0002ddb0: 3130 3020 616e 6420 6d61 7820 6973 2031  100 and max is 1
+0002ddc0: 3030 3020 4465 6661 756c 7473 2074 6f20  000 Defaults to 
+0002ddd0: 3530 302e 0a0a 2020 2020 2020 2020 5265  500...        Re
+0002dde0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0002ddf0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0002de00: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0002de10: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0002de20: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+0002de30: 3d20 222f 6365 6e74 7261 6c2f 7631 2f6e  = "/central/v1/n
+0002de40: 6f74 6966 6963 6174 696f 6e73 220a 0a20  otifications".. 
+0002de50: 2020 2020 2020 2069 6620 6e6f 7420 6672         if not fr
+0002de60: 6f6d 5f74 733a 0a20 2020 2020 2020 2020  om_ts:.         
+0002de70: 2020 2066 726f 6d5f 7473 203d 2069 6e74     from_ts = int
+0002de80: 2864 6174 6574 696d 652e 7469 6d65 7374  (datetime.timest
+0002de90: 616d 7028 6461 7465 7469 6d65 2e74 6f64  amp(datetime.tod
+0002dea0: 6179 2829 202d 2074 696d 6564 656c 7461  ay() - timedelta
+0002deb0: 2864 6179 733d 3129 2929 0a20 2020 2020  (days=1))).     
+0002dec0: 2020 2069 6620 6163 6b20 696e 205b 5472     if ack in [Tr
+0002ded0: 7565 2c20 4661 6c73 655d 3a0a 2020 2020  ue, False]:.    
+0002dee0: 2020 2020 2020 2020 6163 6b20 3d20 7374          ack = st
+0002def0: 7228 6163 6b29 2e6c 6f77 6572 2829 0a0a  r(ack).lower()..
+0002df00: 2020 2020 2020 2020 6966 2074 6f5f 7473          if to_ts
+0002df10: 2061 6e64 2074 6f5f 7473 203c 3d20 6672   and to_ts <= fr
+0002df20: 6f6d 5f74 733a 0a20 2020 2020 2020 2020  om_ts:.         
+0002df30: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
+0002df40: 7365 2865 7272 6f72 3d66 2254 6f20 7469  se(error=f"To ti
+0002df50: 6d65 7374 616d 7020 287b 746f 5f74 737d  mestamp ({to_ts}
+0002df60: 2920 6361 6e20 6e6f 7420 6265 206c 6573  ) can not be les
+0002df70: 7320 7468 616e 2066 726f 6d20 7469 6d65  s than from time
+0002df80: 7374 616d 7020 287b 6672 6f6d 5f74 737d  stamp ({from_ts}
+0002df90: 2922 290a 0a20 2020 2020 2020 2070 6172  )")..        par
+0002dfa0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+0002dfb0: 2020 2020 2763 7573 746f 6d65 725f 6964      'customer_id
+0002dfc0: 273a 2063 7573 746f 6d65 725f 6964 2c0a  ': customer_id,.
+0002dfd0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
+0002dfe0: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
+0002dff0: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
+0002e000: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+0002e010: 2020 2020 2773 6572 6961 6c27 3a20 7365      'serial': se
+0002e020: 7269 616c 2c0a 2020 2020 2020 2020 2020  rial,.          
+0002e030: 2020 2773 6974 6527 3a20 7369 7465 2c0a    'site': site,.
+0002e040: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
+0002e050: 6d5f 7469 6d65 7374 616d 7027 3a20 6672  m_timestamp': fr
+0002e060: 6f6d 5f74 732c 0a20 2020 2020 2020 2020  om_ts,.         
+0002e070: 2020 2027 746f 5f74 696d 6573 7461 6d70     'to_timestamp
+0002e080: 273a 2074 6f5f 7473 2c0a 2020 2020 2020  ': to_ts,.      
+0002e090: 2020 2020 2020 2773 6576 6572 6974 7927        'severity'
+0002e0a0: 3a20 7365 7665 7269 7479 2c0a 2020 2020  : severity,.    
+0002e0b0: 2020 2020 2020 2020 2773 6561 7263 6827          'search'
+0002e0c0: 3a20 7365 6172 6368 2c0a 2020 2020 2020  : search,.      
+0002e0d0: 2020 2020 2020 2320 2763 616c 6375 6c61        # 'calcula
+0002e0e0: 7465 5f74 6f74 616c 273a 2073 7472 2863  te_total': str(c
+0002e0f0: 616c 6375 6c61 7465 5f74 6f74 616c 292c  alculate_total),
+0002e100: 0a20 2020 2020 2020 2020 2020 2027 7479  .            'ty
+0002e110: 7065 273a 2074 7970 652c 0a20 2020 2020  pe': type,.     
+0002e120: 2020 2020 2020 2027 6163 6b27 3a20 6163         'ack': ac
+0002e130: 6b2c 0a20 2020 2020 2020 2020 2020 2027  k,.            '
+0002e140: 6669 656c 6473 273a 2066 6965 6c64 732c  fields': fields,
+0002e150: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
+0002e160: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
+0002e170: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+0002e180: 7427 3a20 6c69 6d69 742c 0a20 2020 2020  t': limit,.     
+0002e190: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+0002e1a0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0002e1b0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+0002e1c0: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+0002e1d0: 6e63 2064 6566 2063 656e 7472 616c 5f61  nc def central_a
+0002e1e0: 636b 6e6f 776c 6564 6765 5f6e 6f74 6966  cknowledge_notif
+0002e1f0: 6963 6174 696f 6e73 280a 2020 2020 2020  ications(.      
+0002e200: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0002e210: 4e6f 4e61 6d65 3a20 4c69 7374 5b73 7472  NoName: List[str
+0002e220: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2920  ] = None,.    ) 
+0002e230: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002e240: 2020 2020 2022 2222 4163 6b6e 6f77 6c65       """Acknowle
+0002e250: 6467 6520 4e6f 7469 6669 6361 7469 6f6e  dge Notification
+0002e260: 7320 6279 2049 4420 4c69 7374 202f 2041  s by ID List / A
+0002e270: 6c6c 2e0a 0a20 2020 2020 2020 2041 7267  ll...        Arg
+0002e280: 733a 0a20 2020 2020 2020 2020 2020 204e  s:.            N
+0002e290: 6f4e 616d 6520 284c 6973 745b 7374 725d  oName (List[str]
+0002e2a0: 2c20 6f70 7469 6f6e 616c 293a 2041 636b  , optional): Ack
+0002e2b0: 6e6f 776c 6564 6765 206e 6f74 6966 6963  nowledge notific
+0002e2c0: 6174 696f 6e73 0a0a 2020 2020 2020 2020  ations..        
+0002e2d0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0002e2e0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0002e2f0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0002e300: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0002e310: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0002e320: 6c20 3d20 222f 6365 6e74 7261 6c2f 7631  l = "/central/v1
+0002e330: 2f6e 6f74 6966 6963 6174 696f 6e73 220a  /notifications".
+0002e340: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0002e350: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+0002e360: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
+0002e370: 6465 6620 6365 6e74 7261 6c5f 6765 745f  def central_get_
+0002e380: 6e6f 7469 6669 6361 7469 6f6e 5f63 6f6e  notification_con
+0002e390: 6669 6728 0a20 2020 2020 2020 2073 656c  fig(.        sel
+0002e3a0: 662c 0a20 2020 2020 2020 2073 6561 7263  f,.        searc
+0002e3b0: 683a 2073 7472 203d 204e 6f6e 652c 0a20  h: str = None,. 
+0002e3c0: 2020 2020 2020 2073 6f72 743a 2073 7472         sort: str
+0002e3d0: 203d 2027 2d63 7265 6174 6564 5f74 7327   = '-created_ts'
+0002e3e0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0002e3f0: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0002e400: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0002e410: 3530 302c 0a20 2020 2029 202d 3e20 5265  500,.    ) -> Re
+0002e420: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0002e430: 2222 224c 6973 7420 436f 6e66 6967 7572  """List Configur
+0002e440: 6174 696f 6e2f 5365 7474 696e 6773 2066  ation/Settings f
+0002e450: 6f72 2061 6c65 7274 7320 7468 6174 2072  or alerts that r
+0002e460: 6573 756c 7420 696e 206e 6f74 6966 6963  esult in notific
+0002e470: 6174 696f 6e2e 0a0a 2020 2020 2020 2020  ation...        
+0002e480: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0002e490: 2020 7365 6172 6368 2028 7374 722c 206f    search (str, o
+0002e4a0: 7074 696f 6e61 6c29 3a20 7465 726d 2075  ptional): term u
+0002e4b0: 7365 6420 746f 2073 6561 7263 6820 696e  sed to search in
+0002e4c0: 206e 616d 652c 2063 6174 6567 6f72 7920   name, category 
+0002e4d0: 6f66 2074 6865 2061 6c65 7274 0a20 2020  of the alert.   
+0002e4e0: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
+0002e4f0: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+0002e500: 6f72 7420 7061 7261 6d65 7465 7220 6d61  ort parameter ma
+0002e510: 7920 6265 206f 6e65 206f 6620 2b63 7265  y be one of +cre
+0002e520: 6174 6564 5f74 732c 202d 6372 6561 7465  ated_ts, -create
+0002e530: 645f 7473 2c20 4465 6661 756c 7420 6973  d_ts, Default is
+0002e540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002e550: 2027 2d63 7265 6174 6564 5f74 7327 2020   '-created_ts'  
+0002e560: 5661 6c69 6420 5661 6c75 6573 3a20 2d63  Valid Values: -c
+0002e570: 7265 6174 6564 5f74 732c 202b 6372 6561  reated_ts, +crea
+0002e580: 7465 645f 7473 0a20 2020 2020 2020 2020  ted_ts.         
+0002e590: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0002e5a0: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0002e5b0: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
+0002e5c0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0002e5d0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0002e5e0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0002e5f0: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
+0002e600: 2044 6566 6175 6c74 2069 7320 3130 3020   Default is 100 
+0002e610: 616e 6420 6d61 7820 6973 2031 3030 3020  and max is 1000 
+0002e620: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
+0002e630: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0002e640: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0002e650: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0002e660: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0002e670: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0002e680: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0002e690: 6365 6e74 7261 6c2f 7631 2f6e 6f74 6966  central/v1/notif
+0002e6a0: 6963 6174 696f 6e73 2f73 6574 7469 6e67  ications/setting
+0002e6b0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+0002e6c0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+0002e6d0: 2020 2027 7365 6172 6368 273a 2073 6561     'search': sea
+0002e6e0: 7263 682c 0a20 2020 2020 2020 2020 2020  rch,.           
+0002e6f0: 2027 736f 7274 273a 2073 6f72 742c 0a20   'sort': sort,. 
+0002e700: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
+0002e710: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
+0002e720: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
+0002e730: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
+0002e740: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+0002e750: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0002e760: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+0002e770: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+0002e780: 6465 6620 6765 745f 6170 5f63 6f6e 6669  def get_ap_confi
+0002e790: 6728 0a20 2020 2020 2020 2073 656c 662c  g(.        self,
+0002e7a0: 0a20 2020 2020 2020 2067 726f 7570 5f73  .        group_s
+0002e7b0: 7761 726d 6964 3a20 7374 722c 0a20 2020  warmid: str,.   
+0002e7c0: 2020 2020 2076 6572 7369 6f6e 3a20 7374       version: st
+0002e7d0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2920  r = None,.    ) 
+0002e7e0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002e7f0: 2020 2020 2022 2222 4765 7420 4150 2047       """Get AP G
+0002e800: 726f 7570 204c 6576 656c 2063 6f6e 6669  roup Level confi
+0002e810: 6775 7261 7469 6f6e 2066 6f72 2055 4920  guration for UI 
+0002e820: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
+0002e830: 2f2f 2055 7365 6420 6279 2073 686f 7720  // Used by show 
+0002e840: 636f 6e66 6967 203c 4150 204d 4143 2066  config <AP MAC f
+0002e850: 6f72 2041 4f53 3130 2041 503e 202f 2f0a  or AOS10 AP> //.
+0002e860: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002e870: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0002e880: 5f73 7761 726d 6964 2028 7374 7229 3a20  _swarmid (str): 
+0002e890: 4772 6f75 7020 6e61 6d65 206f 6620 7468  Group name of th
+0002e8a0: 6520 6772 6f75 7020 6f72 2067 7569 6420  e group or guid 
+0002e8b0: 6f66 2074 6865 2073 7761 726d 2e0a 2020  of the swarm..  
+0002e8c0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
+0002e8d0: 616d 706c 653a 4772 6f75 705f 3120 6f72  ample:Group_1 or
+0002e8e0: 2036 6135 6431 3233 6230 3166 3934 3431   6a5d123b01f9441
+0002e8f0: 3830 3632 3434 6561 3665 3032 3366 6162  806244ea6e023fab
+0002e900: 3538 3431 6237 3763 3832 3861 3038 3566  5841b77c828a085f
+0002e910: 3034 662e 0a20 2020 2020 2020 2020 2020  04f..           
+0002e920: 2076 6572 7369 6f6e 2028 7374 722c 206f   version (str, o
+0002e930: 7074 696f 6e61 6c29 3a20 5665 7273 696f  ptional): Versio
+0002e940: 6e20 6f66 2041 502e 0a0a 2020 2020 2020  n of AP...      
+0002e950: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0002e960: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0002e970: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0002e980: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0002e990: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002e9a0: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+0002e9b0: 7261 7469 6f6e 2f76 312f 6170 5f63 6c69  ration/v1/ap_cli
+0002e9c0: 2f7b 6772 6f75 705f 7377 6172 6d69 647d  /{group_swarmid}
+0002e9d0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0002e9e0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0002e9f0: 2020 2776 6572 7369 6f6e 273a 2076 6572    'version': ver
+0002ea00: 7369 6f6e 0a20 2020 2020 2020 207d 0a0a  sion.        }..
+0002ea10: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0002ea20: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0002ea30: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+0002ea40: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0002ea50: 2072 6570 6c61 6365 5f61 705f 636f 6e66   replace_ap_conf
+0002ea60: 6967 280a 2020 2020 2020 2020 7365 6c66  ig(.        self
+0002ea70: 2c0a 2020 2020 2020 2020 6772 6f75 705f  ,.        group_
+0002ea80: 6e61 6d65 5f6f 725f 6775 6964 3a20 7374  name_or_guid: st
+0002ea90: 722c 0a20 2020 2020 2020 2063 6c69 733a  r,.        clis:
+0002eaa0: 204c 6973 745b 7374 725d 2c0a 2020 2020   List[str],.    
+0002eab0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0002eac0: 2020 2020 2020 2022 2222 5265 706c 6163         """Replac
+0002ead0: 6520 4150 2047 726f 7570 204c 6576 656c  e AP Group Level
+0002eae0: 2063 6f6e 6669 6775 7261 7469 6f6e 2066   configuration f
+0002eaf0: 6f72 2055 4920 6772 6f75 702e 0a0a 2020  or UI group...  
+0002eb00: 2020 2020 2020 5365 6e64 2041 5020 636f        Send AP co
+0002eb10: 6e66 6967 7572 6174 696f 6e20 696e 2043  nfiguration in C
+0002eb20: 4c49 2066 6f72 6d61 7420 6173 2061 206c  LI format as a l
+0002eb30: 6973 7420 6f66 2073 7472 696e 6773 2077  ist of strings w
+0002eb40: 6865 7265 2065 6163 6820 6974 656d 2069  here each item i
+0002eb50: 6e20 7468 6520 6c69 7374 2069 730a 2020  n the list is.  
+0002eb60: 2020 2020 2020 6120 6c69 6e65 2066 726f        a line fro
+0002eb70: 6d20 7468 6520 636f 6e66 6967 2e20 2052  m the config.  R
+0002eb80: 6571 7569 7265 7320 616c 6c20 6c69 6e65  equires all line
+0002eb90: 7320 6f66 2074 6865 2063 6f6e 6669 672c  s of the config,
+0002eba0: 206e 6f74 2061 2070 6172 7469 616c 2075   not a partial u
+0002ebb0: 7064 6174 652e 0a0a 2020 2020 2020 2020  pdate...        
+0002ebc0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0002ebd0: 2020 6772 6f75 705f 6e61 6d65 5f6f 725f    group_name_or_
+0002ebe0: 6775 6964 2028 7374 7229 3a20 4772 6f75  guid (str): Grou
+0002ebf0: 7020 6e61 6d65 206f 6620 7468 6520 6772  p name of the gr
+0002ec00: 6f75 7020 6f72 2067 7569 6420 6f66 2074  oup or guid of t
+0002ec10: 6865 2073 7761 726d 2e0a 2020 2020 2020  he swarm..      
+0002ec20: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+0002ec30: 653a 4772 6f75 705f 3120 6f72 2036 6135  e:Group_1 or 6a5
+0002ec40: 6431 3233 6230 3166 3934 3431 3830 3632  d123b01f94418062
+0002ec50: 3434 6561 3665 3032 3366 6162 3538 3431  44ea6e023fab5841
+0002ec60: 6237 3763 3832 3861 3038 3566 3034 662e  b77c828a085f04f.
+0002ec70: 0a20 2020 2020 2020 2020 2020 2063 6c69  .            cli
+0002ec80: 7320 284c 6973 745b 7374 725d 293a 2057  s (List[str]): W
+0002ec90: 686f 6c65 2063 6f6e 6669 6775 7261 7469  hole configurati
+0002eca0: 6f6e 204c 6973 7420 696e 2043 4c49 2066  on List in CLI f
+0002ecb0: 6f72 6d61 742e 0a0a 2020 2020 2020 2020  ormat...        
+0002ecc0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0002ecd0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0002ece0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0002ecf0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0002ed00: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0002ed10: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0002ed20: 7469 6f6e 2f76 312f 6170 5f63 6c69 2f7b  tion/v1/ap_cli/{
+0002ed30: 6772 6f75 705f 6e61 6d65 5f6f 725f 6775  group_name_or_gu
+0002ed40: 6964 7d22 0a0a 2020 2020 2020 2020 6a73  id}"..        js
+0002ed50: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
+0002ed60: 2020 2020 2020 2020 2763 6c69 7327 3a20          'clis': 
+0002ed70: 636c 6973 0a20 2020 2020 2020 207d 0a0a  clis.        }..
+0002ed80: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0002ed90: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+0002eda0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+0002edb0: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+0002edc0: 796e 6320 6465 6620 6765 745f 7065 725f  ync def get_per_
+0002edd0: 6170 5f63 6f6e 6669 6728 0a20 2020 2020  ap_config(.     
+0002ede0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0002edf0: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+0002ee00: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0002ee10: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+0002ee20: 7065 7220 4150 2073 6574 7469 6e67 2e0a  per AP setting..
+0002ee30: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002ee40: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0002ee50: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+0002ee60: 4e75 6d62 6572 206f 6620 4150 0a0a 2020  Number of AP..  
+0002ee70: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0002ee80: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0002ee90: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0002eea0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0002eeb0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002eec0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+0002eed0: 6669 6775 7261 7469 6f6e 2f76 312f 6170  figuration/v1/ap
+0002eee0: 5f73 6574 7469 6e67 735f 636c 692f 7b73  _settings_cli/{s
+0002eef0: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
+0002ef00: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0002ef10: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+0002ef20: 2061 7379 6e63 2064 6566 2072 6570 6c61   async def repla
+0002ef30: 6365 5f70 6572 5f61 705f 636f 6e66 6967  ce_per_ap_config
+0002ef40: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+0002ef50: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+0002ef60: 7374 722c 0a20 2020 2020 2020 2063 6c69  str,.        cli
+0002ef70: 733a 204c 6973 745b 7374 725d 2c0a 2020  s: List[str],.  
+0002ef80: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0002ef90: 0a20 2020 2020 2020 2022 2222 5265 706c  .        """Repl
+0002efa0: 6163 6520 7065 7220 4150 2073 6574 7469  ace per AP setti
+0002efb0: 6e67 2e0a 0a20 2020 2020 2020 2041 7267  ng...        Arg
+0002efc0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0002efd0: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+0002efe0: 6961 6c20 4e75 6d62 6572 206f 6620 4150  ial Number of AP
+0002eff0: 0a20 2020 2020 2020 2020 2020 2063 6c69  .            cli
+0002f000: 7320 284c 6973 745b 7374 725d 293a 2041  s (List[str]): A
+0002f010: 6c6c 2070 6572 2041 5020 7365 7474 696e  ll per AP settin
+0002f020: 6720 4c69 7374 2069 6e20 434c 4920 666f  g List in CLI fo
+0002f030: 726d 6174 0a20 2020 2020 2020 2020 2020  rmat.           
+0002f040: 2020 2020 204d 7573 7420 7072 6f76 6964       Must provid
+0002f050: 6520 616c 6c20 7065 7220 4150 2073 6574  e all per AP set
+0002f060: 7469 6e67 732c 206e 6f74 2070 6172 7469  tings, not parti
+0002f070: 616c 0a0a 2020 2020 2020 2020 5265 7475  al..        Retu
+0002f080: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+0002f090: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+0002f0a0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+0002f0b0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+0002f0c0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0002f0d0: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
+0002f0e0: 2f76 312f 6170 5f73 6574 7469 6e67 735f  /v1/ap_settings_
+0002f0f0: 636c 692f 7b73 6572 6961 6c7d 220a 0a20  cli/{serial}".. 
+0002f100: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+0002f110: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0002f120: 2027 636c 6973 273a 2063 6c69 730a 2020   'clis': clis.  
+0002f130: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0002f140: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0002f150: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+0002f160: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
+0002f170: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0002f180: 2067 6574 5f62 7261 6368 5f68 6561 6c74   get_brach_healt
+0002f190: 6828 0a20 2020 2020 2020 2073 656c 662c  h(.        self,
+0002f1a0: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
+0002f1b0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0002f1c0: 2020 2063 6f6c 756d 6e3a 2069 6e74 203d     column: int =
+0002f1d0: 204e 6f6e 652c 0a20 2020 2020 2020 2072   None,.        r
+0002f1e0: 6576 6572 7365 3a20 626f 6f6c 203d 2046  everse: bool = F
+0002f1f0: 616c 7365 2c0a 2020 2020 2020 2020 6669  alse,.        fi
+0002f200: 6c74 6572 733a 2064 6963 7420 3d20 7b7d  lters: dict = {}
+0002f210: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0002f220: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0002f230: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0002f240: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
+0002f250: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0002f260: 2222 2247 6574 2064 6174 6120 666f 7220  """Get data for 
+0002f270: 616c 6c20 7369 7465 732e 0a0a 2020 2020  all sites...    
+0002f280: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0002f290: 2020 2020 2020 6e61 6d65 2028 7374 722c        name (str,
+0002f2a0: 206f 7074 696f 6e61 6c29 3a20 7369 7465   optional): site
+0002f2b0: 202f 206c 6162 656c 206e 616d 6520 6f72   / label name or
+0002f2c0: 2070 6172 7420 6f66 2069 7473 206e 616d   part of its nam
+0002f2d0: 650a 2020 2020 2020 2020 2020 2020 636f  e.            co
+0002f2e0: 6c75 6d6e 2028 696e 742c 206f 7074 696f  lumn (int, optio
+0002f2f0: 6e61 6c29 3a20 436f 6c75 6d6e 2074 6f20  nal): Column to 
+0002f300: 736f 7274 206f 6e0a 2020 2020 2020 2020  sort on.        
+0002f310: 2020 2020 7265 7665 7273 6520 2862 6f6f      reverse (boo
+0002f320: 6c2c 206f 7074 696f 6e61 6c29 3a20 536f  l, optional): So
+0002f330: 7274 2069 6e20 7265 7665 7273 6520 6f72  rt in reverse or
+0002f340: 6465 723a 0a20 2020 2020 2020 2020 2020  der:.           
+0002f350: 2020 2020 2056 616c 6964 2056 616c 7565       Valid Value
+0002f360: 733a 2061 7363 2c20 6465 7363 0a20 2020  s: asc, desc.   
+0002f370: 2020 2020 2020 2020 2020 2020 202a 2061               * a
+0002f380: 7363 202d 2041 7363 656e 6469 6e67 2c20  sc - Ascending, 
+0002f390: 6672 6f6d 2041 2074 6f20 5a2e 0a20 2020  from A to Z..   
+0002f3a0: 2020 2020 2020 2020 2020 2020 202a 2064               * d
+0002f3b0: 6573 6320 2d20 4465 7363 656e 6469 6e67  esc - Descending
+0002f3c0: 2c20 6672 6f6d 205a 2074 6f20 412e 0a0a  , from Z to A...
+0002f3d0: 0a20 2020 2020 2020 2020 2020 2066 696c  .            fil
+0002f3e0: 7465 7273 2028 7374 722c 206f 7074 696f  ters (str, optio
+0002f3f0: 6e61 6c29 3a20 5369 7465 2074 6872 6573  nal): Site thres
+0002f400: 686f 6c64 730a 2020 2020 2020 2020 2020  holds.          
+0002f410: 2020 2020 2020 5661 6c69 6420 5661 6c75        Valid Valu
+0002f420: 6573 3a20 6774 2020 2847 7265 6174 6572  es: gt  (Greater
+0002f430: 2074 6861 6e29 2c20 6c74 2020 284c 6573   than), lt  (Les
+0002f440: 7320 7468 616e 292c 2067 7465 2028 4772  s than), gte (Gr
+0002f450: 6561 7465 7220 7468 616e 206f 7220 6571  eater than or eq
+0002f460: 7561 6c20 746f 292c 0a20 2020 2020 2020  ual to),.       
+0002f470: 2020 2020 2020 2020 206c 7465 2028 4c65           lte (Le
+0002f480: 7373 2074 6861 6e20 6f72 2065 7175 616c  ss than or equal
+0002f490: 2074 6f29 0a20 2020 2020 2020 2020 2020   to).           
+0002f4a0: 2020 2020 202a 2041 6c6c 2070 726f 7065       * All prope
+0002f4b0: 7274 6965 7320 6f66 2061 2073 6974 6520  rties of a site 
+0002f4c0: 6361 6e20 6265 2075 7365 6420 6173 2066  can be used as f
+0002f4d0: 696c 7465 7220 7061 7261 6d65 7465 7273  ilter parameters
+0002f4e0: 2077 6974 6820 6120 7468 7265 7368 6f6c   with a threshol
+0002f4f0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0002f500: 2020 2a20 5468 6520 7261 6e67 6520 6669    * The range fi
+0002f510: 6c74 6572 7320 6361 6e20 6265 2063 6f6d  lters can be com
+0002f520: 6269 6e65 6420 7769 7468 2074 6865 2063  bined with the c
+0002f530: 6f6c 756d 6e20 6e61 6d65 7320 7769 7468  olumn names with
+0002f540: 2022 5c5f 5f22 2020 2320 6e6f 7161 0a20   "\__"  # noqa. 
+0002f550: 2020 2020 2020 2020 2020 2020 2020 202a                 *
+0002f560: 2046 6f72 2065 672e 202f 7369 7465 3f64   For eg. /site?d
+0002f570: 6576 6963 655f 646f 776e 5c5f 5f67 743d  evice_down\__gt=
+0002f580: 3020 2d20 4c69 7374 7320 616c 6c20 7369  0 - Lists all si
+0002f590: 7465 7320 7468 6174 2068 6176 6520 6d6f  tes that have mo
+0002f5a0: 7265 2074 6861 6e20 3120 6465 7669 6365  re than 1 device
+0002f5b0: 2069 6e20 646f 776e 2073 7461 7465 2023   in down state #
+0002f5c0: 206e 6f71 610a 2020 2020 2020 2020 2020   noqa.          
+0002f5d0: 2020 2020 2020 2a20 466f 7220 6567 2e20        * For eg. 
+0002f5e0: 2f73 6974 653f 7761 6e5f 7570 6c69 6e6b  /site?wan_uplink
+0002f5f0: 735f 646f 776e 5c5f 5f6c 743d 3120 2d20  s_down\__lt=1 - 
+0002f600: 4c69 7374 7320 616c 6c20 7369 7465 7320  Lists all sites 
+0002f610: 7468 6174 2068 6176 6520 6c65 7373 2074  that have less t
+0002f620: 6861 6e20 3120 7761 6e20 696e 2064 6f77  han 1 wan in dow
+0002f630: 6e20 7374 6174 6520 2320 6e6f 7161 0a20  n state # noqa. 
+0002f640: 2020 2020 2020 2020 2020 2020 2020 202a                 *
+0002f650: 2046 6f72 2065 672e 202f 7369 7465 3f64   For eg. /site?d
+0002f660: 6576 6963 655f 7570 5f5f 6774 3d31 2664  evice_up__gt=1&d
+0002f670: 6576 6963 655f 7570 5c5f 5f6c 743d 3130  evice_up\__lt=10
+0002f680: 202d 204c 6973 7473 2061 6c6c 2073 6974   - Lists all sit
+0002f690: 6573 2074 6861 7420 6861 7665 2031 2d31  es that have 1-1
+0002f6a0: 3020 6465 7669 6365 7320 7570 2023 206e  0 devices up # n
+0002f6b0: 6f71 610a 0a0a 2020 2020 2020 2020 2020  oqa...          
+0002f6c0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0002f6d0: 7074 696f 6e61 6c29 3a20 7061 6769 6e61  ptional): pagina
+0002f6e0: 7469 6f6e 2073 7461 7274 2069 6e64 6578  tion start index
+0002f6f0: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+0002f700: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+0002f710: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+0002f720: 293a 2070 6167 696e 6174 696f 6e20 7369  ): pagination si
+0002f730: 7a65 2044 6566 6175 6c74 7320 746f 2031  ze Defaults to 1
+0002f740: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
+0002f750: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0002f760: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0002f770: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0002f780: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0002f790: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0002f7a0: 2022 2f62 7261 6e63 6868 6561 6c74 682f   "/branchhealth/
+0002f7b0: 7631 2f73 6974 6522 0a0a 2020 2020 2020  v1/site"..      
+0002f7c0: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+0002f7d0: 2020 2020 2020 2020 2022 6e61 6d65 223a           "name":
+0002f7e0: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+0002f7f0: 2020 2023 2022 636f 6c75 6d6e 223a 2063     # "column": c
+0002f800: 6f6c 756d 6e2c 0a20 2020 2020 2020 2020  olumn,.         
+0002f810: 2020 2022 6f72 6465 7222 3a20 2261 7363     "order": "asc
+0002f820: 2220 6966 206e 6f74 2072 6576 6572 7365  " if not reverse
+0002f830: 2065 6c73 6520 2264 6573 6322 2c0a 2020   else "desc",.  
+0002f840: 2020 2020 2020 2020 2020 2320 2277 616e            # "wan
+0002f850: 5f74 756e 6e65 6c73 5f64 6f77 6e5c 5f5f  _tunnels_down\__
+0002f860: 6774 223a 2022 3022 2c0a 2020 2020 2020  gt": "0",.      
+0002f870: 2020 2020 2020 2320 2277 616e 5f75 706c        # "wan_upl
+0002f880: 696e 6b73 5f64 6f77 6e5c 5f5f 6774 223a  inks_down\__gt":
+0002f890: 2022 3022 2c0a 2020 2020 2020 2020 2020   "0",.          
+0002f8a0: 2020 2320 2a2a 6669 6c74 6572 732c 0a20    # **filters,. 
+0002f8b0: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
+0002f8c0: 6574 223a 206f 6666 7365 742c 0a20 2020  et": offset,.   
+0002f8d0: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
+0002f8e0: 3a20 6c69 6d69 742c 0a20 2020 2020 2020  : limit,.       
+0002f8f0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+0002f900: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0002f910: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+0002f920: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+0002f930: 2064 6566 2067 6574 5f61 7263 6869 7665   def get_archive
+0002f940: 645f 6465 7669 6365 7328 0a20 2020 2020  d_devices(.     
+0002f950: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0002f960: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+0002f970: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+0002f980: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+0002f990: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0002f9a0: 2020 2020 2020 2022 2222 4765 7420 4172         """Get Ar
+0002f9b0: 6368 6976 6564 2064 6576 6963 6573 2066  chived devices f
+0002f9c0: 726f 6d20 6465 7669 6365 2069 6e76 656e  rom device inven
+0002f9d0: 746f 7279 2e0a 0a20 2020 2020 2020 202f  tory...        /
+0002f9e0: 2f20 5573 6564 2062 7920 7368 6f77 2061  / Used by show a
+0002f9f0: 7263 6869 7665 6420 2f2f 0a0a 2020 2020  rchived //..    
+0002fa00: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0002fa10: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+0002fa20: 742c 206f 7074 696f 6e61 6c29 3a20 6f66  t, optional): of
+0002fa30: 6673 6574 206f 7220 7061 6765 206e 756d  fset or page num
+0002fa40: 6265 7220 4465 6661 756c 7473 2074 6f20  ber Defaults to 
+0002fa50: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
+0002fa60: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
+0002fa70: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
+0002fa80: 6465 7669 6365 7320 746f 2067 6574 2044  devices to get D
+0002fa90: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
+0002faa0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0002fab0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0002fac0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0002fad0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0002fae0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0002faf0: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
+0002fb00: 6c61 7466 6f72 6d2f 6465 7669 6365 5f69  latform/device_i
+0002fb10: 6e76 656e 746f 7279 2f76 312f 6465 7669  nventory/v1/devi
+0002fb20: 6365 732f 6172 6368 6976 6522 0a0a 2020  ces/archive"..  
+0002fb30: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0002fb40: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
+0002fb50: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
+0002fb60: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+0002fb70: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+0002fb80: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002fb90: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0002fba0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0002fbb0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+0002fbc0: 6320 6465 6620 6172 6368 6976 655f 6465  c def archive_de
+0002fbd0: 7669 6365 7328 0a20 2020 2020 2020 2073  vices(.        s
+0002fbe0: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
+0002fbf0: 6961 6c73 3a20 4c69 7374 5b73 7472 5d2c  ials: List[str],
+0002fc00: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+0002fc10: 7365 3a0a 2020 2020 2020 2020 2222 2241  se:.        """A
+0002fc20: 7263 6869 7665 2064 6576 6963 6573 2075  rchive devices u
+0002fc30: 7369 6e67 2053 6572 6961 6c20 6c69 7374  sing Serial list
+0002fc40: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0002fc50: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+0002fc60: 6961 6c73 2028 4c69 7374 5b73 7472 5d29  ials (List[str])
+0002fc70: 3a20 7365 7269 616c 730a 0a20 2020 2020  : serials..     
+0002fc80: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0002fc90: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0002fca0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0002fcb0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0002fcc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002fcd0: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
+0002fce0: 6d2f 6465 7669 6365 5f69 6e76 656e 746f  m/device_invento
+0002fcf0: 7279 2f76 312f 6465 7669 6365 732f 6172  ry/v1/devices/ar
+0002fd00: 6368 6976 6522 0a0a 2020 2020 2020 2020  chive"..        
+0002fd10: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+0002fd20: 2020 2020 2020 2020 2020 2773 6572 6961            'seria
+0002fd30: 6c73 273a 2075 7469 6c73 2e6c 6973 7469  ls': utils.listi
+0002fd40: 6679 2873 6572 6961 6c73 290a 2020 2020  fy(serials).    
+0002fd50: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+0002fd60: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0002fd70: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+0002fd80: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0002fd90: 0a20 2020 2023 2041 5049 2d4e 4f54 4520  .    # API-NOTE 
+0002fda0: 6365 6e63 6c69 2072 656d 6f76 6520 6172  cencli remove ar
+0002fdb0: 6368 6976 6520 5b64 6576 6963 6573 5d0a  chive [devices].
+0002fdc0: 2020 2020 6173 796e 6320 6465 6620 756e      async def un
+0002fdd0: 6172 6368 6976 655f 6465 7669 6365 7328  archive_devices(
+0002fde0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0002fdf0: 2020 2020 2020 2073 6572 6961 6c73 3a20         serials: 
+0002fe00: 4c69 7374 5b73 7472 5d2c 0a20 2020 2029  List[str],.    )
+0002fe10: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0002fe20: 2020 2020 2020 2222 2255 6e61 7263 6869        """Unarchi
+0002fe30: 7665 2064 6576 6963 6573 2075 7369 6e67  ve devices using
+0002fe40: 2053 6572 6961 6c20 6c69 7374 2e0a 0a20   Serial list... 
+0002fe50: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0002fe60: 2020 2020 2020 2020 2073 6572 6961 6c73           serials
+0002fe70: 2028 4c69 7374 5b73 7472 5d29 3a20 7365   (List[str]): se
+0002fe80: 7269 616c 730a 0a20 2020 2020 2020 2052  rials..        R
+0002fe90: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0002fea0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0002feb0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0002fec0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0002fed0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0002fee0: 203d 2022 2f70 6c61 7466 6f72 6d2f 6465   = "/platform/de
+0002fef0: 7669 6365 5f69 6e76 656e 746f 7279 2f76  vice_inventory/v
+0002ff00: 312f 6465 7669 6365 732f 756e 6172 6368  1/devices/unarch
+0002ff10: 6976 6522 0a0a 2020 2020 2020 2020 6a73  ive"..        js
+0002ff20: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
+0002ff30: 2020 2020 2020 2020 2773 6572 6961 6c73          'serials
+0002ff40: 273a 2075 7469 6c73 2e6c 6973 7469 6679  ': utils.listify
+0002ff50: 2873 6572 6961 6c73 290a 2020 2020 2020  (serials).      
+0002ff60: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002ff70: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+0002ff80: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+0002ff90: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+0002ffa0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0002ffb0: 5f70 6f72 7461 6c73 280a 2020 2020 2020  _portals(.      
+0002ffc0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0002ffd0: 736f 7274 3a20 7374 7220 3d20 272b 6e61  sort: str = '+na
+0002ffe0: 6d65 272c 0a20 2020 2020 2020 206f 6666  me',.        off
+0002fff0: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+00030000: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00030010: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
+00030020: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00030030: 2020 2022 2222 4765 7420 616c 6c20 706f     """Get all po
+00030040: 7274 616c 7320 7769 7468 206c 696d 6974  rtals with limit
+00030050: 6564 2064 6174 612e 0a0a 2020 2020 2020  ed data...      
+00030060: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00030070: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
+00030080: 7074 696f 6e61 6c29 3a20 2b20 6973 2066  ptional): + is f
+00030090: 6f72 2061 7363 656e 6469 6e67 2020 616e  or ascending  an
+000300a0: 6420 2d20 666f 7220 6465 7363 656e 6469  d - for descendi
+000300b0: 6e67 206f 7264 6572 202c 2073 6f72 7473  ng order , sorts
+000300c0: 2062 7920 6e61 6d65 2066 6f72 206e 6f77   by name for now
+000300d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000300e0: 2056 616c 6964 2056 616c 7565 733a 202b   Valid Values: +
+000300f0: 6e61 6d65 2c20 2d6e 616d 650a 2020 2020  name, -name.    
+00030100: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
+00030110: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00030120: 5374 6172 7469 6e67 2069 6e64 6578 206f  Starting index o
+00030130: 6620 656c 656d 656e 7420 666f 7220 6120  f element for a 
+00030140: 7061 6769 6e61 7465 6420 7175 6572 7920  paginated query 
+00030150: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+00030160: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00030170: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00030180: 3a20 4e75 6d62 6572 206f 6620 6974 656d  : Number of item
+00030190: 7320 7265 7175 6972 6564 2070 6572 2071  s required per q
+000301a0: 7565 7279 2044 6566 6175 6c74 7320 746f  uery Defaults to
+000301b0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
+000301c0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+000301d0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+000301e0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+000301f0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00030200: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00030210: 203d 2022 2f67 7565 7374 2f76 312f 706f   = "/guest/v1/po
+00030220: 7274 616c 7322 0a0a 2020 2020 2020 2020  rtals"..        
+00030230: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+00030240: 2020 2020 2020 2027 736f 7274 273a 2073         'sort': s
+00030250: 6f72 742c 0a20 2020 2020 2020 2020 2020  ort,.           
+00030260: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
+00030270: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
+00030280: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
+00030290: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+000302a0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000302b0: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+000302c0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+000302d0: 6173 796e 6320 6465 6620 6765 745f 7669  async def get_vi
+000302e0: 7369 746f 7273 280a 2020 2020 2020 2020  sitors(.        
+000302f0: 7365 6c66 2c0a 2020 2020 2020 2020 706f  self,.        po
+00030300: 7274 616c 5f69 643a 2073 7472 2c0a 2020  rtal_id: str,.  
+00030310: 2020 2020 2020 736f 7274 3a20 7374 7220        sort: str 
+00030320: 3d20 272b 6e61 6d65 272c 0a20 2020 2020  = '+name',.     
+00030330: 2020 2066 696c 7465 725f 6279 3a20 7374     filter_by: st
+00030340: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00030350: 2020 6669 6c74 6572 5f76 616c 7565 3a20    filter_value: 
+00030360: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00030370: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+00030380: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+00030390: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
+000303a0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000303b0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+000303c0: 2061 6c6c 2076 6973 6974 6f72 7320 6372   all visitors cr
+000303d0: 6561 7465 6420 6167 6169 6e73 7420 6120  eated against a 
+000303e0: 706f 7274 616c 2e0a 0a20 2020 2020 2020  portal...       
+000303f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00030400: 2020 2070 6f72 7461 6c5f 6964 2028 7374     portal_id (st
+00030410: 7229 3a20 506f 7274 616c 2049 4420 6f66  r): Portal ID of
+00030420: 2074 6865 2073 706c 6173 6820 7061 6765   the splash page
+00030430: 0a20 2020 2020 2020 2020 2020 2073 6f72  .            sor
+00030440: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
+00030450: 293a 202b 2069 7320 666f 7220 6173 6365  ): + is for asce
+00030460: 6e64 696e 6720 2061 6e64 202d 2066 6f72  nding  and - for
+00030470: 2064 6573 6365 6e64 696e 6720 6f72 6465   descending orde
+00030480: 7220 2c20 736f 7274 7320 6279 206e 616d  r , sorts by nam
+00030490: 6520 666f 720a 2020 2020 2020 2020 2020  e for.          
+000304a0: 2020 2020 2020 6e6f 7720 2056 616c 6964        now  Valid
+000304b0: 2056 616c 7565 733a 202b 6e61 6d65 2c20   Values: +name, 
+000304c0: 2d6e 616d 650a 2020 2020 2020 2020 2020  -name.          
+000304d0: 2020 6669 6c74 6572 5f62 7920 2873 7472    filter_by (str
+000304e0: 2c20 6f70 7469 6f6e 616c 293a 2066 696c  , optional): fil
+000304f0: 7465 7220 6279 2065 6d61 696c 206f 7220  ter by email or 
+00030500: 6e61 6d65 2020 5661 6c69 6420 5661 6c75  name  Valid Valu
+00030510: 6573 3a20 6e61 6d65 2c20 656d 6169 6c0a  es: name, email.
+00030520: 2020 2020 2020 2020 2020 2020 6669 6c74              filt
+00030530: 6572 5f76 616c 7565 2028 7374 722c 206f  er_value (str, o
+00030540: 7074 696f 6e61 6c29 3a20 6669 6c74 6572  ptional): filter
+00030550: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
+00030560: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+00030570: 6f70 7469 6f6e 616c 293a 2053 7461 7274  optional): Start
+00030580: 696e 6720 696e 6465 7820 6f66 2065 6c65  ing index of ele
+00030590: 6d65 6e74 2066 6f72 2061 2070 6167 696e  ment for a pagin
+000305a0: 6174 6564 2071 7565 7279 2044 6566 6175  ated query Defau
+000305b0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+000305c0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+000305d0: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
+000305e0: 6265 7220 6f66 2069 7465 6d73 2072 6571  ber of items req
+000305f0: 7569 7265 6420 7065 7220 7175 6572 7920  uired per query 
+00030600: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
+00030610: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00030620: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00030630: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00030640: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00030650: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00030660: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00030670: 2f67 7565 7374 2f76 312f 706f 7274 616c  /guest/v1/portal
+00030680: 732f 7b70 6f72 7461 6c5f 6964 7d2f 7669  s/{portal_id}/vi
+00030690: 7369 746f 7273 220a 0a20 2020 2020 2020  sitors"..       
+000306a0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+000306b0: 2020 2020 2020 2020 2773 6f72 7427 3a20          'sort': 
+000306c0: 736f 7274 2c0a 2020 2020 2020 2020 2020  sort,.          
+000306d0: 2020 2766 696c 7465 725f 6279 273a 2066    'filter_by': f
+000306e0: 696c 7465 725f 6279 2c0a 2020 2020 2020  ilter_by,.      
+000306f0: 2020 2020 2020 2766 696c 7465 725f 7661        'filter_va
+00030700: 6c75 6527 3a20 6669 6c74 6572 5f76 616c  lue': filter_val
+00030710: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+00030720: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
+00030730: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+00030740: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
+00030750: 2020 2020 207d 0a20 2020 2020 2020 2070       }.        p
+00030760: 6172 616d 7320 3d20 7574 696c 732e 7374  arams = utils.st
+00030770: 7269 705f 6e6f 6e65 2870 6172 616d 7329  rip_none(params)
+00030780: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00030790: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+000307a0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+000307b0: 6d73 290a 0a0a 2020 2020 6173 796e 6320  ms)...    async 
+000307c0: 6465 6620 6164 645f 7669 7369 746f 7228  def add_visitor(
+000307d0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+000307e0: 2020 2020 2020 2070 6f72 7461 6c5f 6964         portal_id
+000307f0: 3a20 7374 722c 0a20 2020 2020 2020 206e  : str,.        n
+00030800: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+00030810: 2020 2320 6964 3a20 7374 722c 0a20 2020    # id: str,.   
+00030820: 2020 2020 2070 6173 7377 6f72 643a 2073       password: s
+00030830: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00030840: 2020 202a 2c0a 2020 2020 2020 2020 636f     *,.        co
+00030850: 6d70 616e 795f 6e61 6d65 3a20 7374 7220  mpany_name: str 
+00030860: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00030870: 7068 6f6e 653a 2073 7472 207c 204e 6f6e  phone: str | Non
+00030880: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
+00030890: 2020 656d 6169 6c3a 2073 7472 207c 204e    email: str | N
+000308a0: 6f6e 6520 3d20 4e6f 6e65 2c0a 2020 2020  one = None,.    
+000308b0: 2020 2020 7661 6c69 645f 666f 7265 7665      valid_foreve
+000308c0: 723a 2062 6f6f 6c20 3d20 4661 6c73 652c  r: bool = False,
+000308d0: 0a20 2020 2020 2020 2076 616c 6964 5f64  .        valid_d
+000308e0: 6179 733a 2069 6e74 203d 2033 2c0a 2020  ays: int = 3,.  
+000308f0: 2020 2020 2020 7661 6c69 645f 686f 7572        valid_hour
+00030900: 733a 2069 6e74 203d 2030 2c0a 2020 2020  s: int = 0,.    
+00030910: 2020 2020 7661 6c69 645f 6d69 6e75 7465      valid_minute
+00030920: 733a 2069 6e74 203d 2030 2c0a 2020 2020  s: int = 0,.    
+00030930: 2020 2020 6e6f 7469 6679 3a20 626f 6f6c      notify: bool
+00030940: 207c 204e 6f6e 6520 3d20 4e6f 6e65 2c0a   | None = None,.
+00030950: 2020 2020 2020 2020 6e6f 7469 6679 5f74          notify_t
+00030960: 6f3a 2063 6f6e 7374 616e 7473 2e4e 6f74  o: constants.Not
+00030970: 6966 7954 6f41 7267 7320 7c20 4e6f 6e65  ifyToArgs | None
+00030980: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00030990: 2069 735f 656e 6162 6c65 643a 2062 6f6f   is_enabled: boo
+000309a0: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
+000309b0: 2020 2320 7374 6174 7573 3a20 626f 6f6c    # status: bool
+000309c0: 2c0a 2020 2020 2020 2020 2320 6372 6561  ,.        # crea
+000309d0: 7465 645f 6174 3a20 7374 722c 0a20 2020  ted_at: str,.   
+000309e0: 2020 2020 2023 2065 7870 6972 655f 6174       # expire_at
+000309f0: 3a20 7374 722c 0a20 2020 2029 202d 3e20  : str,.    ) -> 
+00030a00: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00030a10: 2020 2222 2243 7265 6174 6520 6120 6e65    """Create a ne
+00030a20: 7720 6775 6573 7420 7669 7369 746f 7220  w guest visitor 
+00030a30: 6f66 2061 2070 6f72 7461 6c2e 0a0a 2020  of a portal...  
+00030a40: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00030a50: 2020 2020 2020 2020 706f 7274 616c 5f69          portal_i
+00030a60: 6420 2873 7472 293a 2050 6f72 7461 6c20  d (str): Portal 
+00030a70: 4944 206f 6620 7468 6520 7370 6c61 7368  ID of the splash
+00030a80: 2070 6167 650a 2020 2020 2020 2020 2020   page.          
+00030a90: 2020 6e61 6d65 2028 7374 7229 3a20 5669    name (str): Vi
+00030aa0: 7369 746f 7220 6163 636f 756e 7420 6e61  sitor account na
+00030ab0: 6d65 0a20 2020 2020 2020 2020 2020 2070  me.            p
+00030ac0: 6173 7377 6f72 6420 2873 7472 293a 2050  assword (str): P
+00030ad0: 6173 7377 6f72 640a 2020 2020 2020 2020  assword.        
+00030ae0: 2020 2020 636f 6d70 616e 795f 6e61 6d65      company_name
+00030af0: 2028 7374 7229 3a20 436f 6d70 616e 7920   (str): Company 
+00030b00: 6e61 6d65 206f 6620 7468 6520 7669 7369  name of the visi
+00030b10: 746f 720a 2020 2020 2020 2020 2020 2020  tor.            
+00030b20: 7068 6f6e 6520 2873 7472 293a 2050 686f  phone (str): Pho
+00030b30: 6e65 206e 756d 6265 7220 6f66 2074 6865  ne number of the
+00030b40: 2076 6973 6974 6f72 3b20 466f 726d 6174   visitor; Format
+00030b50: 205b 2b43 6f75 6e74 7279 436f 6465 5d5b   [+CountryCode][
+00030b60: 5068 6f6e 654e 756d 6265 725d 0a20 2020  PhoneNumber].   
+00030b70: 2020 2020 2020 2020 2065 6d61 696c 2028           email (
+00030b80: 7374 7229 3a20 456d 6169 6c20 6164 6472  str): Email addr
+00030b90: 6573 7320 6f66 2074 6865 2076 6973 6974  ess of the visit
+00030ba0: 6f72 0a20 2020 2020 2020 2020 2020 2076  or.            v
+00030bb0: 616c 6964 5f66 6f72 6576 6572 2028 626f  alid_forever (bo
+00030bc0: 6f6c 293a 2056 6973 6974 6f72 2061 6363  ol): Visitor acc
+00030bd0: 6f75 6e74 2077 696c 6c20 6e6f 7420 6578  ount will not ex
+00030be0: 7069 7265 2077 6865 6e20 7468 6973 2069  pire when this i
+00030bf0: 7320 7365 7420 746f 2074 7275 650a 2020  s set to true.  
+00030c00: 2020 2020 2020 2020 2020 7661 6c69 645f            valid_
+00030c10: 6461 7973 2028 696e 7429 3a20 4163 636f  days (int): Acco
+00030c20: 756e 7420 7661 6c69 6469 7479 2069 6e20  unt validity in 
+00030c30: 6461 7973 0a20 2020 2020 2020 2020 2020  days.           
+00030c40: 2076 616c 6964 5f68 6f75 7273 2028 696e   valid_hours (in
+00030c50: 7429 3a20 4163 636f 756e 7420 7661 6c69  t): Account vali
+00030c60: 6469 7479 2069 6e20 686f 7572 730a 2020  dity in hours.  
+00030c70: 2020 2020 2020 2020 2020 7661 6c69 645f            valid_
+00030c80: 6d69 6e75 7465 7320 2869 6e74 293a 2041  minutes (int): A
+00030c90: 6363 6f75 6e74 2076 616c 6964 6974 7920  ccount validity 
+00030ca0: 696e 206d 696e 7574 6573 0a20 2020 2020  in minutes.     
+00030cb0: 2020 2020 2020 206e 6f74 6966 7920 2862         notify (b
+00030cc0: 6f6f 6c29 3a20 466c 6167 2074 6f20 6e6f  ool): Flag to no
+00030cd0: 7469 6679 2074 6865 2070 6173 7377 6f72  tify the passwor
+00030ce0: 6420 7669 6120 656d 6169 6c20 6f72 206e  d via email or n
+00030cf0: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
+00030d00: 2020 6e6f 7469 6679 5f74 6f20 2873 7472    notify_to (str
+00030d10: 293a 204e 6f74 6966 7920 746f 2065 6d61  ): Notify to ema
+00030d20: 696c 206f 7220 7068 6f6e 652e 2044 6566  il or phone. Def
+00030d30: 7561 6c74 2069 7320 7068 6f6e 6520 7768  ualt is phone wh
+00030d40: 656e 2069 7420 6973 2070 726f 7669 6465  en it is provide
+00030d50: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00030d60: 2020 6f74 6865 7277 6973 6520 656d 6169    otherwise emai
+00030d70: 6c2e 2020 5661 6c69 6420 5661 6c75 6573  l.  Valid Values
+00030d80: 3a20 656d 6169 6c2c 2070 686f 6e65 0a20  : email, phone. 
+00030d90: 2020 2020 2020 2020 2020 2069 735f 656e             is_en
+00030da0: 6162 6c65 6420 2862 6f6f 6c29 3a20 456e  abled (bool): En
+00030db0: 6162 6c65 206f 7220 6469 7361 626c 6520  able or disable 
+00030dc0: 7468 6520 7669 7369 746f 7220 6163 636f  the visitor acco
+00030dd0: 756e 740a 2020 2020 2020 2020 2020 2020  unt.            
+00030de0: 2320 6964 2028 7374 7229 3a20 4e41 2066  # id (str): NA f
+00030df0: 6f72 2076 6973 6974 6f72 2070 6f73 742f  or visitor post/
+00030e00: 7075 7420 6d65 7468 6f64 2e20 4944 206f  put method. ID o
+00030e10: 6620 7468 6520 7669 7369 746f 720a 2020  f the visitor.  
+00030e20: 2020 2020 2020 2020 2020 2320 7374 6174            # stat
+00030e30: 7573 2028 626f 6f6c 293a 2054 6869 7320  us (bool): This 
+00030e40: 6669 656c 6420 7072 6f76 6964 6573 2073  field provides s
+00030e50: 7461 7475 7320 6f66 2074 6865 2061 6363  tatus of the acc
+00030e60: 6f75 6e74 2e20 5265 7475 726e 7320 7472  ount. Returns tr
+00030e70: 7565 2077 6865 6e20 656e 6162 6c65 6420  ue when enabled 
+00030e80: 616e 640a 2020 2020 2020 2020 2020 2020  and.            
+00030e90: 2320 2020 2020 6e6f 7420 6578 7069 7265  #     not expire
+00030ea0: 642e 204e 4120 666f 7220 7669 7369 746f  d. NA for visito
+00030eb0: 7220 706f 7374 2f70 7574 206d 6574 686f  r post/put metho
+00030ec0: 642e 2054 6869 7320 6973 206f 7074 696f  d. This is optio
+00030ed0: 6e61 6c20 6669 656c 6473 2e0a 2020 2020  nal fields..    
+00030ee0: 2020 2020 2020 2020 2320 6372 6561 7465          # create
+00030ef0: 645f 6174 2028 7374 7229 3a20 5468 6973  d_at (str): This
+00030f00: 2066 6965 6c64 2069 6e64 6963 6174 6573   field indicates
+00030f10: 2074 6865 2063 7265 6174 6564 2064 6174   the created dat
+00030f20: 6520 7469 6d65 7374 616d 7020 7661 6c75  e timestamp valu
+00030f30: 652e 2049 7420 6973 2067 656e 6572 6174  e. It is generat
+00030f40: 6564 0a20 2020 2020 2020 2020 2020 2023  ed.            #
+00030f50: 2020 2020 2077 6869 6c65 2063 7265 6174       while creat
+00030f60: 696e 6720 7669 7369 746f 722e 204e 4120  ing visitor. NA 
+00030f70: 666f 7220 7669 7369 746f 7220 706f 7374  for visitor post
+00030f80: 2f70 7574 206d 6574 686f 642e 2054 6869  /put method. Thi
+00030f90: 7320 6973 206f 7074 696f 6e61 6c20 6669  s is optional fi
+00030fa0: 656c 642e 0a20 2020 2020 2020 2020 2020  eld..           
+00030fb0: 2023 2065 7870 6972 655f 6174 2028 7374   # expire_at (st
+00030fc0: 7229 3a20 5468 6973 2066 6965 6c64 2069  r): This field i
+00030fd0: 6e64 6963 6174 6573 2065 7870 6972 7920  ndicates expiry 
+00030fe0: 7469 6d65 2074 696d 6573 7461 6d70 2076  time timestamp v
+00030ff0: 616c 7565 2e20 4974 2069 7320 6765 6e65  alue. It is gene
+00031000: 7261 7465 6420 6261 7365 640a 2020 2020  rated based.    
+00031010: 2020 2020 2020 2020 2320 2020 2020 6f6e          #     on
+00031020: 2074 6865 2076 616c 6964 5f74 696c 6c20   the valid_till 
+00031030: 7661 6c75 6520 616e 6420 6372 6561 7465  value and create
+00031040: 645f 6174 2074 696d 652e 204e 4120 666f  d_at time. NA fo
+00031050: 7220 7669 7369 746f 7220 706f 7374 2f70  r visitor post/p
+00031060: 7574 206d 6574 686f 642e 2054 6869 7320  ut method. This 
+00031070: 6973 0a20 2020 2020 2020 2020 2020 2023  is.            #
+00031080: 2020 2020 206f 7074 696f 6e61 6c20 6669       optional fi
+00031090: 656c 640a 0a20 2020 2020 2020 2052 6574  eld..        Ret
+000310a0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+000310b0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+000310c0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+000310d0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+000310e0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+000310f0: 2066 222f 6775 6573 742f 7631 2f70 6f72   f"/guest/v1/por
+00031100: 7461 6c73 2f7b 706f 7274 616c 5f69 647d  tals/{portal_id}
+00031110: 2f76 6973 6974 6f72 7322 0a0a 2020 2020  /visitors"..    
+00031120: 2020 2020 7573 6572 5f64 6174 6120 3d20      user_data = 
+00031130: 7b0a 2020 2020 2020 2020 2020 2020 2770  {.            'p
+00031140: 686f 6e65 273a 2070 686f 6e65 2c0a 2020  hone': phone,.  
+00031150: 2020 2020 2020 2020 2020 2765 6d61 696c            'email
+00031160: 273a 2065 6d61 696c 0a20 2020 2020 2020  ': email.       
+00031170: 207d 0a20 2020 2020 2020 2023 2041 5049   }.        # API
+00031180: 2072 6571 7569 7265 7320 7068 6f6e 6520   requires phone 
+00031190: 616e 6420 656d 6169 6c2c 2062 7574 2061  and email, but a
+000311a0: 6c6c 6f77 7320 4e6f 6e65 2f6e 756c 6c20  llows None/null 
+000311b0: 6173 2076 616c 7565 2064 6570 656e 6469  as value dependi
+000311c0: 6e67 206f 6e20 686f 7720 706f 7274 616c  ng on how portal
+000311d0: 2069 7320 636f 6e66 6967 7572 6564 0a20   is configured. 
+000311e0: 2020 2020 2020 2023 2075 7365 725f 6461         # user_da
+000311f0: 7461 203d 2075 7469 6c73 2e73 7472 6970  ta = utils.strip
+00031200: 5f6e 6f6e 6528 7573 6572 5f64 6174 6129  _none(user_data)
+00031210: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+00031220: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+00031230: 2020 2020 276e 616d 6527 3a20 6e61 6d65      'name': name
+00031240: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+00031250: 6f6d 7061 6e79 5f6e 616d 6527 3a20 636f  ompany_name': co
+00031260: 6d70 616e 795f 6e61 6d65 2c0a 2020 2020  mpany_name,.    
+00031270: 2020 2020 2020 2020 2769 735f 656e 6162          'is_enab
+00031280: 6c65 6427 3a20 6973 5f65 6e61 626c 6564  led': is_enabled
+00031290: 2c0a 2020 2020 2020 2020 2020 2020 2776  ,.            'v
+000312a0: 616c 6964 5f74 696c 6c5f 6e6f 5f6c 696d  alid_till_no_lim
+000312b0: 6974 273a 2076 616c 6964 5f66 6f72 6576  it': valid_forev
+000312c0: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
+000312d0: 2776 616c 6964 5f74 696c 6c5f 6461 7973  'valid_till_days
+000312e0: 273a 2076 616c 6964 5f64 6179 732c 0a20  ': valid_days,. 
+000312f0: 2020 2020 2020 2020 2020 2027 7661 6c69             'vali
+00031300: 645f 7469 6c6c 5f68 6f75 7273 273a 2076  d_till_hours': v
+00031310: 616c 6964 5f68 6f75 7273 2c0a 2020 2020  alid_hours,.    
+00031320: 2020 2020 2020 2020 2776 616c 6964 5f74          'valid_t
+00031330: 696c 6c5f 6d69 6e75 7465 7327 3a20 7661  ill_minutes': va
+00031340: 6c69 645f 6d69 6e75 7465 732c 0a20 2020  lid_minutes,.   
+00031350: 2020 2020 2020 2020 2027 6e6f 7469 6679           'notify
+00031360: 273a 206e 6f74 6966 792c 0a20 2020 2020  ': notify,.     
+00031370: 2020 2020 2020 2027 6e6f 7469 6679 5f74         'notify_t
+00031380: 6f27 3a20 6e6f 7469 6679 5f74 6f2c 0a20  o': notify_to,. 
+00031390: 2020 2020 2020 2020 2020 2027 7061 7373             'pass
+000313a0: 776f 7264 273a 2070 6173 7377 6f72 640a  word': password.
+000313b0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+000313c0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7574    json_data = ut
+000313d0: 696c 732e 7374 7269 705f 6e6f 6e65 286a  ils.strip_none(j
+000313e0: 736f 6e5f 6461 7461 290a 2020 2020 2020  son_data).      
+000313f0: 2020 6966 2075 7365 725f 6461 7461 3a0a    if user_data:.
+00031400: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
+00031410: 5f64 6174 615b 2275 7365 7222 5d20 3d20  _data["user"] = 
+00031420: 7573 6572 5f64 6174 610a 0a20 2020 2020  user_data..     
+00031430: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00031440: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+00031450: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+00031460: 7461 290a 0a20 2020 2023 2054 4f44 4f20  ta)..    # TODO 
+00031470: 7661 6c69 6461 7465 2049 5020 6164 6472  validate IP addr
+00031480: 6573 7320 666f 726d 6174 0a20 2020 2061  ess format.    a
+00031490: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
+000314a0: 6378 5f70 726f 7065 7274 6965 7328 0a20  cx_properties(. 
+000314b0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+000314c0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
+000314d0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
+000314e0: 6e65 2c0a 2020 2020 2020 2020 6772 6f75  ne,.        grou
+000314f0: 703a 2073 7472 203d 204e 6f6e 652c 0a20  p: str = None,. 
+00031500: 2020 2020 2020 206e 616d 653a 2073 7472         name: str
+00031510: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00031520: 2063 6f6e 7461 6374 3a20 7374 7220 3d20   contact: str = 
+00031530: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c6f  None,.        lo
+00031540: 6361 7469 6f6e 3a20 7374 7220 3d20 4e6f  cation: str = No
+00031550: 6e65 2c0a 2020 2020 2020 2020 7469 6d65  ne,.        time
+00031560: 7a6f 6e65 3a20 636f 6e73 7461 6e74 732e  zone: constants.
+00031570: 545a 4442 203d 204e 6f6e 652c 0a20 2020  TZDB = None,.   
+00031580: 2020 2020 206d 676d 745f 7672 663a 2062       mgmt_vrf: b
+00031590: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+000315a0: 2020 2020 646e 735f 7365 7276 6572 733a      dns_servers:
+000315b0: 204c 6973 745b 7374 725d 203d 205b 5d2c   List[str] = [],
+000315c0: 0a20 2020 2020 2020 206e 7470 5f73 6572  .        ntp_ser
+000315d0: 7665 7273 3a20 4c69 7374 5b73 7472 5d20  vers: List[str] 
+000315e0: 3d20 5b5d 2c0a 2020 2020 2020 2020 6164  = [],.        ad
+000315f0: 6d69 6e5f 7573 6572 3a20 7374 7220 3d20  min_user: str = 
+00031600: 4e6f 6e65 2c0a 2020 2020 2020 2020 6164  None,.        ad
+00031610: 6d69 6e5f 7061 7373 3a20 7374 7220 3d20  min_pass: str = 
+00031620: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+00031630: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00031640: 2022 2222 5570 6461 7465 2050 726f 7065   """Update Prope
+00031650: 7274 6965 7320 2841 7275 6261 4f53 2d43  rties (ArubaOS-C
+00031660: 5829 2e0a 0a20 2020 2020 2020 2041 7267  X)...        Arg
+00031670: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00031680: 6572 6961 6c20 2873 7472 2c20 6f70 7469  erial (str, opti
+00031690: 6f6e 616c 293a 2044 6576 6963 6520 7365  onal): Device se
+000316a0: 7269 616c 206e 756d 6265 722e 0a20 2020  rial number..   
+000316b0: 2020 2020 2020 2020 2020 2020 204d 616e               Man
+000316c0: 6461 746f 7279 2066 6f72 2064 6576 6963  datory for devic
+000316d0: 6520 6c65 7665 6c20 636f 6e66 6967 7572  e level configur
+000316e0: 6174 696f 6e2e 0a20 2020 2020 2020 2020  ation..         
+000316f0: 2020 2020 2020 2031 2061 6e64 206f 6e6c         1 and onl
+00031700: 7920 3120 6f66 2073 6572 6961 6c20 6f72  y 1 of serial or
+00031710: 2067 726f 7570 2061 7265 2072 6571 7569   group are requi
+00031720: 7265 640a 2020 2020 2020 2020 2020 2020  red.            
+00031730: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
+00031740: 6f6e 616c 293a 2047 726f 7570 206e 616d  onal): Group nam
+00031750: 652e 0a20 2020 2020 2020 2020 2020 2020  e..             
+00031760: 2020 204d 616e 6461 746f 7279 2066 6f72     Mandatory for
+00031770: 2067 726f 7570 206c 6576 656c 2063 6f6e   group level con
+00031780: 6669 6775 7261 7469 6f6e 2e0a 2020 2020  figuration..    
+00031790: 2020 2020 2020 2020 2020 2020 3120 616e              1 an
+000317a0: 6420 6f6e 6c79 2031 206f 6620 7365 7269  d only 1 of seri
+000317b0: 616c 206f 7220 6772 6f75 7020 6172 6520  al or group are 
+000317c0: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+000317d0: 2020 2020 206e 616d 6520 2873 7472 293a       name (str):
+000317e0: 204f 6e6c 7920 636f 6e66 6967 7572 6162   Only configurab
+000317f0: 6c65 2061 7420 6465 7669 6365 2d6c 6576  le at device-lev
+00031800: 656c 2e0a 2020 2020 2020 2020 2020 2020  el..            
+00031810: 636f 6e74 6163 7420 2873 7472 293a 2050  contact (str): P
+00031820: 6174 7465 726e 3a20 225e 5b5e 223f 5d2a  attern: "^[^"?]*
+00031830: 2422 0a20 2020 2020 2020 2020 2020 206c  $".            l
+00031840: 6f63 6174 696f 6e20 2873 7472 293a 2050  ocation (str): P
+00031850: 6174 7465 726e 3a20 225e 5b5e 223f 5d2a  attern: "^[^"?]*
+00031860: 2422 0a20 2020 2020 2020 2020 2020 2074  $".            t
+00031870: 696d 657a 6f6e 6520 2873 7472 293a 2074  imezone (str): t
+00031880: 696d 657a 6f6e 6520 2056 616c 6964 2056  imezone  Valid V
+00031890: 616c 7565 733a 2075 7365 2074 7a20 6461  alues: use tz da
+000318a0: 7461 6261 7365 2066 6f72 6d61 7420 6c69  tabase format li
+000318b0: 6b65 2022 416d 6572 6963 612f 4368 6963  ke "America/Chic
+000318c0: 6167 6f22 0a20 2020 2020 2020 2020 2020  ago".           
+000318d0: 206d 676d 745f 7672 6620 2862 6f6f 6c29   mgmt_vrf (bool)
+000318e0: 3a20 5573 6520 6d67 6d74 2056 5246 2c20  : Use mgmt VRF, 
+000318f0: 696e 6469 6361 7465 7320 5652 4620 666f  indicates VRF fo
+00031900: 7220 646e 735f 7365 7276 6572 7320 616e  r dns_servers an
+00031910: 6420 6e74 705f 7365 7276 6572 732c 2069  d ntp_servers, i
+00031920: 6620 4661 6c73 6520 6f72 206e 6f74 2070  f False or not p
+00031930: 726f 7669 6465 6420 6465 6661 756c 7420  rovided default 
+00031940: 5652 4620 6973 2075 7365 642e 0a20 2020  VRF is used..   
+00031950: 2020 2020 2020 2020 2064 6e73 5f73 6572           dns_ser
+00031960: 7665 7273 2028 4c69 7374 5b73 7472 5d29  vers (List[str])
+00031970: 3a20 6970 7634 2f69 7076 3620 6164 6472  : ipv4/ipv6 addr
+00031980: 6573 730a 2020 2020 2020 2020 2020 2020  ess.            
+00031990: 6e74 705f 7365 7276 6572 7320 284c 6973  ntp_servers (Lis
+000319a0: 745b 7374 725d 293a 2069 7076 342f 6970  t[str]): ipv4/ip
+000319b0: 7636 2061 6464 7265 7373 0a20 2020 2020  v6 address.     
+000319c0: 2020 2020 2020 2061 646d 696e 5f75 7365         admin_use
+000319d0: 7220 2873 7472 293a 206c 6f63 616c 2061  r (str): local a
+000319e0: 646d 696e 2075 7365 720a 2020 2020 2020  dmin user.      
+000319f0: 2020 2020 2020 6164 6d69 6e5f 7061 7373        admin_pass
+00031a00: 2028 7374 7229 3a20 6c6f 6361 6c20 6164   (str): local ad
+00031a10: 6d69 6e20 7061 7373 776f 7264 0a0a 2020  min password..  
+00031a20: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00031a30: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00031a40: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00031a50: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00031a60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00031a70: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
+00031a80: 6967 7572 6174 696f 6e2f 7631 2f73 7769  iguration/v1/swi
+00031a90: 7463 682f 6378 2f70 726f 7065 7274 6965  tch/cx/propertie
+00031aa0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+00031ab0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+00031ac0: 2020 2027 6465 7669 6365 5f73 6572 6961     'device_seria
+00031ad0: 6c27 3a20 7365 7269 616c 2c0a 2020 2020  l': serial,.    
+00031ae0: 2020 2020 2020 2020 2767 726f 7570 5f6e          'group_n
+00031af0: 616d 6527 3a20 6772 6f75 700a 2020 2020  ame': group.    
+00031b00: 2020 2020 7d0a 0a20 2020 2020 2020 206a      }..        j
+00031b10: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+00031b20: 2020 2020 2020 2020 2027 6e61 6d65 273a           'name':
+00031b30: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+00031b40: 2020 2027 636f 6e74 6163 7427 3a20 636f     'contact': co
+00031b50: 6e74 6163 742c 0a20 2020 2020 2020 2020  ntact,.         
+00031b60: 2020 2027 6c6f 6361 7469 6f6e 273a 206c     'location': l
+00031b70: 6f63 6174 696f 6e2c 0a20 2020 2020 2020  ocation,.       
+00031b80: 2020 2020 2027 7469 6d65 7a6f 6e65 273a       'timezone':
+00031b90: 2074 696d 657a 6f6e 652c 0a20 2020 2020   timezone,.     
+00031ba0: 2020 2020 2020 2027 646e 735f 7365 7276         'dns_serv
+00031bb0: 6572 7327 3a20 646e 735f 7365 7276 6572  ers': dns_server
+00031bc0: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
+00031bd0: 6e74 705f 7365 7276 6572 7327 3a20 6e74  ntp_servers': nt
+00031be0: 705f 7365 7276 6572 732c 0a20 2020 2020  p_servers,.     
+00031bf0: 2020 2020 2020 2027 6164 6d69 6e5f 7573         'admin_us
+00031c00: 6572 6e61 6d65 273a 2061 646d 696e 5f75  ername': admin_u
+00031c10: 7365 722c 0a20 2020 2020 2020 2020 2020  ser,.           
+00031c20: 2027 6164 6d69 6e5f 7061 7373 776f 7264   'admin_password
+00031c30: 273a 2061 646d 696e 5f70 6173 730a 2020  ': admin_pass.  
+00031c40: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00031c50: 6966 206d 676d 745f 7672 6620 6973 206e  if mgmt_vrf is n
+00031c60: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00031c70: 2020 2020 206a 736f 6e5f 6461 7461 5b22       json_data["
+00031c80: 7672 6622 5d20 3d20 226d 676d 7422 2069  vrf"] = "mgmt" i
+00031c90: 6620 6d67 6d74 5f76 7266 2065 6c73 6520  f mgmt_vrf else 
+00031ca0: 2264 6566 6175 6c74 220a 2020 2020 2020  "default".      
+00031cb0: 2020 656c 6966 2064 6e73 5f73 6572 7665    elif dns_serve
+00031cc0: 7273 206f 7220 6e74 705f 7365 7276 6572  rs or ntp_server
+00031cd0: 733a 0a20 2020 2020 2020 2020 2020 206a  s:.            j
+00031ce0: 736f 6e5f 6461 7461 5b22 7672 6622 5d20  son_data["vrf"] 
+00031cf0: 3d20 2264 6566 6175 6c74 220a 0a20 2020  = "default"..   
+00031d00: 2020 2020 2069 6620 6c65 6e28 5b78 2066       if len([x f
+00031d10: 6f72 2078 2069 6e20 5b61 646d 696e 5f75  or x in [admin_u
+00031d20: 7365 722c 2061 646d 696e 5f70 6173 735d  ser, admin_pass]
+00031d30: 2069 6620 7820 6973 206e 6f74 204e 6f6e   if x is not Non
+00031d40: 655d 2920 3d3d 2031 3a0a 2020 2020 2020  e]) == 1:.      
+00031d50: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
+00031d60: 6545 7272 6f72 2822 4966 2065 6974 6865  eError("If eithe
+00031d70: 7220 6164 6d69 6e5f 7573 6572 206f 7220  r admin_user or 
+00031d80: 6164 6d69 6e5f 7061 7373 2061 7265 2062  admin_pass are b
+00031d90: 696e 6720 7570 6461 7465 642c 202a 626f  ing updated, *bo
+00031da0: 7468 2a20 7368 6f75 6c64 2062 6520 7072  th* should be pr
+00031db0: 6f76 6964 6564 2e22 290a 0a20 2020 2020  ovided.")..     
+00031dc0: 2020 2069 6620 6c65 6e28 5b78 2066 6f72     if len([x for
+00031dd0: 2078 2069 6e20 5b73 6572 6961 6c2c 2067   x in [serial, g
+00031de0: 726f 7570 5d20 6966 2078 2069 7320 6e6f  roup] if x is no
+00031df0: 7420 4e6f 6e65 5d29 203d 3d20 323a 0a20  t None]) == 2:. 
+00031e00: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00031e10: 2056 616c 7565 4572 726f 7228 2270 726f   ValueError("pro
+00031e20: 7669 6465 2073 6572 6961 6c20 746f 2075  vide serial to u
+00031e30: 7064 6174 6520 6465 7669 6365 206c 6576  pdate device lev
+00031e40: 656c 2070 726f 7065 7274 6965 732c 206f  el properties, o
+00031e50: 7220 6772 6f75 7020 746f 2075 7064 6174  r group to updat
+00031e60: 6520 6174 2074 6865 2067 726f 7570 206c  e at the group l
+00031e70: 6576 656c 2e20 2050 726f 7669 6469 6e67  evel.  Providing
+00031e80: 2062 6f74 6820 6973 2069 6e76 616c 6964   both is invalid
+00031e90: 2e22 290a 0a20 2020 2020 2020 206a 736f  .")..        jso
+00031ea0: 6e5f 6461 7461 203d 2075 7469 6c73 2e73  n_data = utils.s
+00031eb0: 7472 6970 5f6e 6f6e 6528 6a73 6f6e 5f64  trip_none(json_d
+00031ec0: 6174 612c 2073 7472 6970 5f65 6d70 7479  ata, strip_empty
+00031ed0: 5f6f 626a 3d54 7275 6529 0a0a 2020 2020  _obj=True)..    
+00031ee0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00031ef0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+00031f00: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+00031f10: 6174 612c 2070 6172 616d 733d 7061 7261  ata, params=para
+00031f20: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+00031f30: 6566 2067 6574 5f6f 7370 665f 6172 6561  ef get_ospf_area
+00031f40: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00031f50: 2020 2020 2020 2020 6465 7669 6365 3a20          device: 
+00031f60: 7374 722c 0a20 2020 2020 2020 206d 6172  str,.        mar
+00031f70: 6b65 723a 2073 7472 203d 204e 6f6e 652c  ker: str = None,
+00031f80: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
+00031f90: 696e 7420 3d20 3130 302c 0a20 2020 2029  int = 100,.    )
+00031fa0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+00031fb0: 2020 2020 2020 2222 224c 6973 7420 4f53        """List OS
+00031fc0: 5046 2041 7265 6120 496e 666f 726d 6174  PF Area Informat
+00031fd0: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
+00031fe0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00031ff0: 6465 7669 6365 2028 7374 7229 3a20 4465  device (str): De
+00032000: 7669 6365 2073 6572 6961 6c20 6e75 6d62  vice serial numb
+00032010: 6572 0a20 2020 2020 2020 2020 2020 206d  er.            m
+00032020: 6172 6b65 7220 2873 7472 2c20 6f70 7469  arker (str, opti
+00032030: 6f6e 616c 293a 204f 7061 7175 6520 6861  onal): Opaque ha
+00032040: 6e64 6c65 2074 6f20 6665 7463 6820 6e65  ndle to fetch ne
+00032050: 7874 2070 6167 650a 2020 2020 2020 2020  xt page.        
+00032060: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
+00032070: 6f70 7469 6f6e 616c 293a 2070 6167 6520  optional): page 
+00032080: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
+00032090: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
+000320a0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+000320b0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+000320c0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+000320d0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+000320e0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+000320f0: 203d 2022 2f61 7069 2f72 6f75 7469 6e67   = "/api/routing
+00032100: 2f76 312f 6f73 7066 2f61 7265 6122 0a0a  /v1/ospf/area"..
+00032110: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00032120: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00032130: 6465 7669 6365 273a 2064 6576 6963 652c  device': device,
+00032140: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
+00032150: 726b 6572 273a 206d 6172 6b65 722c 0a20  rker': marker,. 
+00032160: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+00032170: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+00032180: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00032190: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+000321a0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+000321b0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+000321c0: 6320 6465 6620 6765 745f 6f73 7066 5f69  c def get_ospf_i
+000321d0: 6e74 6572 6661 6365 280a 2020 2020 2020  nterface(.      
+000321e0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000321f0: 6465 7669 6365 3a20 7374 722c 0a20 2020  device: str,.   
+00032200: 2020 2020 206d 6172 6b65 723a 2073 7472       marker: str
+00032210: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00032220: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
+00032230: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
+00032240: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00032250: 224c 6973 7420 4f53 5046 2049 6e74 6572  "List OSPF Inter
+00032260: 6661 6365 2049 6e66 6f72 6d61 7469 6f6e  face Information
+00032270: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00032280: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00032290: 6963 6520 2873 7472 293a 2044 6576 6963  ice (str): Devic
+000322a0: 6520 7365 7269 616c 206e 756d 6265 720a  e serial number.
+000322b0: 2020 2020 2020 2020 2020 2020 6d61 726b              mark
+000322c0: 6572 2028 7374 722c 206f 7074 696f 6e61  er (str, optiona
+000322d0: 6c29 3a20 4f70 6171 7565 2068 616e 646c  l): Opaque handl
+000322e0: 6520 746f 2066 6574 6368 206e 6578 7420  e to fetch next 
+000322f0: 7061 6765 0a20 2020 2020 2020 2020 2020  page.           
+00032300: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00032310: 696f 6e61 6c29 3a20 7061 6765 2073 697a  ional): page siz
+00032320: 6520 4465 6661 756c 7473 2074 6f20 3130  e Defaults to 10
+00032330: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00032340: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00032350: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00032360: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00032370: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00032380: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00032390: 222f 6170 692f 726f 7574 696e 672f 7631  "/api/routing/v1
+000323a0: 2f6f 7370 662f 696e 7465 7266 6163 6522  /ospf/interface"
+000323b0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+000323c0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+000323d0: 2027 6465 7669 6365 273a 2064 6576 6963   'device': devic
+000323e0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000323f0: 6d61 726b 6572 273a 206d 6172 6b65 722c  marker': marker,
+00032400: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00032410: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
+00032420: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00032430: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00032440: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00032450: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+00032460: 796e 6320 6465 6620 6765 745f 6f73 7066  ync def get_ospf
+00032470: 5f6e 6569 6768 626f 7228 0a20 2020 2020  _neighbor(.     
+00032480: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00032490: 2064 6576 6963 653a 2073 7472 2c0a 2020   device: str,.  
+000324a0: 2020 2020 2020 6d61 726b 6572 3a20 7374        marker: st
+000324b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+000324c0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+000324d0: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
+000324e0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000324f0: 2222 4c69 7374 204f 5350 4620 6e65 6967  ""List OSPF neig
+00032500: 6862 6f72 2049 6e66 6f72 6d61 7469 6f6e  hbor Information
+00032510: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00032520: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00032530: 6963 6520 2873 7472 293a 2044 6576 6963  ice (str): Devic
+00032540: 6520 7365 7269 616c 206e 756d 6265 720a  e serial number.
+00032550: 2020 2020 2020 2020 2020 2020 6d61 726b              mark
+00032560: 6572 2028 7374 722c 206f 7074 696f 6e61  er (str, optiona
+00032570: 6c29 3a20 4f70 6171 7565 2068 616e 646c  l): Opaque handl
+00032580: 6520 746f 2066 6574 6368 206e 6578 7420  e to fetch next 
+00032590: 7061 6765 0a20 2020 2020 2020 2020 2020  page.           
+000325a0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+000325b0: 696f 6e61 6c29 3a20 7061 6765 2073 697a  ional): page siz
+000325c0: 6520 4465 6661 756c 7473 2074 6f20 3130  e Defaults to 10
+000325d0: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+000325e0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000325f0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00032600: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00032610: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00032620: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00032630: 222f 6170 692f 726f 7574 696e 672f 7631  "/api/routing/v1
+00032640: 2f6f 7370 662f 6e65 6967 6862 6f72 220a  /ospf/neighbor".
+00032650: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+00032660: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00032670: 2764 6576 6963 6527 3a20 6465 7669 6365  'device': device
+00032680: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
+00032690: 6172 6b65 7227 3a20 6d61 726b 6572 2c0a  arker': marker,.
+000326a0: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
+000326b0: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
+000326c0: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+000326d0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+000326e0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+000326f0: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+00032700: 6e63 2064 6566 2067 6574 5f6f 7370 665f  nc def get_ospf_
+00032710: 6461 7461 6261 7365 280a 2020 2020 2020  database(.      
+00032720: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00032730: 6465 7669 6365 3a20 7374 722c 0a20 2020  device: str,.   
+00032740: 2020 2020 206d 6172 6b65 723a 2073 7472       marker: str
+00032750: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00032760: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
+00032770: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
+00032780: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00032790: 224c 6973 7420 4f53 5046 204c 696e 6b20  "List OSPF Link 
+000327a0: 5374 6174 6520 4461 7461 6261 7365 2049  State Database I
+000327b0: 6e66 6f72 6d61 7469 6f6e 2e0a 0a20 2020  nformation...   
+000327c0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+000327d0: 2020 2020 2020 2064 6576 6963 6520 2873         device (s
+000327e0: 7472 293a 2044 6576 6963 6520 7365 7269  tr): Device seri
+000327f0: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
+00032800: 2020 2020 2020 6d61 726b 6572 2028 7374        marker (st
+00032810: 722c 206f 7074 696f 6e61 6c29 3a20 4f70  r, optional): Op
+00032820: 6171 7565 2068 616e 646c 6520 746f 2066  aque handle to f
+00032830: 6574 6368 206e 6578 7420 7061 6765 0a20  etch next page. 
+00032840: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00032850: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00032860: 3a20 7061 6765 2073 697a 6520 4465 6661  : page size Defa
+00032870: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+00032880: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00032890: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+000328a0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+000328b0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+000328c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000328d0: 2020 2020 7572 6c20 3d20 222f 6170 692f      url = "/api/
+000328e0: 726f 7574 696e 672f 7631 2f6f 7370 662f  routing/v1/ospf/
+000328f0: 6461 7461 6261 7365 220a 0a20 2020 2020  database"..     
+00032900: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00032910: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+00032920: 6527 3a20 6465 7669 6365 2c0a 2020 2020  e': device,.    
+00032930: 2020 2020 2020 2020 276d 6172 6b65 7227          'marker'
+00032940: 3a20 6d61 726b 6572 2c0a 2020 2020 2020  : marker,.      
+00032950: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
+00032960: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
+00032970: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00032980: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00032990: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+000329a0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+000329b0: 2067 6574 5f6f 7665 726c 6179 5f63 6f6e   get_overlay_con
+000329c0: 6e65 6374 696f 6e28 0a20 2020 2020 2020  nection(.       
+000329d0: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
+000329e0: 6576 6963 653a 2073 7472 2c0a 2020 2020  evice: str,.    
+000329f0: 2020 2020 6d61 726b 6572 3a20 7374 7220      marker: str 
+00032a00: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00032a10: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
+00032a20: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00032a30: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00032a40: 4765 7420 696e 666f 726d 6174 696f 6e20  Get information 
+00032a50: 6162 6f75 7420 6f76 6572 6c61 7920 636f  about overlay co
+00032a60: 6e74 726f 6c20 636f 6e6e 6563 7469 6f6e  ntrol connection
+00032a70: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00032a80: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00032a90: 6963 6520 2873 7472 293a 2044 6576 6963  ice (str): Devic
+00032aa0: 6520 7365 7269 616c 206e 756d 6265 720a  e serial number.
+00032ab0: 2020 2020 2020 2020 2020 2020 6d61 726b              mark
+00032ac0: 6572 2028 7374 722c 206f 7074 696f 6e61  er (str, optiona
+00032ad0: 6c29 3a20 4f70 6171 7565 2068 616e 646c  l): Opaque handl
+00032ae0: 6520 746f 2066 6574 6368 206e 6578 7420  e to fetch next 
+00032af0: 7061 6765 0a20 2020 2020 2020 2020 2020  page.           
+00032b00: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00032b10: 696f 6e61 6c29 3a20 7061 6765 2073 697a  ional): page siz
+00032b20: 6520 4465 6661 756c 7473 2074 6f20 3130  e Defaults to 10
+00032b30: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00032b40: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00032b50: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00032b60: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00032b70: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00032b80: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00032b90: 222f 6170 692f 726f 7574 696e 672f 7631  "/api/routing/v1
+00032ba0: 2f6f 7665 726c 6179 2f63 6f6e 6e65 6374  /overlay/connect
+00032bb0: 696f 6e22 0a0a 2020 2020 2020 2020 7061  ion"..        pa
+00032bc0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00032bd0: 2020 2020 2027 6465 7669 6365 273a 2064       'device': d
+00032be0: 6576 6963 652c 0a20 2020 2020 2020 2020  evice,.         
+00032bf0: 2020 2027 6d61 726b 6572 273a 206d 6172     'marker': mar
+00032c00: 6b65 722c 0a20 2020 2020 2020 2020 2020  ker,.           
+00032c10: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
+00032c20: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00032c30: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00032c40: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00032c50: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00032c60: 2020 6173 796e 6320 6465 6620 7265 7365    async def rese
+00032c70: 745f 6f76 6572 6c61 795f 636f 6e6e 6563  t_overlay_connec
+00032c80: 7469 6f6e 280a 2020 2020 2020 2020 7365  tion(.        se
+00032c90: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
+00032ca0: 6365 3a20 7374 722c 0a20 2020 2029 202d  ce: str,.    ) -
+00032cb0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00032cc0: 2020 2020 2222 2252 6573 6574 206f 7665      """Reset ove
+00032cd0: 726c 6179 2063 6f6e 7472 6f6c 2063 6f6e  rlay control con
+00032ce0: 6e65 6374 696f 6e2e 0a0a 2020 2020 2020  nection...      
+00032cf0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00032d00: 2020 2020 6465 7669 6365 2028 7374 7229      device (str)
+00032d10: 3a20 4465 7669 6365 2073 6572 6961 6c20  : Device serial 
+00032d20: 6e75 6d62 6572 0a0a 2020 2020 2020 2020  number..        
+00032d30: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00032d40: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00032d50: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00032d60: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00032d70: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00032d80: 6c20 3d20 222f 6170 692f 726f 7574 696e  l = "/api/routin
+00032d90: 672f 7631 2f6f 7665 726c 6179 2f63 6f6e  g/v1/overlay/con
+00032da0: 6e65 6374 696f 6e2f 7265 7365 7422 0a0a  nection/reset"..
+00032db0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00032dc0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00032dd0: 6465 7669 6365 273a 2064 6576 6963 650a  device': device.
+00032de0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00032df0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00032e00: 7365 6c66 2e70 7574 2875 726c 2c20 7061  self.put(url, pa
+00032e10: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00032e20: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00032e30: 6f76 6572 6c61 795f 726f 7574 6573 5f6c  overlay_routes_l
+00032e40: 6561 726e 6564 280a 2020 2020 2020 2020  earned(.        
+00032e50: 7365 6c66 2c0a 2020 2020 2020 2020 6465  self,.        de
+00032e60: 7669 6365 3a20 7374 722c 0a20 2020 2020  vice: str,.     
+00032e70: 2020 202a 2c0a 2020 2020 2020 2020 6265     *,.        be
+00032e80: 7374 3a20 626f 6f6c 203d 2046 616c 7365  st: bool = False
+00032e90: 2c0a 2020 2020 2020 2020 6d61 726b 6572  ,.        marker
+00032ea0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00032eb0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00032ec0: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
+00032ed0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00032ee0: 2020 2022 2222 4c69 7374 206f 6620 6c65     """List of le
+00032ef0: 6172 6e65 6420 726f 7574 6573 2066 726f  arned routes fro
+00032f00: 6d20 6f76 6572 6c61 792e 0a0a 2020 2020  m overlay...    
+00032f10: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00032f20: 2020 2020 2020 6465 7669 6365 2028 7374        device (st
+00032f30: 7229 3a20 4465 7669 6365 2073 6572 6961  r): Device seria
+00032f40: 6c20 6e75 6d62 6572 0a20 2020 2020 2020  l number.       
+00032f50: 2020 2020 2062 6573 7420 2862 6f6f 6c29       best (bool)
+00032f60: 3a20 5265 7475 726e 206f 6e6c 7920 6265  : Return only be
+00032f70: 7374 202f 2070 7265 6665 7272 6564 2072  st / preferred r
+00032f80: 6f75 7465 730a 2020 2020 2020 2020 2020  outes.          
+00032f90: 2020 6d61 726b 6572 2028 7374 722c 206f    marker (str, o
+00032fa0: 7074 696f 6e61 6c29 3a20 4f70 6171 7565  ptional): Opaque
+00032fb0: 2068 616e 646c 6520 746f 2066 6574 6368   handle to fetch
+00032fc0: 206e 6578 7420 7061 6765 0a20 2020 2020   next page.     
+00032fd0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+00032fe0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
+00032ff0: 6765 2073 697a 6520 4465 6661 756c 7473  ge size Defaults
+00033000: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+00033010: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00033020: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00033030: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00033040: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00033050: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00033060: 7572 6c20 3d20 222f 6170 692f 726f 7574  url = "/api/rout
+00033070: 696e 672f 7631 2f6f 7665 726c 6179 2f72  ing/v1/overlay/r
+00033080: 6f75 7465 2f6c 6561 726e 6564 220a 2020  oute/learned".  
+00033090: 2020 2020 2020 6966 2062 6573 743a 0a20        if best:. 
+000330a0: 2020 2020 2020 2020 2020 2075 726c 203d             url =
+000330b0: 2066 277b 7572 6c7d 2f62 6573 7427 0a0a   f'{url}/best'..
+000330c0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+000330d0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+000330e0: 6465 7669 6365 273a 2064 6576 6963 652c  device': device,
+000330f0: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
+00033100: 726b 6572 273a 206d 6172 6b65 722c 0a20  rker': marker,. 
+00033110: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+00033120: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+00033130: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00033140: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00033150: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00033160: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+00033170: 6320 6465 6620 6765 745f 6f76 6572 6c61  c def get_overla
+00033180: 795f 726f 7574 6573 5f61 6476 6572 7469  y_routes_adverti
+00033190: 7365 6428 0a20 2020 2020 2020 2073 656c  sed(.        sel
+000331a0: 662c 0a20 2020 2020 2020 2064 6576 6963  f,.        devic
+000331b0: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
+000331c0: 6d61 726b 6572 3a20 7374 7220 3d20 4e6f  marker: str = No
+000331d0: 6e65 2c0a 2020 2020 2020 2020 6c69 6d69  ne,.        limi
+000331e0: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
+000331f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00033200: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
+00033210: 206f 6620 6164 7665 7274 6973 6564 2072   of advertised r
+00033220: 6f75 7465 7320 746f 206f 7665 726c 6179  outes to overlay
+00033230: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00033240: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00033250: 6963 6520 2873 7472 293a 2044 6576 6963  ice (str): Devic
+00033260: 6520 7365 7269 616c 206e 756d 6265 720a  e serial number.
+00033270: 2020 2020 2020 2020 2020 2020 6d61 726b              mark
+00033280: 6572 2028 7374 722c 206f 7074 696f 6e61  er (str, optiona
+00033290: 6c29 3a20 4f70 6171 7565 2068 616e 646c  l): Opaque handl
+000332a0: 6520 746f 2066 6574 6368 206e 6578 7420  e to fetch next 
+000332b0: 7061 6765 0a20 2020 2020 2020 2020 2020  page.           
+000332c0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+000332d0: 696f 6e61 6c29 3a20 7061 6765 2073 697a  ional): page siz
+000332e0: 6520 4465 6661 756c 7473 2074 6f20 3130  e Defaults to 10
+000332f0: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00033300: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00033310: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00033320: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00033330: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00033340: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00033350: 222f 6170 692f 726f 7574 696e 672f 7631  "/api/routing/v1
+00033360: 2f6f 7665 726c 6179 2f72 6f75 7465 2f61  /overlay/route/a
+00033370: 6476 6572 7469 7365 6422 0a0a 2020 2020  dvertised"..    
+00033380: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00033390: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+000333a0: 6365 273a 2064 6576 6963 652c 0a20 2020  ce': device,.   
+000333b0: 2020 2020 2020 2020 2027 6d61 726b 6572           'marker
+000333c0: 273a 206d 6172 6b65 722c 0a20 2020 2020  ': marker,.     
+000333d0: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
+000333e0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
+000333f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00033400: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00033410: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+00033420: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+00033430: 6620 6765 745f 6f76 6572 6c61 795f 696e  f get_overlay_in
+00033440: 7465 7266 6163 6573 280a 2020 2020 2020  terfaces(.      
+00033450: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00033460: 6465 7669 6365 3a20 7374 722c 0a20 2020  device: str,.   
+00033470: 2020 2020 206d 6172 6b65 723a 2073 7472       marker: str
+00033480: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00033490: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
+000334a0: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
+000334b0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+000334c0: 224c 6973 7420 6f66 206f 7665 726c 6179  "List of overlay
+000334d0: 2069 6e74 6572 6661 6365 7320 2874 756e   interfaces (tun
+000334e0: 6e65 6c73 292e 0a0a 2020 2020 2020 2020  nels)...        
+000334f0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00033500: 2020 6465 7669 6365 2028 7374 7229 3a20    device (str): 
+00033510: 4465 7669 6365 2073 6572 6961 6c20 6e75  Device serial nu
+00033520: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+00033530: 206d 6172 6b65 7220 2873 7472 2c20 6f70   marker (str, op
+00033540: 7469 6f6e 616c 293a 204f 7061 7175 6520  tional): Opaque 
+00033550: 6861 6e64 6c65 2074 6f20 6665 7463 6820  handle to fetch 
+00033560: 6e65 7874 2070 6167 650a 2020 2020 2020  next page.      
+00033570: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+00033580: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
+00033590: 6520 7369 7a65 2044 6566 6175 6c74 7320  e size Defaults 
+000335a0: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
+000335b0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+000335c0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+000335d0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+000335e0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000335f0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00033600: 726c 203d 2022 2f61 7069 2f72 6f75 7469  rl = "/api/routi
+00033610: 6e67 2f76 312f 6f76 6572 6c61 792f 696e  ng/v1/overlay/in
+00033620: 7465 7266 6163 6522 0a0a 2020 2020 2020  terface"..      
+00033630: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+00033640: 2020 2020 2020 2020 2027 6465 7669 6365           'device
+00033650: 273a 2064 6576 6963 652c 0a20 2020 2020  ': device,.     
+00033660: 2020 2020 2020 2027 6d61 726b 6572 273a         'marker':
+00033670: 206d 6172 6b65 722c 0a20 2020 2020 2020   marker,.       
+00033680: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
+00033690: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
+000336a0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000336b0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+000336c0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+000336d0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+000336e0: 6765 745f 6465 6e79 6c69 7374 5f63 6c69  get_denylist_cli
+000336f0: 656e 7473 280a 2020 2020 2020 2020 7365  ents(.        se
+00033700: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+00033710: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
+00033720: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00033730: 2020 2020 2222 2247 6574 2061 6c6c 2064      """Get all d
+00033740: 656e 796c 6973 7420 636c 6965 6e74 206d  enylist client m
+00033750: 6163 2061 6464 7265 7373 2069 6e20 6465  ac address in de
+00033760: 7669 6365 2e0a 0a20 2020 2020 2020 2041  vice...        A
+00033770: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00033780: 2073 6572 6961 6c20 2873 7472 293a 2044   serial (str): D
+00033790: 6576 6963 6520 6964 206f 6620 7669 7274  evice id of virt
+000337a0: 7561 6c20 636f 6e74 726f 6c6c 6572 2028  ual controller (
+000337b0: 414f 5338 2049 4150 2920 6f72 2073 6572  AOS8 IAP) or ser
+000337c0: 6961 6c20 6f66 2041 4f53 3130 2061 702e  ial of AOS10 ap.
+000337d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000337e0: 2045 7861 6d70 6c65 3a31 3462 3337 3433   Example:14b3743
+000337f0: 6330 3166 3830 3830 6266 6130 3763 6130  c01f8080bfa07ca0
+00033800: 3533 6566 3165 3839 3564 6639 6330 3638  53ef1e895df9c068
+00033810: 3066 6535 6131 3762 6664 350a 0a20 2020  0fe5a17bfd5..   
+00033820: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00033830: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00033840: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00033850: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00033860: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00033870: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
+00033880: 6967 7572 6174 696f 6e2f 7631 2f73 7761  iguration/v1/swa
+00033890: 726d 2f7b 7365 7269 616c 7d2f 626c 6163  rm/{serial}/blac
+000338a0: 6b6c 6973 7469 6e67 220a 0a20 2020 2020  klisting"..     
+000338b0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000338c0: 7365 6c66 2e67 6574 2875 726c 290a 0a0a  self.get(url)...
+000338d0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+000338e0: 745f 6175 746f 5f73 7562 7363 7269 6265  t_auto_subscribe
+000338f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00033900: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00033910: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+00033920: 7420 7468 6520 7365 7276 6963 6573 2077  t the services w
+00033930: 6869 6368 2068 6176 6520 6175 746f 2073  hich have auto s
+00033940: 7562 7363 7269 6265 2065 6e61 626c 6564  ubscribe enabled
+00033950: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00033960: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00033970: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00033980: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00033990: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+000339a0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+000339b0: 2f70 6c61 7466 6f72 6d2f 6c69 6365 6e73  /platform/licens
+000339c0: 696e 672f 7631 2f63 7573 746f 6d65 722f  ing/v1/customer/
+000339d0: 7365 7474 696e 6773 2f61 7574 6f6c 6963  settings/autolic
+000339e0: 656e 7365 220a 0a20 2020 2020 2020 2072  ense"..        r
+000339f0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00033a00: 2e67 6574 2875 726c 290a 0a20 2020 2061  .get(url)..    a
+00033a10: 7379 6e63 2064 6566 2065 6e61 626c 655f  sync def enable_
+00033a20: 6175 746f 5f73 7562 7363 7269 6265 280a  auto_subscribe(.
+00033a30: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00033a40: 2020 2020 2020 7365 7276 6963 6573 3a20        services: 
+00033a50: 4c69 7374 5b73 7472 5d20 7c20 7374 722c  List[str] | str,
+00033a60: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00033a70: 7365 3a0a 2020 2020 2020 2020 2222 2253  se:.        """S
+00033a80: 7461 6e64 616c 6f6e 6520 4375 7374 6f6d  tandalone Custom
+00033a90: 6572 2041 5049 3a20 4173 7369 676e 206c  er API: Assign l
+00033aa0: 6963 656e 7365 7320 746f 2061 6c6c 2064  icenses to all d
+00033ab0: 6576 6963 6573 2061 6e64 2065 6e61 626c  evices and enabl
+00033ac0: 6520 6175 746f 2073 7562 7363 7269 6265  e auto subscribe
+00033ad0: 2066 6f72 0a20 2020 2020 2020 2067 6976   for.        giv
+00033ae0: 656e 2073 6572 7669 6365 732e 0a0a 2020  en services...  
+00033af0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00033b00: 2020 2020 2020 2020 7365 7276 6963 6573          services
+00033b10: 2028 4c69 7374 5b73 7472 5d29 3a20 6c69   (List[str]): li
+00033b20: 7374 206f 6620 7365 7276 6963 6573 2065  st of services e
+00033b30: 2e67 2e20 5b27 7061 272c 2027 7563 6327  .g. ['pa', 'ucc'
+00033b40: 2c20 666f 756e 6461 7469 6f6e 5f61 702c  , foundation_ap,
+00033b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00033b60: 2061 6476 616e 6365 645f 7377 6974 6368   advanced_switch
+00033b70: 5f36 3230 302c 2066 6f75 6e64 6174 696f  _6200, foundatio
+00033b80: 6e5f 3730 5858 2065 7463 202e 2e2e 5d2e  n_70XX etc ...].
+00033b90: 2043 6865 636b 0a20 2020 2020 2020 2020   Check.         
+00033ba0: 2020 2020 2020 202f 706c 6174 666f 726d         /platform
+00033bb0: 2f6c 6963 656e 7369 6e67 2f76 312f 7365  /licensing/v1/se
+00033bc0: 7276 6963 6573 2f63 6f6e 6669 6720 4150  rvices/config AP
+00033bd0: 4920 7265 7370 6f6e 7365 2074 6f20 6b6e  I response to kn
+00033be0: 6f77 2074 6865 206c 6973 7420 6f66 2073  ow the list of s
+00033bf0: 7570 706f 7274 6564 0a20 2020 2020 2020  upported.       
+00033c00: 2020 2020 2020 2020 2073 6572 7669 6365           service
+00033c10: 732e 0a0a 2020 2020 2020 2020 5265 7475  s...        Retu
+00033c20: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00033c30: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00033c40: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00033c50: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00033c60: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00033c70: 222f 706c 6174 666f 726d 2f6c 6963 656e  "/platform/licen
+00033c80: 7369 6e67 2f76 312f 6375 7374 6f6d 6572  sing/v1/customer
+00033c90: 2f73 6574 7469 6e67 732f 6175 746f 6c69  /settings/autoli
+00033ca0: 6365 6e73 6522 0a0a 2020 2020 2020 2020  cense"..        
+00033cb0: 6966 2069 7369 6e73 7461 6e63 6528 7365  if isinstance(se
+00033cc0: 7276 6963 6573 2c20 7374 7229 3a0a 2020  rvices, str):.  
+00033cd0: 2020 2020 2020 2020 2020 7365 7276 6963            servic
+00033ce0: 6573 203d 205b 7365 7276 6963 6573 5d0a  es = [services].
+00033cf0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00033d00: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00033d10: 2020 2027 7365 7276 6963 6573 273a 2073     'services': s
+00033d20: 6572 7669 6365 730a 2020 2020 2020 2020  ervices.        
+00033d30: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00033d40: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+00033d50: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+00033d60: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+00033d70: 2061 7379 6e63 2064 6566 2064 6973 6162   async def disab
+00033d80: 6c65 5f61 7574 6f5f 7375 6273 6372 6962  le_auto_subscrib
+00033d90: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
+00033da0: 0a20 2020 2020 2020 2073 6572 7669 6365  .        service
+00033db0: 733a 204c 6973 745b 7374 725d 207c 2073  s: List[str] | s
+00033dc0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
+00033dd0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00033de0: 2222 5374 616e 6461 6c6f 6e65 2043 7573  ""Standalone Cus
+00033df0: 746f 6d65 7220 4150 493a 2044 6973 6162  tomer API: Disab
+00033e00: 6c65 2061 7574 6f20 6c69 6365 6e73 696e  le auto licensin
+00033e10: 6720 666f 7220 6769 7665 6e20 7365 7276  g for given serv
+00033e20: 6963 6573 2e0a 0a20 2020 2020 2020 2041  ices...        A
+00033e30: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00033e40: 2073 6572 7669 6365 7320 284c 6973 745b   services (List[
+00033e50: 7374 725d 293a 206c 6973 7420 6f66 2073  str]): list of s
+00033e60: 6572 7669 6365 7320 652e 672e 205b 2770  ervices e.g. ['p
+00033e70: 6127 2c20 2775 6363 272c 2066 6f75 6e64  a', 'ucc', found
+00033e80: 6174 696f 6e5f 6170 2c0a 2020 2020 2020  ation_ap,.      
+00033e90: 2020 2020 2020 2020 2020 6164 7661 6e63            advanc
+00033ea0: 6564 5f73 7769 7463 685f 3632 3030 2c20  ed_switch_6200, 
+00033eb0: 666f 756e 6461 7469 6f6e 5f37 3058 5820  foundation_70XX 
+00033ec0: 6574 6320 2e2e 2e5d 2e20 4368 6563 6b0a  etc ...]. Check.
+00033ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033ee0: 2f70 6c61 7466 6f72 6d2f 6c69 6365 6e73  /platform/licens
+00033ef0: 696e 672f 7631 2f73 6572 7669 6365 732f  ing/v1/services/
+00033f00: 636f 6e66 6967 2041 5049 2072 6573 706f  config API respo
+00033f10: 6e73 6520 746f 206b 6e6f 7720 7468 6520  nse to know the 
+00033f20: 6c69 7374 206f 6620 7375 7070 6f72 7465  list of supporte
+00033f30: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00033f40: 2020 7365 7276 6963 6573 2e0a 0a20 2020    services...   
+00033f50: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00033f60: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00033f70: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00033f80: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00033f90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00033fa0: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
+00033fb0: 6f72 6d2f 6c69 6365 6e73 696e 672f 7631  orm/licensing/v1
+00033fc0: 2f63 7573 746f 6d65 722f 7365 7474 696e  /customer/settin
+00033fd0: 6773 2f61 7574 6f6c 6963 656e 7365 220a  gs/autolicense".
+00033fe0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+00033ff0: 7374 616e 6365 2873 6572 7669 6365 732c  stance(services,
+00034000: 2073 7472 293a 0a20 2020 2020 2020 2020   str):.         
+00034010: 2020 2073 6572 7669 6365 7320 3d20 5b73     services = [s
+00034020: 6572 7669 6365 735d 0a0a 2020 2020 2020  ervices]..      
+00034030: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+00034040: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+00034050: 7669 6365 7327 3a20 7365 7276 6963 6573  vices': services
+00034060: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00034070: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00034080: 2073 656c 662e 6465 6c65 7465 2875 726c   self.delete(url
+00034090: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
+000340a0: 5f64 6174 6129 0a0a 2020 2020 2320 2f2f  _data)..    # //
+000340b0: 202d 2d20 4e6f 7420 7573 6564 2062 7920   -- Not used by 
+000340c0: 636f 6d6d 616e 6473 2079 6574 2e20 2075  commands yet.  u
+000340d0: 6e64 6f63 756d 656e 7465 6420 6b6d 7320  ndocumented kms 
+000340e0: 6170 6920 2d2d 202f 2f0a 2020 2020 6173  api -- //.    as
+000340f0: 796e 6320 6465 6620 6b6d 735f 6765 745f  ync def kms_get_
+00034100: 7379 6e63 6564 5f61 7073 2873 656c 662c  synced_aps(self,
+00034110: 206d 6163 3a20 7374 7229 202d 3e20 5265   mac: str) -> Re
+00034120: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00034130: 7572 6c20 3d20 6622 2f6b 6579 6d67 6d74  url = f"/keymgmt
+00034140: 2f76 312f 7379 6e63 6564 6170 6c69 7374  /v1/syncedaplist
+00034150: 2f7b 6d61 637d 220a 2020 2020 2020 2020  /{mac}".        
+00034160: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00034170: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+00034180: 6173 796e 6320 6465 6620 6b6d 735f 6765  async def kms_ge
+00034190: 745f 636c 6965 6e74 5f72 6563 6f72 6428  t_client_record(
+000341a0: 7365 6c66 2c20 6d61 633a 2073 7472 2920  self, mac: str) 
+000341b0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+000341c0: 2020 2020 2075 726c 203d 2066 222f 6b65       url = f"/ke
+000341d0: 796d 676d 742f 7631 2f6b 6579 6361 6368  ymgmt/v1/keycach
+000341e0: 652f 7b6d 6163 7d22 0a20 2020 2020 2020  e/{mac}".       
+000341f0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00034200: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+00034210: 2061 7379 6e63 2064 6566 206b 6d73 5f67   async def kms_g
+00034220: 6574 5f68 6173 6828 7365 6c66 2920 2d3e  et_hash(self) ->
+00034230: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00034240: 2020 2075 726c 203d 2022 2f6b 6579 6d67     url = "/keymg
+00034250: 6d74 2f76 312f 6b65 7968 6173 6822 0a20  mt/v1/keyhash". 
+00034260: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00034270: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00034280: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00034290: 206b 6d73 5f67 6574 5f61 705f 7374 6174   kms_get_ap_stat
+000342a0: 6528 7365 6c66 2c20 7365 7269 616c 3a20  e(self, serial: 
+000342b0: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
+000342c0: 3a0a 2020 2020 2020 2020 7572 6c20 3d20  :.        url = 
+000342d0: 6622 2f6b 6579 6d67 6d74 2f76 312f 5374  f"/keymgmt/v1/St
+000342e0: 6174 732f 6170 2f7b 7365 7269 616c 7d22  ats/ap/{serial}"
+000342f0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00034300: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00034310: 726c 290a 0a20 2020 2023 2042 6164 2065  rl)..    # Bad e
+00034320: 6e64 706f 696e 7420 5552 4c20 3430 340a  ndpoint URL 404.
+00034330: 2020 2020 6173 796e 6320 6465 6620 6b6d      async def km
+00034340: 735f 6765 745f 6865 616c 7468 2873 656c  s_get_health(sel
+00034350: 6629 202d 3e20 5265 7370 6f6e 7365 3a0a  f) -> Response:.
+00034360: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00034370: 6b65 796d 676d 742f 7631 2f68 6561 6c74  keymgmt/v1/healt
+00034380: 6822 0a20 2020 2020 2020 2072 6574 7572  h".        retur
+00034390: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+000343a0: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+000343b0: 2064 6566 2063 6c6f 7564 6175 7468 5f67   def cloudauth_g
+000343c0: 6574 5f72 6567 6973 7465 7265 645f 6d61  et_registered_ma
+000343d0: 6373 280a 2020 2020 2020 2020 7365 6c66  cs(.        self
+000343e0: 2c0a 2020 2020 2020 2020 7365 6172 6368  ,.        search
+000343f0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00034400: 2020 2020 2020 736f 7274 3a20 7374 7220        sort: str 
+00034410: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00034420: 6669 6c65 6e61 6d65 3a20 7374 7220 3d20  filename: str = 
+00034430: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+00034440: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00034450: 2022 2222 4665 7463 6820 616c 6c20 4d61   """Fetch all Ma
+00034460: 6320 5265 6769 7374 7261 7469 6f6e 7320  c Registrations 
+00034470: 6173 2061 2043 5356 2066 696c 652e 0a0a  as a CSV file...
+00034480: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00034490: 2020 2020 2020 2020 2020 7365 6172 6368            search
+000344a0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000344b0: 3a20 4669 6c74 6572 2074 6865 204d 6163  : Filter the Mac
+000344c0: 2052 6567 6973 7472 6174 696f 6e73 2062   Registrations b
+000344d0: 7920 4d61 6320 4164 6472 6573 7320 616e  y Mac Address an
+000344e0: 6420 436c 6965 6e74 204e 616d 652e 0a20  d Client Name.. 
+000344f0: 2020 2020 2020 2020 2020 2020 2020 2044                 D
+00034500: 6f65 7320 6120 2763 6f6e 7461 696e 7327  oes a 'contains'
+00034510: 206d 6174 6368 2e0a 2020 2020 2020 2020   match..        
+00034520: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
+00034530: 7074 696f 6e61 6c29 3a20 536f 7274 206f  ptional): Sort o
+00034540: 7264 6572 2020 5661 6c69 6420 5661 6c75  rder  Valid Valu
+00034550: 6573 3a20 2b6e 616d 652c 202d 6e61 6d65  es: +name, -name
+00034560: 2c20 2b64 6973 706c 6179 5f6e 616d 652c  , +display_name,
+00034570: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00034580: 202d 6469 7370 6c61 795f 6e61 6d65 0a20   -display_name. 
+00034590: 2020 2020 2020 2020 2020 2066 696c 656e             filen
+000345a0: 616d 6520 2873 7472 2c20 6f70 7469 6f6e  ame (str, option
+000345b0: 616c 293a 2053 7567 6765 7374 2061 2066  al): Suggest a f
+000345c0: 696c 6520 6e61 6d65 2066 6f72 2074 6865  ile name for the
+000345d0: 2064 6f77 6e6c 6f61 6469 6e67 2066 696c   downloading fil
+000345e0: 6520 7669 6120 636f 6e74 656e 740a 2020  e via content.  
+000345f0: 2020 2020 2020 2020 2020 2020 2020 6469                di
+00034600: 7370 6f73 6974 696f 6e20 6865 6164 6572  sposition header
+00034610: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00034620: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00034630: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00034640: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00034650: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00034660: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00034670: 2f63 6c6f 7564 6175 7468 2f61 7069 2f76  /cloudauth/api/v
+00034680: 332f 6275 6c6b 2f6d 6163 220a 0a20 2020  3/bulk/mac"..   
+00034690: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+000346a0: 2020 2020 2020 2020 2020 2020 2773 6561              'sea
+000346b0: 7263 6827 3a20 7365 6172 6368 2c0a 2020  rch': search,.  
+000346c0: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
+000346d0: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
+000346e0: 2020 2020 2766 696c 656e 616d 6527 3a20      'filename': 
+000346f0: 6669 6c65 6e61 6d65 0a20 2020 2020 2020  filename.       
+00034700: 207d 0a0a 2020 2020 2020 2020 7265 7370   }..        resp
+00034710: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00034720: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+00034730: 7261 6d73 290a 0a20 2020 2020 2020 2069  rams)..        i
+00034740: 6620 7265 7370 3a0a 2020 2020 2020 2020  f resp:.        
+00034750: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00034760: 2020 2020 2020 2020 2064 7320 3d20 7461           ds = ta
+00034770: 626c 6962 2e44 6174 6173 6574 2829 2e6c  blib.Dataset().l
+00034780: 6f61 6428 7265 7370 2e6f 7574 7075 7429  oad(resp.output)
+00034790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000347a0: 2072 6573 702e 6f75 7470 7574 203d 2079   resp.output = y
+000347b0: 616d 6c2e 6c6f 6164 2864 732e 6a73 6f6e  aml.load(ds.json
+000347c0: 2c20 4c6f 6164 6572 3d79 616d 6c2e 5361  , Loader=yaml.Sa
+000347d0: 6665 4c6f 6164 6572 290a 2020 2020 2020  feLoader).      
+000347e0: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+000347f0: 6570 7469 6f6e 2061 7320 653a 0a20 2020  eption as e:.   
+00034800: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+00034810: 2e65 7272 6f72 2866 2263 6c6f 7564 6175  .error(f"cloudau
+00034820: 7468 5f67 6574 5f72 6567 6973 7465 7265  th_get_registere
+00034830: 645f 6d61 6373 2063 6175 6768 7420 7b65  d_macs caught {e
+00034840: 2e5f 5f63 6c61 7373 5f5f 2e5f 5f6e 616d  .__class__.__nam
+00034850: 655f 5f7d 2074 7279 696e 6720 746f 2063  e__} trying to c
+00034860: 6f6e 7665 7274 2063 7376 2072 6574 7572  onvert csv retur
+00034870: 6e20 6672 6f6d 2041 5049 2074 6f20 6469  n from API to di
+00034880: 6374 2e22 2c20 6361 7074 696f 6e3d 5472  ct.", caption=Tr
+00034890: 7565 290a 0a20 2020 2020 2020 2072 6574  ue)..        ret
+000348a0: 7572 6e20 7265 7370 0a0a 2020 2020 6173  urn resp..    as
+000348b0: 796e 6320 6465 6620 636c 6f75 6461 7574  ync def cloudaut
+000348c0: 685f 7570 6c6f 6164 5f66 6978 6d65 280a  h_upload_fixme(.
+000348d0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+000348e0: 2020 2020 2020 7570 6c6f 6164 5f74 7970        upload_typ
+000348f0: 653a 2043 6c6f 7564 4175 7468 5570 6c6f  e: CloudAuthUplo
+00034900: 6164 5479 7065 2c0a 2020 2020 2020 2020  adType,.        
+00034910: 6669 6c65 3a20 556e 696f 6e5b 5061 7468  file: Union[Path
+00034920: 2c20 7374 725d 2c0a 2020 2020 2020 2020  , str],.        
+00034930: 7373 6964 3a20 7374 7220 3d20 4e6f 6e65  ssid: str = None
+00034940: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00034950: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00034960: 5570 6c6f 6164 2066 696c 652e 0a0a 2020  Upload file...  
+00034970: 2020 2020 2020 5468 6973 2064 6f65 736e        This doesn
+00034980: 2774 2077 6f72 6b20 7374 696c 6c20 736f  't work still so
+00034990: 7274 696e 6720 7468 6520 666f 726d 6174  rting the format
+000349a0: 206f 6620 466f 726d 4461 7461 0a0a 2020   of FormData..  
+000349b0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+000349c0: 2020 2020 2020 2020 7570 6c6f 6164 5f74          upload_t
+000349d0: 7970 6520 2843 6c6f 7564 4175 7468 5570  ype (CloudAuthUp
+000349e0: 6c6f 6164 5479 7065 293a 2054 7970 6520  loadType): Type 
+000349f0: 6f66 2066 696c 6520 7570 6c6f 6164 2020  of file upload  
+00034a00: 5661 6c69 6420 5661 6c75 6573 3a20 6d70  Valid Values: mp
+00034a10: 736b 2c20 6d61 630a 2020 2020 2020 2020  sk, mac.        
+00034a20: 2020 2020 6669 6c65 2028 556e 696f 6e5b      file (Union[
+00034a30: 5061 7468 2c20 7374 725d 293a 2054 6865  Path, str]): The
+00034a40: 2063 7376 2066 696c 6520 746f 2075 706c   csv file to upl
+00034a50: 6f61 640a 2020 2020 2020 2020 2020 2020  oad.            
+00034a60: 7373 6964 2028 7374 722c 206f 7074 696f  ssid (str, optio
+00034a70: 6e61 6c29 3a20 4d50 534b 206e 6574 776f  nal): MPSK netwo
+00034a80: 726b 2053 5349 442c 2072 6571 7569 7265  rk SSID, require
+00034a90: 6420 6966 207b 7570 6c6f 6164 5f74 7970  d if {upload_typ
+00034aa0: 657d 203d 2027 6d70 736b 270a 0a20 2020  e} = 'mpsk'..   
+00034ab0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00034ac0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00034ad0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00034ae0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00034af0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00034b00: 2020 2075 726c 203d 2066 222f 636c 6f75     url = f"/clou
+00034b10: 6461 7574 682f 6170 692f 7633 2f62 756c  dauth/api/v3/bul
+00034b20: 6b2f 7b75 706c 6f61 645f 7479 7065 7d22  k/{upload_type}"
+00034b30: 0a20 2020 2020 2020 2066 696c 6520 3d20  .        file = 
+00034b40: 6669 6c65 2069 6620 6973 696e 7374 616e  file if isinstan
+00034b50: 6365 2866 696c 652c 2050 6174 6829 2065  ce(file, Path) e
+00034b60: 6c73 6520 5061 7468 2873 7472 2866 696c  lse Path(str(fil
+00034b70: 6529 290a 2020 2020 2020 2020 2320 6461  e)).        # da
+00034b80: 7461 203d 206d 756c 7469 7061 7274 6966  ta = multipartif
+00034b90: 7928 6669 6c65 2e72 6561 645f 6279 7465  y(file.read_byte
+00034ba0: 7328 2929 0a20 2020 2020 2020 2023 2064  s()).        # d
+00034bb0: 6174 6120 3d20 6169 6f68 7474 702e 466f  ata = aiohttp.Fo
+00034bc0: 726d 4461 7461 2866 696c 652e 6f70 656e  rmData(file.open
+00034bd0: 2829 290a 0a20 2020 2020 2020 2070 6172  ())..        par
+00034be0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+00034bf0: 2020 2020 2773 7369 6427 3a20 7373 6964      'ssid': ssid
+00034c00: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+00034c10: 2020 2066 696c 6573 203d 207b 2022 6669     files = { "fi
+00034c20: 6c65 223a 2028 6669 6c65 2e6e 616d 652c  le": (file.name,
+00034c30: 2066 696c 652e 6f70 656e 2822 7262 2229   file.open("rb")
+00034c40: 2c20 2274 6578 742f 6373 7622 2920 7d0a  , "text/csv") }.
+00034c50: 2020 2020 2020 2020 666f 726d 5f64 6174          form_dat
+00034c60: 6120 3d20 6169 6f68 7474 702e 466f 726d  a = aiohttp.Form
+00034c70: 4461 7461 2866 696c 6573 290a 2020 2020  Data(files).    
+00034c80: 2020 2020 2320 6669 6c65 7320 3d20 7b66      # files = {f
+00034c90: 277b 7570 6c6f 6164 5f74 7970 657d 5f69  '{upload_type}_i
+00034ca0: 6d70 6f72 7427 3a20 2866 277b 7570 6c6f  mport': (f'{uplo
+00034cb0: 6164 5f74 7970 657d 5f69 6d70 6f72 742e  ad_type}_import.
+00034cc0: 6373 7627 2c20 6669 6c65 2e72 6561 645f  csv', file.read_
+00034cd0: 6279 7465 7328 2929 7d0a 2020 2020 2020  bytes())}.      
+00034ce0: 2020 6865 6164 6572 7320 3d20 7b0a 2020    headers = {.  
+00034cf0: 2020 2020 2020 2020 2020 2243 6f6e 7465            "Conte
+00034d00: 6e74 2d54 7970 6522 3a20 226d 756c 7469  nt-Type": "multi
+00034d10: 7061 7274 2f66 6f72 6d2d 6461 7461 222c  part/form-data",
+00034d20: 0a20 2020 2020 2020 2020 2020 2027 4163  .            'Ac
+00034d30: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
+00034d40: 696f 6e2f 6a73 6f6e 270a 2020 2020 2020  ion/json'.      
+00034d50: 2020 7d0a 2020 2020 2020 2020 6865 6164    }.        head
+00034d60: 6572 7320 3d20 7b2a 2a68 6561 6465 7273  ers = {**headers
+00034d70: 2c20 2a2a 6469 6374 2861 696f 6874 7470  , **dict(aiohttp
+00034d80: 2e46 6f72 6d44 6174 6128 6669 6c65 7329  .FormData(files)
+00034d90: 2e5f 7772 6974 6572 2e5f 6865 6164 6572  ._writer._header
+00034da0: 7329 7d0a 0a20 2020 2020 2020 2072 6574  s)}..        ret
+00034db0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00034dc0: 6f73 7428 7572 6c2c 2068 6561 6465 7273  ost(url, headers
+00034dd0: 3d68 6561 6465 7273 2c20 7061 7261 6d73  =headers, params
+00034de0: 3d70 6172 616d 732c 2070 6179 6c6f 6164  =params, payload
+00034df0: 3d66 6f72 6d5f 6461 7461 290a 0a20 2020  =form_data)..   
+00034e00: 2061 7379 6e63 2064 6566 2063 6c6f 7564   async def cloud
+00034e10: 6175 7468 5f75 706c 6f61 6428 0a20 2020  auth_upload(.   
+00034e20: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00034e30: 2020 2075 706c 6f61 645f 7479 7065 3a20     upload_type: 
+00034e40: 436c 6f75 6441 7574 6855 706c 6f61 6454  CloudAuthUploadT
+00034e50: 7970 652c 0a20 2020 2020 2020 2066 696c  ype,.        fil
+00034e60: 653a 2055 6e69 6f6e 5b50 6174 682c 2073  e: Union[Path, s
+00034e70: 7472 5d2c 0a20 2020 2020 2020 2073 7369  tr],.        ssi
+00034e80: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+00034e90: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00034ea0: 3a0a 0a20 2020 2020 2020 2022 2222 5570  :..        """Up
+00034eb0: 6c6f 6164 2066 696c 652e 0a0a 2020 2020  load file...    
+00034ec0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00034ed0: 2020 2020 2020 7570 6c6f 6164 5f74 7970        upload_typ
+00034ee0: 6520 2843 6c6f 7564 4175 7468 5570 6c6f  e (CloudAuthUplo
+00034ef0: 6164 5479 7065 293a 2054 7970 6520 6f66  adType): Type of
+00034f00: 2066 696c 6520 7570 6c6f 6164 2020 5661   file upload  Va
+00034f10: 6c69 6420 5661 6c75 6573 3a20 6d70 736b  lid Values: mpsk
+00034f20: 2c20 6d61 630a 2020 2020 2020 2020 2020  , mac.          
+00034f30: 2020 6669 6c65 2028 556e 696f 6e5b 5061    file (Union[Pa
+00034f40: 7468 2c20 7374 725d 293a 2054 6865 2063  th, str]): The c
+00034f50: 7376 2066 696c 6520 746f 2075 706c 6f61  sv file to uploa
+00034f60: 640a 2020 2020 2020 2020 2020 2020 7373  d.            ss
+00034f70: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+00034f80: 6c29 3a20 4d50 534b 206e 6574 776f 726b  l): MPSK network
+00034f90: 2053 5349 442c 2072 6571 7569 7265 6420   SSID, required 
+00034fa0: 6966 207b 7570 6c6f 6164 5f74 7970 657d  if {upload_type}
+00034fb0: 203d 2027 6d70 736b 270a 0a20 2020 2020   = 'mpsk'..     
+00034fc0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00034fd0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00034fe0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00034ff0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00035000: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00035010: 2075 726c 203d 2066 222f 636c 6f75 6461   url = f"/clouda
+00035020: 7574 682f 6170 692f 7633 2f62 756c 6b2f  uth/api/v3/bulk/
+00035030: 7b75 706c 6f61 645f 7479 7065 7d22 0a20  {upload_type}". 
+00035040: 2020 2020 2020 2066 696c 6520 3d20 6669         file = fi
+00035050: 6c65 2069 6620 6973 696e 7374 616e 6365  le if isinstance
+00035060: 2866 696c 652c 2050 6174 6829 2065 6c73  (file, Path) els
+00035070: 6520 5061 7468 2873 7472 2866 696c 6529  e Path(str(file)
+00035080: 290a 2020 2020 2020 2020 7061 7261 6d73  ).        params
+00035090: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+000350a0: 2027 7373 6964 273a 2073 7369 640a 2020   'ssid': ssid.  
+000350b0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+000350c0: 2023 2048 4143 4b20 6e65 6564 2074 6f20   # HACK need to 
+000350d0: 6d61 6b65 2074 6865 2061 626f 7665 2061  make the above a
+000350e0: 7379 6e63 2066 756e 6374 696f 6e20 776f  sync function wo
+000350f0: 726b 0a20 2020 2020 2020 2069 6d70 6f72  rk.        impor
+00035100: 7420 7265 7175 6573 7473 0a20 2020 2020  t requests.     
+00035110: 2020 2068 6561 6465 7273 203d 207b 0a20     headers = {. 
+00035120: 2020 2020 2020 2020 2020 2022 4175 7468             "Auth
+00035130: 6f72 697a 6174 696f 6e22 3a20 6622 4265  orization": f"Be
+00035140: 6172 6572 207b 7365 6c66 2e61 7574 682e  arer {self.auth.
+00035150: 6365 6e74 7261 6c5f 696e 666f 5b27 746f  central_info['to
+00035160: 6b65 6e27 5d5b 2761 6363 6573 735f 746f  ken']['access_to
+00035170: 6b65 6e27 5d7d 222c 0a20 2020 2020 2020  ken']}",.       
+00035180: 2020 2020 2027 4163 6365 7074 273a 2027       'Accept': '
+00035190: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
+000351a0: 270a 2020 2020 2020 2020 7d0a 0a20 2020  '.        }..   
+000351b0: 2020 2020 2066 696c 6573 203d 207b 2022       files = { "
+000351c0: 6669 6c65 223a 2028 6669 6c65 2e6e 616d  file": (file.nam
+000351d0: 652c 2066 696c 652e 6f70 656e 2822 7262  e, file.open("rb
+000351e0: 2229 2c20 2274 6578 742f 6373 7622 2920  "), "text/csv") 
+000351f0: 7d0a 2020 2020 2020 2020 7572 6c3d 6622  }.        url=f"
+00035200: 7b73 656c 662e 6175 7468 2e63 656e 7472  {self.auth.centr
+00035210: 616c 5f69 6e66 6f5b 2762 6173 655f 7572  al_info['base_ur
+00035220: 6c27 5d7d 7b75 726c 7d22 0a0a 2020 2020  l']}{url}"..    
+00035230: 2020 2020 666f 7220 5f20 696e 2072 616e      for _ in ran
+00035240: 6765 2832 293a 0a20 2020 2020 2020 2020  ge(2):.         
+00035250: 2020 205f 7265 7370 203d 2072 6571 7565     _resp = reque
+00035260: 7374 732e 7265 7175 6573 7428 2250 4f53  sts.request("POS
+00035270: 5422 2c20 7572 6c3d 7572 6c2c 2070 6172  T", url=url, par
+00035280: 616d 733d 7061 7261 6d73 2c20 6669 6c65  ams=params, file
+00035290: 733d 6669 6c65 732c 2068 6561 6465 7273  s=files, headers
+000352a0: 3d68 6561 6465 7273 290a 2020 2020 2020  =headers).      
+000352b0: 2020 2020 2020 6f75 7470 7574 203d 2066        output = f
+000352c0: 225b 7b5f 7265 7370 2e72 6561 736f 6e7d  "[{_resp.reason}
+000352d0: 5d22 202b 2022 2022 202b 205f 7265 7370  ]" + " " + _resp
+000352e0: 2e74 6578 742e 6c73 7472 6970 2827 5b5c  .text.lstrip('[\
+000352f0: 6e20 2227 292e 7273 7472 6970 2827 225c  n "').rstrip('"\
+00035300: 6e5d 2729 0a20 2020 2020 2020 2020 2020  n]').           
+00035310: 2023 204d 616b 6520 7265 7175 6573 7473   # Make requests
+00035320: 2052 6573 706f 6e73 6520 6c6f 6f6b 206c   Response look l
+00035330: 696b 6520 6169 6f68 7474 702e 436c 6965  ike aiohttp.Clie
+00035340: 6e74 5265 7370 6f6e 7365 0a20 2020 2020  ntResponse.     
+00035350: 2020 2020 2020 205f 7265 7370 2e73 7461         _resp.sta
+00035360: 7475 732c 205f 7265 7370 2e6d 6574 686f  tus, _resp.metho
+00035370: 642c 205f 7265 7370 2e75 726c 203d 205f  d, _resp.url = _
+00035380: 7265 7370 2e73 7461 7475 735f 636f 6465  resp.status_code
+00035390: 2c20 2250 4f53 5422 2c20 5552 4c28 5f72  , "POST", URL(_r
+000353a0: 6573 702e 7572 6c29 0a20 2020 2020 2020  esp.url).       
+000353b0: 2020 2020 2072 6573 7020 3d20 5265 7370       resp = Resp
+000353c0: 6f6e 7365 285f 7265 7370 2c20 6f75 7470  onse(_resp, outp
+000353d0: 7574 3d6f 7574 7075 742c 2065 7272 6f72  ut=output, error
+000353e0: 3d4e 6f6e 6520 6966 205f 7265 7370 2e6f  =None if _resp.o
+000353f0: 6b20 656c 7365 205f 7265 7370 2e72 6561  k else _resp.rea
+00035400: 736f 6e2c 2075 726c 3d55 524c 2875 726c  son, url=URL(url
+00035410: 292c 2065 6c61 7073 6564 3d72 6f75 6e64  ), elapsed=round
+00035420: 285f 7265 7370 2e65 6c61 7073 6564 2e74  (_resp.elapsed.t
+00035430: 6f74 616c 5f73 6563 6f6e 6473 2829 2c20  otal_seconds(), 
+00035440: 3229 2c20 7374 6174 7573 5f63 6f64 653d  2), status_code=
+00035450: 5f72 6573 702e 7374 6174 7573 5f63 6f64  _resp.status_cod
+00035460: 652c 2072 6c5f 7374 723d 222d 2229 0a20  e, rl_str="-"). 
+00035470: 2020 2020 2020 2020 2020 2069 6620 2269             if "i
+00035480: 6e76 616c 6964 5f74 6f6b 656e 2220 696e  nvalid_token" in
+00035490: 2072 6573 702e 6f75 7470 7574 3a0a 2020   resp.output:.  
+000354a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000354b0: 6c66 2e72 6566 7265 7368 5f74 6f6b 656e  lf.refresh_token
+000354c0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000354d0: 2020 2068 6561 6465 7273 5b22 4175 7468     headers["Auth
+000354e0: 6f72 697a 6174 696f 6e22 5d20 3d20 6622  orization"] = f"
+000354f0: 4265 6172 6572 207b 7365 6c66 2e61 7574  Bearer {self.aut
+00035500: 682e 6365 6e74 7261 6c5f 696e 666f 5b27  h.central_info['
+00035510: 746f 6b65 6e27 5d5b 2761 6363 6573 735f  token']['access_
+00035520: 746f 6b65 6e27 5d7d 220a 2020 2020 2020  token']}".      
+00035530: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00035540: 2020 2020 2020 2020 2020 2020 6272 6561              brea
+00035550: 6b0a 2020 2020 2020 2020 7265 7475 726e  k.        return
+00035560: 2072 6573 700a 0a20 2020 2061 7379 6e63   resp..    async
+00035570: 2064 6566 2063 6c6f 7564 6175 7468 5f75   def cloudauth_u
+00035580: 706c 6f61 645f 7374 6174 7573 280a 2020  pload_status(.  
+00035590: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000355a0: 2020 2020 7570 6c6f 6164 5f74 7970 653a      upload_type:
+000355b0: 2043 6c6f 7564 4175 7468 5570 6c6f 6164   CloudAuthUpload
+000355c0: 5479 7065 2c0a 2020 2020 2020 2020 7373  Type,.        ss
+000355d0: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+000355e0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+000355f0: 653a 0a20 2020 2020 2020 2022 2222 5265  e:.        """Re
+00035600: 6164 2075 706c 6f61 6420 7374 6174 7573  ad upload status
+00035610: 206f 6620 6c61 7374 2066 696c 6520 7570   of last file up
+00035620: 6c6f 6164 2e0a 0a20 2020 2020 2020 2041  load...        A
+00035630: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00035640: 2075 706c 6f61 645f 7479 7065 2028 436c   upload_type (Cl
+00035650: 6f75 6441 7574 6855 706c 6f61 6454 7970  oudAuthUploadTyp
+00035660: 6529 3a20 5479 7065 206f 6620 6669 6c65  e): Type of file
+00035670: 2075 706c 6f61 6420 2056 616c 6964 2056   upload  Valid V
+00035680: 616c 7565 733a 206d 7073 6b2c 206d 6163  alues: mpsk, mac
+00035690: 0a20 2020 2020 2020 2020 2020 2073 7369  .            ssi
+000356a0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+000356b0: 293a 204d 5053 4b20 6e65 7477 6f72 6b20  ): MPSK network 
+000356c0: 5353 4944 2c20 7265 7175 6972 6564 2069  SSID, required i
+000356d0: 6620 7b75 706c 6f61 645f 7479 7065 7d20  f {upload_type} 
+000356e0: 3d20 276d 7073 6b27 0a0a 2020 2020 2020  = 'mpsk'..      
+000356f0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00035700: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00035710: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00035720: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00035730: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00035740: 7572 6c20 3d20 6622 2f63 6c6f 7564 6175  url = f"/cloudau
+00035750: 7468 2f61 7069 2f76 332f 6275 6c6b 2f7b  th/api/v3/bulk/{
+00035760: 7570 6c6f 6164 5f74 7970 657d 2f73 7461  upload_type}/sta
+00035770: 7475 7322 0a0a 2020 2020 2020 2020 7061  tus"..        pa
+00035780: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00035790: 2020 2020 2027 7373 6964 273a 2073 7369       'ssid': ssi
+000357a0: 640a 2020 2020 2020 2020 7d0a 0a20 2020  d.        }..   
+000357b0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+000357c0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+000357d0: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+000357e0: 2020 2020 6173 796e 6320 6465 6620 636c      async def cl
+000357f0: 6f75 6461 7574 685f 6765 745f 6d70 736b  oudauth_get_mpsk
+00035800: 5f6e 6574 776f 726b 7328 0a20 2020 2020  _networks(.     
+00035810: 2020 2073 656c 662c 0a20 2020 2029 202d     self,.    ) -
+00035820: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00035830: 2020 2020 2222 2252 6561 6420 616c 6c20      """Read all 
+00035840: 636f 6e66 6967 7572 6564 204d 5053 4b20  configured MPSK 
+00035850: 6e65 7477 6f72 6b73 2e0a 0a20 2020 2020  networks...     
+00035860: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00035870: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00035880: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00035890: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+000358a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000358b0: 2075 726c 203d 2022 2f63 6c6f 7564 4175   url = "/cloudAu
+000358c0: 7468 2f61 7069 2f76 322f 6d70 736b 220a  th/api/v2/mpsk".
+000358d0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000358e0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+000358f0: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+00035900: 6566 2063 6c6f 7564 6175 7468 5f67 6574  ef cloudauth_get
+00035910: 5f6e 616d 6564 6d70 736b 280a 2020 2020  _namedmpsk(.    
+00035920: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00035930: 2020 6d70 736b 5f69 643a 2073 7472 2c0a    mpsk_id: str,.
+00035940: 2020 2020 2020 2020 6e61 6d65 3a20 7374          name: st
+00035950: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00035960: 2020 726f 6c65 3a20 7374 7220 3d20 4e6f    role: str = No
+00035970: 6e65 2c0a 2020 2020 2020 2020 7374 6174  ne,.        stat
+00035980: 7573 3a20 7374 7220 3d20 4e6f 6e65 2c0a  us: str = None,.
+00035990: 2020 2020 2020 2020 6375 7273 6f72 3a20          cursor: 
+000359a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000359b0: 2020 2020 736f 7274 3a20 7374 7220 3d20      sort: str = 
+000359c0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c69  None,.        li
+000359d0: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
+000359e0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+000359f0: 653a 0a20 2020 2020 2020 2022 2222 5265  e:.        """Re
+00035a00: 6164 2061 6c6c 206e 616d 6564 204d 5053  ad all named MPS
+00035a10: 4b2e 0a0a 2020 2020 2020 2020 4172 6773  K...        Args
+00035a20: 3a0a 2020 2020 2020 2020 2020 2020 6d70  :.            mp
+00035a30: 736b 5f69 6420 2873 7472 293a 2054 6865  sk_id (str): The
+00035a40: 204d 5053 4b20 636f 6e66 6967 7572 6174   MPSK configurat
+00035a50: 696f 6e20 4944 0a20 2020 2020 2020 2020  ion ID.         
+00035a60: 2020 206e 616d 6520 2873 7472 2c20 6f70     name (str, op
+00035a70: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00035a80: 6279 206e 616d 6520 6f66 2074 6865 206e  by name of the n
+00035a90: 616d 6564 204d 5053 4b2e 2044 6f65 7320  amed MPSK. Does 
+00035aa0: 6120 2763 6f6e 7461 696e 7327 206d 6174  a 'contains' mat
+00035ab0: 6368 2e0a 2020 2020 2020 2020 2020 2020  ch..            
+00035ac0: 726f 6c65 2028 7374 722c 206f 7074 696f  role (str, optio
+00035ad0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00035ae0: 726f 6c65 206f 6620 7468 6520 6e61 6d65  role of the name
+00035af0: 6420 4d50 534b 2e20 446f 6573 2061 6e20  d MPSK. Does an 
+00035b00: 2765 7175 616c 7327 206d 6174 6368 2e0a  'equals' match..
+00035b10: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+00035b20: 7573 2028 7374 722c 206f 7074 696f 6e61  us (str, optiona
+00035b30: 6c29 3a20 4669 6c74 6572 2062 7920 7374  l): Filter by st
+00035b40: 6174 7573 206f 6620 7468 6520 6e61 6d65  atus of the name
+00035b50: 6420 4d50 534b 2e20 446f 6573 2061 6e20  d MPSK. Does an 
+00035b60: 2765 7175 616c 7327 206d 6174 6368 2e0a  'equals' match..
+00035b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035b80: 5661 6c69 6420 5661 6c75 6573 3a20 656e  Valid Values: en
+00035b90: 6162 6c65 642c 2064 6973 6162 6c65 640a  abled, disabled.
+00035ba0: 2020 2020 2020 2020 2020 2020 6375 7273              curs
+00035bb0: 6f72 2028 7374 722c 206f 7074 696f 6e61  or (str, optiona
+00035bc0: 6c29 3a20 466f 7220 6375 7273 6f72 2062  l): For cursor b
+00035bd0: 6173 6564 2070 6167 696e 6174 696f 6e2e  ased pagination.
+00035be0: 0a20 2020 2020 2020 2020 2020 2073 6f72  .            sor
+00035bf0: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
+00035c00: 293a 2053 6f72 7420 6f72 6465 7220 2056  ): Sort order  V
+00035c10: 616c 6964 2056 616c 7565 733a 202b 6e61  alid Values: +na
+00035c20: 6d65 2c20 2d6e 616d 652c 202b 726f 6c65  me, -name, +role
+00035c30: 2c20 2d72 6f6c 652c 202b 7374 6174 7573  , -role, +status
+00035c40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00035c50: 2020 2d73 7461 7475 730a 2020 2020 2020    -status.      
+00035c60: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+00035c70: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
+00035c80: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
+00035c90: 6265 2066 6574 6368 6564 2044 6566 6175  be fetched Defau
+00035ca0: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
+00035cb0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00035cc0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00035cd0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00035ce0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00035cf0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00035d00: 2020 2075 726c 203d 2066 222f 636c 6f75     url = f"/clou
+00035d10: 6441 7574 682f 6170 692f 7632 2f6d 7073  dAuth/api/v2/mps
+00035d20: 6b2f 7b6d 7073 6b5f 6964 7d2f 6e61 6d65  k/{mpsk_id}/name
+00035d30: 644d 5053 4b22 0a0a 2020 2020 2020 2020  dMPSK"..        
+00035d40: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+00035d50: 2020 2020 2020 2027 6e61 6d65 273a 206e         'name': n
+00035d60: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+00035d70: 2027 726f 6c65 273a 2072 6f6c 652c 0a20   'role': role,. 
+00035d80: 2020 2020 2020 2020 2020 2027 7374 6174             'stat
+00035d90: 7573 273a 2073 7461 7475 732c 0a20 2020  us': status,.   
+00035da0: 2020 2020 2020 2020 2027 6375 7273 6f72           'cursor
+00035db0: 273a 2063 7572 736f 722c 0a20 2020 2020  ': cursor,.     
+00035dc0: 2020 2020 2020 2027 736f 7274 273a 2073         'sort': s
+00035dd0: 6f72 742c 0a20 2020 2020 2020 2020 2020  ort,.           
+00035de0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
+00035df0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00035e00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00035e10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00035e20: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00035e30: 2020 6173 796e 6320 6465 6620 636c 6f75    async def clou
+00035e40: 6461 7574 685f 646f 776e 6c6f 6164 5f6d  dauth_download_m
+00035e50: 7073 6b5f 6373 7628 0a20 2020 2020 2020  psk_csv(.       
+00035e60: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+00035e70: 7369 643a 2073 7472 2c0a 2020 2020 2020  sid: str,.      
+00035e80: 2020 6669 6c65 6e61 6d65 3a20 7374 7220    filename: str 
+00035e90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00035ea0: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
+00035eb0: 2c0a 2020 2020 2020 2020 726f 6c65 3a20  ,.        role: 
+00035ec0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00035ed0: 2020 2020 7374 6174 7573 3a20 7374 7220      status: str 
+00035ee0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00035ef0: 736f 7274 3a20 7374 7220 3d20 4e6f 6e65  sort: str = None
+00035f00: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00035f10: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00035f20: 4665 7463 6820 616c 6c20 4e61 6d65 6420  Fetch all Named 
+00035f30: 4d50 534b 2061 7320 6120 4353 5620 6669  MPSK as a CSV fi
+00035f40: 6c65 2e0a 0a20 2020 2020 2020 2041 7267  le...        Arg
+00035f50: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00035f60: 7369 6420 2873 7472 293a 2043 6f6e 6669  sid (str): Confi
+00035f70: 6775 7265 6420 4d50 534b 2053 5349 4420  gured MPSK SSID 
+00035f80: 666f 7220 7768 6963 6820 4e61 6d65 6420  for which Named 
+00035f90: 4d50 534b 7320 6172 6520 746f 2062 6520  MPSKs are to be 
+00035fa0: 646f 776e 6c6f 6164 6564 2e0a 2020 2020  downloaded..    
+00035fb0: 2020 2020 2020 2020 6669 6c65 6e61 6d65          filename
+00035fc0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00035fd0: 3a20 5375 6767 6573 7420 6120 6669 6c65  : Suggest a file
+00035fe0: 206e 616d 6520 666f 7220 7468 6520 646f   name for the do
+00035ff0: 776e 6c6f 6164 696e 6720 6669 6c65 2076  wnloading file v
+00036000: 6961 2063 6f6e 7465 6e74 0a20 2020 2020  ia content.     
+00036010: 2020 2020 2020 2020 2020 2064 6973 706f             dispo
+00036020: 7369 7469 6f6e 2068 6561 6465 722e 0a20  sition header.. 
+00036030: 2020 2020 2020 2020 2020 206e 616d 6520             name 
+00036040: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00036050: 2046 696c 7465 7220 6279 206e 616d 6520   Filter by name 
+00036060: 6f66 2074 6865 206e 616d 6564 204d 5053  of the named MPS
+00036070: 4b2e 2044 6f65 7320 6120 2763 6f6e 7461  K. Does a 'conta
+00036080: 696e 7327 206d 6174 6368 2e0a 2020 2020  ins' match..    
+00036090: 2020 2020 2020 2020 726f 6c65 2028 7374          role (st
+000360a0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+000360b0: 6c74 6572 2062 7920 726f 6c65 206f 6620  lter by role of 
+000360c0: 7468 6520 6e61 6d65 6420 4d50 534b 2e20  the named MPSK. 
+000360d0: 446f 6573 2061 6e20 2765 7175 616c 7327  Does an 'equals'
+000360e0: 206d 6174 6368 2e0a 2020 2020 2020 2020   match..        
+000360f0: 2020 2020 7374 6174 7573 2028 7374 722c      status (str,
+00036100: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00036110: 6572 2062 7920 7374 6174 7573 206f 6620  er by status of 
+00036120: 7468 6520 6e61 6d65 6420 4d50 534b 2e20  the named MPSK. 
+00036130: 446f 6573 2061 6e20 2765 7175 616c 7327  Does an 'equals'
+00036140: 206d 6174 6368 2e0a 2020 2020 2020 2020   match..        
+00036150: 2020 2020 2020 2020 5661 6c69 6420 5661          Valid Va
+00036160: 6c75 6573 3a20 656e 6162 6c65 642c 2064  lues: enabled, d
+00036170: 6973 6162 6c65 640a 2020 2020 2020 2020  isabled.        
+00036180: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
+00036190: 7074 696f 6e61 6c29 3a20 536f 7274 206f  ptional): Sort o
+000361a0: 7264 6572 2020 5661 6c69 6420 5661 6c75  rder  Valid Valu
+000361b0: 6573 3a20 2b6e 616d 652c 202d 6e61 6d65  es: +name, -name
+000361c0: 2c20 2b72 6f6c 652c 202d 726f 6c65 2c20  , +role, -role, 
+000361d0: 2b73 7461 7475 732c 0a20 2020 2020 2020  +status,.       
+000361e0: 2020 2020 2020 2020 202d 7374 6174 7573           -status
+000361f0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00036200: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00036210: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00036220: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00036230: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00036240: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00036250: 636c 6f75 6441 7574 682f 6170 692f 7632  cloudAuth/api/v2
+00036260: 2f64 6f77 6e6c 6f61 642f 6d70 736b 220a  /download/mpsk".
+00036270: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+00036280: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00036290: 2773 7369 6427 3a20 7373 6964 2c0a 2020  'ssid': ssid,.  
+000362a0: 2020 2020 2020 2020 2020 2766 696c 656e            'filen
+000362b0: 616d 6527 3a20 6669 6c65 6e61 6d65 2c0a  ame': filename,.
+000362c0: 2020 2020 2020 2020 2020 2020 276e 616d              'nam
+000362d0: 6527 3a20 6e61 6d65 2c0a 2020 2020 2020  e': name,.      
+000362e0: 2020 2020 2020 2772 6f6c 6527 3a20 726f        'role': ro
+000362f0: 6c65 2c0a 2020 2020 2020 2020 2020 2020  le,.            
+00036300: 2773 7461 7475 7327 3a20 7374 6174 7573  'status': status
+00036310: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+00036320: 6f72 7427 3a20 736f 7274 0a20 2020 2020  ort': sort.     
+00036330: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00036340: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00036350: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+00036360: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+00036370: 6e63 2064 6566 2067 6574 5f75 7365 725f  nc def get_user_
+00036380: 6163 636f 756e 7473 280a 2020 2020 2020  accounts(.      
+00036390: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000363a0: 6170 705f 6e61 6d65 3a20 7374 7220 3d20  app_name: str = 
+000363b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7479  None,.        ty
+000363c0: 7065 3a20 7374 7220 3d20 4e6f 6e65 2c0a  pe: str = None,.
+000363d0: 2020 2020 2020 2020 7374 6174 7573 3a20          status: 
+000363e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000363f0: 2020 2020 6f72 6465 725f 6279 3a20 7374      order_by: st
+00036400: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00036410: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+00036420: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+00036430: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
+00036440: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00036450: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
+00036460: 7573 6572 2061 6363 6f75 6e74 732e 0a0a  user accounts...
+00036470: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00036480: 2020 2020 2020 2020 2020 6170 705f 6e61            app_na
+00036490: 6d65 2028 7374 722c 206f 7074 696f 6e61  me (str, optiona
+000364a0: 6c29 3a20 4170 706e 616d 6520 6e6d 7320  l): Appname nms 
+000364b0: 746f 2066 696c 7465 7220 4172 7562 6120  to filter Aruba 
+000364c0: 4365 6e74 7261 6c20 7573 6572 732c 2061  Central users, a
+000364d0: 6e64 2061 6363 6f75 6e74 5f73 6574 7469  nd account_setti
+000364e0: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
+000364f0: 2020 2074 6f20 6669 6c74 6572 2048 5045     to filter HPE
+00036500: 2047 7265 656e 4c61 6b65 2045 6467 6520   GreenLake Edge 
+00036510: 746f 2043 6c6f 7564 2050 6c61 7466 6f72  to Cloud Platfor
+00036520: 6d20 2843 4353 2920 6170 706c 6963 6174  m (CCS) applicat
+00036530: 696f 6e20 7573 6572 7320 2056 616c 6964  ion users  Valid
+00036540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00036550: 2056 616c 7565 733a 206e 6d73 2c20 6163   Values: nms, ac
+00036560: 636f 756e 745f 7365 7474 696e 670a 2020  count_setting.  
+00036570: 2020 2020 2020 2020 2020 7479 7065 2028            type (
+00036580: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00036590: 4669 6c74 6572 2062 6173 6564 206f 6e20  Filter based on 
+000365a0: 7379 7374 656d 206f 7220 6665 6465 7261  system or federa
+000365b0: 7465 6420 7573 6572 2020 5661 6c69 6420  ted user  Valid 
+000365c0: 5661 6c75 6573 3a20 7379 7374 656d 2c0a  Values: system,.
+000365d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000365e0: 6665 6465 7261 7465 640a 2020 2020 2020  federated.      
+000365f0: 2020 2020 2020 7374 6174 7573 2028 7374        status (st
+00036600: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00036610: 6c74 6572 2075 7365 7220 6261 7365 6420  lter user based 
+00036620: 6f6e 2073 7461 7475 7320 2869 6e70 726f  on status (inpro
+00036630: 6772 6573 732c 2066 6169 6c65 6429 2020  gress, failed)  
+00036640: 5661 6c69 6420 5661 6c75 6573 3a0a 2020  Valid Values:.  
+00036650: 2020 2020 2020 2020 2020 2020 2020 696e                in
+00036660: 7072 6f67 7265 7373 2c20 6661 696c 6564  progress, failed
+00036670: 0a20 2020 2020 2020 2020 2020 206f 7264  .            ord
+00036680: 6572 5f62 7920 2873 7472 2c20 6f70 7469  er_by (str, opti
+00036690: 6f6e 616c 293a 2053 6f72 7420 6f72 6465  onal): Sort orde
+000366a0: 7269 6e67 2028 6173 6365 6e64 696e 6720  ring (ascending 
+000366b0: 6f72 2064 6573 6365 6e64 696e 6729 2e20  or descending). 
+000366c0: 2b75 7365 726e 616d 6520 7369 676e 6966  +username signif
+000366d0: 6965 730a 2020 2020 2020 2020 2020 2020  ies.            
+000366e0: 2020 2020 6173 6365 6e64 696e 6720 6f72      ascending or
+000366f0: 6465 7220 6f66 2075 7365 726e 616d 652e  der of username.
+00036700: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
+00036710: 2b75 7365 726e 616d 652c 202d 7573 6572  +username, -user
+00036720: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+00036730: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+00036740: 7469 6f6e 616c 293a 205a 6572 6f20 6261  tional): Zero ba
+00036750: 7365 6420 6f66 6673 6574 2074 6f20 7374  sed offset to st
+00036760: 6172 7420 6672 6f6d 2044 6566 6175 6c74  art from Default
+00036770: 7320 746f 2030 2e0a 2020 2020 2020 2020  s to 0..        
+00036780: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
+00036790: 6f70 7469 6f6e 616c 293a 204d 6178 696d  optional): Maxim
+000367a0: 756d 206e 756d 6265 7220 6f66 2069 7465  um number of ite
+000367b0: 6d73 2074 6f20 7265 7475 726e 2044 6566  ms to return Def
+000367c0: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
+000367d0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+000367e0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+000367f0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00036800: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00036810: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00036820: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+00036830: 7466 6f72 6d2f 7262 6163 2f76 312f 7573  tform/rbac/v1/us
+00036840: 6572 7322 0a0a 2020 2020 2020 2020 7061  ers"..        pa
+00036850: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00036860: 2020 2020 2027 6170 705f 6e61 6d65 273a       'app_name':
+00036870: 2061 7070 5f6e 616d 652c 0a20 2020 2020   app_name,.     
+00036880: 2020 2020 2020 2027 7479 7065 273a 2074         'type': t
+00036890: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+000368a0: 2027 7374 6174 7573 273a 2073 7461 7475   'status': statu
+000368b0: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
+000368c0: 6f72 6465 725f 6279 273a 206f 7264 6572  order_by': order
+000368d0: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
+000368e0: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
+000368f0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
+00036900: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
+00036910: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00036920: 2023 2054 4f44 4f20 7468 6973 206e 6565   # TODO this nee
+00036930: 6473 2061 2066 6169 7220 616d 6f75 6e74  ds a fair amount
+00036940: 206f 6620 6d61 7373 6167 696e 6720 746f   of massaging to
+00036950: 2074 7572 6e20 696e 746f 2061 2063 6f6d   turn into a com
+00036960: 6d61 6e64 2c20 6974 2773 206e 6573 7465  mand, it's neste
+00036970: 6420 6469 6374 730a 2020 2020 2020 2020  d dicts.        
+00036980: 2320 6578 616d 706c 6520 7265 7370 6f6e  # example respon
+00036990: 7365 2069 6e20 7072 6976 6174 6520 7673  se in private vs
+000369a0: 636f 6465 2064 6972 2e0a 2020 2020 2020  code dir..      
+000369b0: 2020 7265 7370 203d 2061 7761 6974 2073    resp = await s
+000369c0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+000369d0: 616d 733d 7061 7261 6d73 290a 2020 2020  ams=params).    
+000369e0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+000369f0: 0a69 6620 5f5f 6e61 6d65 5f5f 203d 3d20  .if __name__ == 
+00036a00: 225f 5f6d 6169 6e5f 5f22 3a0a 2020 2020  "__main__":.    
+00036a10: 7061 7373 0a                             pass.
```

### Comparing `centralcli-4.2.0/centralcli/cleaner.py` & `centralcli-5.0.0/centralcli/cleaner.py`

 * *Files 12% similar despite different names*

```diff
@@ -27,16 +27,17 @@
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
         from centralcli import constants, log, utils
     else:
         print(pkg_dir.parts)
         raise e
 
-from centralcli.constants import DevTypes
+from centralcli.constants import DevTypes, StatusOptions
 from centralcli.objects import DateTime
+from centralcli.models import CloudAuthUploadResponse
 
 
 def epoch_convert(func):
     @functools.wraps(func)
     def wrapper(epoch):
         if str(epoch).isdigit() and len(str(int(epoch))) > 10:
             epoch = epoch / 1000
@@ -221,19 +222,21 @@
     "start_date": _mdyt_timestamp,
     "end_date": _mdyt_timestamp,
     "auth_type": lambda v: v if v != "None" else "-",
     "vlan_mode": lambda v: vlan_modes.get(v, v),
     "allowed_vlan": lambda v: v if not isinstance(v, list) or len(v) == 1 else ",".join([str(sv) for sv in sorted(v)]),
     "mem_total": _format_memory,
     "mem_free": _format_memory,
-    "firmware_version": lambda v: v if len(set(v.split("-"))) == len(v.split("-")) else "-".join(v.split("-")[1:]),
+    "firmware_version": lambda v: v if not v or len(set(v.split("-"))) == len(v.split("-")) else "-".join(v.split("-")[1:]),
     "learn_time": _log_timestamp,
     "last_state_change": _log_timestamp,
     "graceful_restart_timer": _duration_words,
     "disable_ssid": lambda v: '' if not v else '', # field is changed to "enabled" check: \u2705 x: \u274c
+    "poe_detection_status": lambda i: constants.PoEDetectionStatus(i).name,
+    "reserved_power_in_watts": lambda v: round(v, 2),
     # "enabled": lambda v: not v, # field is changed to "enabled"
     # "allowed_vlan": lambda v: str(sorted(v)).replace(" ", "").strip("[]")
 }
 
 _short_key = {
     "interface_port": "interface",
     "firmware_version": "version",
@@ -297,14 +300,22 @@
     "num_routes": "routes",
     "disable_ssid": "enabled",
     "mac_authentication": "mac auth",
     "hide_ssid": "hidden",
     "essid": "ssid",
     "opmode": "security",
     "power_consumption": "poe usage",
+    "poe_priority": "priority",
+    "poe_detection_status": "status",
+    "power_drawn_in_watts": "draw",
+    "pse_allocated_power": "allocated",
+    "reserved_power_in_watts": "reserved",
+    "power_class": "class",
+    "cluster_group_name": "group",
+    "cluster_redundancy_type": "redundancy type",
 }
 
 
 def strip_outer_keys(data: dict) -> Union[list, dict]:
     """strip unnecessary wrapping key from API response payload
 
     Args:
@@ -354,15 +365,15 @@
                 data = out
 
     return data
 
 
 def _check_inner_dict(data: Any) -> Any:
     if isinstance(data, list):
-        if True in set([isinstance(id, dict) for id in data]):
+        if True in set([isinstance(inner, dict) for inner in data]):
             if list(set([dk for d in data for dk in d.keys()]))[0] == "port":
                 return _unlist([d["port"] for d in data])
             else:
                 return _unlist(
                     [dict(short_value(vk, vv) for vk, vv in pre_clean(inner).items() if vk != "index") for inner in data]
                 )
     return data
@@ -377,15 +388,15 @@
     # Run any inner dicts through cleaner funcs
     if isinstance(value, dict):
         value = {short_key(k): v if k not in _short_value else _short_value[k](v) for k, v in value.items()}
 
     if isinstance(value, (str, int, float)):
         return (
             short_key(key),
-            _short_value.get(value, value) if key not in _short_value or (not isinstance(value, bool) and not value) else _short_value[key](value),
+            _short_value.get(value, value) if key not in _short_value or (not isinstance(value, (bool, int)) and not value) else _short_value[key](value),
         )
     elif isinstance(value, list) and all(isinstance(x, dict) for x in value):
         if key in ["sites", "labels"]:
             value = _extract_names_from_id_name_dict(value)
         elif key in ["events_details"]:
             value = _extract_event_details(value)
     elif key in _short_value:
@@ -417,15 +428,15 @@
             for k, v in d.items()
         )
         for d in data
     ]
 
     return data
 
-def _get_group_names(data: List[List[str],]) -> list:
+def get_group_names(data: List[List[str],]) -> list:
     """Convert list of single item lists to a list of strs
 
     Also removes "unprovisioned" group as it has no value for our
     purposes, and moves default group to beginning of list.
 
     Args:
         data (List[List[str],]): Central response payload
@@ -449,17 +460,32 @@
 
     Args:
         data (List[ dict, ]): api response output from get_all_groups
 
     Returns:
         list: reformatted Data with keys/headers changed
     """
-    # TODO use _short_key like others and combine show groups into this func
-    _keys = {"group": "name", "template_details": "template group"}
-    return [{_keys[k]: v for k, v in g.items()} for g in data]
+    allowed_dev_types = {"Gateways": "gw", "AccessPoints": "ap", "AOS_CX": "cx", "AOS_S": "sw"}
+    aos_version = {"AOS_10X": "AOS10", "AOS_8X": "AOS8", "NA": "NA"}
+    gw_role = {"WLANGateway": "WLAN", "VPNConcentrator": "VPNC", "BranchGateway": "Branch", "NA": "NA"}
+
+    # Not all groups will have all field properties.  Make it so.
+    clean = []
+    for g in data:
+        g["properties"]["ApNetworkRole"] = g["properties"].get("ApNetworkRole", "NA")
+        g["properties"]["GwNetworkRole"] = gw_role.get(g["properties"].get("GwNetworkRole", "NA"), "err")
+        g["properties"]["AOSVersion"] = aos_version.get(g["properties"].get("AOSVersion", "NA"), "err")
+        g["properties"]["Architecture"] = g["properties"].get("Architecture", "NA")
+        g["properties"]["AllowedDevTypes"] = ", ".join([allowed_dev_types.get(dt) for dt in [*g["properties"].get("AllowedDevTypes", []), *g["properties"].get("AllowedSwitchTypes", [])] if dt != "Switches"])
+
+        g["properties"] = {k: g["properties"][k] for k in sorted(g["properties"].keys()) if k not in ["MonitorOnlySwitch", "AllowedSwitchTypes"]}
+        clean += [{"name": g["group"], **g["properties"], "template group": g["template_details"]}]
+
+    return strip_no_value(clean)
+    # return [{_keys.get(k, k): v for k, v in g.items()} for g in clean]
 
 def show_groups(data: List[dict]) -> List[dict]:
     return [{k: v if k != "template group" else ",".join([kk for kk, vv in v.items() if vv]) or "--" for k, v in inner.items()} for inner in data]
 
 def get_labels(
     data: Union[List[dict,], Dict]
 ) -> list:
@@ -734,86 +760,92 @@
     _ = [all_keys.insert(0, all_keys.pop(all_keys.index(tf))) for tf in to_front[::-1]]
     data = [{k: id.get(k) for k in all_keys} for id in data]
 
     return data
 
 
 # TODO default verbose back to False once show device commands adapted to use --inventory so -v can be used for verbosity
-def get_devices(data: Union[List[dict], dict], *, verbose: bool = True, cache: bool = False) -> Union[List[dict], dict]:
+def get_devices(data: Union[List[dict], dict], *, verbosity: int = 0, cache: bool = False) -> Union[List[dict], dict]:
     """Clean device output from Central API (Monitoring)
 
     Args:
         data (Union[List[dict], dict]): Response data from Central API
         verbose (bool, optional): Not Used yet. Defaults to True.
         cache (bool, optional): If output is being cleaned for entry into cache. Defaults to False.
 
     Returns:
         Union[List[dict], dict]: The cleaned data with consistent field heading, and human readable values.
     """
     data = utils.listify(data)
 
-    if not verbose:
-        non_verbose_keys = [
-                    "name",
-                    "status",
-                    "type",
-                    "client_count",
-                    "model",
-                    "ip_address",
-                    "macaddr",
-                    "serial",
-                    "group_name",
-                    "site",
-                    "labels",
-                    "uptime",
-                    "cpu_utilization",
-                    "mem_total",
-                    "mem_free",
-                    "firmware_version",
+    # Both lists below are pre cleaned key values
+    verbosity_keys = {
+        0:  [
+                "name",
+                "status",
+                "type",
+                "client_count",
+                "model",
+                "ip_address",
+                "macaddr",
+                "serial",
+                "group_name",
+                "site",
+                "labels",
+                "uptime",
+                "cpu_utilization",
+                "mem_total",
+                "mem_free",
+                "firmware_version",
         ]
-        data = [{k: v for k, v in inner.items() if k in non_verbose_keys} for inner in data]
-
-    # cache uses post cleaner keys
-    # we don't actually use model or version for anything yet
+    }
+    # we don't actually use model for anything yet
     cache_keys = [
         "name",
         "status",
         "type",
         "model",
-        "ip",
-        "mac",
+        "ip_address",
+        "macaddr",
         "serial",
-        "group",
+        "group_name",
         "site",
-        "version"
+        "firmware_version",
+        "swack_id",
+        "switch_role"
     ]
+    if cache:
+        # We want these 2 keys to retain the underscore. if it's a cahce update.
+        global _short_key
+        _short_key = {**_short_key, "swack_id": "swack_id", "switch_role": "switch_role"}
+        data = [{k: v for k, v in d.items() if k in cache_keys} for d in data]
+    elif verbosity == 0:  # If verbosity > 0 we simply don't filter any fields.
+        data = [{k: v for k, v in inner.items() if k in verbosity_keys.get(verbosity, verbosity_keys[max(verbosity_keys.keys())])} for inner in data]
+
     # gather all keys from all dicts in list each dict could potentially be a diff size
     # Also concats ip/mask if provided in sep fields
     data = sort_result_keys(data)
 
     # strip any cols that have no value across all rows
     data = strip_no_value(data)
 
     # send all key/value pairs through formatters and return
     data = _unlist(
         [
             dict(
                 short_value(k, _check_inner_dict(v))
                 for k, v in pre_clean(inner).items()
-                if "id" not in k[-3:] and k != "mac_range"
+                if k == "swack_id" or ("id" not in k[-3:] and k != "mac_range")
             )
             for inner in data
         ]
     )
 
     data = utils.listify(data)
 
-    if cache:
-        data = [{k: v for k, v in d.items() if k in cache_keys} for d in data]
-
     data = sorted(data, key=lambda i: (i.get("site") or "", i.get("type") or "", i.get("name") or ""))
 
     return data
 
 
 def get_audit_logs(data: List[dict], cache_update_func: callable = None) -> List[dict]:
     field_order = [
@@ -975,23 +1007,28 @@
         )
         return data
     else:
         data = [{short_keys[k]: d[k] if k != "expire_date" else _convert_datestring(d[k]) for k in short_keys} for d in data]
         return data
 
 
-def get_lldp_neighbor(data: List[Dict[str, str]]) -> List[Dict[str, str]]:
+def get_lldp_neighbor(data: List[Dict[str, str]]) -> Dict[str: Dict[str, str]]:
     data = utils.listify(data)
     strip_keys = ["cid"]
     _short_val = {
         "1000BaseTFD - Four-pair Category 5 UTP, full duplex mode": "1000BaseT FD"
     }
-    data = [{k: _short_val.get(d[k], d[k]) for k in d if d["localPort"] != "bond0" and k not in strip_keys} for d in data]
+    # grab the key details from switch lldp return, make data look closer to lldp return from AP
+    if data and "dn" in data[0].keys():
+        data = [{**dict(d if "dn" not in d else d["dn"]), "vlan_id": ",".join(d.get("vlan_id", [])), "lldp_poe": d.get("lldp_poe_enabled")} for d in data]
+        data = sort_interfaces(data, interface_key="port")
+    # simplify some of the values and strip the bond0 entry from AP
+    data = [{k: _short_val.get(d[k], d[k]) for k in d if d.get("localPort", "") != "bond0" and k not in strip_keys} for d in data]
 
-    return strip_no_value(utils.listify(data))
+    return strip_no_value(data)
 
 
 def get_vlans(data: List[Dict[str, Any]]) -> List[Dict[str, Any]]:
     short_keys = {
         # site
         "vlanName": "name",
         "vlanId": "pvid",
@@ -1270,15 +1307,15 @@
         "version",
         "services",
     ]
     # common_keys = set.intersection(*map(set, data))
     # combine type / device_type for verbose output, preferring type from cache
 
     data = [
-        {"type": _inv_type(d["model"], d.get("type", d["device_type"])), **{key: val for key, val in d.items() if key != "device_type"}}
+        {"type": _inv_type(d["model"], d.get("type", d.get("device_type", "err"))), **{key: val for key, val in d.items() if key != "device_type"}}
         for d in data
     ]
     data = [
         dict(short_value(k, d.get(k, "")) for k in field_order) for d in data
     ]
     data = sorted(strip_no_value(data), key=lambda i: (i["type"], i["model"]))
 
@@ -1395,16 +1432,33 @@
                 k if k != "address" else "ip/mask", v if k != "address" else str(ipaddress.ip_network(f"{inner['address']}/{inner['mask']}", strict=False))
             ) for k, v in inner.items() if k != "mask"
         ) for inner in data
     ]
 
     return data
 
-def show_interfaces(data: Union[List[dict], dict], verbosity: int = 0, dev_type: DevTypes = "cx") -> Union[List[dict], dict]:
-    data = utils.listify(data)
+
+def sort_interfaces(interfaces: List[Dict[str, Any]], interface_key: str= "port_number") -> List[Dict[str, Any]]:
+    try:
+        sorted_interfaces = sorted(
+            interfaces, key=lambda i: [int(i[interface_key].split("/")[y]) for y in range(i[interface_key].count("/") + 1)]
+        )
+        return sorted_interfaces
+    except Exception as e:
+        log.error(f"Exception in cleaner.sort_interfaces {e.__class__.__name__}")
+        return interfaces
+
+
+def show_interfaces(data: List[dict] | dict, verbosity: int = 0, dev_type: DevTypes = "cx") -> List[dict] | dict:
+    if isinstance(data, list) and data and "member_port_detail" in data[0]:  # switch stack
+        normal_ports = [p for sw in data[0]["member_port_detail"] for p in sw["ports"]]
+        stack_ports = [{**{k: "--" if k not in p else p[k] for k in normal_ports[0].keys()}, "type": "STACK PORT"} for sw in data[0]["member_port_detail"] for p in sw.get("stack_ports", [])]
+        data = sort_interfaces([*normal_ports, *stack_ports])
+    else:
+        data = utils.listify(data)
 
     # TODO verbose and non-verbose
     # TODO determine if "mode" has any value, appears to always be Access on SW
     key_order = [
         "macaddr",
         "type",
         "phy_type",
@@ -1473,14 +1527,42 @@
         # send all key/value pairs through formatters and convert List[Dict] to Dict where port_number is key
         data = {
             d["port_number"] if not all(d.isdigit() for d in d["port_number"]) else int(d["port_number"]): dict(short_value(k, d.get(k),) for k in key_order if k not in strip_keys) for d in data
         }
 
     return strip_no_value(data)
 
+
+def get_switch_poe_details(data: List[Dict[str, Any]], verbosity: int = 0, powered: bool = False, aos_sw: bool = False) -> List[Dict[str, Any]]:
+    verbosity_keys = {
+        0: [
+            "port",
+            "poe_detection_status",
+            "poe_priority",
+            "power_drawn_in_watts",
+            # "amperage_drawn_in_milliamps",
+            "pse_allocated_power",
+            "reserved_power_in_watts",
+            "pre_standard_detect",
+            "power_class"
+        ]
+    }
+    if powered:
+        data = list(filter(lambda d: d.get("poe_detection_status", 99) == 3, data))
+
+    # AOS-SW does not return usage in watts, calculate it to make it consistent with CX.  CX has these fields but always returns 0 for the 2 fields.
+    if aos_sw:
+        data = [{**d, "power_drawn_in_watts": round(d.get("amperage_drawn_in_milliamps", 0) / 1000 * d.get("port_voltage_in_volts", 0), 2)} for d in data]
+
+    if verbosity == 0:
+        data = [dict(short_value(k, d.get(k),) for k in verbosity_keys[verbosity]) for d in data]
+        data = strip_no_value(data)
+
+    return sort_interfaces(data, interface_key="port")
+
 def show_ts_commands(data: Union[List[dict], dict],) -> Union[List[dict], dict]:
     key_order = [
         "command_id",
         "category",
         "command",
     ]
     strip_keys = [
@@ -1565,32 +1647,48 @@
 
 def get_full_wlan_list(data: List[dict] | str | Dict, verbosity: int = 0) -> List[dict]:
     if isinstance(data, list) and data and isinstance(data[0], str):
         data = json.loads(data[0])
     if isinstance(data, dict) and "wlans" in data:
         data = data["wlans"]
 
-    verbosity_keys = [
-        [
+    verbosity_keys = {
+        0: [
             'group',
             'name',
             'essid',
             'type',
             'hide_ssid',
             'disable_ssid',
             'rf_band',
             'mac_authentication',
             'vlan',
             'opmode',
-            'access_type'
+            'access_type',
+            'cluster_name'
         ]
-    ]
+    }
     pretty_data = []
+    # rf_band all is a legacy key so all means 2.4 and 5, this updates so that all is only the value if 6 is also enabled.
+    # also grabs values for keys that are stored in dicts
+    def _simplify_value(wlan: dict, k: str, v: Any) -> Any:
+        if k == "rf_band":
+            _band = v.replace("all", "2.4, 5").replace("5.0", "5")
+            if wlan.get("rf_band_6ghz", {}).get("value"):
+                _band = f"{_band}, 6"
+            return "all" if _band.count(",") == 2 else _band
+
+        return v if not isinstance(v, dict) or "value" not in v else v["value"]
+
+
     for wlan in data:
-        ssid_data = {k: v for k, v in wlan.items() if k in verbosity_keys[verbosity]}
+        ssid_data = {
+            k: _simplify_value(wlan, k, wlan[k])
+            for k in verbosity_keys.get(verbosity, verbosity_keys[max(verbosity_keys.keys())]) if k in wlan
+        }
         if ssid_data.get("name", "") == ssid_data.get("essid", ""):
             ssid_data["name"] = None
         pretty_data += [ssid_data]
 
     pretty_data = simple_kv_formatter(pretty_data)
     pretty_data = strip_no_value(pretty_data)
     return pretty_data
@@ -1604,7 +1702,82 @@
         "client_count"
     ]
 
     data = [{**{k: inner[k] for k in field_order if k in inner}, **inner} for inner in data]
     return simple_kv_formatter(data)
 
 
+def get_switch_stacks(data: List[Dict[str, str]], status: StatusOptions = None, stack_ids: List[str] = None):
+    simple_types = {"ArubaCX": "cx"}
+    data = [{"name": d.get("name"), **d, "switch_type": simple_types.get(d.get("switch_type", ""), d.get("switch_type"))} for d in data]
+    before = len(data)
+    if status:  # Filter up / down
+        data = [d for d in data if d.get("status").lower() == status.value.lower()]
+    if stack_ids:  # Filter Stack IDs
+        data = [d for d in data if d.get("id") in stack_ids]
+
+    if before and not data:
+        data = "\nNo stacks matched provided filters"
+
+    data = strip_no_value(data)
+    return simple_kv_formatter(data)
+
+
+def cloudauth_upload_status(data: List[Dict[str, Any]] | Dict[str, Any]) -> Dict[str, Any]:
+    if not data:
+        return data
+    else:
+        data = utils.unlistify(data)  # _display_results will listify the data as most outputs are lists of dicts
+
+    try:
+        resp_model = CloudAuthUploadResponse(**data)
+        data = resp_model.dict()
+    except Exception as e:
+        log.error("Attempt to normalize cloudauth upload status response through model failed.")
+        log.exception(e)
+
+    if "durationNanos" in data:
+        data["duration_secs"] = round(data["durationNanos"] / 1_000_000_000, 2)
+        del data["durationNanos"]
+
+    return data
+
+def cloudauth_get_namedmpsk(data: List[Dict[str, Any]], verbosity: int = 0,) -> List[Dict[str, Any]]:
+    verbosity_keys = {
+        0: [
+            'name',
+            'role',
+            'status',
+        ]
+    }
+
+    if verbosity == 0:  # currently no verbosity beyond 0, we just don't filter the fields
+        data = [{k: d.get(k) for k in verbosity_keys.get(verbosity, verbosity_keys[max(verbosity_keys.keys())])} for d in data]
+
+    return data
+
+
+def show_all_ap_lldp_neighbors_for_site(data):
+    data = utils.unlistify(data)
+    # TODO circular import if placed at top review import logic
+    from centralcli import cache
+    aps_in_cache = [dev["serial"] for dev in cache.devices if dev["type"] == "ap"]
+    ap_connections = [edge for edge in data["edges"] if edge["toIf"]["serial"] in aps_in_cache]
+    data = [
+        {
+            "ap": x["toIf"].get("deviceName", "--"),
+            "ap_ip": x["toIf"].get("ipAddress", "--"),
+            "ap_serial": x["toIf"].get("serial", "--"),
+            "ap_port": x["toIf"].get("portNumber", "--"),
+            # "ap_untagged_vlan": x["toIf"].get("untaggedVlan"),
+            # "ap_tagged_vlans": x["toIf"].get("taggedVlans"),
+            "switch": x["fromIf"].get("deviceName", "--"),
+            "switch_ip": x["fromIf"].get("ipAddress", "--"),  # TODO lldp res often has unKnown for switch ip when we know what it is, could get it from cache.
+            "switch_serial": x["fromIf"].get("serial", "--"),
+            "switch_port": x["fromIf"].get("name", "--"),
+            "untagged_vlan": x["fromIf"].get("untaggedVlan", "--"),
+            "tagged_vlans": ",".join([str(v) for v in x["fromIf"].get("taggedVlans") or [] if v != x["fromIf"].get("untaggedVlan", 9999)]),
+            "healthy": "" if x.get("health", "") == "good" else ""
+        } for x in ap_connections
+    ]
+
+    return simple_kv_formatter(data)
```

### Comparing `centralcli-4.2.0/centralcli/cli.py` & `centralcli-5.0.0/centralcli/cli.py`

 * *Files 2% similar despite different names*

```diff
@@ -297,30 +297,39 @@
     # TODO ok_status is not used in display_results anymore, impacted colorization I think?  Need to verify.
 
 
 @app.command()
 def bounce(
     what: BounceArgs = typer.Argument(..., show_default=False),
     device: str = typer.Argument(..., metavar=iden.dev, show_default=False, autocompletion=cli.cache.dev_switch_completion),
-    port: str = typer.Argument(..., autocompletion=lambda incomplete: [], show_default=False),
+    ports: List[str] = typer.Argument(..., autocompletion=lambda incomplete: [], show_default=False),
     yes: bool = typer.Option(False, "-Y", "-y", help="Bypass confirmation prompts - Assume Yes"),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ) -> None:
-    """Bounce interface or PoE on an interface (Valid on switches)
+    """Bounce interface(s) or PoE on interface(s) (Valid on switches)
+
+    Ranges are supported:
+    [cyan]cencli bounce interface edge3 1/1/1-1/1/4 2/1/1-2/1/4[/] will bounce the 8 interfaces in those ranges
+    [cyan]cencli bounce interface edge3 1/1/1-1/1/4,2/1/1-2/1/4[/] comma seperated similar to swich CLI is also valid
+
+    [italic dark_olive_green2]Results in 1 API call per interface[/]
     """
-    dev = cli.cache.get_dev_identifier(device)
+    dev = cli.cache.get_dev_identifier(device, conductor_only=True)
     command = 'bounce_poe_port' if what == 'poe' else 'bounce_interface'
-    print(f"Bounce [cyan]{what}[/] on [cyan]{dev.name}[/] port [cyan]{port}[/]")
+    ports = utils.get_interfaces_from_range(ports)
+
+    print(f"Bounce [cyan]{what}[/] on [cyan]{dev.name}[/]: interface{'s' if len(ports) > 1 else ''} [cyan]{', '.join(ports)}[/]")
+    print(f"[italic dark_olive_green2]{len(ports)} API calls will be performed.[/]\n")
     if yes or typer.confirm("\nProceed?", abort=True):
-        resp = cli.central.request(cli.central.send_bounce_command_to_device, dev.serial, command, port)
+        resp = cli.central.batch_request([cli.central.BatchRequest(cli.central.send_bounce_command_to_device, (dev.serial, command, p,)) for p in ports])
         cli.display_results(resp, tablefmt="action")
         # We don't check the task status because central seems to show the state as QUEUED even after execution appears complete
 
 
 @app.command()
 def remove(
     devices: List[str] = typer.Argument(..., metavar=iden.dev_many, autocompletion=cli.cache.remove_completion),
@@ -374,16 +383,18 @@
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ) -> None:
     """Reboot a device
+
+    Use --swarm to reboot the swarm associated with the specified device (The device can be any AP in the swarm)
     """
-    dev: CentralObject = cli.cache.get_dev_identifier(device)
+    dev: CentralObject = cli.cache.get_dev_identifier(device, conductor_only=True)
 
     conf_msg = dev.rich_help_text
     func = cli.central.send_command_to_device
     arg = dev.serial
 
     if swarm:
         if dev.generic_type != "ap":
@@ -395,16 +406,16 @@
             arg = dev.swack_id
             conf_msg = f'the [cyan]swarm {dev.name}[/] belongs to'
             # TODO reboot swarm has not been tested
 
     console = Console(emoji=False)
     _msg = "Reboot" if not yes else "Rebooting"
     _msg = f"{_msg} {conf_msg}"
-    console.print(_msg)
 
+    console.print(_msg)
     if yes or typer.confirm("Proceed?", abort=True):
         resp = cli.central.request(func, arg, 'reboot')
         cli.display_results(resp, tablefmt="action")
 
 
 @app.command()
 def reset(
```

### Comparing `centralcli-4.2.0/centralcli/cliadd.py` & `centralcli-5.0.0/centralcli/cliadd.py`

 * *Files 2% similar despite different names*

```diff
@@ -53,19 +53,19 @@
 
 
 # TODO update completion with mac oui, serial prefix
 # TODO mac with colons breaks arg completion that follows unless enclosed in single quotes
 # FIXME Not all flows work on 2.5.5  I think license may be broken
 @app.command()
 def device(
-    kw1: AddGroupArgs = typer.Argument(..., hidden=False, metavar="serial",),
-    serial: str = typer.Argument(..., metavar="[SERIAL NUM]", hidden=False, autocompletion=cli.cache.smg_kw_completion, show_default=False,),
-    kw2: str = typer.Argument(..., hidden=False, metavar="mac", autocompletion=cli.cache.smg_kw_completion),
-    mac: str = typer.Argument(..., metavar="[MAC ADDRESS]", hidden=False, autocompletion=cli.cache.smg_kw_completion, show_default=False,),
-    kw3: str = typer.Argument(None, metavar="group", hidden=False, autocompletion=cli.cache.smg_kw_completion),
+    kw1: AddGroupArgs = typer.Argument(..., hidden=True, metavar="serial", show_default=False,),
+    serial: str = typer.Argument(..., metavar="<SERIAL NUM>", hidden=False, autocompletion=cli.cache.smg_kw_completion, show_default=False,),
+    kw2: str = typer.Argument(..., hidden=True, metavar="mac", autocompletion=cli.cache.smg_kw_completion, show_default=False,),
+    mac: str = typer.Argument(..., metavar="<MAC ADDRESS>", hidden=False, autocompletion=cli.cache.smg_kw_completion, show_default=False,),
+    kw3: str = typer.Argument(None, metavar="group", hidden=True, autocompletion=cli.cache.smg_kw_completion, show_default=False,),
     group: str = typer.Argument(None, metavar="[GROUP]", help="pre-assign device to group",
                                autocompletion=cli.cache.smg_kw_completion, show_default=False,),
     # kw4: str = typer.Argument(None, metavar="", hidden=True, autocompletion=cli.cache.smg_kw_completion),
     # site: str = typer.Argument(None, metavar="site [SITE]", help="assign device to site",
                             #    autocompletion=cli.cache.smg_kw_completion, show_default=False,),
     _group: str = typer.Option(None, "--group", autocompletion=cli.cache.group_completion, hidden=True),
     # _site: str = typer.Option(None, autocompletion=cli.cache.site_completion, hidden=False),
@@ -78,14 +78,16 @@
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
         rich_help_panel="Common Options",
     ),
 ) -> None:
     """Add a Device to Aruba Central.
+
+    Serial Number and MAC are required, group is opional.
     """
     kwd_vars = [kw1, kw2, kw3]
     vals = [serial, mac, group]
     kwargs = {
         "mac": None,
         "serial": None,
         "group": None,
@@ -106,16 +108,15 @@
             kwargs[name] = value
 
     kwargs["group"] = kwargs["group"] or _group
     # kwargs["site"] = kwargs["site"] or _site
 
     # Error if both serial and mac are not provided
     if not kwargs["mac"] or not kwargs["serial"]:
-        print("[bright_red]Error[/]: both serial number and mac address are required.")
-        raise typer.Exit(1)
+        cli.exit("[bright_red]Error[/]: both serial number and mac address are required.")
 
     api_kwd = {"serial": "serial_num", "mac": "mac_address"}
     kwargs = {api_kwd.get(k, k): v for k, v in kwargs.items() if v}
 
     _msg = [f"Add device: [bright_green]{kwargs['serial_num']}|{kwargs['mac_address']}[/bright_green]"]
     if "group" in kwargs and kwargs["group"]:
         _group = cli.cache.get_group_identifier(kwargs["group"])
```

### Comparing `centralcli-4.2.0/centralcli/cliassign.py` & `centralcli-5.0.0/centralcli/cliassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clibatch.py` & `centralcli-5.0.0/centralcli/clibatch.py`

 * *Files 0% similar despite different names*

```diff
@@ -22,15 +22,15 @@
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
         from centralcli import BatchRequest, Response, caas, cleaner, cli, config, log, models, utils
     else:
         print(pkg_dir.parts)
         raise e
 
-from centralcli.constants import AllDevTypes, BatchAddArgs, BatchDelArgs, BatchRenameArgs, GatewayRole, IdenMetaVars, SendConfigDevIdens, SiteStates, state_abbrev_to_pretty
+from centralcli.constants import AllDevTypes, BatchAddArgs, BatchDelArgs, BatchRenameArgs, GatewayRole, IdenMetaVars, SendConfigDevIdens, SiteStates, state_abbrev_to_pretty, CloudAuthUploadType
 from centralcli.exceptions import ImportException, MissingFieldException, DevException
 from centralcli.strings import ImportExamples, LongHelp
 
 # from centralcli.models import GroupImport
 examples = ImportExamples()
 help_text = LongHelp()
 from centralcli.cache import CentralObject  # NoQA
@@ -765,14 +765,28 @@
         except Exception as e:
             log.exception(f'Exception during label cache update in batch_add_labels]n{e}')
             print(f'[bright_red]Cache Update Error[/]: {e.__class__.__name__}.  See logs.\nUse [cyan]cencli show labels[/] to refresh label cache.')
 
     return resp or Response(error="No labels were added")
 
 
+def batch_add_cloudauth(upload_type: CloudAuthUploadType = "mac", import_file: Path = None, *, ssid: str = None, data: bool = None, yes: bool = False) -> Response:
+    if import_file is not None:
+        data = config.get_file_data(import_file)
+    elif not data:
+        cli.exit("[red]Error!![/] No import file provided")
+
+    print(f"Upload{'' if not yes else 'ing'} [cyan]{upload_type.upper()}s[/] defined in [cyan]{import_file.name}[/] to Cloud-Auth{f' for SSID: [cyan]{ssid}[/]' if upload_type == 'mpsk' else ''}")
+
+    if yes or typer.confirm("\nProceed?", abort=True):
+        resp = cli.central.request(cli.central.cloudauth_upload, upload_type=upload_type, file=import_file, ssid=ssid)
+
+    return resp
+
+
 # TODO TEST and complete.
 def batch_deploy(import_file: Path, yes: bool = False) -> List[Response]:
     print("Batch Deploy is new, and has not been completely tested yet.")
     if typer.confirm("Proceed?"):
         data = config.get_file_data(import_file)
         if "groups" in data:
             resp = batch_add_groups(data=data["groups"], yes=yes)
@@ -785,14 +799,15 @@
             resp = batch_add_labels(data=data["labels"], yes=yes)
             cli.display_results(resp, tablefmt="action")
         if "devices" in data:
             resp = batch_add_devices(data=data["devices"], yes=yes)
             cli.display_results(resp, tablefmt="action")
 
 
+# FIXME
 @app.command(short_help="Validate a batch import")
 def verify(
     what: BatchAddArgs = typer.Argument(..., show_default=False,),
     import_file: Path = typer.Argument(..., exists=True, show_default=False, autocompletion=lambda incomplete: [],),
     no_refresh: bool = typer.Option(False, hidden=True, help="Used for repeat testing when there is no need to update cache."),
     failed: bool = typer.Option(False, "-F", help="Output only a simple list with failed serials"),
     passed: bool = typer.Option(False, "-OK", help="Output only a simple list with serials that validate OK"),
@@ -826,14 +841,15 @@
         data = data[what]
 
     # TODO Verify yaml/json/csv should now all look the same... only tested with csv
 
     resp = cli.cache.get_devices_with_inventory(no_refresh=no_refresh)
     if not resp.ok:
         cli.display_results(resp, stash=False, exit_on_fail=True)
+    resp.output = cleaner.simple_kv_formatter(resp.output)
     central_devs = [CentralObject("dev", data=r) for r in resp.output]
 
     file_by_serial = {
         d["serial"]: {
             k: v if k != "license" else v.lower().replace("-", "_").replace(" ", "_") for k, v in d.items() if k != "serial"
         } for d in data
     }
@@ -860,25 +876,33 @@
             if not central_by_serial[s].get("status"):
                 validation[s] += [f"{_pfx}but has not connected to Central.  Not able to validate pre-provisioned group via API."]
             elif not central_by_serial[s].get("group"):
                 validation[s] += [f"{_pfx}Group: [cyan]{file_by_serial[s]['group']}[/] from import != [italic]None[/] reflected in Central."]
             elif file_by_serial[s]["group"] != central_by_serial[s]["group"]:
                 validation[s] += [f"{_pfx}Group: [bright_red]{file_by_serial[s]['group']}[/] from import != [bright_green]{central_by_serial[s]['group']}[/] reflected in Central."]
 
+        if file_by_serial[s].get("site"):
+            if not central_by_serial[s].get("status"):
+                validation[s] += [f"{_pfx}  Also unable to assign site prior to device checking in."]
+            elif not central_by_serial[s].get("site"):
+                validation[s] += [f"{_pfx}Site: [cyan]{file_by_serial[s]['site']}[/] from import != [italic]None[/] reflected in Central."]
+            elif file_by_serial[s]["site"] != central_by_serial[s]["site"]:
+                validation[s] += [f"{_pfx}Site: [bright_red]{file_by_serial[s]['site']}[/] from import != [bright_green]{central_by_serial[s]['site']}[/] reflected in Central."]
+
         if file_key:
             _pfx = "" if _pfx in str(validation[s]) else _pfx
             if file_by_serial[s][file_key] != central_by_serial[s]["services"]: # .replace("-", "_").replace(" ", "_")
                 validation[s] += [f"{_pfx}License: [bright_red]{file_by_serial[s][file_key]}[/] from import != [bright_green]{central_by_serial[s]['services']}[/] reflected in Central."]
 
     ok_devs, not_ok_devs = [], []
     for s in file_by_serial:
         if not validation[s]:
             ok_devs += [s]
             _msg = "Added to Inventory: [bright_green]OK[/]"
-            for field in ["license", "group"]:
+            for field in ["license", "group", "site"]:
                 if field in file_by_serial[s] and file_by_serial[s][field]:
                     _msg += f", {field.title()} [bright_green]OK[/]"
             validation[s] += [_msg]
         else:
             not_ok_devs += [s]
 
     caption = f"Out of {len(file_by_serial)} in {import_file.name} {len(not_ok_devs)} potentially have validation issue, and {len(ok_devs)} validate OK."
@@ -953,18 +977,19 @@
         raise typer.Exit(1)
 
     batch_deploy(import_file, yes)
     # cli.display_results(resp, tablefmt="action")
 
 
 # FIXME appears this is not current state aware, have it only do the API calls not reflected in current state
-@app.command(short_help="Perform Batch Add from file")
+@app.command()
 def add(
-    what: BatchAddArgs = typer.Argument(..., show_default=False,),
+    what: BatchAddArgs = typer.Argument(..., help="[cyan]macs[/] and [cyan]mpsk[/] are for cloud-auth", show_default=False,),
     import_file: Path = typer.Argument(None, exists=True, show_default=False, autocompletion=lambda incomplete: [],),  # HACK completion broken when trying to complete a Path
+    ssid: str = typer.Option(None, "--ssid", help="SSID to associate mpsk definitions with [grey42 italic]Required and valid only with mpsk argument[/]", show_default=False,),
     show_example: bool = typer.Option(False, "--example", help="Show Example import file format.", show_default=False),
     yes: bool = typer.Option(False, "-Y", "-y", help="Bypass confirmation prompts - Assume Yes"),
     default: bool = typer.Option(
         False, "-d", is_flag=True, help="Use default central account", show_default=False,
         callback=cli.default_callback,
     ),
     debug: bool = typer.Option(
@@ -972,41 +997,57 @@
     ),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
     ),
 ) -> None:
-    """Perform batch Add operations using import data from file."""
+    """Perform batch Add operations using import data from file
+
+
+    """
     if show_example:
         print(getattr(examples, f"add_{what}"))
         return
 
     if not import_file:
         _msg = [
-            "Usage: cencli batch add [OPTIONS] WHAT:[sites|groups|devices] IMPORT_FILE",
+            "Usage: cencli batch add [OPTIONS] WHAT:[sites|groups|devices|macs|mpsk] IMPORT_FILE",
             "Try 'cencli batch add ?' for help.",
             "",
             "Error: One of 'IMPORT_FILE' or --example should be provided.",
         ]
-        print("\n".join(_msg))
-        raise typer.Exit(1)
+        cli.exit("\n".join(_msg))
 
+    caption, cleaner, tablefmt = None, None, "action"
     if what == "sites":
         resp = batch_add_sites(import_file, yes=yes)
-        cli.display_results(resp)
+        tablefmt = "rich"
     elif what == "groups":
         resp = batch_add_groups(import_file, yes=yes)
-        cli.display_results(resp, tablefmt="action", cleaner=cleaner.parse_caas_response)
+        cleaner = cleaner.parse_caas_response
     elif what == "devices":
         resp = batch_add_devices(import_file, yes=yes)
-        cli.display_results(resp, tablefmt="action")
     elif what == "labels":
         resp = batch_add_labels(import_file, yes=yes)
-        cli.display_results(resp, tablefmt="action")
+    elif what == "macs":
+        resp = batch_add_cloudauth("mac", import_file, yes=yes)
+        caption = (
+            "Use [cyan]cencli show cloud-auth upload[/] to see the status of the import.\n"
+            "Use [cyan]cencli show cloud-auth registered-macs[/] to see all registered macs."
+        )
+    elif what == "mpsk":
+        if not ssid:
+            cli.exit("[cyan]--ssid[/] option is required when uploading mpsk")
+        resp = batch_add_cloudauth("mpsk", import_file, ssid=ssid, yes=yes)
+        caption = (
+            "Use [cyan]cencli show cloud-auth upload mpsk[/] to see the status of the import."
+        )
+
+    cli.display_results(resp, tablefmt=tablefmt, title=f"Batch Add {what}", caption=caption, cleaner=cleaner)
 
 
 # TODO archive and unarchive have the same block this is used by batch delete
 def show_archive_results(res: Response) -> None:
 
     caption = res.output.get("message")
     action = res.url.name
@@ -1048,16 +1089,14 @@
     if cache_update_reqs:
         _ = cli.central.batch_request(cache_update_reqs)
 
 
 # TODO DELME temporary debug testing
 def batch_delete_devices_dry_run(data: Union[list, dict], *, ui_only: bool = False, cop_inv_only: bool = False, yes: bool = False) -> List[Response]:
     console = Console(emoji=False)
-    from rich import inspect
-
 
     if not data:
         print("[dark_orange]:warning:[/] [bright_red]Error[/] No data resulted from parsing of import file.")
         raise typer.Exit(1)
 
     serials_in = [dev["serial"].upper() for dev in data]
```

### Comparing `centralcli-4.2.0/centralcli/clicaas.py` & `centralcli-5.0.0/centralcli/clicaas.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cliclone.py` & `centralcli-5.0.0/centralcli/cliclone.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clicommon.py` & `centralcli-5.0.0/centralcli/clicommon.py`

 * *Files 3% similar despite different names*

```diff
@@ -345,14 +345,15 @@
         title: str = None,
         caption: str = None,
         pager: bool = False,
         outfile: Path = None,
         sort_by: str = None,
         reverse: bool = False,
         stash: bool = True,
+        output_by_key: str | List[str] = "name",
         set_width_cols: dict = None,
         full_cols: Union[List[str], str] = [],
         fold_cols: Union[List[str], str] = [],
         cleaner: callable = None,
         **cleaner_kwargs,
     ):
         # @staticmethod
@@ -384,15 +385,15 @@
                             if d[sort_by] is not None:
                                 type_ = type(d[sort_by])
                                 break
                         data = sorted(data, key=lambda d: d[sort_by] if d[sort_by] != "-" else 0 or 0 if type_ == int else "")
                         # data = sorted(data, key=get_sort(d[sort_by], type_=type_))
                     except TypeError as e:
                         print(
-                            f":x: [dark_orange3]Warning:[reset] Unable to sort by [cyan]{sort_by}.\n   {e.__class__.__name__}: {e} "
+                            f":warning:  Unable to sort by [cyan]{sort_by}.\n   {e.__class__.__name__}: {e} "
                         )
 
             if reverse:
                 data = data[::-1]
 
             if self.raw_out and tablefmt in ["simple", "rich"]:
                 tablefmt = "json"
@@ -404,14 +405,15 @@
             kwargs = {
                 "outdata": data,
                 "tablefmt": tablefmt,
                 "title": title,
                 "caption": caption,
                 "account": None if config.account in ["central_info", "default", "account"] else config.account,
                 "config": config,
+                "output_by_key": output_by_key,
                 "set_width_cols": set_width_cols,
                 "full_cols": full_cols,
                 "fold_cols": fold_cols,
             }
             with console.status("Rendering Output..."):
                 outdata = render.output(**kwargs)
 
@@ -446,14 +448,15 @@
         title: str = None,
         caption: str = None,
         pager: bool = False,
         outfile: Path = None,
         sort_by: str = None,
         reverse: bool = False,
         stash: bool = True,
+        output_by_key: str | List[str] = "name",
         exit_on_fail: bool = False,
         set_width_cols: dict = None,
         full_cols: Union[List[str], str] = [],
         fold_cols: Union[List[str], str] = [],
         cleaner: callable = None,
         **cleaner_kwargs,
     ) -> None:
@@ -474,14 +477,16 @@
                 Only applies to "rich" tablefmt. Defaults to None.
             pager (bool, optional): Page Output / or not. Defaults to True.
             outfile (Path, optional): path/file of output file. Defaults to None.
             sort_by (Union[str, List[str], None] optional): column or columns to sort output on.
             reverse (bool, optional): reverse the output.
             stash (bool, optional): stash (cache) the output of the command.  The CLI can re-display with
                 show last.  Default: True
+            output_by_key: For json or yaml output, if any of the provided keys are foound in the List of dicts
+                the List will be converted to a Dict[value of provided key, original_inner_dict].  Defaults to name.
             ok_status (Union[int, List[int], Tuple[int, str], List[Tuple[int, str]]], optional): By default
                 responses with status_code 2xx are considered OK and are rendered as green by
                 Output class.  provide int or list of int to override additional status_codes that
                 should also be rendered as success/green.  provide a dict with {int: str, ...}
                 where string can be any color supported by Output class or "neutral" "success" "fail"
                 where neutral is no formatting, and success / fail will use the default green / red respectively.
             set_width_cols (Dict[str: Dict[str, int]]): Passed to output function defines cols with min/max width
@@ -567,14 +572,15 @@
                         title=title,
                         caption=caption if idx == len(resp) - 1 else None,
                         pager=pager,
                         outfile=outfile,
                         sort_by=sort_by,
                         reverse=reverse,
                         stash=stash,
+                        output_by_key=output_by_key,
                         set_width_cols=set_width_cols,
                         full_cols=full_cols,
                         fold_cols=fold_cols,
                         cleaner=cleaner,
                         **cleaner_kwargs
                     )
 
@@ -592,14 +598,15 @@
                 title=title,
                 caption=caption,
                 pager=pager,
                 outfile=outfile,
                 sort_by=sort_by,
                 reverse=reverse,
                 stash=stash,
+                output_by_key=output_by_key,
                 set_width_cols=set_width_cols,
                 full_cols=full_cols,
                 fold_cols=fold_cols,
                 cleaner=cleaner,
                 **cleaner_kwargs
             )
```

### Comparing `centralcli-4.2.0/centralcli/clidel.py` & `centralcli-5.0.0/centralcli/clidel.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clidelfirmware.py` & `centralcli-5.0.0/centralcli/clidelfirmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cliexport.py` & `centralcli-5.0.0/centralcli/cliexport.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clikick.py` & `centralcli-5.0.0/centralcli/clikick.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clirefresh.py` & `centralcli-5.0.0/centralcli/clirefresh.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clirename.py` & `centralcli-5.0.0/centralcli/clirename.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cliset.py` & `centralcli-5.0.0/centralcli/cliset.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clisetfirmware.py` & `centralcli-5.0.0/centralcli/clisetfirmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishow.py` & `centralcli-5.0.0/centralcli/clishow.py`

 * *Files 3% similar despite different names*

```diff
@@ -8,89 +8,110 @@
 import asyncio
 import sys
 import json
 from typing import List, Iterable, Literal
 from pathlib import Path
 from rich import print
 from rich.console import Console
+from copy import deepcopy
 
 try:
     import psutil
     hook_enabled = True
 except (ImportError, ModuleNotFoundError):
     hook_enabled = False
 
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
-    from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clitshoot, clishowtshoot, clishowoverlay, clishowaudit, clishowcloudauth, BatchRequest, caas, render, cli, utils, config, log
+    from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clitshoot, clishowtshoot, clishowoverlay, clishowaudit, clishowcloudauth, clishowmpsk, BatchRequest, caas, render, cli, utils, config, log
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
-        from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clitshoot, clishowtshoot, clishowoverlay, clishowaudit, clishowcloudauth, BatchRequest, caas, render, cli, utils, config, log
+        from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clitshoot, clishowtshoot, clishowoverlay, clishowaudit, clishowcloudauth, clishowmpsk, BatchRequest, caas, render, cli, utils, config, log
     else:
         print(pkg_dir.parts)
         raise e
 
 from centralcli.constants import (
-    SortInventoryOptions, ShowInventoryArgs, StatusOptions, SortWlanOptions, IdenMetaVars, CacheArgs, SortSiteOptions,
-    DevTypes, SortDevOptions, SortTemplateOptions, SortClientOptions, SortCertOptions, SortVlanOptions, SortSubscriptionOptions, SortRouteOptions, DhcpArgs,
-    EventDevTypeArgs, ShowHookProxyArgs, SubscriptionArgs, AlertTypes, SortAlertOptions, AlertSeverity, SortWebHookOptions, TunnelTimeRange, lib_to_api, what_to_pretty  # noqa
+    SortInventoryOptions, ShowInventoryArgs, StatusOptions, SortWlanOptions, IdenMetaVars, CacheArgs, SortSiteOptions, SortGroupOptions, SortStackOptions, DevTypes, SortDevOptions,
+    SortTemplateOptions, SortClientOptions, SortCertOptions, SortVlanOptions, SortSubscriptionOptions, SortRouteOptions, DhcpArgs, EventDevTypeArgs, ShowHookProxyArgs, SubscriptionArgs,
+    AlertTypes, SortAlertOptions, AlertSeverity, SortWebHookOptions, TunnelTimeRange, GenericDevTypes, lib_to_api, what_to_pretty, LIB_DEV_TYPE  # noqa
 )
 from centralcli.cache import CentralObject
 
 app = typer.Typer()
 app.add_typer(clishowfirmware.app, name="firmware")
 app.add_typer(clishowwids.app, name="wids")
 app.add_typer(clishowbranch.app, name="branch")
 app.add_typer(clishowospf.app, name="ospf")
 app.add_typer(clishowtshoot.app, name="tshoot")
 app.add_typer(clishowoverlay.app, name="overlay")
 app.add_typer(clishowaudit.app, name="audit")
 app.add_typer(clishowcloudauth.app, name="cloud-auth")
+app.add_typer(clishowmpsk.app, name="mpsk")
 
 tty = utils.tty
 iden_meta = IdenMetaVars()
 
-def _build_caption(resp: Response, *, inventory: bool = False) -> str:
-    dev_types = set([t.get("type", "NOTYPE") for t in resp.output])
-    devs_by_type = {_type: [t for t in resp.output if t.get("type", "ERR") == _type] for _type in dev_types}
-    status_by_type = {_type: {"total": len(devs_by_type[_type]), "up": len([t for t in devs_by_type[_type] if t.get("status", "") == "Up"]), "down": len([t for t in devs_by_type[_type] if t.get("status", "") == "Down"])} for _type in devs_by_type}
-    _cnt_str = ", ".join([f'[{"bright_green" if not status_by_type[t]["down"] else "red"}]{t}[/]: [cyan]{status_by_type[t]["total"]}[/] ([bright_green]{status_by_type[t]["up"]}[/]:[red]{status_by_type[t]["down"]}[/])' for t in status_by_type])
-
-    try:
-        clients = sum([t.get("client_count", 0) for t in resp.output if t.get("client_count") != "-"])
-        _cnt_str = f"{_cnt_str}, [bright_green]clients[/]: [cyan]{clients}[/]"
-    except Exception as e:
-        log.exception(f"Exception occured in _build_caption\n{e}")
+def _build_caption(resp: Response, *, inventory: bool = False, dev_type: GenericDevTypes = None, status: Literal["Up", "Down"] = None) -> str:
+    def get_switch_counts(data) -> dict:
+        dev_types = set([t.get("switch_type", "ERR") for t in data])
+        # return {LIB_DEV_TYPE.get(_type, _type): [t for t in data if t.get("switch_type", "ERR") == _type] for _type in dev_types}
+        return {
+            LIB_DEV_TYPE.get(_type, _type): {
+                "total": len(list(filter(lambda x: x["switch_type"] == _type, data))),
+                "up": len(list(filter(lambda x: x["switch_type"] == _type and x["status"] == "Up", data)))
+            }
+            for _type in dev_types
+        }
+
+    if not dev_type:
+        counts_by_type = {**{k: {"total": resp.raw[k][0]["total"], "up": len(list(filter(lambda x: x["status"], resp.raw[k][0][k])))} for k in resp.raw.keys() if k != "switches"}, **get_switch_counts(resp.raw["switches"][0]["switches"])}
+        status_by_type = {LIB_DEV_TYPE.get(_type, _type): {"total": counts_by_type[_type]["total"], "up": counts_by_type[_type]["up"], "down": counts_by_type[_type]["total"] - counts_by_type[_type]["up"]} for _type in counts_by_type}
+    elif dev_type == "switch":
+        counts_by_type = get_switch_counts(resp.raw["switches"])
+        status_by_type = {LIB_DEV_TYPE.get(_type, _type): {"total": counts_by_type[_type]["total"], "up": counts_by_type[_type]["up"], "down": counts_by_type[_type]["total"] - counts_by_type[_type]["up"]} for _type in counts_by_type}
+    else:
+        _tot = len(resp)
+        _up = len(list(filter(lambda a: a["status"] == "Up", resp.output)))
+        _down = _tot - _up
+        status_by_type = {dev_type: {"total": _tot, "up": _up, "down": _down}}
+
+    if status:
+        _cnt_str = ", ".join([f'[{"bright_green" if status.lower() == "up" else "red"}]{t}[/]: [cyan]{status_by_type[t]["total"]}[/]' for t in status_by_type])
+    else:
+        _cnt_str = ", ".join([f'[{"bright_green" if not status_by_type[t]["down"] else "red"}]{t}[/]: [cyan]{status_by_type[t]["total"]}[/] ([bright_green]{status_by_type[t]["up"]}[/]:[red]{status_by_type[t]["down"]}[/])' for t in status_by_type])
+
+    if status is None or status.lower() != "down":
+        try:
+            clients = sum([t.get("client_count", 0) for t in resp.output if t.get("client_count") != "-"])
+            _cnt_str = f"{_cnt_str}, [bright_green]clients[/]: [cyan]{clients}[/]"
+        except Exception as e:
+            log.exception(f"Exception occured in _build_caption\n{e}")
 
     caption = "  [cyan]Show all[/cyan] displays fields common to all device types. "
-    caption = f"[reset]Counts: {_cnt_str}\n{caption}To see all columns for a given device use [cyan]show <DEVICE TYPE>[/cyan]"
-    # if "gw" in dev_types:
-    #     caption = f"{caption}\n  [magenta]Note[/]: GW firmware version has been simplified, the actual gw version is [cyan]aa.bb.cc.dd-aa.bb.cc.dd[-beta]_build[/]"
-    #     caption = f"{caption}\n  [italic]given the version is repeated it has been simplified.  You need to use the full version string when upgrading."
+    caption = f"[reset]{'Counts' if not status else f'{status} Devices'}: {_cnt_str}\n{caption}To see all columns for a given device use [cyan]show <DEVICE TYPE>[/cyan]" if not dev_type else f"[reset]Counts: {_cnt_str}"
+
     if inventory:
         caption = f"{caption}\n  [italic green3]verbose listing, devices lacking name/ip are in the inventory, but have not connected to central.[/]"
     return caption
 
 def show_devices(
-    devices: str | Iterable[str] = None, dev_type: Literal["all", "ap", "gw", "cx", "sw", "switch"] = None, include_inventory: bool = False, outfile: Path = None,
+    devices: str | Iterable[str] = None, dev_type: Literal["all", "ap", "gw", "cx", "sw", "switch"] = None, include_inventory: bool = False, verbosity: int = 0, outfile: Path = None,
     update_cache: bool = False, group: str = None, site: str = None, label: str = None, status: str = None, state: str = None, pub_ip: str = None,
     do_clients: bool = True, do_stats: bool = False, do_ssids: bool = False, sort_by: str = None, reverse: bool = False, pager: bool = False, do_json: bool = False, do_csv: bool = False,
     do_yaml: bool = False, do_table: bool = False
 ) -> None:
     caption = None
     central = cli.central
     if update_cache:
         cli.central.request(cli.cache.update_dev_db)
 
-    # device details is a lot of data default to yaml output, default horizontal would typically overrun tty
-    _formatter = "yaml"
-
     if group:
         group: CentralObject = cli.cache.get_group_identifier(group)
     if site:
         site: CentralObject = cli.cache.get_site_identifier(site)
     if label:
         label: CentralObject = cli.cache.get_label_identifier(label)
 
@@ -111,25 +132,31 @@
     filtering_params = [
         "group",
         "site",
         "label",
         "public_ip_address"
     ]
 
+    cache_generic_types = {
+        "aps": "ap",
+        "gateways": "gw",
+        "mobility_controllers": "gw",
+        "switches": "switch"
+    }
+
     params = {k: v for k, v in params.items() if v is not None}
     if not devices and dev_type is None:
         dev_type = "all"
 
-    if devices:
-        cache_generic_types = {
-            "aps": "ap",
-            "gateways": "gw",
-            "mobility_controllers": "gw",
-            "switches": "switch"
-        }
+    default_tablefmt = "rich" if not verbosity and not devices else "yaml"
+
+    if devices:  # cencli show devices <device iden>
+        # Asking for details of a specific device implies verbose
+        if not verbosity:
+            verbosity = 99
         if dev_type:
             dev_type = cache_generic_types.get(dev_type)
 
         br = cli.central.BatchRequest
         devs = [cli.cache.get_dev_identifier(d, dev_type=dev_type, include_inventory=include_inventory) for d in devices]
         _types = [dev.type for dev in devs]
         reqs = [br(central.get_dev_details, (lib_to_api("monitoring", _type), dev.serial,)) for _type, dev in zip(_types, devs)]
@@ -143,79 +170,86 @@
             resp.output = _output
             caption = f'{caption or ""}\n  Displaying fields common to all specified devices.  Request devices individually to see all fields.'
         else:
             resp = batch_res
 
         if "cx" in _types:
             caption = f'{caption or ""}\n  mem_total for cx devices is the % of memory currently in use.'
-    elif dev_type == "all":
-        # if they have a single device type in inventory, it's too many fields to display as table
-        if len(cli.cache.device_types) > 1:
-            _formatter = "rich"
-
+    elif dev_type == "all":  # cencli show all | cencli show devices
         if include_inventory:
             resp = cli.cache.get_devices_with_inventory()
             caption = _build_caption(resp, inventory=True)
-            if len(params) > 3:
+            if params.get("show_resource_details", False) is True or params.get("calculate_ssid_count", False) is True:
                 caption = f'{caption or ""}\n  [bright_red]WARNING[/]: Filtering options ignored, not valid w/ [cyan]-v[/] (include inventory devices)'
-        elif [p for p in params if p in filtering_params]:  # filtering params used no cache update only subset of devices  # TODO verify upsert on cache update and pass in data regardless
-            resp = central.request(central.get_all_devicesv2, **params)
+        elif [p for p in params if p in filtering_params]:  # We clean here and pass the data back to the cache update, this allows an update with the filtered data without trucating the db
+            resp = central.request(central.get_all_devicesv2, cache=True, **params)  # TODO send get_all_devices kwargs to update_dev_db and evaluate params there to determine if upsert or truncate is appropriate
             if resp.ok and resp.output:
-                cache_output = cleaner.get_devices(resp.output, cache=True)
-                cache_output = central.request(cli.cache.get_swack_ids, resp, update_data=cache_output)
+                cache_output = cleaner.get_devices(deepcopy(resp.output), cache=True)
                 _ = central.request(cli.cache.update_dev_db, cache_output)
             caption = None if not resp.ok else _build_caption(resp)
         else:  # No filtering params, get update from cache
             if central.get_all_devicesv2 not in cli.cache.updated:
-                resp = central.request(cli.cache.update_dev_db)
-                caption = _build_caption(resp)
+                resp = central.request(cli.cache.update_dev_db, **params)
+                caption = _build_caption(resp, status=status)
             else:
-                # get_all_devicesv2 already called (to populate/update cache) grab response from cache.
-                resp = cli.cache.responses.dev
-    else:
+                # get_all_devicesv2 already called (to populate/update cache) grab response from cache.  This really only happens if hidden -U option is used
+                resp = cli.cache.responses.dev  # TODO should update_client_db return responses.client if get_clients already in cache.updated?
+    else:  # cencli show switches | cencli show aps | cencli show gateways (with any params)  No cahce update here
         resp = central.request(central.get_devices, dev_type, **params)
+        caption = _build_caption(resp, dev_type=cache_generic_types.get(dev_type), status=status)
 
-    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default=_formatter)
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default=default_tablefmt)
     title_sfx = [
         f"{k}: {v}" for k, v in params.items() if k not in ["calculate_client_count", "show_resource_details", "calculate_ssid_count"] and v
     ] if not include_inventory else ["including Devices from Inventory"]
     title = "Device Details" if not dev_type else f"{what_to_pretty(dev_type)} {', '.join(title_sfx)}".rstrip()
 
+    # With inventory needs to be serial because inv only devs don't have a name yet.  Switches need serial appended so stack members are unique.
+    if include_inventory:
+        output_key = "serial"
+    elif dev_type and dev_type == "switches":
+        output_key = "name+serial"
+    else:
+        output_key = "name"
+
     cli.display_results(
         resp,
         tablefmt=tablefmt,
         title=title,
         caption=caption,
         pager=pager,
         outfile=outfile,
         sort_by=sort_by,
         reverse=reverse,
+        output_by_key=output_key,
         cleaner=cleaner.get_devices,
-        # verbose=False  # TODO this works need to adjust calling command to include --inventory flag rather than -v use -v for full listing change -vv to --raw globally
+        verbosity=verbosity,
     )
 
 
 @app.command("all")
 def all_(
     group: str = typer.Option(None, help="Filter by Group", autocompletion=cli.cache.group_completion, show_default=False,),
     site: str = typer.Option(None, help="Filter by Site", autocompletion=cli.cache.site_completion, show_default=False,),
     label: str = typer.Option(None, help="Filter by Label", autocompletion=cli.cache.label_completion,show_default=False,),
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
-    do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
+    # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics", hidden=False,),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per device)"),
-    verbose: bool = typer.Option(
-        False,
+    verbose: int = typer.Option(
+        0,
         "-v",
-        help="additional details (include devices in Inventory that have yet to connect)",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
         show_default=False,
     ),
+    with_inv: bool = typer.Option(False, "-I", "--inv", help="Include devices in Inventory that have yet to connect", show_default=False,),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -234,16 +268,16 @@
     """Show details for All devices
     """
     if down:
         status = "Down"
     elif up:
         status = "Up"
     show_devices(
-        dev_type='all', outfile=outfile, include_inventory=verbose, update_cache=update_cache, group=group, site=site, status=status,
-        state=state, label=label, pub_ip=pub_ip, do_stats=do_stats, do_clients=True, sort_by=sort_by, reverse=reverse,
+        dev_type='all', outfile=outfile, include_inventory=with_inv, verbosity=verbose, update_cache=update_cache, group=group, site=site, status=status,
+        state=state, label=label, pub_ip=pub_ip, do_stats=bool(verbose), do_clients=True, sort_by=sort_by, reverse=reverse,
         pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml,
         do_table=do_table)
 
 
 @app.command()
 def devices(
     devices: List[str] = typer.Argument(
@@ -264,20 +298,22 @@
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per device)"),
-    verbose: bool = typer.Option(
-        False,
+    verbose: int = typer.Option(
+        0,
         "-v",
-        help="additional details (include devices in Inventory that have yet to connect)",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
         show_default=False,
     ),
+    with_inv: bool = typer.Option(False, "-I", "--inv", help="Include devices in Inventory that have yet to connect", show_default=False,),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -305,15 +341,15 @@
     if "all" in devices:
         dev_type = "all"
         devices = None
     else:
         dev_type = None
 
     show_devices(
-        devices, dev_type=dev_type, include_inventory=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site,
+        devices, dev_type=dev_type, include_inventory=with_inv, verbosity=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site,
         label=label, status=status, state=state, pub_ip=pub_ip, do_stats=do_stats, do_clients=True,
         sort_by=sort_by, reverse=reverse, pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml, do_table=do_table
     )
 
 
 @app.command()
 def aps(
@@ -324,16 +360,23 @@
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, metavar="<Public IP Address>", help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per AP)"),
-    do_ssids: bool = typer.Option(False, "--ssids", is_flag=True, help="Calculate SSID count (per AP)"),
-    neighbors: bool = typer.Option(False, "-n", "--neighbors", help="Show AP neighbors \[requires --site]", show_default=False,),
+    # do_ssids: bool = typer.Option(True, "--ssids", is_flag=True, help="Calculate SSID count (per AP)"),
+    neighbors: bool = typer.Option(False, "-n", "--neighbors", help="Show all AP LLDP neighbors for a site \[requires --site]", show_default=False,),
+    verbose: int = typer.Option(
+        0,
+        "-v",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
+        show_default=False,
+    ),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -354,47 +397,24 @@
     if neighbors:
         if site is None:
             print(":x: [bright_red]Error:[/] [cyan]--site <site name>[/] is required for neighbors output.")
             raise typer.Exit(1)
 
         site = cli.cache.get_site_identifier(site)
         resp = cli.central.request(cli.central.get_topo_for_site, site.id, )
-
-        # TODO check the value of tagged/untagged VLAN for AP if it has tagged mgmt VLAN
-        if resp:
-            aps_in_cache = [dev["serial"] for dev in cli.cache.devices if dev["type"] == "ap"]
-            ap_connections = [edge for edge in resp.output["edges"] if edge["toIf"]["serial"] in aps_in_cache]
-            resp.output = [
-                {
-                    "ap": x["toIf"].get("deviceName", "--"),
-                    "ap_ip": x["toIf"].get("ipAddress", "--"),
-                    "ap_serial": x["toIf"].get("serial", "--"),
-                    "ap_port": x["toIf"].get("portNumber", "--"),
-                    # "ap_untagged_vlan": x["toIf"].get("untaggedVlan"),
-                    # "ap_tagged_vlans": x["toIf"].get("taggedVlans"),
-                    "switch": x["fromIf"].get("deviceName", "--"),
-                    "switch_ip": x["fromIf"].get("ipAddress", "--"),  # TODO lldp res often has unKnown for switch ip when we know what it is, could get it from cache.
-                    "switch_serial": x["fromIf"].get("serial", "--"),
-                    "switch_port": x["fromIf"].get("name", "--"),
-                    "untagged_vlan": x["fromIf"].get("untaggedVlan", "--"),
-                    "tagged_vlans": ",".join([str(v) for v in x["fromIf"].get("taggedVlans", []) if v != x["fromIf"].get("untaggedVlan", 9999)]),
-                    "healthy": "" if x.get("health", "") == "good" else ""
-                } for x in ap_connections
-            ]
-
         tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
-        cli.display_results(resp, tablefmt=tablefmt, title="AP Neighbors", pager=pager, outfile=outfile, sort_by=sort_by, reverse=reverse)
+        cli.display_results(resp, tablefmt=tablefmt, title="AP Neighbors", pager=pager, outfile=outfile, sort_by=sort_by, reverse=reverse, cleaner=cleaner.show_all_ap_lldp_neighbors_for_site)
     else:
         if down:
             status = "Down"
         elif up:
             status = "Up"
         show_devices(
-            aps, dev_type="aps", outfile=outfile, update_cache=update_cache, group=group, site=site, label=label, status=status,
-            state=state, pub_ip=pub_ip, do_clients=True, do_stats=True, do_ssids=do_ssids,
+            aps, dev_type="aps", verbosity=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site, label=label, status=status,
+            state=state, pub_ip=pub_ip, do_clients=True, do_stats=True, do_ssids=True,
             sort_by=sort_by, reverse=reverse, pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml,
             do_table=do_table)
 
 @app.command("switches")
 def switches_(
     switches: List[str] = typer.Argument(None, metavar=iden_meta.dev, autocompletion=cli.cache.dev_switch_completion, show_default=False,),
     group: str = typer.Option(None, help="Filter by Group", autocompletion=cli.cache.group_completion, show_default=False,),
@@ -403,14 +423,21 @@
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, metavar="<Public IP Address>", help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per switch)"),
+    verbose: int = typer.Option(
+        0,
+        "-v",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
+        show_default=False,
+    ),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -430,15 +457,15 @@
     """
     if down:
         status = "Down"
     elif up:
         status = "Up"
 
     show_devices(
-        switches, dev_type='switches', outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
+        switches, dev_type='switches', verbosity=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
         status=status, state=state, pub_ip=pub_ip, do_clients=True, do_stats=True,
         sort_by=sort_by, reverse=reverse, pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml,
         do_table=do_table)
 
 
 @app.command(name="gateways")
 def gateways_(
@@ -449,14 +476,21 @@
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, metavar="<Public IP Address>", help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per gateway)"),
+    verbose: int = typer.Option(
+        0,
+        "-v",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
+        show_default=False,
+    ),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -476,15 +510,15 @@
     """
     if down:
         status = "Down"
     elif up:
         status = "Up"
 
     show_devices(
-        gateways, dev_type='gateways', outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
+        gateways, dev_type='gateways', verbosity=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
         status=status, state=state, pub_ip=pub_ip, do_clients=True, do_stats=True,
         sort_by=sort_by, reverse=reverse, pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml,
         do_table=do_table)
 
 
 @app.command("controllers", hidden=True)
 def controllers_(
@@ -495,14 +529,21 @@
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     pub_ip: str = typer.Option(None, metavar="<Public IP Address>", help="Filter by Public IP", show_default=False,),
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per switch)"),
+    verbose: int = typer.Option(
+        0,
+        "-v",
+        count=True,
+        help="Verbosity: Show more details, Accepts -vv -vvv etc. for increasing verbosity where supported",
+        show_default=False,
+    ),
     sort_by: SortDevOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
@@ -524,19 +565,83 @@
     """
     if down:
         status = "Down"
     elif up:
         status = "Up"
 
     show_devices(
-        controllers, dev_type='mobility_controllers', outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
+        controllers, dev_type='mobility_controllers', verbosity=verbose, outfile=outfile, update_cache=update_cache, group=group, site=site, label=label,
         status=status, state=state, pub_ip=pub_ip, do_clients=True, do_stats=True, sort_by=sort_by, reverse=reverse,
         pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml, do_table=do_table)
 
 
+
+@app.command()
+def stacks(
+    switches: List[str] = typer.Argument(None, help="List of specific switches to pull stack details for", metavar=iden_meta.dev, autocompletion=cli.cache.dev_switch_completion, show_default=False,),
+    group: str = typer.Option(None, help="Filter by Group", autocompletion=cli.cache.group_completion, show_default=False,),
+    status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by device status"),
+    state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
+    up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
+    down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
+    sort_by: SortStackOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
+    reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
+    do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options"),
+    update_cache: bool = typer.Option(False, "-U", hidden=True),  # Force Update of cli.cache for testing
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options",),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options",),
+    account: str = typer.Option(
+        "central_info",
+        envvar="ARUBACLI_ACCOUNT",
+        help="The Aruba Central Account to use (must be defined in the config)",
+        autocompletion=cli.cache.account_completion,
+        rich_help_panel="Common Options",
+    ),
+) -> None:
+    """Show details for switch stacks
+    """
+    if down:
+        status = StatusOptions("Down")
+    elif up:
+        status = StatusOptions("Up")
+
+    if group:
+        group: CentralObject = cli.cache.get_group_identifier(group)
+
+    cleaner_kwargs = {"status": status}
+    args = ()
+    kwargs = {}
+    func = cli.central.get_switch_stacks
+    if switches:
+        devs: List[CentralObject] = [cli.cache.get_dev_identifier(d, dev_type="switch", swack=True,) for d in switches]
+        if len(devs) == 1:  # if the specify a we use the details call
+            func = cli.central.get_switch_stack_details
+            args = (devs[0].swack_id,)
+        else: # if the specify multiple hosts we grab info for all stacks and filter in the cleaner
+            cleaner_kwargs["stack_ids"] = set([d.swack_id for d in devs])
+            if group:
+                kwargs = {"group": group.name}
+
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
+    resp = cli.central.request(func, *args, **kwargs)
+
+    title = "Switch stack details"
+    caption = ""
+    if resp:
+        if "count" in resp.raw:
+            caption = f"Total # of Stacks Returned: [cyan]{resp.raw['count']}[/]"
+
+    cli.display_results(resp, tablefmt=tablefmt, title=title, caption=caption, pager=pager, outfile=outfile, sort_by=sort_by, reverse=reverse, cleaner=cleaner.get_switch_stacks, **cleaner_kwargs)
+
+
 @app.command(short_help="Show device inventory", help="Show device inventory / all devices that have been added to Aruba Central.")
 def inventory(
     dev_type: ShowInventoryArgs = typer.Argument("all"),
     sub: bool = typer.Option(
         None,
         help="Show devices with applied subscription/license, or devices with no subscription/license applied."
     ),
@@ -714,23 +819,24 @@
 
 
 # TODO define sort_by fields
 @app.command()
 def interfaces(
     device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_switch_gw_completion, show_default=False,),
     slot: str = typer.Argument(None, help="Slot name of the ports to query [italic grey42](chassis only)[/]", show_default=False,),
+    # stack: bool = typer.Option(False, "-s", "--stack", help="Get intrfaces for entire stack [grey42]\[default: Show interfaces for specified stack member only][/]",),
     # port: List[int] = typer.Argument(None, help="Optional list of interfaces to filter on"),
     sort_by: str = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
     do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
-    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options"),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options",),
     verbose: int = typer.Option(0, "-v", count=True, help="Verbose: Show all interface details vertically", show_default=False,),
     update_cache: bool = typer.Option(False, "-U", hidden=True, rich_help_panel="Common Options"),  # Force Update of cli.cache for testing
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options"),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options"),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
@@ -739,92 +845,120 @@
         rich_help_panel="Common Options",
     ),
 ):
     """Show interfaces/details
 
     Command is valid for switches and gateways
     """
-    dev = cli.cache.get_dev_identifier(device, dev_type=["gw", "switch"],)
+    dev = cli.cache.get_dev_identifier(device, dev_type=["gw", "switch"], conductor_only=True,)
     if dev.generic_type == "gw":
         resp = cli.central.request(cli.central.get_gateway_ports, dev.serial)
     else:
-        resp = cli.central.request(cli.central.get_switch_ports, dev.serial, slot=slot, aos_sw=dev.type == "sw")
+        iden = dev.swack_id or dev.serial
+        resp = cli.central.request(cli.central.get_switch_ports, iden, slot=slot, stack=dev.swack_id is not None, aos_sw=dev.type == "sw")
 
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich" if not verbose else "yaml")
     title = f"{dev.name} Interfaces"
 
+    caption = []
     if dev.type == "sw":
-        caption = render.rich_capture(":information:  Native VLAN for trunk ports not shown as not provided by API for aos-sw", emoji=True)
-    else:
-        caption = ""
+        caption = [render.rich_capture(":information:  Native VLAN for trunk ports not shown as not provided by API for aos-sw", emoji=True)]
 
     if resp:
         try:
             up = len([i for i in resp.output if i.get("status").lower() == "up"])
             down = len(resp.output) - up
-            caption = f"{caption}\n  Counts: Total: [cyan]{len(resp.output)}[/], Up: [bright_green]{up}[/], Down: [bright_red]{down}[/]"
+            caption += [f"  Counts: Total: [cyan]{len(resp.output)}[/], Up: [bright_green]{up}[/], Down: [bright_red]{down}[/]"]
         except Exception as e:
             log.error(f"{e.__class__.__name__} while trying to get counts from {dev.name} interface output")
 
     # TODO cleaner returns a Dict[dict] assuming "vsx enabled" is the same bool for all ports put it in caption and remove from each item
     cli.display_results(
         resp,
         tablefmt=tablefmt,
         title=title,
-        caption=caption,
+        caption="\n".join(caption),
         pager=pager,
         outfile=outfile,
         sort_by=sort_by,
         reverse=reverse,
         cleaner=cleaner.show_interfaces,
         verbosity=verbose,
         dev_type=dev.type
     )
 
 
 @app.command(help="Show (switch) poe details for an interface")
 def poe(
     device: str = typer.Argument(..., metavar=iden_meta.dev, hidden=False, autocompletion=cli.cache.dev_switch_completion, show_default=False,),
-    port: str = typer.Argument(None, show_default=False,),
-    _port: str = typer.Option(None, "--port", show_default=False,),
-    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", hidden=True),
-    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", hidden=False),
-    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
-    do_table: bool = typer.Option(False, "--table", help="Output in table format",),
-    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True),
-    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
+    port: str = typer.Argument(None, show_default=False, help="Show PoE details for a specific interface",),
+    _port: str = typer.Option(None, "--port", show_default=False, hidden=True,),
+    powered: bool = typer.Option(False, "-p", "--powered", help="Show only interfaces currently delivering power", show_default=False,),
+    sort_by: str = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
+    reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", hidden=False, rich_help_panel="Formatting",),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", hidden=False, rich_help_panel="Formatting",),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting",),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format", rich_help_panel="Formatting",),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False, rich_help_panel="Common Options",),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options",),
+    verbose: int = typer.Option(0, "-v", count=True, help="Verbose: Show all interface details vertically", show_default=False,),
     update_cache: bool = typer.Option(False, "-U", hidden=True),  # Force Update of cli.cache for testing
-    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
-    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options",),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options",),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
+        rich_help_panel="Common Options",
     ),
 ):
     port = _port if _port else port
     dev = cli.cache.get_dev_identifier(device, dev_type="switch")
     resp = cli.central.request(cli.central.get_switch_poe_details, dev.serial, port=port, aos_sw=dev.type == "sw")
     resp.output = utils.unlistify(resp.output)
+    caption = "  Power values are in watts."
+    if resp:
+        resp.output = utils.listify(resp.output)  # if they specify an interface output will be a single dict.
+        _delivering_count = len(list(filter(lambda i: i.get("poe_detection_status", 99) == 3, resp.output)))
+        caption = f"{caption}  Interfaces delivering power: [bright_green]{_delivering_count}[/]"
+        if "poe_slots" in resp.output[0] and resp.output[0]["poe_slots"]:  # CX has the key but it appears to always be an empty dict
+            caption = f"{caption}\n  Switch Poe Capabilities (watts): Max: [cyan]{resp.output[0]['poe_slots'].get('maximum_power_in_watts', '?')}[/]"
+            caption = f"{caption}, Draw: [cyan]{resp.output[0]['poe_slots'].get('power_drawn_in_watts', '?')}[/]"
+            caption = f"{caption}, In use: [cyan]{resp.output[0]['poe_slots'].get('power_in_use_in_watts', '?')}[/]"
 
-    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="json")
-    cli.display_results(resp, tablefmt=tablefmt, pager=pager, outfile=outfile)
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="yaml" if verbose else "rich")
+    cli.display_results(
+        resp,
+        tablefmt=tablefmt,
+        title=f"Poe details for {dev.name}",
+        caption=caption,
+        sort_by=sort_by,
+        reverse=reverse,
+        pager=pager,
+        outfile=outfile,
+        output_by_key="port",
+        cleaner=cleaner.get_switch_poe_details,
+        verbosity=verbose,
+        powered=powered,
+        aos_sw=dev.type == "sw"
+    )
     # TODO output cleaner / sort & reverse options
 
 
 @app.command()
 def vlans(
     dev_site: str = typer.Argument(
         ...,
         metavar=f"{iden_meta.dev} (vlans for a device) OR {iden_meta.site} (vlans for a site)",
         autocompletion=cli.cache.dev_gw_switch_site_completion,
         show_default=False,
     ),
-    # port: List[int] = typer.Argument(None, help="Optional list of interfaces to filter on"),
+    # stack: bool = typer.Option(False, "-s", "--stack", help="Get VLANs for entire stack [grey42]\[default: Get VLANs for the individual member switch specified][/]"),
     status: StatusOptions = typer.Option(None, metavar="[up|down]", hidden=True, help="Filter by VLAN status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status, both hidden to simplify as they can use --up or --down
     up: bool = typer.Option(False, "--up", help="Filter by devices that are Up", show_default=False),
     down: bool = typer.Option(False, "--down", help="Filter by devices that are Down", show_default=False),
     sort_by: SortVlanOptions = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
     reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
@@ -846,29 +980,36 @@
 ) -> None:
     """Show VLANs for device or site
 
     Command applies to sites, gateways, or switches
     """
     # TODO cli command lacks the filtering options available from method currently.
     central = cli.central
-    obj = cli.cache.get_identifier(dev_site, qry_funcs=("dev", "site"))
+    obj: CentralObject = cli.cache.get_identifier(dev_site, qry_funcs=("dev", "site"), conductor_only=True)
 
     if up:
         status = "Up"
     elif down:
         status = "Down"
     else:
         if state and not status:
             status = state
 
     if obj.is_site:
         resp = central.request(central.get_site_vlans, obj.id)
     elif obj.is_dev:
         if obj.generic_type == "switch":
-            resp = central.request(central.get_switch_vlans, obj.serial, aos_sw=obj.type == "sw")
+            if obj.swack_id:
+                iden = obj.swack_id
+                stack = True
+            else:
+                iden = obj.serial
+                stack = False
+
+            resp = central.request(central.get_switch_vlans, iden, stack=stack, aos_sw=obj.type == "sw")
         elif obj.type.lower() == 'gw':
             resp = central.request(central.get_gateway_vlans, obj.serial)
         else:
             print("Command is only valid on gateways and switches")
             raise typer.Exit(1)
 
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
@@ -962,26 +1103,28 @@
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
     ),
 ):
     central = cli.central
-    if len(device) > 2:
-        typer.echo(f"Unexpected argument {', '.join([a for a in device[0:-1] if a != 'status'])}")
+    # Allow unnecessary keyword status `cencli show upgrade status <dev>`
+    device = [d for d in device if d != "status"]
+
+    if not device:
+        cli.exit("Missing required parameter [cyan]<device>[/]")
+    elif len(device) > 1:
+        cli.exit("Specify only one device.")
 
     params, dev = {}, None
-    if device and device[-1] != "status":
-        dev = cli.cache.get_dev_identifier(device[-1])
-        if dev.type == "ap":
-            params["swarm_id"] = dev.swack_id
-        else:
-            params["serial"] = dev.serial
+    dev: CentralObject = cli.cache.get_dev_identifier(device[-1], conductor_only=True)
+    if dev.type == "ap":
+        params["swarm_id"] = dev.swack_id
     else:
-        print("Missing required parameter [cyan]<device>[/]")
+        params["serial"] = dev.serial
 
     resp = central.request(central.get_upgrade_status, **params)
 
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
 
     cli.display_results(
         resp,
@@ -991,107 +1134,95 @@
         outfile=outfile
     )
 
 
 @app.command("cache", help="Show contents of Identifier Cache.", hidden=True)
 def cache_(
     args: List[CacheArgs] = typer.Argument(None, show_default=False),
-    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False,),
-    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False),
-    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False,),
-    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
-    sort_by: str = typer.Option(None, "--sort", help="Field to sort by", show_default=False,),
-    reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False,),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False, rich_help_panel="Formatting"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False, rich_help_panel="Formatting"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False, rich_help_panel="Formatting"),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format", show_default=False, rich_help_panel="Formatting"),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False, rich_help_panel="Common Options"),
+    sort_by: str = typer.Option(None, "--sort", help="Field to sort by", show_default=False, rich_help_panel="Common Options"),
+    reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False, rich_help_panel="Common Options"),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
     update_cache: bool = typer.Option(False, "-U", hidden=True,),
-    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
-    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options"),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options"),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
+        rich_help_panel="Common Options",
     ),
 ):
     args = ('all',) if not args else args
     for arg in args:
         cache_out = getattr(cli.cache, arg)
 
         # sort devices so output matches cencli show all
         if isinstance(arg, str) and arg == "all":
             if "devices" in cache_out:
                 cache_out["devices"] = sorted(cache_out["devices"], key=lambda i: (i.get("site") or "", i.get("type") or "", i.get("name") or ""))
         elif arg.value == "devices":
             cache_out = sorted(cache_out, key=lambda i: (i.get("site") or "", i.get("type") or "", i.get("name") or ""))
 
-        tablefmt = cli.get_format(do_json=do_json, do_csv=do_csv, do_yaml=do_yaml, default="rich" if "all" not in args else "yaml")
+        tablefmt = cli.get_format(do_json=do_json, do_csv=do_csv, do_yaml=do_yaml, do_table=do_table, default="rich" if "all" not in args else "yaml")
         cli.display_results(
             data=cache_out,
             tablefmt=tablefmt,
             title=f'Cache {arg.title().replace("_", " ")}',
             pager=pager,
             outfile=outfile,
             sort_by=sort_by,
             reverse=reverse,
+            output_by_key=None,
             stash=False,
         )
 
 
 @app.command(short_help="Show groups/details")
 def groups(
-    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON"),
-    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML"),
-    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
-    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True),
-    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
-    verbose: bool = typer.Option(False, "-v", help="Verbose: include additional group properties", show_default=False,),
+    sort_by: SortGroupOptions = typer.Option("name", "--sort",),
+    reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False,),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False, rich_help_panel="Formatting",),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False, rich_help_panel="Formatting",),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False, rich_help_panel="Formatting",),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format", show_default=False, rich_help_panel="Formatting", hidden=True,),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False, rich_help_panel="Common Options",),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options",),
     verbose2: bool = typer.Option(
         False,
         "-vv",
         help="Show raw response (no formatting but still honors --yaml, --csv ... if provided)",
         show_default=False,
+        rich_help_panel="Common Options",
     ),
-    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
-    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options",),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options",),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
+        rich_help_panel="Common Options",
     ),
 ) -> None:
     central = cli.central
     if central.get_all_groups not in cli.cache.updated:
         resp = asyncio.run(cli.cache.update_group_db())
     else:
         resp = cli.cache.responses.group
 
-    if resp and verbose:
-        groups = [g["name"] for g in resp.output]
-        verbose_resp = central.request(central.get_groups_properties, groups=groups)
-        if not verbose_resp:
-            print("Error: Additional API call to gather group properties for verbose output failed.")
-            cli.display_results(verbose_resp, tablefmt="action")
-        else:
-            for idx, g in enumerate(verbose_resp.output):
-                g["properties"]["ApNetworkRole"] = g["properties"].get("ApNetworkRole", "NA")
-                g["properties"]["GwNetworkRole"] = g["properties"].get("GwNetworkRole", "NA")
-                g["properties"]["AOSVersion"] = g["properties"].get("AOSVersion", "NA")
-                g["properties"]["AllowedSwitchTypes"] = g["properties"].get("AllowedSwitchTypes", "NA")
-                g["properties"]["Architecture"] = g["properties"].get("Architecture", "NA")
-                g["properties"] = {k: g["properties"][k] for k in sorted(g["properties"].keys()) if k != "MonitorOnlySwitch"}
-                for grp in resp.output:
-                    if g["group"] == grp["name"]:
-                        verbose_resp.output[idx] = {**grp, **g["properties"]}
-                        continue
-            verbose_resp.output = cleaner.strip_no_value(verbose_resp.output)
-            resp = verbose_resp
+    caption = f'Total Groups: [cyan]{len(resp.output)}[/], Template Groups: [cyan]{len(list(filter(lambda g: any(g.get("template group", {}).values()), resp.output)))}[/]'
 
-    tablefmt = cli.get_format(do_json=do_json, do_csv=do_csv, do_yaml=do_yaml)
-    cli.display_results(resp, tablefmt=tablefmt, title="Groups", pager=pager, outfile=outfile, cleaner=cleaner.show_groups)
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table)
+    cli.display_results(resp, tablefmt=tablefmt, title="Groups", caption=caption, pager=pager, sort_by=sort_by, reverse=reverse, outfile=outfile, cleaner=cleaner.show_groups)
 
 
 @app.command(short_help="Show labels/details")
 def labels(
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
@@ -1233,14 +1364,18 @@
         group = _group
     elif group:
         group = group[-1]
 
     if group:
         group = cli.cache.get_group_identifier(group).name
 
+    # Allows show templates group WadeLab
+    if name and name.lower() == "group":
+        name = None
+
     central = cli.central
 
     params = {
         # "name": name,
         "device_type": device_type,  # valid = IAP, ArubaSwitch, MobilityController, CX
         "version": version,
         "model": model
@@ -1327,20 +1462,20 @@
         tablefmt=tablefmt,
         title="Variables" if not args else f"{args.name} Variables",
         pager=pager,
         outfile=outfile,
     )
 
 
-@app.command(short_help="Show AP lldp neighbor", help="Show AP lldp neighbor.  Command only applies to APs at this time.")
+@app.command()
 def lldp(
     device: List[str] = typer.Argument(
         ...,
         metavar=iden_meta.dev_many,
-        autocompletion=lambda incomplete: cli.cache.dev_completion(incomplete=incomplete, args=["ap"]),
+        autocompletion=cli.cache.dev_switch_ap_completion,
         show_default=False,
     ),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False),
     do_table: bool = typer.Option(False, "--table", help="Output in table format", show_default=False),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
@@ -1357,33 +1492,47 @@
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
     ),
 ) -> None:
+    """Show AP lldp neighbor
+
+    Valid on APs and CX switches
+    Command will run on AOS-SW, but neighbor table will only show neighbors that are CX switches or APs
+    """
     central = cli.central
 
-    devs = [cli.cache.get_dev_identifier(_dev, dev_type="ap") for _dev in device if not _dev.lower().startswith("neighbor")]
-    batch_reqs = [BatchRequest(central.get_ap_lldp_neighbor, (dev.serial,)) for dev in devs]
+    # TODO need get_dev_identier to accept cx
+    devs: List[CentralObject] = [cli.cache.get_dev_identifier(_dev, dev_type=("ap", "switch"), conductor_only=True,) for _dev in device if not _dev.lower().startswith("neighbor")]
+    batch_reqs = [BatchRequest(central.get_ap_lldp_neighbor, (dev.serial,)) for dev in devs if dev.type == "ap"]
+    batch_reqs += [BatchRequest(central.get_cx_switch_neighbors, (dev.serial,)) for dev in devs if dev.generic_type == "switch" and not dev.swack_id]
+    unique_stack_ids = set([dev.swack_id for dev in devs if dev.generic_type == "switch" and dev.swack_id])
+    batch_reqs += [BatchRequest(central.get_cx_switch_stack_neighbors, (swack_id,)) for swack_id in unique_stack_ids]
     batch_resp = central.batch_request(batch_reqs)
-    if all([res.ok for res in batch_resp]):
-        concat_resp = batch_resp[-1]
-        concat_resp.output = [{"name": f'{dev.name} {neighbor.get("localPort", "")}'.rstrip(), **neighbor} for res, dev in zip(batch_resp, devs) for neighbor in res.output]
+    # if all([res.ok for res in batch_resp]):
+    #     concat_resp = batch_resp[-1]
+    #     concat_resp.output = [{"name": f'{dev.name} {neighbor.get("localPort", "")}'.rstrip(), **neighbor} for res, dev in zip(batch_resp, devs) for neighbor in res.output]
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="yaml")
 
-    cli.display_results(
-        concat_resp,
-        tablefmt=tablefmt,
-        title="LLDP Neighbor Info",
-        pager=pager,
-        outfile=outfile,
-        cleaner=cleaner.get_lldp_neighbor,
-    )
-
+    console = Console()
+    for dev, r in zip(devs, batch_resp):
+        title = f"{dev.name} LLDP Neighbor information"
+        if tablefmt not in ["table", "rich"]:
+            console.print(f'[green]{"-" * 5}[/] [cyan bold]{title}[/] [green]{"-" * 5}[/]')
+        cli.display_results(
+            r,
+            tablefmt=tablefmt,
+            title=title,
+            pager=pager,
+            outfile=outfile,
+            output_by_key=["port", "localPort"],
+            cleaner=cleaner.get_lldp_neighbor,
+        )
 
 @app.command(short_help="Show certificates/details")
 def certs(
     name: str = typer.Argument(None, metavar='[certificate name|certificate hash]',),
     reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False,),
     sort_by: SortCertOptions = typer.Option(None, "--sort"),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False),
@@ -1445,29 +1594,34 @@
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
     ),
 ) -> None:
-    """Show last known running config for a device
+    """Show running config for a device
 
-    Not supported for CX.
-    Gateways and APs returns typical CLI format.
-    AOS-SW returns a JSON (unless --yaml flag is provided).
+    APs get the last known running config from Central
+    Switches and GWs request the running config from the device
     """
 
     central = cli.central
     dev = cli.cache.get_dev_identifier(device)
 
-    if dev.type != "cx":
-        resp = central.request(central.get_device_configuration, dev.serial)
-    else:
+    if dev.type == "cx":
         clitshoot.send_cmds_by_id(dev, commands=[6002], pager=pager, outfile=outfile)
         raise typer.Exit(0)
+    elif dev.type == "sw":
+        clitshoot.send_cmds_by_id(dev, commands=[1022], pager=pager, outfile=outfile)
+        raise typer.Exit(0)
+    elif dev.type == "gw":
+        clitshoot.send_cmds_by_id(dev, commands=[2385], pager=pager, outfile=outfile)
+        raise typer.Exit(0)
+    else:
+        resp = central.request(central.get_device_configuration, dev.serial)
 
     if isinstance(resp.output, str) and resp.output.startswith("{"):
         try:
             cli_config = json.loads(resp.output)
             cli_config = cli_config.get("_data", cli_config)
             resp.output = cli_config
         except Exception as e:
@@ -1559,15 +1713,16 @@
                     if isinstance(r.output, dict) and "config" in r.output:
                         r.output = r.output["config"]
                     console = Console(emoji=False)
                     console.rule()
                     console.print(f"[bold]Config for {d.rich_help_text}[reset]")
                     console.rule()
                     outfile = outdir / f"{d.name}_gw_dev.cfg"
-                    cli.display_results(r, tablefmt="simple", pager=pager, outfile=outfile)
+                    # cli.display_results(r, tablefmt="simple", pager=pager, outfile=outfile)
+                    cli.display_results(r, tablefmt=None, pager=pager, outfile=outfile)
             if do_ap:
                 devs: List[CentralObject] = [CentralObject("dev", d) for d in cli.cache.devices if d["type"] == "ap"]
 
                 reqs = [br(cli.central.get_per_ap_config, d.serial) for d in devs]
                 res = cli.central.batch_request(reqs)
 
                 outdir = config.outdir / f"{group_dev.name.replace(' ', '_')}_ap_configs"
@@ -1724,25 +1879,25 @@
     site: str = typer.Option(
         None,
         metavar="<site identifier>",
         help="Filter by device status",
         autocompletion=cli.cache.site_completion,
         show_default=False,
     ),
-    swarm_id: str = typer.Option(None, help="Filter by swarm", show_default=False,),
+    swarm_id: str = typer.Option(None, help="Filter by swarm", show_default=False,),  # TODO Can add option for --swarm where value is a dev iden
     # do_clients: bool = typer.Option(False, "--clients", is_flag=True, help="Calculate client count (per SSID)"),
     sort_by: SortWlanOptions = typer.Option(None, "--sort", help="Field to sort by [grey42]\[default: SSID][/]", show_default=False),
     reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False,),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON"),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML"),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
     do_table: bool = typer.Option(False, "--table", help="Output in table format",),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
-    verbose: bool = typer.Option(False, "-v", help="get more details for SSIDs across all AP groups", show_default=False,),
+    verbose: int = typer.Option(0, "-v", count=True, help="get more details for SSIDs across all AP groups", show_default=False,),
     update_cache: bool = typer.Option(False, "-U", hidden=True),  # Force Update of cli.cache for testing
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
@@ -1751,40 +1906,40 @@
 ) -> None:
     """Show WLAN(SSID)/details
     """
     central = cli.central
 
     title = "WLANs (SSIDs)" if not name else f"Details for SSID {name}"
     if group:
-        title = f"{title} in group {group}"
+        _group: CentralObject = cli.cache.get_group_identifier(group)
+        title = f"{title} in group {_group.name}"
+        group = _group.name
     if label:
-        title = f"{title} with label {label}"
+        _label: CentralObject = cli.cache.get_label_identifier(label)
+        title = f"{title} with label {_label.name}"
+        label = _label.name
     if site:
-        _site = cli.cache.get_site_identifier(site)
-        site = _site.name or site
-        title = f"{title} in site {site}"
+        _site: CentralObject = cli.cache.get_site_identifier(site)
+        title = f"{title} in site {_site.name}"
+        site = _site.name
 
     params = {
         "name": name,
         "group": group,
         "swarm_id": swarm_id,
         "label": label,
         "site": site,
         "calculate_client_count": True,
     }
 
-    # if full and not group:
-    #     print("Error: must provide group via --group")
-    #     raise typer.Exit(1)
-
-    # TODO add verbosity levels for get_full_wlan_list
+    # TODO only verbosity 0 currently if group is specified
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
     if group:
         resp = central.request(central.get_full_wlan_list, group)
-        cli.display_results(resp, sort_by=sort_by, reverse=reverse, tablefmt=tablefmt, title=title, pager=pager, outfile=outfile, cleaner=cleaner.get_full_wlan_list, verbosity=0)
+        cli.display_results(resp, sort_by=sort_by, reverse=reverse, tablefmt=tablefmt, title=title, pager=pager, outfile=outfile, cleaner=cleaner.get_full_wlan_list, verbosity=verbose)
     elif verbose:
         import json
         group_res = central.request(central.get_groups_properties)
         if group_res:
             ap_groups = [g['group'] for g in group_res.output if 'AccessPoints' in g['properties']['AllowedDevTypes']]
             batch_req = [BatchRequest(central.get_full_wlan_list, group) for group in ap_groups]
             batch_resp = cli.central.batch_request(batch_req)
@@ -1810,14 +1965,44 @@
         cli.display_results(resp, sort_by=sort_by, reverse=reverse, tablefmt=tablefmt, title=title, pager=pager, outfile=outfile, cleaner=cleaner.get_full_wlan_list, verbosity=0)
     else:
         resp = central.request(central.get_wlans, **params)
         cli.display_results(resp, sort_by=sort_by, reverse=reverse, tablefmt=tablefmt, title=title, pager=pager, outfile=outfile, cleaner=cleaner.get_wlans)
 
 
 @app.command()
+def cluster(
+    group: str = typer.Argument(..., autocompletion=cli.cache.group_completion, show_default=False,),
+    ssid: str = typer.Argument(..., autocompletion=cli.cache.label_completion, show_default=False,),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format",),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
+    update_cache: bool = typer.Option(False, "-U", hidden=True),  # Force Update of cli.cache for testing
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    account: str = typer.Option(
+        "central_info",
+        envvar="ARUBACLI_ACCOUNT",
+        help="The Aruba Central Account to use (must be defined in the config)",
+        autocompletion=cli.cache.account_completion,
+    ),
+) -> None:
+    """Show Cluster mapped to a given group/SSID
+    """
+    group = cli.cache.get_group_identifier(group)
+    resp = cli.central.request(cli.central.get_wlan_cluster_by_group, group.name, ssid)
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
+    if tablefmt == "rich":
+        resp.output = [{"SSID": resp.output.get("profile", ""), **d} for d in resp.output.get("gw_cluster_list", resp.output)]
+    cli.display_results(resp, tablefmt=tablefmt, title=f"Cluster details for [green]{ssid}[/] in group [green]{group.name}[/]", pager=pager, outfile=outfile, cleaner=cleaner.simple_kv_formatter)
+
+
+@app.command()
 def vsx(
     device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_switch_completion, show_default=False,),
     do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting",),
     do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting",),
     do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting",),
     do_table: bool = typer.Option(False, "--table", help="Output in table format [default]", rich_help_panel="Formatting",),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options",),
@@ -1908,14 +2093,15 @@
         autocompletion=cli.cache.account_completion,
         rich_help_panel="Common Options",
     ),
 ) -> None:
     central = cli.central
     # device = utils.listify(device) if device else []
     # device = device if not _dev else [*device, *_dev]
+    # TODO test --device and potentially restore multi-dev support
     device = device or []
 
     kwargs = {}
     dev = None
     title = "All Clients"
     args = tuple()
     if client:
@@ -1955,60 +2141,69 @@
             kwargs["site"] = cli.cache.get_site_identifier(site).name
             title = f"{title} in site {site}"
 
         if label:
             kwargs["label"] = cli.cache.get_label_identifier(label).name
             title = f"{title} on devices with label {label}"
 
-    # resp = central.request(central.get_clients, *args, **kwargs)
     if not denylisted:
         resp = central.request(cli.cache.update_client_db, *args, **kwargs)
     else:
         resp = central.request(cli.central.get_denylist_clients, *args)
 
     if not resp:
         cli.display_results(resp, exit_on_fail=True)
 
+    # Build Caption Text # TODO move to caption builder
     _count_text = ""
-    # if filter.value not in ["mac", "denylisted"]:
+    _last_mac_text = ""
     if not client and not denylisted:
         if wired:
             _count_text = f"{len(resp)} Wired Clients."
+            if resp.raw.get("last_client_mac"):
+                _count_text = f'{_count_text} [bright_green]Last Wired Mac[/]: [cyan]{resp.raw["last_client_mac"]}[/]'
         elif wireless:
             _count_text = f"{len(resp)} Wireless Clients."
+            if resp.raw.get("last_client_mac"):
+                _count_text = f'{_count_text} [bright_green]Last Wireless Mac[/]: [cyan]{resp.raw["last_client_mac"]}[/]'
         else:
             _tot = len(resp)
-            _wired = len([x for x in resp.output if x["client_type"] == "WIRED"])
-            _wireless = len([x for x in resp.output if x["client_type"] == "WIRELESS"])
-            _count_text = f"[reset]Counts: [bright_green]Total[/]: [cyan]{_tot}[/], [bright_green]Wired[/]: [cyan]{_wired}[/], [bright_green]Wireless[/]: [cyan]{_wireless}[/]"
+            wlan_raw = list(filter(lambda d: "raw_wireless_response" in d, resp.raw))
+            wired_raw = list(filter(lambda d: "raw_wired_response" in d, resp.raw))
+            caption_data = {}
+            for _type, data in zip(["wireless", "wired"], [wlan_raw, wired_raw]):
+                caption_data[_type] = {
+                    "count": "" if not data or "total" not in data[0][f"raw_{_type}_response"] else data[0][f"raw_{_type}_response"]["total"],
+                    "last_client_mac": "" if not data or "last_client_mac" not in data[0][f"raw_{_type}_response"] else data[0][f"raw_{_type}_response"]["last_client_mac"]
+                }
+            _count_text = f"[reset]Counts: [bright_green]Total[/]: [cyan]{_tot}[/], [bright_green]Wired[/]: [cyan]{caption_data['wired']['count']}[/], [bright_green]Wireless[/]: [cyan]{caption_data['wireless']['count']}[/]"
+            _last_mac_text = f"[bright_green]Last Wired Mac[/]: [cyan]{caption_data['wired']['last_client_mac']}[/], [bright_green]Last Wireless Mac[/]: [cyan]{caption_data['wireless']['last_client_mac']}[/]"
 
-    if not verbose2:
-        _format = "rich" if not verbose else "yaml"
-    else:
-        _format = "json"
-    tablefmt = cli.get_format(do_json, do_yaml, do_csv, do_table, default=_format)
+
+    tablefmt = cli.get_format(do_json, do_yaml, do_csv, do_table, default="rich" if not verbose else "yaml")
 
     verbose_kwargs = {}
     if not verbose2 and not denylisted:
         verbose_kwargs["cleaner"] = cleaner.get_clients
         verbose_kwargs["cache"] = cli.cache
         verbose_kwargs["verbose"] = verbose
+
         # filter output on multiple devices
         # TODO maybe restore multi-device looks like was handled in filter
         if dev and isinstance(dev, list):
             verbose_kwargs["filters"] = [d.serial for d in dev]
 
     if sort_by:
         sort_by = "802.11" if sort_by == "dot11" else sort_by.value.replace("_", " ")
 
     cli.display_results(
         resp,
         tablefmt=tablefmt,
         title=title,
-        caption=f"{_count_text} Use -v for more details, -vv for unformatted response." if not verbose and not denylisted else None,
+        caption=f"{_count_text} Use -v for more details, -vv for unformatted response.\n  {_last_mac_text}".rstrip() if not verbose and not denylisted else None,
         pager=pager,
         outfile=outfile,
         sort_by=sort_by,
         reverse=reverse,
         **verbose_kwargs
     )
 
@@ -2207,15 +2402,15 @@
     cencli: bool = typer.Option(False, "--cencli", help="Show cencli logs", callback=show_logs_cencli_callback),
     tail: bool = typer.Option(False, "-f", help="follow tail on log file (implies show logs cencli)", is_eager=True),
     group: str = typer.Option(None, metavar="<Device Group>", help="Filter by Group", autocompletion=cli.cache.group_completion, show_default=False,),
     label: str = typer.Option(None, metavar="<Device Label>", help="Filter by Label", autocompletion=cli.cache.label_completion, show_default=False,),
     site: str = typer.Option(None, metavar=iden_meta.site, help="Filter by Site", autocompletion=cli.cache.site_completion, show_default=False,),
     start: str = typer.Option(None, "-s", "--start", help="Start time of range to collect events, format: yyyy-mm-ddThh:mm (24 hour notation)", show_default=False,),
     end: str = typer.Option(None, "-e", "--end", help="End time of range to collect events, formnat: yyyy-mm-ddThh:mm (24 hour notation)", show_default=False,),
-    past: str = typer.Option(None, "-p", "--past", help="Collect events for last <past>, d=days, h=hours, m=mins i.e.: 3h", show_default=False,),
+    past: str = typer.Option("30m", "-p", "--past", help="Collect events for last <past>, d=days, h=hours, m=mins i.e.: 3h",),
     device: str = typer.Option(
         None,
         metavar=iden_meta.dev,
         help="Filter events by device",
         autocompletion=cli.cache.dev_completion,
         show_default=False,
     ),
@@ -2262,15 +2457,15 @@
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
     ),
 ) -> None:
-    """Show device event logs (last hour by default) or show cencli logs.
+    """Show device event logs (last 30m by default) or show cencli logs.
 
     [italic]Audit logs have moved to [cyan]cencli show audit logs[/cyan][/italic]
     """
     if cencli or (event_id and event_id == "cencli"):
         from centralcli import log
         log.print_file() if not tail else log.follow()
         raise typer.Exit(0)
@@ -2318,15 +2513,15 @@
         "client": "CLIENT"
     }
 
     kwargs = {
         "group": group,
         # "swarm_id": swarm_id,
         "label": label,
-        "from_ts": start or int(time.time() - 3600),
+        "from_ts": start or int(time.time() - 1800),
         "to_ts": end,
         "macaddr": client_mac,
         "bssid": bssid,
         # "device_mac": None if not device else device.mac,
         "hostname": hostname,
         "device_type": None if not dev_type else api_dev_types[dev_type],
         "site": site,
```

#### encoding

```diff
@@ -1 +1 @@
-utf-8
+us-ascii
```

### Comparing `centralcli-4.2.0/centralcli/clishowaudit.py` & `centralcli-5.0.0/centralcli/clishowaudit.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishowbranch.py` & `centralcli-5.0.0/centralcli/clishowbranch.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishowcloudauth.py` & `centralcli-5.0.0/centralcli/clishowcloudauth.py`

 * *Files 26% similar despite different names*

```diff
@@ -7,25 +7,25 @@
 import sys
 from pathlib import Path
 from rich import print
 
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
-    from centralcli import cli
+    from centralcli import cli, cleaner
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
-        from centralcli import cli
+        from centralcli import cli, cleaner
     else:
         print(pkg_dir.parts)
         raise e
 
-from centralcli.constants import CloudAuthMacSortBy
+from centralcli.constants import CloudAuthMacSortBy, CloudAuthUploadType
 
 app = typer.Typer()
 
 
 @app.command("registered-macs")
 def registered_macs(
     search: str = typer.Argument(None, help="Optional search string (name/mac contains)", show_default=False),
@@ -68,25 +68,81 @@
         sort_full_names = {
             "name": "Client Name",
             "mac": "Mac Address"
         }
         sort_by = sort_full_names.get(sort_by, sort_by)
 
     resp = cli.central.request(cli.central.cloudauth_get_registered_macs, search=search)
+    caption = None if not resp.ok else f"[cyan]{len(resp.output)}[/] Registered MAC Addresses"
     tablefmt = cli.get_format(do_json, do_yaml, do_csv, do_table, default="rich")
     cli.display_results(
         resp,
         tablefmt=tablefmt,
         title="Cloud-Auth Registered Mac Addresses",
+        caption=caption,
         pager=pager,
         outfile=outfile,
         sort_by=sort_by,
         reverse=reverse
     )
 
+
+@app.command()
+def upload(
+    what: CloudAuthUploadType = typer.Argument("mac", show_default=True),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV"),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format"),
+    sort_by: str = typer.Option(None, "--sort", show_default=False,),
+    reverse: bool = typer.Option(
+        False, "-r",
+        help="Reverse Output order Default order: newest on bottom.",
+        show_default=False
+    ),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
+    default: bool = typer.Option(
+        False, "-d",
+        is_flag=True,
+        help="Use default central account",
+        show_default=False,
+    ),
+    debug: bool = typer.Option(
+        False,
+        "--debug",
+        envvar="ARUBACLI_DEBUG",
+        help="Enable Additional Debug Logging",
+    ),
+    account: str = typer.Option(
+        "central_info",
+        envvar="ARUBACLI_ACCOUNT",
+        help="The Aruba Central Account to use (must be defined in the config)",
+        autocompletion=cli.cache.account_completion,
+    ),
+) -> None:
+    """Show Cloud-Auth Upload Status.
+
+    This command can be ran after [cyan]cencli batch add <macs|mpsk> to see the status of the upload.
+    """
+    resp = cli.central.request(cli.central.cloudauth_upload_status, upload_type=what.value)
+    tablefmt = cli.get_format(do_json, do_yaml, do_csv, do_table, default="yaml")
+
+    cli.display_results(
+        resp,
+        tablefmt=tablefmt,
+        title=f"Cloud-Auth Upload [cyan]{what.upper()}s[/] Status",
+        caption=None,
+        pager=pager,
+        outfile=outfile,
+        sort_by=sort_by,
+        reverse=reverse,
+        cleaner=cleaner.cloudauth_upload_status
+    )
+
 @app.callback()
 def callback():
     """
     Show Aruba Cloud-Auth details
     """
     pass
```

### Comparing `centralcli-4.2.0/centralcli/clishowfirmware.py` & `centralcli-5.0.0/centralcli/clishowfirmware.py`

 * *Files 2% similar despite different names*

```diff
@@ -107,15 +107,15 @@
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",),
 ):
     """Show available firmware list for a specific device or a type of device
     """
-    dev: CentralObject = device if not device else cli.cache.get_dev_identifier(device)
+    dev: CentralObject = device if not device else cli.cache.get_dev_identifier(device, conductor_only=True,)
     _dev_type = dev_type if dev_type is None else lib_to_api("firmware", dev_type)
 
     # API-FLAW # HACK API at least for AOS10 APs returns Invalid Value for device <serial>, convert to --dev-type
     if dev and dev.type == "ap":
         if swarm:
             swarm_id = dev.swack_id
         else:
```

### Comparing `centralcli-4.2.0/centralcli/clishowospf.py` & `centralcli-5.0.0/centralcli/clishowospf.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishowoverlay.py` & `centralcli-5.0.0/centralcli/clishowoverlay.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishowtshoot.py` & `centralcli-5.0.0/centralcli/clishowtshoot.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clishowwids.py` & `centralcli-5.0.0/centralcli/clishowwids.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clitest.py` & `centralcli-5.0.0/centralcli/clitest.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/clitshoot.py` & `centralcli-5.0.0/centralcli/clitshoot.py`

 * *Files 2% similar despite different names*

```diff
@@ -110,25 +110,25 @@
             caption = f'[bright_red]Error[/]: [cyan]{cmd}[/] not found in available troubleshooting commands for {dev.type}. See available commands above.'
             cli.display_results(resp, tablefmt="rich", caption=caption, title=f"Available troubleshooting commands for {dev.type}", cleaner=cleaner.show_ts_commands)
         else:
             send_cmds_by_id(dev, commands=cmd_id, pager=pager, outfile=outfile)
 
 @app.command()
 def overlay(
-    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_completion, show_default=False,),
+    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_ap_gw_sw_completion, show_default=False,),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ):
-    """Show GW or AP Overlay details (Tunneled SSIDs) or AOS-SW User Based Tunneling
+    """Show GW or AP Overlay details (Tunneled SSIDs) or AOS-SW User Based Tunneling  (valid on AP, GW, and AOS-SW)
 
     [cyan]Returns the output of the following commands useful in troubleshooting overlay AP / gateway / ubt tunnels.[/]
 
     [bright_green]APs[/]
     [cyan]-[/] show ata current-cfg
     [cyan]-[/] show overlay tunnel config
     [cyan]-[/] show ata endpoint
@@ -152,38 +152,35 @@
     [cyan]-[/] show tunneled-node-users all
     """
     ids_by_dev_type = {
         "ap": [208, 203, 201, 300, 39, 218],
         "gw": [2452, 2515, 2453, 2131, 2441, 2454, 2455],
         "sw": [1189, 1195, 1196, 1191]
     }
-    dev = cli.cache.get_dev_identifier(device)
-    if dev.type == "cx":
-        print(":warning:  Command not supported on CX switches.")
-        raise typer.Exit(1)
+    dev = cli.cache.get_dev_identifier(device, dev_type=["ap", "gw", "sw"])
 
     commands = ids_by_dev_type[dev.type]
     send_cmds_by_id(dev, commands=commands, pager=pager, outfile=outfile)
 
 @app.command()
 def clients(
-    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_completion, show_default=False,),
+    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_ap_gw_sw_completion, show_default=False,),
     wired: bool = typer.Option(False, "-w", "--wired", help="Include [cyan]show clients wired[/] (applies to AP)",),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ):
-    """Show output of client related commands
+    """Show output of client related commands  (valid on AP, GW, and AOS-SW)
 
-    [cyan]Returns the output of the following client related commands.[/]
+    [cyan]Returns the output of the following client related commands. Valid for AP, GW, and AOS-SW.[/]
 
     [bright_green]APs[/]
     [cyan]-[/] show clients
     [cyan]-[/] show clients debug advanced
     [cyan]-[/] show datapath user
 
     Use of [cyan]--wired[/] option will also include
@@ -199,18 +196,15 @@
     [cyan]-[/] show port-access summary
     """
     ids_by_dev_type = {
         "ap": [117, 257, 47],
         "sw": [1028, 1089],
         "gw": [2163, 2095],
     }
-    dev: CentralObject = cli.cache.get_dev_identifier(device)
-    if dev.type == "cx":
-        print(":warning:  Command not supported on CX switches.")
-        raise typer.Exit(1)
+    dev: CentralObject = cli.cache.get_dev_identifier(device, dev_type=["ap", "gw", "sw"])
 
     commands = ids_by_dev_type[dev.type]
     if wired:
         if dev.type == "ap":
             commands += [123]
         else:
             print(f":warning:  [cyan]--wired[/] flag ignored, only applies to APs, not {dev.type}.")
@@ -226,15 +220,15 @@
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ):
-    """Show DPI output (valid on APs or GWs)
+    """Show DPI output (valid on APs and GWs)
 
     [cyan]Returns the output of the following DPI related commands.[/]
 
     [bright_green]APs[/]
     [cyan]-[/] show dpi-stats session
     [cyan]-[/] show dpi debug status
     [cyan]-[/] show datapath session dpi
@@ -308,43 +302,40 @@
     }
     commands = ids_by_dev_type[dev.type]
     send_cmds_by_id(dev, commands=commands, pager=pager, outfile=outfile)
 
 
 @app.command()
 def images(
-    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_completion, show_default=False,),
+    device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_ap_gw_sw_completion, show_default=False,),
     outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False,),
     pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 autocompletion=cli.cache.account_completion),
 ):
-    """Show image versions
+    """Show image versions (Valid for AP, GW, and AOS-SW)
 
     [cyan]Returns the output of the following image related commands.[/]
 
     [bright_green]APs[/]
     [cyan]-[/] show version
     [cyan]-[/] show image version
 
     [bright_green]GWs[/]
     [cyan]-[/] show version
     [cyan]-[/] show image version
 
     [bright_green]AOS-SW[/]
     [cyan]-[/] show flash
     """
-    dev: CentralObject = cli.cache.get_dev_identifier(device)
-    if dev.type == "cx":
-        print(":warning:  Command not supported on CX switches.")
-        raise typer.Exit(1)
+    dev: CentralObject = cli.cache.get_dev_identifier(device, dev_type=["ap", "gw", "sw"])
 
     ids_by_dev_type = {
         "ap": [119, 213],
         "gw": [2002, 2007],
         "sw": [1046]
     }
     commands = ids_by_dev_type[dev.type]
```

### Comparing `centralcli-4.2.0/centralcli/cliunassign.py` & `centralcli-5.0.0/centralcli/cliunassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cliupdate.py` & `centralcli-5.0.0/centralcli/cliupdate.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/cliupgrade.py` & `centralcli-5.0.0/centralcli/cliupgrade.py`

 * *Files 1% similar despite different names*

```diff
@@ -26,15 +26,15 @@
 app = typer.Typer()
 
 # TODO reboot flag Applicable only on MAS, aruba switches and controller since IAP reboots automatically after firmware download.
 # can only specify one of group, swarm_id or serial parameters
 
 # You can only specify one of group, swarm_id or serial parameters
 
-@app.command(short_help="Upgrade firmware on a specific device",)
+@app.command()
 def device(
     device: str = typer.Argument(
         ...,
         metavar=iden.dev, show_default=False,
         autocompletion=cli.cache.dev_completion,
     ),
     version: str = typer.Argument(
@@ -58,28 +58,30 @@
     yes: bool = typer.Option(False, "-Y", "-y", help="Bypass confirmation prompts - Assume Yes"),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",),
 ) -> None:
-    dev = cli.cache.get_dev_identifier(device)
+    """Upgrade firmware on a device
+    """
+    dev = cli.cache.get_dev_identifier(device, swack=True)
     if dev.generic_type == "ap":
         reboot = True
     at = None if not at else int(round(at.timestamp()))
 
     ver_msg = "Recommended version" if not version else version
     ver_msg = f'Upgrade [cyan]{dev.name}[/] to [green3]{ver_msg}[/]'
     ver_msg = f"{ver_msg} and reboot" if reboot else f"{ver_msg} ('-R' not specified, [italic bright_red]device will not be rebooted[/])"
 
     print(ver_msg)
     if yes or typer.confirm("\nProceed?", abort=True):
         if dev.type == "ap":  # TODO need to validate this is the same behavior for 8.x IAP.
             # For AOS10 AP need to specifiy serial number as the swarm_id in payload to upgrade individual AP
-            resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, swarm_id=dev.serial, firmware_version=version, reboot=reboot)
+            resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, swarm_id=dev.swack_id, firmware_version=version, reboot=reboot)
         else:
             resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, serial=dev.serial, firmware_version=version, reboot=reboot)
         cli.display_results(resp, tablefmt="action")
 
 
 @app.command(short_help="Upgrade firmware by group",)
 def group(
```

### Comparing `centralcli-4.2.0/centralcli/config.py` & `centralcli-5.0.0/centralcli/config.py`

 * *Files 2% similar despite different names*

```diff
@@ -141,32 +141,14 @@
 def _get_config_file(dirs: List[Path]) -> Path:
     dirs = [dirs] if not isinstance(dirs, list) else dirs
     for _dir in dirs:
         for f in list(Path.glob(_dir, "config.*")):
             if f.suffix in valid_ext and 'base_url' in f.read_text():
                 return f
 
-def _get_user_input(valid: list) -> str:
-    choice = ""
-    try:
-        while choice.lower() not in valid:
-            choice = input(" >> ")
-            if choice.lower() == "abort":
-                print("Aborted")
-                sys.exit()
-            elif choice.lower() not in valid:
-                print(
-                    f"[red]Invalid input.[/red] {choice}.\n"
-                    f"  Select from: {', '.join(valid)}"
-                )
-        return choice
-    except (KeyboardInterrupt, EOFError):
-        print("Aborted")
-        sys.exit()
-
 
 class SafeLineLoader(yaml.SafeLoader):
     """Loader class that keeps track of line numbers."""
 
     def compose_node(self, parent: yaml.nodes.Node, index: int) -> yaml.nodes.Node:
         """Annotate a node with the first line it was seen."""
         last_line: int = self.line
```

### Comparing `centralcli-4.2.0/centralcli/constants.py` & `centralcli-5.0.0/centralcli/constants.py`

 * *Files 2% similar despite different names*

```diff
@@ -44,24 +44,50 @@
 class SendConfigDevIdens(str, Enum):
     ap = "ap"
     gw = "gw"
     # sw = "sw"  # hopefully some day
     # cx = "cx"
 
 
+class PoEDetectionStatus(Enum):
+    NA = 0
+    Undefined = 1  # TODO figure out what this status is
+    Searching = 2
+    Delivering = 3
+
+
+# Not used currently # TODO reference in cleaner
+class SwitchRoles(Enum):
+    ERR = 0
+    StandAlone = 1
+    StackConductor = 2
+    StackSecondary = 3
+    StackMember = 4
+
+
 class ShowInventoryArgs(str, Enum):
     all = "all"
     ap = "ap"
     gw = "gw"
     vgw = "vgw"
     sw = "sw"
     cx = "cx"
     switch = "switch"
 
 
+class SortStackOptions(str, Enum):
+    group = "group"
+    _id = "id"
+    mac = "mac"
+    name = "name"
+    split_policy = "split_policy"
+    status = "status"
+    topology = "topology"
+
+
 class SortWebHookOptions(str, Enum):
     name = "name"
     updated = "updated"
     wid = "wid"
     urls = "urls"
     retry_policy = "retry-policy"
     token = "token"
@@ -140,14 +166,15 @@
     "subscriptions",
     "portals",
     "visitors",
     "interfaces",
     "areas",
     "lsas",
     "commands",
+    "stacks",
 ]
 
 
 CLIENT_STRIP_KEYS_VERBOSE = ["group_id", "label_id", "swarm_id"]
 CLIENT_STRIP_KEYS = [
     *CLIENT_STRIP_KEYS_VERBOSE,
     "interface_mac",
@@ -250,14 +277,15 @@
     labels = "labels"
     licenses = "licenses"
     logs = "logs"
     events = "events"
     hook_config = "hook_config"
     hook_data = "hook_data"
     hook_active = "hook_active"
+    mpsk = "mpsk"
 
 
 class KickArgs(str, Enum):
     all = "all"
     mac = "mac"
     wlan = "wlan"
 
@@ -267,15 +295,21 @@
 
 
 class BatchAddArgs(str, Enum):
     sites = "sites"
     groups = "groups"
     devices = "devices"
     labels = "labels"
+    macs = "macs"
+    mpsk = "mpsk"
 
+# CloudAuthUploadType = Literal["mpsk", "mac"]
+class CloudAuthUploadType(str, Enum):
+    mpsk = "mpsk"
+    mac = "mac"
 
 class BatchDelArgs(str, Enum):
     sites = "sites"
     groups = "groups"
     devices = "devices"
     labels = "labels"
 
@@ -648,14 +682,21 @@
     enabled = "enabled"
     rf_band = "rf_band"
     mac_auth = "mac_auth"
     access_type = "access_type"
     group = "group"
 
 
+class SortNamedMpskOptions(str, Enum):
+    _id = "id"
+    name = "name"
+    role = "role"
+    status = "status"
+    mpsk = "mpsk"
+
 class SortDevOptions(str, Enum):
     name = "name"
     model = "model"
     ip = "ip"
     mac = "mac"
     serial = "serial"
     group = "group"
@@ -756,14 +797,24 @@
     city = "city"
     state = "state"
     zipcode = "zipcode"
     country = "country"
     associated_devices = "associated_devices"
 
 
+class SortGroupOptions(str, Enum):
+    name = "name"
+    AOSVersion = "AOSVersion"
+    AllowedDevTypes = "AllowedDevTypes"
+    ApNetworkRole = "ApNetworkRole"
+    Architecture = "Architecture"
+    GwNetworkRole = "GwNetworkRole"
+    template_group = "template_group"
+
+
 class SortVlanOptions(str, Enum):
     name = "name"
     pvid = "pvid"
     untagged = "untagged"
     tagged = "tagged"
     status = "status"
     mgmt = "mgmt"
```

### Comparing `centralcli-4.2.0/centralcli/logger.py` & `centralcli-5.0.0/centralcli/logger.py`

 * *Files 1% similar despite different names*

```diff
@@ -21,14 +21,15 @@
 #     "error": "[bright_red]",
 #     "exception": "[bright_red]",
 #     "critical": "[bright_red]",
 #     "fatal": "[bright_red]",
 #     "warning": "[dark_orange4]",
 # }
 console = Console(emoji=False, markup=False)
+emoji_console = Console(markup=False)
 to_debug = [
     "Loaded token from storage from file"
 ]
 
 
 class MyLogger:
     def __init__(self, log_file: Union[str, Path], debug: bool = False, show: bool = False, verbose: bool = False):
@@ -115,15 +116,15 @@
                 if i and i not in self.log_msgs:
                     _msgs.append(i)
 
         if show is not False and True in [show, self.show]:
             self.log_msgs += _msgs
             for m in self.log_msgs:
                 if console.is_terminal or environ.get("PYTEST_CURRENT_TEST"):
-                    typer.secho(m, fg=log_colors.get(level))
+                    emoji_console.print(f"{':warning:  ' if not level=='info' else ''}{m}")
             self.log_msgs = []
 
         if caption:
             self._caption = [*self._caption, *msgs]
 
     @property
     def level_name(self):
```

### Comparing `centralcli-4.2.0/centralcli/models.py` & `centralcli-5.0.0/centralcli/models.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 from __future__ import annotations
 from datetime import datetime
 from enum import Enum
-from typing import List, Optional, Union
+from typing import List, Optional, Union, Dict, Any
 
 import pendulum
 from pydantic import BaseModel, Field, validator, IPvAnyAddress
 
 
 
 class DeviceStatus(str, Enum):
@@ -565,8 +565,49 @@
     name: Name
     system_user: bool
     username: str
 
 
 class UserAccounts(BaseModel):
     items: List[Item]
-    total: int
+    total: int
+
+class CloudAuthUploadStats(BaseModel):
+    completed: int
+    failed: int
+    total: int
+
+
+class CloudAuthUploadResponse(BaseModel):
+    details: Dict[str, Any]
+    status: str
+    stats: CloudAuthUploadStats
+    submittedAt: datetime
+    lastUpdatedAt: datetime
+    durationNanos: int
+    fileName: str
+
+    _normalize_datetimes = validator("lastUpdatedAt", "submittedAt", allow_reuse=True)(lambda v: " ".join(pendulum.from_timestamp(v.timestamp(), tz="local").to_day_datetime_string().split()[1:]))
+
+    class Config:
+        json_encoders = {
+            datetime: lambda v: pendulum.from_timestamp(v).to_day_datetime_string(),
+        }
+
+class MpskNetwork(BaseModel):
+    id: str
+    ssid: str
+    accessURL: str
+    passwordPolicy: str
+
+
+class MpskNetworks(BaseModel):
+    items: List[MpskNetwork]
+
+
+class CacheMpskNetwork(BaseModel):
+    id: str
+    name: str = Field(alias="ssid")
+
+
+class CacheMpskNetworks(BaseModel):
+    items: List[CacheMpskNetwork]
```

### Comparing `centralcli-4.2.0/centralcli/objects.py` & `centralcli-5.0.0/centralcli/objects.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/render.py` & `centralcli-5.0.0/centralcli/render.py`

 * *Files 10% similar despite different names*

```diff
@@ -8,32 +8,32 @@
 render.py (this file) takes the normalized data, and displays it (various formats)
 '''
 from __future__ import annotations
 import sys
 from pathlib import Path
 from typing import Any, Dict, List, Literal, Union
 
-import tabulate
+from tabulate import tabulate
 import typer
 import yaml
 import json
 from pygments import formatters, highlight
 from rich.box import HORIZONTALS, SIMPLE
 from rich.console import Console
 from rich.table import Table
 from rich.text import Text
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
-    from centralcli import log, utils
+    from centralcli import utils
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
-        from centralcli import log, utils
+        from centralcli import utils
     else:
         print(pkg_dir.parts)
         raise e
 
 from centralcli import constants
 from centralcli.config import Config
 from centralcli.objects import Encoder
@@ -200,15 +200,15 @@
         customer_id = outdata[0].get("customer_id", "")
         customer_name = outdata[0].get("customer_name", "")
         outdata = [{k: v for k, v in d.items() if k not in CUST_KEYS} for d in outdata]
         raw_data = outdata
 
         outdata = _do_subtables(outdata, tablefmt="tabulate")
 
-        table_data = tabulate.tabulate(outdata, headers="keys", tablefmt="tabulate")
+        table_data = tabulate(outdata, headers="keys", tablefmt="tabulate")
         td = table_data.splitlines(keepends=True)
         if td:
             table_data = f"{typer.style(td[0], fg='cyan')}{''.join(td[1:])}"
 
         data_header = f"--\n{'Customer ID:':15}{customer_id}\n" \
                         f"{'Customer Name:':15} {customer_name}\n--\n"
         table_data = f"{data_header}{table_data}" if customer_id else f"{table_data}"
@@ -318,37 +318,48 @@
 def output(
     outdata: Union[List[str], Dict[str, Any]],
     tablefmt: str = "rich",
     title: str = None,
     caption: str = None,
     account: str = None,
     config: Config = None,
+    output_by_key: str | List[str] = "name",
     set_width_cols: dict = None,
     full_cols: Union[List[str], str] = [],
     fold_cols: Union[List[str], str] = [],
 ) -> Output:
-    # log.debugv(f"data passed to output():\n{pprint(outdata, indent=4)}")
+    output_by_key = utils.listify(output_by_key)
     raw_data = outdata
     _lexer = table_data = None
 
     if config and config.sanitize and raw_data and all(isinstance(x, dict) for x in raw_data):
         outdata = [{k: d[k] if k not in REDACT else "--redacted--" for k in d} for d in raw_data]
 
     # -- // List[str, ...] \\ --  Bypass all formatters, (config file output, etc...)
     if outdata and all(isinstance(x, str) for x in outdata):
         tablefmt = "strings"
 
-    # -- convert List[dict] --> Dict[dev_name: dict] for yaml/json outputs
+    # -- convert List[dict] --> Dict[dev_name: dict] for yaml/json outputs unless output_dict_by_key is specified, then use the provided key(s) rather than name
     if tablefmt in ['json', 'yaml', 'yml']:
         outdata = utils.listify(outdata)
-        if outdata and isinstance(outdata[0], dict) and 'name' in outdata[0]:
-            outdata: Dict[dict] = {
-                item['name']: {k: v for k, v in item.items() if k != 'name'}
-                for item in outdata
-            }
+        if output_by_key and outdata and isinstance(outdata[0], dict):
+            if len(output_by_key) == 1 and "+" in output_by_key[0]:
+                found_keys = [k for k in output_by_key[0].split("+") if k in outdata[0]]
+                if len(found_keys) == len(output_by_key[0].split("+")):
+                    outdata: Dict[dict] = {
+                        f"{'-'.join([item[key] for key in found_keys])}": {k: v for k, v in item.items()} for item in outdata
+                    }
+            else:
+                _output_key = [k for k in output_by_key if k in outdata[0]]
+                if _output_key:
+                    _output_key = _output_key[0]
+                    outdata: Dict[dict] = {
+                        item[_output_key]: {k: v for k, v in item.items() if k != _output_key}
+                        for item in outdata
+                    }
 
     if tablefmt == "json":
         outdata = utils.unlistify(outdata)
         console = Console(record=True, emoji=False)
         console.begin_capture()
         console.print_json(json.dumps(outdata, cls=Encoder))
         table_data = console.end_capture()
@@ -393,21 +404,20 @@
                 raw_data = outdata[0]
             else:  # template / config file output
                 # get rid of double nl @ EoF (configs)
                 if "\x1b" in outdata[0]:  # already styled (cass_output)
                     raw_data = typer.unstyle("{}\n".format('\n'.join(outdata).rstrip('\n')))
                     table_data = "{}\n".format('\n'.join(outdata).rstrip('\n'))
                 else:
-                    raw_data = table_data = "{}\n".format('\n'.join(outdata).rstrip('\n'))
+                    raw_data = "{}\n".format('\n'.join(outdata).rstrip('\n'))
                     table_data = rich_capture(raw_data)
 
-        else:
-            raw_data = table_data = '\n'.join(outdata)
-            # Not sure what hit's this, but it was created so something must
-            log.debug("List[str] else hit")
+        else:  # cencli show config <GW> is list of strings
+            raw_data = '\n'.join(outdata)
+            table_data = rich_capture(raw_data)
 
     if _lexer and raw_data:
         table_data = highlight(bytes(raw_data, 'UTF-8'),
                                 _lexer(),
                                 formatters.Terminal256Formatter(style='solarized-dark')
                                 )
 
@@ -421,14 +431,16 @@
     """Accept text or list of text with rich markups and return final colorized text with ascii control chars
 
     This is temporary as the rich context handler stopped working.  Can revert once fixed upstream
 
     Args:
         text (str | List[str]): The text or list of text to capture.
             If provided as list it will be converted to string (joined with \n)
+        emoji: (bool, Optional): Allow emoji placeholders.  Default: False
+        kwargs: additional kwargs passed to rich Console.
 
     Returns:
         str: text with markups converted to ascii control chars
     """
     if isinstance(text, list):
         "\n".join(text)
     console = Console(record=True, emoji=emoji, **kwargs)
```

### Comparing `centralcli-4.2.0/centralcli/response.py` & `centralcli-5.0.0/centralcli/response.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/static/favicon.ico` & `centralcli-5.0.0/centralcli/static/favicon.ico`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/strings.py` & `centralcli-5.0.0/centralcli/strings.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,15 +1,16 @@
 #!/usr/bin/env python3
 # -*- coding: utf-8 -*-
 from __future__ import annotations
 
 from rich.console import Console
 from rich.json import JSON
 from centralcli import log
-import tablib, yaml
+import tablib
+import yaml
 console = Console(emoji=False)
 
 # TODO typer now supports markup_mode="rich" Don't need the help below, can just put the markup in the docstr
 
 # [italic]Also supports a simple list of serial numbers with no header 1 per line.[reset]  # TODO implement this device del
 # TODO document examples and uncomment below.  provide examples for all format/types
 # print("See https://central-api-cli.readthedocs.io for full examples.
@@ -246,15 +247,15 @@
 [bright_green].csv example[reset]:
 -------------- csv --------------
 name\nphl-access\nsan-dc-tor\ncom-branches
 ---------------------------------
 {common_add_delete_end}
 """
 
-clibatch_delete_devices_help = f"""
+clibatch_delete_devices_help = """
 [bright_green]Perform batch Delete operations using import data from file.[/]
 
 [cyan]cencli delete sites <IMPORT_FILE>[/] and
 [cyan]cencli delte groups <IMPORT_FILE>[/]
     Do what you'd expect.
 
 [cyan]cencli batch delete devices <IMPORT_FILE>[/]
@@ -278,15 +279,15 @@
 cliadd_site_help = f"""
 [bright_green]Add a site.[/]
 
 Use '[dark_olive_green2]cencli batch add sites <IMPORT_FILE>[/]' to add multiple sites.
 {_site_common}
 """
 
-clibatch_deploy = f"""
+clibatch_deploy = """
 [bright_green]Batch Deploy[/]
 
 This is a placeholder
 TODO add deploy example
 """
 
 data="""serial,license
@@ -304,15 +305,15 @@
 
 {Example(data)}
 
 NOTE: Most batch operations are designed so the same file can be used for multiple automations
       the fields not required for a particular automation will be ignored.
 """
 
-clibatch_unsubscribe = f"""
+clibatch_unsubscribe = """
 [italic cyan]cencli batch unsubscribe IMPORT_FILE[/]:
 Accepts the following keys (include as header row for csv import):
     If importing yaml or json the following fields can optionally be under a 'devices' key
 
 [cyan]serial[/]
 
 [italic]Other fields can be included, but only serial, is evaluated
@@ -326,28 +327,65 @@
 CN12345680
 ---------------------------------------------------------
 
 NOTE: Most batch operations are designed so the same file can be used for multiple automations
       the fields not required for a particular automation will be ignored.
 """
 
+data="""Mac Address,Client Name
+00:09:B0:75:65:D1,Integra
+00:1B:4F:23:8A:3E,Avaya VoIP
+3C:A8:2A:A6:07:0B,HP Thin Client"""
+
+clibatch_add_macs = f"""
+[italic cyan]cencli batch add macs IMPORT_FILE[/]:
+
+Requires the following keys (include as header row for csv import):
+[cyan]Mac Address[/]
+Optional keys:
+[cyan]Client Name[/]
+
+{Example(data)}
+"""
+
+data="""Name,MPSK,Client Role,Status
+wade@example.com,chant chemo domain lugged,admin_users,enabled
+jerry@example.com,quick dumpster offset jack,dia,enabled
+stephanie@example.com,random here words go,general_users,enabled"""
+
+clibatch_add_mpsk = f"""
+[italic cyan]cencli batch add mpsk IMPORT_FILE --ssid <SSID>[/]:
+
+Requires the following keys (include as header row for csv import):
+[cyan]Name[/],[cyan]Client Role[/],[cyan]Status[/]
+
+:information:  MPSK will be randomly generated.
+:information:  Roles must exist in Central.
+:information:  [cyan]--ssid[/] Option is required when uploading Named MPSKs.
+
+
+{Example(data)}
+"""
+
 def do_capture(text: str) -> str:
     con = Console()
     con.begin_capture()
     con.print(text)
     ret = con.end_capture()
     return ret
 
 
 class ImportExamples:
     def __init__(self):
         self.add_devices = clibatch_add_devices
         self.add_sites = clibatch_add_sites
         self.add_groups = clibatch_add_groups
         self.add_labels = clibatch_add_labels
+        self.add_macs = clibatch_add_macs
+        self.add_mpsk = clibatch_add_mpsk
         self.delete_devices = clibatch_delete_devices
         self.delete_sites = clibatch_delete_sites
         self.delete_groups = clibatch_delete_groups
         self.delete_labels = clibatch_delete_labels
         self.add_site = cliadd_site_help
         self.deploy = clibatch_deploy
         self.subscribe = clibatch_subscribe
```

### Comparing `centralcli-4.2.0/centralcli/utils.py` & `centralcli-5.0.0/centralcli/utils.py`

 * *Files 5% similar despite different names*

```diff
@@ -779,8 +779,27 @@
                     )
                 raise typer.Exit(1)
 
         if not cli_cmds:
             print(":x: [bright_red]Error:[/] No cli commands.")
             raise typer.Exit(1)
 
-        return cli_cmds
+        return cli_cmds
+
+    def get_interfaces_from_range(self, interfaces: str | List[str]) -> List[str]:
+        console = Console(stderr=True)
+        interfaces = self.listify(interfaces)
+
+        def expand_range(interface_range: str) -> List[str]:
+            if "-" not in interface_range:
+                return self.listify(interface_range)
+            elif interface_range.count("-") > 1:
+                console.print("Invalid Interface Range, expected a single '-'")
+                raise typer.Exit(1)
+            _start, _end = interface_range.split("-")
+            if "/".join(_start.split("/")[0:-1]) != "/".join(_end.split("/")[0:-1]):
+                console.print(f'Interface range can not go beyond the same stack-member/module [cyan]{"/".join(_start.split("/")[0:-1])}[/] in start or range should match [cyan]{"/".join(_end.split("/")[0:-1])}[/] specified as end of range.')
+                raise typer.Exit(1)
+            prefix = "/".join(_start.split("/")[0:-1])
+            return [f"{prefix}/{p}" for p in range(int(_start.split("/")[-1]), int(_end.split("/")[-1]) + 1)]
+
+        return [iface for port in interfaces for p in port.split(",") for iface in expand_range(p)]
```

### Comparing `centralcli-4.2.0/centralcli/vscodeargs.py` & `centralcli-5.0.0/centralcli/vscodeargs.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/wh2snow.py` & `centralcli-5.0.0/centralcli/wh2snow.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/centralcli/wh_proxy.py` & `centralcli-5.0.0/centralcli/wh_proxy.py`

 * *Files identical despite different names*

### Comparing `centralcli-4.2.0/pyproject.toml` & `centralcli-5.0.0/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "centralcli"
-version = "4.2.0"
+version = "5.0.0"
 description = "A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central."
 license = "MIT"
 authors = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 maintainers = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 readme = "README.md"
 repository = "https://github.com/Pack3tL0ss/central-api-cli"
 documentation = "https://central-api-cli.readthedocs.org"
```

### Comparing `centralcli-4.2.0/PKG-INFO` & `centralcli-5.0.0/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: centralcli
-Version: 4.2.0
+Version: 5.0.0
 Summary: A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central.
 Home-page: https://github.com/Pack3tL0ss/central-api-cli
 License: MIT
 Keywords: cli,Aruba,Aruba Networks,Aruba Central,HPE,API,RESTFUL,REST
 Author: Wade Wells (Pack3tL0ss)
 Author-email: wade@consolepi.org
 Maintainer: Wade Wells (Pack3tL0ss)
```

