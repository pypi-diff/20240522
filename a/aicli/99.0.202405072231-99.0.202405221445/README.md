# Comparing `tmp/aicli-99.0.202405072231-py3-none-any.whl.zip` & `tmp/aicli-99.0.202405221445-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,22 @@
-Zip file size: 40448 bytes, number of entries: 20
--rw-r--r--  2.0 unx    85478 b- defN 24-May-07 22:30 ailib/__init__.py
--rw-r--r--  2.0 unx    77108 b- defN 24-May-07 22:30 ailib/cli.py
--rw-r--r--  2.0 unx    15654 b- defN 24-May-07 22:30 ailib/common/__init__.py
--rw-r--r--  2.0 unx      975 b- defN 24-May-07 22:30 ailib/common/registries.conf.templ
--rw-r--r--  2.0 unx       58 b- defN 24-May-07 22:30 ailib/common/relocate/00-relocate-namespace.yaml
--rw-r--r--  2.0 unx      847 b- defN 24-May-07 22:30 ailib/common/relocate/10-relocate-ip.yaml
--rw-r--r--  2.0 unx       85 b- defN 24-May-07 22:30 ailib/common/relocate/97-relocate-sa.yaml
--rw-r--r--  2.0 unx      254 b- defN 24-May-07 22:30 ailib/common/relocate/98-relocate-binding.yaml
--rw-r--r--  2.0 unx      200 b- defN 24-May-07 22:30 ailib/common/relocate/99-ovn.yaml
--rw-r--r--  2.0 unx     1083 b- defN 24-May-07 22:30 ailib/common/relocate/99-relocate-job.yaml
--rw-r--r--  2.0 unx      752 b- defN 24-May-07 22:30 ailib/common/relocate/hack.ign
--rw-r--r--  2.0 unx      196 b- defN 24-May-07 22:30 ailib/common/relocate/hack.sh
--rw-r--r--  2.0 unx      169 b- defN 24-May-07 22:30 ailib/common/relocate/hack_sno.sh
--rw-r--r--  2.0 unx      728 b- defN 24-May-07 22:30 ailib/common/relocate/relocate-ip.sh
--rw-r--r--  2.0 unx    13060 b- defN 24-May-07 22:30 ailib/kfish/__init__.py
--rw-r--r--  2.0 unx      352 b- defN 24-May-07 22:31 aicli-99.0.202405072231.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-07 22:31 aicli-99.0.202405072231.dist-info/WHEEL
--rw-r--r--  2.0 unx       40 b- defN 24-May-07 22:31 aicli-99.0.202405072231.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        6 b- defN 24-May-07 22:31 aicli-99.0.202405072231.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1777 b- defN 24-May-07 22:31 aicli-99.0.202405072231.dist-info/RECORD
-20 files, 198914 bytes uncompressed, 37492 bytes compressed:  81.2%
+Zip file size: 40465 bytes, number of entries: 20
+-rw-r--r--  2.0 unx    85629 b- defN 24-May-22 14:44 ailib/__init__.py
+-rw-r--r--  2.0 unx    77090 b- defN 24-May-22 14:44 ailib/cli.py
+-rw-r--r--  2.0 unx    15654 b- defN 24-May-22 14:44 ailib/common/__init__.py
+-rw-r--r--  2.0 unx      975 b- defN 24-May-22 14:44 ailib/common/registries.conf.templ
+-rw-r--r--  2.0 unx       58 b- defN 24-May-22 14:44 ailib/common/relocate/00-relocate-namespace.yaml
+-rw-r--r--  2.0 unx      847 b- defN 24-May-22 14:44 ailib/common/relocate/10-relocate-ip.yaml
+-rw-r--r--  2.0 unx       85 b- defN 24-May-22 14:44 ailib/common/relocate/97-relocate-sa.yaml
+-rw-r--r--  2.0 unx      254 b- defN 24-May-22 14:44 ailib/common/relocate/98-relocate-binding.yaml
+-rw-r--r--  2.0 unx      200 b- defN 24-May-22 14:44 ailib/common/relocate/99-ovn.yaml
+-rw-r--r--  2.0 unx     1083 b- defN 24-May-22 14:44 ailib/common/relocate/99-relocate-job.yaml
+-rw-r--r--  2.0 unx      752 b- defN 24-May-22 14:44 ailib/common/relocate/hack.ign
+-rw-r--r--  2.0 unx      196 b- defN 24-May-22 14:44 ailib/common/relocate/hack.sh
+-rw-r--r--  2.0 unx      169 b- defN 24-May-22 14:44 ailib/common/relocate/hack_sno.sh
+-rw-r--r--  2.0 unx      728 b- defN 24-May-22 14:44 ailib/common/relocate/relocate-ip.sh
+-rw-r--r--  2.0 unx    13060 b- defN 24-May-22 14:44 ailib/kfish/__init__.py
+-rw-r--r--  2.0 unx      352 b- defN 24-May-22 14:45 aicli-99.0.202405221445.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 14:45 aicli-99.0.202405221445.dist-info/WHEEL
+-rw-r--r--  2.0 unx       40 b- defN 24-May-22 14:45 aicli-99.0.202405221445.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        6 b- defN 24-May-22 14:45 aicli-99.0.202405221445.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1777 b- defN 24-May-22 14:45 aicli-99.0.202405221445.dist-info/RECORD
+20 files, 199047 bytes uncompressed, 37509 bytes compressed:  81.2%
```

## zipnote {}

```diff
@@ -39,23 +39,23 @@
 
 Filename: ailib/common/relocate/relocate-ip.sh
 Comment: 
 
 Filename: ailib/kfish/__init__.py
 Comment: 
 
-Filename: aicli-99.0.202405072231.dist-info/METADATA
+Filename: aicli-99.0.202405221445.dist-info/METADATA
 Comment: 
 
-Filename: aicli-99.0.202405072231.dist-info/WHEEL
+Filename: aicli-99.0.202405221445.dist-info/WHEEL
 Comment: 
 
-Filename: aicli-99.0.202405072231.dist-info/entry_points.txt
+Filename: aicli-99.0.202405221445.dist-info/entry_points.txt
 Comment: 
 
-Filename: aicli-99.0.202405072231.dist-info/top_level.txt
+Filename: aicli-99.0.202405221445.dist-info/top_level.txt
 Comment: 
 
-Filename: aicli-99.0.202405072231.dist-info/RECORD
+Filename: aicli-99.0.202405221445.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## ailib/__init__.py

```diff
@@ -1009,15 +1009,15 @@
                     info(f"Updating host with id {host_id}")
                     host_update_params = models.HostUpdateParams(**host_update_params)
                     self.client.v2_update_host(infra_env_id=infra_env_id, host_id=host_id,
                                                host_update_params=host_update_params)
                 elif not bind_updated and not extra_args_updated and not ignition_updated:
                     warning("Nothing updated for this host")
 
-    def wait_hosts(self, name, number=3, filter_installed=False, require_inventory=False):
+    def wait_hosts(self, name, number=3, filter_installed=False, require_inventory=False, filter_insufficient=False):
         client = self.client
         self.refresh_token(self.token, self.offlinetoken)
         infra_env_id = self.get_infra_env_id(name)
         infra_env = client.get_infra_env(infra_env_id=infra_env_id)
         cluster_id = infra_env.cluster_id
         if cluster_id is not None and client.v2_get_cluster(cluster_id=cluster_id).high_availability_mode == 'None':
             number = 1
@@ -1025,14 +1025,16 @@
         while True:
             try:
                 current_hosts = client.v2_list_hosts(infra_env_id=infra_env_id)
                 if require_inventory:
                     current_hosts = [h for h in current_hosts if 'inventory' in h]
                 if filter_installed:
                     current_hosts = [h for h in current_hosts if h['status'] != 'installed']
+                if filter_insufficient:
+                    current_hosts = [h for h in current_hosts if h['status'] != 'insufficient']
                 if len(current_hosts) >= number:
                     return
                 else:
                     sleep(5)
                     self.refresh_token(self.token, self.offlinetoken)
             except KeyboardInterrupt:
                 info("Leaving as per your request")
@@ -1578,19 +1580,19 @@
         host_id = str(uuid1())
         info(f"Using uuid {host_id}")
         new_host_params = {"host_id": host_id, "discovery_agent_version": agent_version}
         new_host_params = models.HostCreateParams(**new_host_params)
         self.client.api_client.default_headers['X-Secret-Key'] = secret_key
         self.client.v2_register_host(infra_env_id=infra_env_id, new_host_params=new_host_params)
 
-    def scale_deployment(self, cluster, overrides, force=False, debug=False):
+    def scale_deployment(self, cluster, overrides, debug=False):
+        infraenv = f"{cluster}_infra-env"
+        minimal = overrides.get('minimal', False)
         if cluster.endswith('-day2'):
-            self.create_cluster(cluster, overrides.copy(), force=force)
-            infraenv = f"{cluster}_infra-env"
-            minimal = overrides.get('minimal', False)
+            self.create_cluster(cluster, overrides.copy())
             overrides['cluster'] = cluster
             self.create_infra_env(infraenv, overrides)
             del overrides['cluster']
         else:
             info_cluster = self.info_cluster(cluster)
             if info_cluster.status != 'adding-hosts':
                 self.update_cluster(cluster, {'day2': True})
@@ -1612,17 +1614,17 @@
             else:
                 overrides['iso_url'] = iso_url
         download_iso_cmd = overrides.get('download_iso_cmd')
         if download_iso_cmd is not None:
             call(download_iso_cmd, shell=True)
         hosts_number = len(overrides.get('hosts', [0, 0]))
         info(f"Setting hosts_number to {hosts_number}")
-        if 'hosts' not in overrides:
+        if 'hosts' in overrides:
             boot_overrides = overrides.copy()
             boot_overrides['cluster'] = cluster
             boot_result = boot_hosts(boot_overrides, debug=debug)
             if boot_result != 0:
                 return {'result': 'failure', 'reason': 'Hit issue when booting hosts'}
-        self.wait_hosts(infraenv, hosts_number, filter_installed=True, require_inventory=True)
+        self.wait_hosts(infraenv, hosts_number, filter_installed=True, require_inventory=True, filter_insufficient=True)
         hosts = [h['requested_hostname'] for h in self.list_hosts() if h['status'] != 'installed']
         self.start_hosts(hosts)
         return {'result': 'success'}
```

## ailib/cli.py

```diff
@@ -222,15 +222,15 @@
 
 
 def scale_deployment(args):
     info(f"Scaling deployment {args.cluster}")
     overrides = handle_parameters(args.param, args.paramfile)
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
-    ai.scale_deployment(args.cluster, overrides, force=args.force, debug=args.debugredfish)
+    ai.scale_deployment(args.cluster, overrides, debug=args.debugredfish)
 
 
 def create_manifests(args):
     info(f"Uploading manifests for Cluster {args.cluster}")
     directory = args.dir
     openshift = args.openshift
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
```

## Comparing `aicli-99.0.202405072231.dist-info/RECORD` & `aicli-99.0.202405221445.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,20 +1,20 @@
-ailib/__init__.py,sha256=muY3ua3BB4SIDw2fIB9sLBDsuRe5OjrQ12pLpzIF3lk,85478
-ailib/cli.py,sha256=mUmmQMIVlSv_bR76pLWYL_GWSG7URyBVVK_FSjquXg8,77108
+ailib/__init__.py,sha256=4Hzk02o82PeOzrJKAonA4f0KCY77BaZCokxbT6C44Tk,85629
+ailib/cli.py,sha256=wO90oVLQxvhoJZcOyOMRSEDpJZOyLLvzjGYoAkRSLmg,77090
 ailib/common/__init__.py,sha256=zF6Yd9W03sK6n4Ft5mV6geWlbc7DbKwgFpsrCfclAM4,15654
 ailib/common/registries.conf.templ,sha256=4-QCZhi53vARMQztzjSPBx63WMY7naWBhYMJvJ9TNL4,975
 ailib/common/relocate/00-relocate-namespace.yaml,sha256=GcYRATh9o2xR091jMydeM9-jgnugYsNg3r9kzgCir8I,58
 ailib/common/relocate/10-relocate-ip.yaml,sha256=qKHvnn1-xyvROjuyl1f4TXqItGmERJ8GqizzstocOo0,847
 ailib/common/relocate/97-relocate-sa.yaml,sha256=cUOmmQJG9Yzhad1ZnW_utpqLEWtRgl7qUX-pmc508rI,85
 ailib/common/relocate/98-relocate-binding.yaml,sha256=rZmKz4Ev9-VtJVMT8CbkpcIWJ6ZfK9Qy809b5DK3KHw,254
 ailib/common/relocate/99-ovn.yaml,sha256=x5ActE4VnDw0s2YZr2RV9bRijttztaiHktkSm9neQII,200
 ailib/common/relocate/99-relocate-job.yaml,sha256=SsufiIEoeNJzZ8bGZtlYI14_V08_xnuHCt6ufeKRxfE,1083
 ailib/common/relocate/hack.ign,sha256=LvCDvzZyC5Apzik-OmJZMBG4MlkBsCm91OMt7NBwJtI,752
 ailib/common/relocate/hack.sh,sha256=X-FqHruR9IzlaUVtJc_NQnOyyG_zp45iUcb0pTRsgE0,196
 ailib/common/relocate/hack_sno.sh,sha256=gLVNgk0A7gu-MJnO2qV-ZeIKxSUYPm_Wtxix5EDqAkc,169
 ailib/common/relocate/relocate-ip.sh,sha256=hD-z8wDk-ZDIcmxo384pGXqxmEkPXT5icM7A_h1in0Q,728
 ailib/kfish/__init__.py,sha256=gl-cIRHWy84gmHlWeXKdH_GsmUR3EWw8ocMGRcUzFuk,13060
-aicli-99.0.202405072231.dist-info/METADATA,sha256=E81p9ltj0sgtFngrSN15efZCXbMn7m7latrIPfBCTTE,352
-aicli-99.0.202405072231.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-aicli-99.0.202405072231.dist-info/entry_points.txt,sha256=7uqZ_1svrJHY6WVurmsOhlEb_FiRFEgdEnKj_7BuT0Q,40
-aicli-99.0.202405072231.dist-info/top_level.txt,sha256=uCyBeu-We3_G6jzv4SY05Rg3VHcZ2_Dr7dcFduB8Wsw,6
-aicli-99.0.202405072231.dist-info/RECORD,,
+aicli-99.0.202405221445.dist-info/METADATA,sha256=tjlka4IEEiigC0AZHrk2T4Y-1A0JtIDkU-QDREDrhq8,352
+aicli-99.0.202405221445.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+aicli-99.0.202405221445.dist-info/entry_points.txt,sha256=7uqZ_1svrJHY6WVurmsOhlEb_FiRFEgdEnKj_7BuT0Q,40
+aicli-99.0.202405221445.dist-info/top_level.txt,sha256=uCyBeu-We3_G6jzv4SY05Rg3VHcZ2_Dr7dcFduB8Wsw,6
+aicli-99.0.202405221445.dist-info/RECORD,,
```

