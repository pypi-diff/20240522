# Comparing `tmp/webdrivermanager_cn-1.5.3-py3-none-any.whl.zip` & `tmp/webdrivermanager_cn-1.6.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,26 @@
-Zip file size: 22169 bytes, number of entries: 23
--rw-r--r--  2.0 unx      315 b- defN 24-May-20 07:36 webdrivermanager_cn/__init__.py
--rw-r--r--  2.0 unx      743 b- defN 24-May-20 07:36 webdrivermanager_cn/chrome.py
--rw-r--r--  2.0 unx      512 b- defN 24-May-20 07:36 webdrivermanager_cn/geckodriver.py
--rw-r--r--  2.0 unx      301 b- defN 24-May-20 07:36 webdrivermanager_cn/microsoft.py
--rw-r--r--  2.0 unx        0 b- defN 24-May-20 07:36 webdrivermanager_cn/core/__init__.py
--rw-r--r--  2.0 unx     5241 b- defN 24-May-20 07:36 webdrivermanager_cn/core/cache_manager.py
--rw-r--r--  2.0 unx     1880 b- defN 24-May-20 07:36 webdrivermanager_cn/core/config.py
--rw-r--r--  2.0 unx     1079 b- defN 24-May-20 07:36 webdrivermanager_cn/core/download_manager.py
--rw-r--r--  2.0 unx     4571 b- defN 24-May-20 07:36 webdrivermanager_cn/core/driver.py
--rw-r--r--  2.0 unx     3819 b- defN 24-May-20 07:36 webdrivermanager_cn/core/file_manager.py
--rw-r--r--  2.0 unx     1042 b- defN 24-May-20 07:36 webdrivermanager_cn/core/log_manager.py
--rw-r--r--  2.0 unx     2036 b- defN 24-May-20 07:36 webdrivermanager_cn/core/os_manager.py
--rw-r--r--  2.0 unx       86 b- defN 24-May-20 07:36 webdrivermanager_cn/core/time_.py
--rw-r--r--  2.0 unx     6260 b- defN 24-May-20 07:36 webdrivermanager_cn/core/version_manager.py
--rw-r--r--  2.0 unx        0 b- defN 24-May-20 07:36 webdrivermanager_cn/drivers/__init__.py
--rw-r--r--  2.0 unx     2425 b- defN 24-May-20 07:36 webdrivermanager_cn/drivers/chrome.py
--rw-r--r--  2.0 unx     1379 b- defN 24-May-20 07:36 webdrivermanager_cn/drivers/geckodriver.py
--rw-r--r--  2.0 unx     1666 b- defN 24-May-20 07:36 webdrivermanager_cn/drivers/microsoft.py
--rw-r--r--  2.0 unx    11558 b- defN 24-May-20 07:38 webdrivermanager_cn-1.5.3.dist-info/LICENSE
--rw-r--r--  2.0 unx     3791 b- defN 24-May-20 07:38 webdrivermanager_cn-1.5.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-20 07:38 webdrivermanager_cn-1.5.3.dist-info/WHEEL
--rw-r--r--  2.0 unx       20 b- defN 24-May-20 07:38 webdrivermanager_cn-1.5.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2127 b- defN 24-May-20 07:38 webdrivermanager_cn-1.5.3.dist-info/RECORD
-23 files, 50943 bytes uncompressed, 18629 bytes compressed:  63.4%
+Zip file size: 22789 bytes, number of entries: 24
+-rw-r--r--  2.0 unx      344 b- defN 24-May-22 02:47 webdrivermanager_cn/__init__.py
+-rw-r--r--  2.0 unx      743 b- defN 24-May-22 02:47 webdrivermanager_cn/chrome.py
+-rw-r--r--  2.0 unx      512 b- defN 24-May-22 02:47 webdrivermanager_cn/geckodriver.py
+-rw-r--r--  2.0 unx      301 b- defN 24-May-22 02:47 webdrivermanager_cn/microsoft.py
+-rw-r--r--  2.0 unx       18 b- defN 24-May-22 02:47 webdrivermanager_cn/version.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-22 02:47 webdrivermanager_cn/core/__init__.py
+-rw-r--r--  2.0 unx     5241 b- defN 24-May-22 02:47 webdrivermanager_cn/core/cache_manager.py
+-rw-r--r--  2.0 unx     2536 b- defN 24-May-22 02:47 webdrivermanager_cn/core/config.py
+-rw-r--r--  2.0 unx     1468 b- defN 24-May-22 02:47 webdrivermanager_cn/core/download_manager.py
+-rw-r--r--  2.0 unx     4571 b- defN 24-May-22 02:47 webdrivermanager_cn/core/driver.py
+-rw-r--r--  2.0 unx     3819 b- defN 24-May-22 02:47 webdrivermanager_cn/core/file_manager.py
+-rw-r--r--  2.0 unx     1042 b- defN 24-May-22 02:47 webdrivermanager_cn/core/log_manager.py
+-rw-r--r--  2.0 unx     2036 b- defN 24-May-22 02:47 webdrivermanager_cn/core/os_manager.py
+-rw-r--r--  2.0 unx       86 b- defN 24-May-22 02:47 webdrivermanager_cn/core/time_.py
+-rw-r--r--  2.0 unx     6674 b- defN 24-May-22 02:47 webdrivermanager_cn/core/version_manager.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-22 02:47 webdrivermanager_cn/drivers/__init__.py
+-rw-r--r--  2.0 unx     2425 b- defN 24-May-22 02:47 webdrivermanager_cn/drivers/chrome.py
+-rw-r--r--  2.0 unx     1379 b- defN 24-May-22 02:47 webdrivermanager_cn/drivers/geckodriver.py
+-rw-r--r--  2.0 unx     1880 b- defN 24-May-22 02:47 webdrivermanager_cn/drivers/microsoft.py
+-rw-r--r--  2.0 unx    11558 b- defN 24-May-22 02:47 webdrivermanager_cn-1.6.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     3791 b- defN 24-May-22 02:47 webdrivermanager_cn-1.6.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 02:47 webdrivermanager_cn-1.6.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       20 b- defN 24-May-22 02:47 webdrivermanager_cn-1.6.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2212 b- defN 24-May-22 02:47 webdrivermanager_cn-1.6.0.dist-info/RECORD
+24 files, 52748 bytes uncompressed, 19113 bytes compressed:  63.8%
```

## zipnote {}

```diff
@@ -6,14 +6,17 @@
 
 Filename: webdrivermanager_cn/geckodriver.py
 Comment: 
 
 Filename: webdrivermanager_cn/microsoft.py
 Comment: 
 
+Filename: webdrivermanager_cn/version.py
+Comment: 
+
 Filename: webdrivermanager_cn/core/__init__.py
 Comment: 
 
 Filename: webdrivermanager_cn/core/cache_manager.py
 Comment: 
 
 Filename: webdrivermanager_cn/core/config.py
@@ -48,23 +51,23 @@
 
 Filename: webdrivermanager_cn/drivers/geckodriver.py
 Comment: 
 
 Filename: webdrivermanager_cn/drivers/microsoft.py
 Comment: 
 
-Filename: webdrivermanager_cn-1.5.3.dist-info/LICENSE
+Filename: webdrivermanager_cn-1.6.0.dist-info/LICENSE
 Comment: 
 
-Filename: webdrivermanager_cn-1.5.3.dist-info/METADATA
+Filename: webdrivermanager_cn-1.6.0.dist-info/METADATA
 Comment: 
 
-Filename: webdrivermanager_cn-1.5.3.dist-info/WHEEL
+Filename: webdrivermanager_cn-1.6.0.dist-info/WHEEL
 Comment: 
 
-Filename: webdrivermanager_cn-1.5.3.dist-info/top_level.txt
+Filename: webdrivermanager_cn-1.6.0.dist-info/top_level.txt
 Comment: 
 
-Filename: webdrivermanager_cn-1.5.3.dist-info/RECORD
+Filename: webdrivermanager_cn-1.6.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## webdrivermanager_cn/__init__.py

```diff
@@ -1,12 +1,11 @@
 from webdrivermanager_cn.chrome import ChromeDriverManager
 from webdrivermanager_cn.geckodriver import GeckodriverManager
 from webdrivermanager_cn.microsoft import EdgeWebDriverManager
-
-VERSION = '1.5.3'
+from webdrivermanager_cn.version import VERSION
 
 __all__ = [
     'VERSION',
     'ChromeDriverManager',
     'EdgeWebDriverManager',
     'GeckodriverManager',
 ]
```

## webdrivermanager_cn/core/config.py

```diff
@@ -1,13 +1,15 @@
 # ------------------
 # Driver 源相关
 # ------------------
 import logging
 import os
 
+from urllib3 import disable_warnings
+
 # ChromeDriver 源地址
 ChromeDriverUrl = 'https://registry.npmmirror.com/-/binary/chromedriver'
 ChromeDriverUrlNew = 'https://registry.npmmirror.com/-/binary/chrome-for-testing'
 ChromeDriver = 'https://googlechromelabs.github.io/chrome-for-testing'
 ChromeDriverApiNew = 'https://gitee.com/Joker_JH/DriverRelease/raw/master/ChromeDriverLastVersion.json'
 
 # Firefox 驱动源地址
@@ -28,46 +30,80 @@
         return value
     return value.lower() in ['true', '1']
 
 
 def init_log():
     """
     是否初始化WDM默认logger
-    默认为False
+    默认为 False
     执行以下代码为开启
     os.environ['WDM_LOG'] = 'true'
     :return:
     """
     try:
         return str2bool(os.getenv('WDM_LOG', False))
     except:
         return False
 
 
 def init_log_level():
     """
     初始化默认WDM日志等级
-    当 init_log 函数返回值为True时生效
+    当 init_log 函数返回值为 True 时生效
     执行以下代码修改
     os.environ['WDM_LOG_LEVEL'] = f'{logging.INFO}'
     :return:
     """
     default = logging.INFO
     try:
         return int(os.getenv('WDM_LOG_LEVEL', default))
     except:
         return default
 
 
 def clear_wdm_cache_time():
     """
     清理超过时间的 WebDriver
-    默认为5天
+    默认为 5 天
     执行以下代码修改
     os.environ['WDM_CACHE_TIME'] = 5
     :return:
     """
     default = 5
     try:
         return int(os.getenv('WDM_CACHE_TIME', default))
     except:
         return default
+
+
+def verify_not():
+    """
+    禁用SSL认证（代理）
+    默认为 False
+    执行以下代码修改
+    os.environ['WDM_VERIFY'] = 'true'
+    :return:
+    """
+    default = False
+    try:
+        return str2bool(os.getenv('WDM_VERIFY', default))
+    except:
+        return default
+
+
+if not verify_not():
+    disable_warnings()
+
+
+def request_timeout():
+    """
+    请求超时时间
+    默认为 10 秒
+    执行以下代码修改
+    os.environ['WDM_TIMEOUT'] = 10
+    :return:
+    """
+    default = 10
+    try:
+        return int(os.getenv('WDM_TIMEOUT', default))
+    except:
+        return default
```

## webdrivermanager_cn/core/download_manager.py

```diff
@@ -1,33 +1,44 @@
 """
 下载
 """
 import os
 
 import requests as requests
 
+from webdrivermanager_cn.core.config import verify_not, request_timeout
+from webdrivermanager_cn.version import VERSION
 from webdrivermanager_cn.core.log_manager import wdm_logger
 
 
+def headers(**kwargs):
+    _headers = {
+        'User-Agent': f'python-requests/{requests.__version__} webdrivermanagercn/{VERSION}'
+    }
+    _headers.update(kwargs)
+    return _headers
+
+
 class DownloadManager:
     """
     文件下载
     """
 
     def download_file(self, url, down_path):
         """
         从指定的url中下载文件到指定目录中
         :param url:
         :param down_path:
         :return:
         """
         wdm_logger().debug(f'开始执行下载: {url}')
-        response = requests.get(url, timeout=15)
+        response = requests.get(url, timeout=request_timeout(), headers=headers(), verify=verify_not())
         wdm_logger().debug(f'url: {url} - {response.status_code}')
         response.raise_for_status()
+        response.close()
         wdm_logger().debug(f'本地下载路径: {down_path}')
         os.makedirs(down_path, exist_ok=True)
         file_path = os.path.join(down_path, self.get_filename_by_url(url))
         with open(file_path, "wb") as f:
             f.write(response.content)
         return file_path
```

## webdrivermanager_cn/core/version_manager.py

```diff
@@ -5,14 +5,16 @@
 import re
 import subprocess
 
 import requests
 from packaging import version as vs
 
 from webdrivermanager_cn.core import config
+from webdrivermanager_cn.core.config import verify_not, request_timeout
+from webdrivermanager_cn.core.download_manager import headers
 from webdrivermanager_cn.core.log_manager import wdm_logger
 from webdrivermanager_cn.core.os_manager import OSManager, OSType
 
 
 class ClientType:
     Chrome = "google-chrome"
     Chromium = "chromium"
@@ -62,15 +64,17 @@
 
     @property
     def _version_list(self):
         """
         解析driver url，获取所有driver版本
         :return:
         """
-        response_data = requests.get(self.get_host, timeout=15).json()
+        response = requests.get(self.get_host, timeout=request_timeout(), headers=headers(), verify=verify_not())
+        response.close()
+        response_data = response.json()
         return [i["name"].replace("/", "") for i in response_data if 'LATEST' not in i]
 
     def _get_chrome_correct_version(self):
         """
         根据Chrome版本，返回源上找到合适的ChromeDriver版本
         :return:
         """
@@ -174,18 +178,20 @@
     def get_chrome_latest_version(flag='Stable'):
         """
         获取最新版本的ChromeDriver版本
         :param flag: Stable、Beta、Dev、Canary
         :return:
         """
         assert flag in ['Stable', 'Beta', 'Dev', 'Canary'], '参数异常！'
-        response = requests.get(config.ChromeDriverApiNew)
+        response = requests.get(config.ChromeDriverApiNew, timeout=request_timeout(), headers=headers(), verify=verify_not())
+        response.close()
         return response.json()['channels'][flag]['version']
 
     @property
     def get_geckodriver_version(self):
         """
         获取Firefox driver版本信息
         :return:
         """
-        response = requests.get(url=config.GeckodriverApiNew, timeout=15)
+        response = requests.get(url=config.GeckodriverApiNew, timeout=request_timeout(), headers=headers(), verify=verify_not())
+        response.close()
         return response.json()["latest"]
```

## webdrivermanager_cn/drivers/microsoft.py

```diff
@@ -1,10 +1,12 @@
 import requests
 
 from webdrivermanager_cn.core import config
+from webdrivermanager_cn.core.config import verify_not, request_timeout
+from webdrivermanager_cn.core.download_manager import headers
 from webdrivermanager_cn.core.driver import DriverManager
 from webdrivermanager_cn.core.os_manager import OSType
 from webdrivermanager_cn.core.version_manager import GetClientVersion, ClientType
 
 
 class EdgeDriver(DriverManager):
     def __init__(self, version=None, path=None):
@@ -38,9 +40,10 @@
         if _os_name == OSType.WIN:
             suffix = "windows"
         elif _os_name == OSType.MAC:
             suffix = "macos"
         else:
             suffix = OSType.LINUX
         latest_url = f"{config.EdgeDriverUrl}/LATEST_RELEASE_{client_version_parser.version_obj.major}_{suffix.upper()}"
-        response = requests.get(latest_url, timeout=15)
+        response = requests.get(latest_url, timeout=request_timeout(), headers=headers(), verify=verify_not())
+        response.close()
         return response.text.strip()
```

## Comparing `webdrivermanager_cn-1.5.3.dist-info/LICENSE` & `webdrivermanager_cn-1.6.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `webdrivermanager_cn-1.5.3.dist-info/METADATA` & `webdrivermanager_cn-1.6.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: webdrivermanager-cn
-Version: 1.5.3
+Version: 1.6.0
 Summary: 基于阿里源开发的WebDriver管理工具
 Home-page: https://gitee.com/Joker_JH/webdrivermanagercn
 Author: 御风
 Author-email: eternallyyf@163.com
 License: Apache License 2.0
 Platform: UNKNOWN
 Requires-Python: >=3.7
```

## Comparing `webdrivermanager_cn-1.5.3.dist-info/RECORD` & `webdrivermanager_cn-1.6.0.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,23 +1,24 @@
-webdrivermanager_cn/__init__.py,sha256=ROgJ4i9hnvbeyJN7Ba_8SFXRlAGQ3h9Wp4LMB-4rTAA,315
+webdrivermanager_cn/__init__.py,sha256=ZDtmrJ2BvZtZwxCIbix9UW4JCasscCkj6xCa_wMc1qo,344
 webdrivermanager_cn/chrome.py,sha256=UcVUJfTPRkKzOaSvdu8YPGiJ9x_6aIbkBOCLYdCxRFk,743
 webdrivermanager_cn/geckodriver.py,sha256=9wOwZCPRTw6-SW30kNih7gIc6VzyAimqGIA6g02Gkfs,512
 webdrivermanager_cn/microsoft.py,sha256=vnp3UZqSUilUhgqRCAhtCdLZ0DUbzYDpDHEH8YU7R5w,301
+webdrivermanager_cn/version.py,sha256=2Sgdn0cIyeJqQJLhe7xBocPdlxnfeDXK0xpKZZBnf64,18
 webdrivermanager_cn/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 webdrivermanager_cn/core/cache_manager.py,sha256=m1G73eXKPh-6uPlWzb5xBIzkddkx6Rpny4nqJgq0nXs,5241
-webdrivermanager_cn/core/config.py,sha256=1F98HQOs98owfMPwRaVKum8nDg8RXX7-d_-C-n7gFVY,1880
-webdrivermanager_cn/core/download_manager.py,sha256=sVLsS2Se_cfXgOcHJ1TT4SZzGFIeV4OSIJ4Co4vhy3U,1079
+webdrivermanager_cn/core/config.py,sha256=GPYCAIavidBaWqVzw5AXqEQunZ4tYkwLwLpc7dRKGs4,2536
+webdrivermanager_cn/core/download_manager.py,sha256=8a5ot2Tpw_WQ0Gn_ai6iRrPUicRaKshFs0fWU6sm-Ms,1468
 webdrivermanager_cn/core/driver.py,sha256=1Rbg7T5WcmMH4xlUPopHUiUUkmErNOQmVbarreSZYUg,4571
 webdrivermanager_cn/core/file_manager.py,sha256=-2W7N-nuc5mO7nCGcbIdax1So1SPvIXUqJJNYFZ37MA,3819
 webdrivermanager_cn/core/log_manager.py,sha256=d1uvED1G6EpDqDeaWhxnRwagrIh7YKo1IpZhagcMSU0,1042
 webdrivermanager_cn/core/os_manager.py,sha256=JHR8hZ0KsvxTJyIUf6PtDlRdG_pXMhTWrpElQ3l44Tg,2036
 webdrivermanager_cn/core/time_.py,sha256=OGaOE3qOMcexSKp6Al2G1m0n7IY4h10CkWHjUaG1Kh4,86
-webdrivermanager_cn/core/version_manager.py,sha256=kK5LgI6XGKrkPxsFAN9vf_bQVICrWYON6fBzp5l4EXI,6260
+webdrivermanager_cn/core/version_manager.py,sha256=pOjbxnKGM2pELFwoUgn77hTzDNTMkXfo4Ib-j91gi94,6674
 webdrivermanager_cn/drivers/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 webdrivermanager_cn/drivers/chrome.py,sha256=AkuWT-RzCWb7BrYT4fejPvl4ihhyBm_njTKfT3_PDXk,2425
 webdrivermanager_cn/drivers/geckodriver.py,sha256=PfpMZL8k4a2gFHsNYV8hZ8fnbrSZDph3m8mvYjbapGU,1379
-webdrivermanager_cn/drivers/microsoft.py,sha256=3kMOajKV9vY38MZ8EfRXmOcML-6FcmLrPWJp6mYJsIo,1666
-webdrivermanager_cn-1.5.3.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
-webdrivermanager_cn-1.5.3.dist-info/METADATA,sha256=FvYI2wekIqjRNbtByJBa6SCdktuNXnM2tUQEhAs4uZY,3791
-webdrivermanager_cn-1.5.3.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-webdrivermanager_cn-1.5.3.dist-info/top_level.txt,sha256=6C7e8yCpDgi5-bY_s2Utf2cGppod3DluCG4LbXXRMQY,20
-webdrivermanager_cn-1.5.3.dist-info/RECORD,,
+webdrivermanager_cn/drivers/microsoft.py,sha256=fGkK2Mg6zf5yO_aIBR0r56XxWGvYN7lpjTCMDU_oLrw,1880
+webdrivermanager_cn-1.6.0.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
+webdrivermanager_cn-1.6.0.dist-info/METADATA,sha256=3HvHP9zUSX2bvaRDOSPkU9gZouxm3b3D9neXWkuuKJ8,3791
+webdrivermanager_cn-1.6.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+webdrivermanager_cn-1.6.0.dist-info/top_level.txt,sha256=6C7e8yCpDgi5-bY_s2Utf2cGppod3DluCG4LbXXRMQY,20
+webdrivermanager_cn-1.6.0.dist-info/RECORD,,
```

