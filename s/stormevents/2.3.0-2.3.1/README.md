# Comparing `tmp/stormevents-2.3.0-py3-none-any.whl.zip` & `tmp/stormevents-2.3.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,20 @@
-Zip file size: 70658 bytes, number of entries: 18
--rw-r--r--  2.0 unx       46 b- defN 24-Apr-25 11:50 stormevents/__init__.py
--rw-r--r--  2.0 unx    19991 b- defN 24-Apr-25 11:50 stormevents/stormevent.py
--rw-r--r--  2.0 unx     3862 b- defN 24-Apr-25 11:50 stormevents/utilities.py
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-25 11:50 stormevents/nhc/__init__.py
--rw-r--r--  2.0 unx    17928 b- defN 24-Apr-25 11:50 stormevents/nhc/atcf.py
--rw-r--r--  2.0 unx     2026 b- defN 24-Apr-25 11:50 stormevents/nhc/const.py
--rw-r--r--  2.0 unx     8786 b- defN 24-Apr-25 11:50 stormevents/nhc/storms.py
--rw-r--r--  2.0 unx    54570 b- defN 24-Apr-25 11:50 stormevents/nhc/track.py
--rw-r--r--  2.0 unx      352 b- defN 24-Apr-25 11:50 stormevents/usgs/__init__.py
--rw-r--r--  2.0 unx      363 b- defN 24-Apr-25 11:50 stormevents/usgs/base.py
--rw-r--r--  2.0 unx    29697 b- defN 24-Apr-25 11:50 stormevents/usgs/events.py
--rw-r--r--  2.0 unx    15329 b- defN 24-Apr-25 11:50 stormevents/usgs/highwatermarks.py
--rw-r--r--  2.0 unx     5270 b- defN 24-Apr-25 11:50 stormevents/usgs/sensors.py
--rw-r--r--  2.0 unx    35145 b- defN 24-Apr-25 11:50 stormevents-2.3.0.dist-info/LICENSE
--rw-r--r--  2.0 unx    65188 b- defN 24-Apr-25 11:50 stormevents-2.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-25 11:50 stormevents-2.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       12 b- defN 24-Apr-25 11:50 stormevents-2.3.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1482 b- defN 24-Apr-25 11:50 stormevents-2.3.0.dist-info/RECORD
-18 files, 260231 bytes uncompressed, 68242 bytes compressed:  73.8%
+Zip file size: 71139 bytes, number of entries: 18
+-rw-r--r--  2.0 unx       46 b- defN 24-May-22 12:55 stormevents/__init__.py
+-rw-r--r--  2.0 unx    19991 b- defN 24-May-22 12:55 stormevents/stormevent.py
+-rw-r--r--  2.0 unx     3862 b- defN 24-May-22 12:55 stormevents/utilities.py
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 12:55 stormevents/nhc/__init__.py
+-rw-r--r--  2.0 unx    17928 b- defN 24-May-22 12:55 stormevents/nhc/atcf.py
+-rw-r--r--  2.0 unx     3152 b- defN 24-May-22 12:55 stormevents/nhc/const.py
+-rw-r--r--  2.0 unx     8786 b- defN 24-May-22 12:55 stormevents/nhc/storms.py
+-rw-r--r--  2.0 unx    55104 b- defN 24-May-22 12:55 stormevents/nhc/track.py
+-rw-r--r--  2.0 unx      352 b- defN 24-May-22 12:55 stormevents/usgs/__init__.py
+-rw-r--r--  2.0 unx      363 b- defN 24-May-22 12:55 stormevents/usgs/base.py
+-rw-r--r--  2.0 unx    29697 b- defN 24-May-22 12:55 stormevents/usgs/events.py
+-rw-r--r--  2.0 unx    15329 b- defN 24-May-22 12:55 stormevents/usgs/highwatermarks.py
+-rw-r--r--  2.0 unx     5270 b- defN 24-May-22 12:55 stormevents/usgs/sensors.py
+-rw-r--r--  2.0 unx    35145 b- defN 24-May-22 12:55 stormevents-2.3.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx    65188 b- defN 24-May-22 12:55 stormevents-2.3.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 12:55 stormevents-2.3.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       12 b- defN 24-May-22 12:55 stormevents-2.3.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1482 b- defN 24-May-22 12:55 stormevents-2.3.1.dist-info/RECORD
+18 files, 261891 bytes uncompressed, 68723 bytes compressed:  73.8%
```

## zipnote {}

```diff
@@ -33,23 +33,23 @@
 
 Filename: stormevents/usgs/highwatermarks.py
 Comment: 
 
 Filename: stormevents/usgs/sensors.py
 Comment: 
 
-Filename: stormevents-2.3.0.dist-info/LICENSE
+Filename: stormevents-2.3.1.dist-info/LICENSE
 Comment: 
 
-Filename: stormevents-2.3.0.dist-info/METADATA
+Filename: stormevents-2.3.1.dist-info/METADATA
 Comment: 
 
-Filename: stormevents-2.3.0.dist-info/WHEEL
+Filename: stormevents-2.3.1.dist-info/WHEEL
 Comment: 
 
-Filename: stormevents-2.3.0.dist-info/top_level.txt
+Filename: stormevents-2.3.1.dist-info/top_level.txt
 Comment: 
 
-Filename: stormevents-2.3.0.dist-info/RECORD
+Filename: stormevents-2.3.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## stormevents/nhc/const.py

```diff
@@ -1,8 +1,92 @@
 from numpy import isnan, array, argwhere
+from pandas import DataFrame
+
+# Bias correction values for the Rmax forecast
+# ref: Penny et al. (2023). https://doi.org/10.1175/WAF-D-22-0209.1
+bias_lat = [
+    0.0063,
+    0.0301,
+    0.0299,
+    0.0085,
+    -0.0199,
+    -0.0354,
+    -0.0799,
+    -0.1240,
+    -0.1572,
+    -0.1982,
+    -0.1706,
+]
+
+bias_vmax = [
+    -0.8047,
+    -0.2003,
+    -0.2001,
+    -0.4070,
+    -0.6271,
+    -0.7515,
+    -0.3369,
+    -0.3338,
+    -0.3930,
+    -0.8167,
+    -1.4322,
+]
+
+bias_r34 = [
+    -2.0503,
+    -5.5195,
+    -7.7374,
+    -8.4337,
+    -8.1458,
+    -10.2065,
+    -12.6435,
+    0,
+    0,
+    0,
+    0,
+]
+
+bias_r50 = [
+    -0.7659,
+    -3.2270,
+    -4.5476,
+    -6.2219,
+    -7.7406,
+    -8.5449,
+    -10.0759,
+    0,
+    0,
+    0,
+    0,
+]
+
+bias_r64 = [
+    -0.5082,
+    -2.4170,
+    -3.6993,
+    -4.7795,
+    0,
+    0,
+    0,
+    0,
+    0,
+    0,
+    0,
+]
+
+RMW_bias_correction = DataFrame(
+    index=range(0, 132, 12),
+    data={
+        "latitude": bias_lat,
+        "max_sustained_wind_speed": bias_vmax,
+        "isotach_radius_34": bias_r34,
+        "isotach_radius_50": bias_r50,
+        "isotach_radius_64": bias_r64,
+    },
+)
 
 # Regression coefficients for the Rmax forecast
 # ref: Penny et al. (2023). https://doi.org/10.1175/WAF-D-22-0209.1
 fhrs = [12, 24, 36, 48, 72, 96, 120]
 RMW_regression_coefs = {
     3: [  # a0    #a1      #a2     #a3      #a4     #a5     #a6
         [3.1894, 0.3524, 0.1208, -0.1091, 0.5862, -0.8070, 0.0057],
```

## stormevents/nhc/track.py

```diff
@@ -29,15 +29,15 @@
 from stormevents.nhc.atcf import ATCF_FileDeck
 from stormevents.nhc.atcf import ATCF_Mode
 from stormevents.nhc.atcf import atcf_url
 from stormevents.nhc.atcf import EXTRA_ATCF_FIELDS
 from stormevents.nhc.atcf import get_atcf_entry
 from stormevents.nhc.atcf import read_atcf
 from stormevents.nhc.storms import nhc_storms
-from stormevents.nhc.const import get_RMW_regression_coefs
+from stormevents.nhc.const import get_RMW_regression_coefs, RMW_bias_correction
 from stormevents.utilities import subset_time_interval
 
 
 class VortexTrack:
     """
     interface to an ATCF vortex track (i.e. HURDAT, best track, HWRF, etc.)
     """
@@ -1283,34 +1283,45 @@
                 "isotach_radius_for_SWQ",
             ]
         ]
         isotach_radii[isotach_radii == 0] = pandas.NA
         rmw0 = carq_ref["radius_of_maximum_winds"]
         fcst_hrs = (forecast.loc[mrd_missing, "forecast_hours"]).unique()
         rads = numpy.array([numpy.nan])  # initializing to make sure available
+        rads_bias_names = [
+            c for c in RMW_bias_correction.columns if "isotach_radius" in c
+        ]
         for fcst_hr in fcst_hrs:
             fcst_index = forecast["forecast_hours"] == fcst_hr
             if fcst_hr < 12:
                 rmw_ = rmw0
             else:
+                fcst_hr_bc = min(fcst_hr, 120)
                 vmax = forecast.loc[fcst_index, "max_sustained_wind_speed"].iloc[0]
+                vmax -= RMW_bias_correction["max_sustained_wind_speed"][fcst_hr_bc]
                 if numpy.isnan(isotach_radii.loc[fcst_index].to_numpy()).all():
                     # if no isotach's are found, preserve the isotach(s) if Vmax is greater
                     if vmax > 50:
                         rads = rads[0 : min(2, len(rads))]
                     elif vmax > 34:
                         rads = rads[[0]]
                     else:
                         rads = numpy.array([numpy.nan])
                 else:
                     rads = numpy.nanmean(
                         isotach_radii.loc[fcst_index].to_numpy(), axis=1
                     )
+                    rads -= (
+                        RMW_bias_correction[rads_bias_names[0 : rads.size]]
+                        .loc[fcst_hr_bc]
+                        .values
+                    )
                 coefs = get_RMW_regression_coefs(fcst_hr, rads)
                 lat = forecast.loc[fcst_index, "latitude"].iloc[0]
+                lat -= RMW_bias_correction["latitude"][fcst_hr_bc]
                 bases = numpy.hstack((1.0, rmw0, rads[~numpy.isnan(rads)], vmax, lat))
                 rmw_ = (bases[1:-1] ** coefs[1:-1]).prod() * numpy.exp(
                     (coefs[[0, -1]] * bases[[0, -1]]).sum()
                 )  # bound RMW as per Penny et al. (2023)
             forecast.loc[fcst_index, "radius_of_maximum_winds"] = clamp(
                 rmw_, 5.0, max(120.0, rmw0)
             )
```

## Comparing `stormevents-2.3.0.dist-info/LICENSE` & `stormevents-2.3.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `stormevents-2.3.0.dist-info/METADATA` & `stormevents-2.3.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: stormevents
-Version: 2.3.0
+Version: 2.3.1
 Summary: Python interfaces for observational data surrounding named storm events
 Author-email: Zach Burnett <zachary.r.burnett@gmail.com>, Soroosh Mani <Soroosh.Mani@noaa.gov>
 License: GNU GENERAL PUBLIC LICENSE
                                Version 3, 29 June 2007
         
          Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>
          Everyone is permitted to copy and distribute verbatim copies
```

## Comparing `stormevents-2.3.0.dist-info/RECORD` & `stormevents-2.3.1.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 stormevents/__init__.py,sha256=zALPV0qzr71s8hxsjVhVUIGCVWUWr8guIZrCO4Y73JY,46
 stormevents/stormevent.py,sha256=pABl_rUwYnd1isFpkKVlR5aG4HLvIq8ikr6hHRqd20o,19991
 stormevents/utilities.py,sha256=gezrmIB7vKoS4xOrDpi8AbOB-rYQMJ7IIGQuUbpP3SE,3862
 stormevents/nhc/__init__.py,sha256=zGOcaex85eGRuA4qfHtH5BHAQxERmx7WWSgLSa1pmPQ,92
 stormevents/nhc/atcf.py,sha256=L9zm98ibc05WXNbu_iOQolhguuRKIdEwVjzZoU5E4Xg,17928
-stormevents/nhc/const.py,sha256=bwsQeBEKU6ggMsTzZpU698Dy0jCETjDJjsDZhYmflyI,2026
+stormevents/nhc/const.py,sha256=Ww50T-KeIQpv6RKiV_93j7yn1TXXAOlsuPKevROe_l0,3152
 stormevents/nhc/storms.py,sha256=uBHyAzMZbsh8iAxVPSP8qryb95T4KGhLjdMzkUMREsY,8786
-stormevents/nhc/track.py,sha256=l7MR8KrHP7tt06bGAmGEIXcQOSHJGYgAN7uKp2WuD6s,54570
+stormevents/nhc/track.py,sha256=Hop12mbQZsE7O6op2obM-RwH47bbSy8It035xLDJ_uA,55104
 stormevents/usgs/__init__.py,sha256=nfJme6-5tEkjU8wBVCyv_W3Jm2TBU-AEgouc7r24nh4,352
 stormevents/usgs/base.py,sha256=hWIjBPNyTe12s_pUgLJsDIgZpX3k9dO1oRnUaIOM9XE,363
 stormevents/usgs/events.py,sha256=1XyjjTNfMjIukU6fI1maH7xdb8QGeI8I-jqLqGfop9g,29697
 stormevents/usgs/highwatermarks.py,sha256=UrS-zCCVy7LM_vBzpwRgneE5erGTxT2UBhJZXmtniUk,15329
 stormevents/usgs/sensors.py,sha256=NtOJs8JcBSh_bIBzoZesXARQhmdj78rkFtExn0htU9w,5270
-stormevents-2.3.0.dist-info/LICENSE,sha256=CsWICdCWFNMlGUJiXuxfrxFHw1uyVPns0jZJmzcWkjI,35145
-stormevents-2.3.0.dist-info/METADATA,sha256=MsWilWEz6v358sueyzuswtr_xDisKpYheJJiqO0JZEs,65188
-stormevents-2.3.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-stormevents-2.3.0.dist-info/top_level.txt,sha256=cBiPqoPys-7YaeBR0qnU5FB6RoglE5w_m0BVDHjoJiE,12
-stormevents-2.3.0.dist-info/RECORD,,
+stormevents-2.3.1.dist-info/LICENSE,sha256=CsWICdCWFNMlGUJiXuxfrxFHw1uyVPns0jZJmzcWkjI,35145
+stormevents-2.3.1.dist-info/METADATA,sha256=uImVerfRdfbozGvX4JKmaB7gkppM1gocLIoORX28zLM,65188
+stormevents-2.3.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+stormevents-2.3.1.dist-info/top_level.txt,sha256=cBiPqoPys-7YaeBR0qnU5FB6RoglE5w_m0BVDHjoJiE,12
+stormevents-2.3.1.dist-info/RECORD,,
```

